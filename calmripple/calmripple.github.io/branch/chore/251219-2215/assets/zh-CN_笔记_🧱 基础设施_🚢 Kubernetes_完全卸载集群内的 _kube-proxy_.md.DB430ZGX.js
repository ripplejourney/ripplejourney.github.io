import{_ as r,ad as t,c as o,o as d,b as i,k as e,aE as g,a5 as a,m as n}from"./chunks/framework.BN_kmrHV.js";const A=JSON.parse('{"title":"å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ kube-proxy","description":"","frontmatter":{"tags":["è¿ç»´/äº‘åŸç”Ÿ/Kubernetes","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes/K8s","è½¯ä»¶/äº‘åŸç”Ÿ/kubelet","å‘½ä»¤è¡Œ/kubectl","è½¯ä»¶/äº‘åŸç”Ÿ/kubectl","å‘½ä»¤è¡Œ/ip","å‘½ä»¤è¡Œ/ipvsadm","è½¯ä»¶/äº‘åŸç”Ÿ/ipvsadm","è®¡ç®—æœº/ç½‘ç»œ/Calico","è¿ç»´/Calico","è½¯ä»¶/äº‘åŸç”Ÿ/Calico","è¿ç»´/Cilium","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŸç”Ÿ/Cilium"]},"headers":[],"relativePath":"zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.md","filePath":"zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.md"}'),b={name:"zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.md"},u={tabindex:"0"};function y(C,s,c,F,m,f){const k=t("NolebasePageProperties"),l=t("VPNolebaseInlineLinkPreview"),h=t("NolebaseGitContributors"),p=t("NolebaseGitChangelog");return d(),o("div",null,[s[9]||(s[9]=i("h1",{id:"å®Œå…¨å¸è½½é›†ç¾¤å†…çš„-kube-proxy",tabindex:"-1"},[a("å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ "),i("code",null,"kube-proxy"),a(),i("a",{class:"header-anchor",href:"#å®Œå…¨å¸è½½é›†ç¾¤å†…çš„-kube-proxy","aria-label":"Permalink to â€œå®Œå…¨å¸è½½é›†ç¾¤å†…çš„ kube-proxyâ€"},"â€‹")],-1)),e(k),s[10]||(s[10]=i("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[a("æ–‡æ¡£å…¼å®¹æ€§ "),i("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":"Permalink to â€œæ–‡æ¡£å…¼å®¹æ€§â€"},"â€‹")],-1)),i("table",u,[s[3]||(s[3]=i("thead",null,[i("tr",null,[i("th",null,"ä¸»ä½“"),i("th",null,"ç‰ˆæœ¬å·"),i("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰")])],-1)),i("tbody",null,[i("tr",null,[s[1]||(s[1]=i("td",null,"kubeadm",-1)),s[2]||(s[2]=i("td",null,"1.28",-1)),i("td",null,[e(l,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:n(()=>[...s[0]||(s[0]=[a("https://v1-28.docs.kubernetes.io/",-1)])]),_:1})])])])]),i("p",null,[s[5]||(s[5]=a("æ ¹æ® ",-1)),e(l,{href:"https://tinychen.com/20230201-k8s-15-migrate-cni-from-calico-to-cilium/",target:"_blank",rel:"noreferrer"},{default:n(()=>[...s[4]||(s[4]=[a("k8sç³»åˆ—15-calicoæœ‰æŸè¿ç§»è‡³cilium",-1)])]),_:1}),s[6]||(s[6]=a(" æŠ€æœ¯æ–‡æ¡£æ‰€åˆ†äº«çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®‰è£…å‰é…ç½®å’Œå¤‡ä»½ä¸€ä¸‹ ",-1)),s[7]||(s[7]=i("code",null,"kube-proxy",-1)),s[8]||(s[8]=a(" ç›¸å…³èµ„æºå’Œé…ç½®æ–‡ä»¶ï¼š",-1))]),s[11]||(s[11]=g(`<h2 id="å¤‡ä»½-kube-proxy-ç›¸å…³çš„é…ç½®" tabindex="-1">å¤‡ä»½ <code>kube-proxy</code> ç›¸å…³çš„é…ç½® <a class="header-anchor" href="#å¤‡ä»½-kube-proxy-ç›¸å…³çš„é…ç½®" aria-label="Permalink to â€œå¤‡ä»½ kube-proxy ç›¸å…³çš„é…ç½®â€">â€‹</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ds</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yaml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy-daemonset.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yaml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy-configmap.yaml</span></span></code></pre></div><h2 id="åˆ é™¤ç›¸å…³çš„-daemonset" tabindex="-1">åˆ é™¤ç›¸å…³çš„ <code>DaemonSet</code> <a class="header-anchor" href="#åˆ é™¤ç›¸å…³çš„-daemonset" aria-label="Permalink to â€œåˆ é™¤ç›¸å…³çš„ DaemonSetâ€">â€‹</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ds</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">daemonset.apps</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deleted</span></span></code></pre></div><h2 id="åˆ é™¤ç›¸å…³çš„-configmap" tabindex="-1">åˆ é™¤ç›¸å…³çš„ <code>ConfigMap</code> <a class="header-anchor" href="#åˆ é™¤ç›¸å…³çš„-configmap" aria-label="Permalink to â€œåˆ é™¤ç›¸å…³çš„ ConfigMapâ€">â€‹</a></h2><p>ç›®çš„æ˜¯ä¸ºäº†<strong>é˜²æ­¢ä»¥åä½¿ç”¨ <code>kubeadm</code> å‡çº§ K8s çš„æ—¶å€™é‡æ–°å®‰è£…äº† <code>kube-proxy</code>ï¼ˆ1.19 ç‰ˆæœ¬ä¹‹åçš„ K8S ï¼‰</strong>ã€‚</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">configmap</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deleted</span></span></code></pre></div><h2 id="æ¸…é™¤æ‰-iptables-è§„åˆ™å’Œ-ipvs-è§„åˆ™ä»¥åŠ-ipvs0-ç½‘å¡" tabindex="-1">æ¸…é™¤æ‰ <code>iptables</code> è§„åˆ™å’Œ <code>ipvs</code> è§„åˆ™ä»¥åŠ <code>ipvs0</code> ç½‘å¡ <a class="header-anchor" href="#æ¸…é™¤æ‰-iptables-è§„åˆ™å’Œ-ipvs-è§„åˆ™ä»¥åŠ-ipvs0-ç½‘å¡" aria-label="Permalink to â€œæ¸…é™¤æ‰ iptables è§„åˆ™å’Œ ipvs è§„åˆ™ä»¥åŠ ipvs0 ç½‘å¡â€">â€‹</a></h2><p>åœ¨æ¯ä¸ªèŠ‚ç‚¹æœºå™¨ä¸Šé¢ä½¿ç”¨ <code>root</code> æƒé™æ‰§è¡Œï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables-save</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> KUBE</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables-restore</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ipvsadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -C</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-ipvs0</span></span></code></pre></div><h2 id="é‡å¯èŠ‚ç‚¹" tabindex="-1">é‡å¯èŠ‚ç‚¹ <a class="header-anchor" href="#é‡å¯èŠ‚ç‚¹" aria-label="Permalink to â€œé‡å¯èŠ‚ç‚¹â€">â€‹</a></h2><p>æ‰§è¡Œå®Œä¹‹åè¯·åŠ¡å¿…é‡å¯èŠ‚ç‚¹ã€‚</p>`,12)),e(h),e(p)])}const v=r(b,[["render",y]]);export{A as __pageData,v as default};
