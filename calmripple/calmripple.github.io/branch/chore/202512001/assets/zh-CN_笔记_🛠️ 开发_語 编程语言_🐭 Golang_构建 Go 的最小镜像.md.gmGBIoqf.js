import{_ as r,ad as l,c as o,o as d,b as e,k as i,aE as g,a5 as a,m as t}from"./chunks/framework.BN_kmrHV.js";const D=JSON.parse('{"title":"æ„å»º Go çš„æœ€å°é•œåƒ","description":"","frontmatter":{"tags":["å¼€å‘/å®¹å™¨åŒ–/Docker","å¼€å‘/äº‘åŸç”Ÿ/Docker","è½¯ä»¶/äº‘åŸç”Ÿ/docker","å¼€å‘/è¯­è¨€/Golang","å¼€å‘/å®¹å™¨åŒ–/Docker/Dockerfile"]},"headers":[],"relativePath":"zh-CN/ç¬”è®°/ğŸ› ï¸ å¼€å‘/èª ç¼–ç¨‹è¯­è¨€/ğŸ­ Golang/æ„å»º Go çš„æœ€å°é•œåƒ.md","filePath":"zh-CN/ç¬”è®°/ğŸ› ï¸ å¼€å‘/èª ç¼–ç¨‹è¯­è¨€/ğŸ­ Golang/æ„å»º Go çš„æœ€å°é•œåƒ.md"}'),c={name:"zh-CN/ç¬”è®°/ğŸ› ï¸ å¼€å‘/èª ç¼–ç¨‹è¯­è¨€/ğŸ­ Golang/æ„å»º Go çš„æœ€å°é•œåƒ.md"};function y(A,s,F,f,E,B){const p=l("NolebasePageProperties"),n=l("VPNolebaseInlineLinkPreview"),h=l("NolebaseGitContributors"),k=l("NolebaseGitChangelog");return d(),o("div",null,[s[7]||(s[7]=e("h1",{id:"æ„å»º-go-çš„æœ€å°é•œåƒ",tabindex:"-1"},[a("æ„å»º Go çš„æœ€å°é•œåƒ "),e("a",{class:"header-anchor",href:"#æ„å»º-go-çš„æœ€å°é•œåƒ","aria-label":"Permalink to â€œæ„å»º Go çš„æœ€å°é•œåƒâ€"},"â€‹")],-1)),i(p),s[8]||(s[8]=g(`<h5 id="æ–‡æ¡£ç‰ˆæœ¬" tabindex="-1">æ–‡æ¡£ç‰ˆæœ¬ <a class="header-anchor" href="#æ–‡æ¡£ç‰ˆæœ¬" aria-label="Permalink to â€œæ–‡æ¡£ç‰ˆæœ¬â€">â€‹</a></h5><table tabindex="0"><thead><tr><th>ç¼–è¾‘è€…</th><th>ç‰ˆæœ¬</th><th>å˜æ›´æ—¥æœŸ</th><th>å˜æ›´è¯´æ˜</th></tr></thead><tbody><tr><td>Neko</td><td>v1.0.0</td><td>2022-04-09</td><td>åˆ›å»º</td></tr></tbody></table><p>å¯ä»¥å‚è€ƒä¸‹é¢çš„æ¡ˆä¾‹</p><div class="language-docker"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># syntax=docker/dockerfile:1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ------ [ æ„å»ºæ­¥éª¤ ] ------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è®¾å®šæ„å»ºæ­¥éª¤æ‰€ä½¿ç”¨çš„æ¥æºé•œåƒä¸ºåŸºäº Alpine å‘è¡Œç‰ˆçš„ Go 1.18 ç‰ˆæœ¬é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> golang:1.18-alpine </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> builder</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®‰è£…æ„å»ºæ‰€éœ€è¦çš„å¿…è¦äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚æœä½ ä¸éœ€è¦ï¼Œå¯ä»¥ä¸å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> apk add bash git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è®¾å®š Go ä½¿ç”¨ æ¨¡å—åŒ–ä¾èµ– ç®¡ç†æ–¹å¼ï¼šGO111MODULE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> GO111MODULE=on</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ›å»ºè·¯å¾„ /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> mkdir /app</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¤åˆ¶ &lt;ç»„ç»‡æ——ä¸‹çš„å…¶ä»–ä¾èµ–ä»“åº“&gt; åˆ° /app ä¸‹é¢æ–¹ä¾¿æ„å»º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ./&lt;ç»„ç»‡æ——ä¸‹çš„å…¶ä»–ä¾èµ–ä»“åº“&gt; /app/&lt;ç»„ç»‡æ——ä¸‹çš„å…¶ä»–ä¾èµ–ä»“åº“&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¤åˆ¶å½“å‰ç›®å½•ä¸‹ go-src åˆ° /app/go-src</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ./go-src /app/go-src</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ‡æ¢åˆ° /app/go-src ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> /app/go-src</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ‰§è¡Œç¼–è¯‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CGO_ENABLED=0 go build -a -o </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;release/go-src&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ------ [ è¿è¡Œæ­¥éª¤ ] ------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è®¾å®šè¿è¡Œæ­¥éª¤æ‰€ä½¿ç”¨çš„é•œåƒä¸ºåŸºäº Alpine å‘è¡Œç‰ˆé•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> alpine </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> runner</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ›å»ºè·¯å¾„ /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> mkdir /app</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ›å»ºè·¯å¾„ /app/go-src/bin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> mkdir -p /app/go-src/bin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ›å»ºè·¯å¾„ /app/go-src/bin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> mkdir -p /app/go-src/logs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å°†ç¼–è¯‘äº§ç‰©å’Œå…¶ä»–éœ€è¦çš„æ–‡ä»¶æ”¾å…¥ /app/go-src ä¸­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> --from=builder /app/go-src/release/go-src /app/go-src/bin/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ˜ å°„é…ç½®æ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">VOLUME</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/go-src&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ˜ å°„æ—¥å¿—æ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">VOLUME</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/app/go-src/logs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å…¥ç‚¹æ˜¯ç¼–è¯‘å¥½çš„ neve-service åº”ç”¨ç¨‹åº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">ENTRYPOINT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/app/go-src/bin/go-src&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æš´éœ² 8080 ç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF;">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 8080</span></span></code></pre></div><h2 id="å»¶ä¼¸é˜…è¯»" tabindex="-1">å»¶ä¼¸é˜…è¯» <a class="header-anchor" href="#å»¶ä¼¸é˜…è¯»" aria-label="Permalink to â€œå»¶ä¼¸é˜…è¯»â€">â€‹</a></h2>`,5)),e("p",null,[i(n,{href:"https://juejin.cn/post/6844904174396637197",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[0]||(s[0]=[a("æ„å»º Golang åº”ç”¨æœ€å° Docker é•œåƒ - æ˜é‡‘",-1)])]),_:1}),i(n,{href:"https://studygolang.com/articles/24854",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[1]||(s[1]=[a("ä½¿ç”¨scratchæ„å»ºæœ€å°åŒ–Goç¨‹åºçš„docker image - Goè¯­è¨€ä¸­æ–‡ç½‘ - Golangä¸­æ–‡ç¤¾åŒº",-1)])]),_:1}),i(n,{href:"https://blog.csdn.net/danpob13624/article/details/106778642",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[2]||(s[2]=[a("ä¸ºGoåº”ç”¨ç¨‹åºæ„å»ºæœ€å°çš„Dockerå®¹å™¨_danpob13624çš„åšå®¢-CSDNåšå®¢",-1)])]),_:1}),i(n,{href:"https://blog.csdn.net/Scoful/article/details/120729102",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[3]||(s[3]=[a("ã€Œæ¨èé˜…è¯»ã€- å¦‚ä½•ç»™goé¡¹ç›®æ‰“æœ€å°dockeré•œåƒï¼Œè¶³è¶³é™ä½99%_Scofulçš„åšå®¢-CSDNåšå®¢",-1)])]),_:1}),i(n,{href:"https://zhuanlan.zhihu.com/p/382175578",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[4]||(s[4]=[a("golang æ‰“åŒ…åˆ°dockerè¿è¡Œï¼Œæœ€å°é•œåƒ - çŸ¥ä¹",-1)])]),_:1}),i(n,{href:"https://tachingchen.com/tw/blog/building-minimal-docker-image-for-go-applications/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[5]||(s[5]=[a("æ‰“é€ æœ€å° Go Docker Image | Container",-1)])]),_:1}),i(n,{href:"https://github.com/hesion3d/slimage",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[6]||(s[6]=[a("hesion3d/slimage: Make slim docker image for golang applications.",-1)])]),_:1})]),i(h),i(k)])}const u=r(c,[["render",y]]);export{D as __pageData,u as default};
