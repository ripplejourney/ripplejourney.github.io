import{_ as d,ad as t,c as g,o as F,b as i,k as n,aE as k,a5 as a,m as h}from"./chunks/framework.BN_kmrHV.js";const B=JSON.parse('{"title":"â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium","description":"","frontmatter":{"tags":["å¼€å‘/äº‘åŽŸç”Ÿ","è®¡ç®—æœº/è®¡ç®—æœºç§‘å­¦/CS/è™šæ‹ŸåŒ–","å¼€å‘/äº‘åŽŸç”Ÿ/Kubernetes","å¼€å‘/å®¹å™¨åŒ–","å¼€å‘/è™šæ‹ŸåŒ–","å¼€å‘/å®¹å™¨åŒ–/Docker","å¼€å‘/äº‘åŽŸç”Ÿ/Docker","å‘½ä»¤è¡Œ/kubectl","å‘½ä»¤è¡Œ/kubeadm","å‘½ä»¤è¡Œ/containerd","å‘½ä»¤è¡Œ/docker","è½¯ä»¶/äº‘åŽŸç”Ÿ/kubeadm","è½¯ä»¶/äº‘åŽŸç”Ÿ/kubelet","è½¯ä»¶/äº‘åŽŸç”Ÿ/kubectl","è½¯ä»¶/äº‘åŽŸç”Ÿ/containerd","è½¯ä»¶/äº‘åŽŸç”Ÿ/docker","å¼€å‘/è™šæ‹ŸåŒ–/cgroup","è¿ç»´/äº‘åŽŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŽŸç”Ÿ/Kubernetes/K8s","è¿ç»´/äº‘åŽŸç”Ÿ/Kubernetes","è®¡ç®—æœº/ç½‘ç»œ","è¿ç»´/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŽŸç”Ÿ/Cilium","è½¯ä»¶/äº‘åŽŸç”Ÿ/kube-proxy","è®¡ç®—æœº/ç½‘ç»œ/Calico","è¿ç»´/Calico","è½¯ä»¶/äº‘åŽŸç”Ÿ/Calico","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å¼€å‘/æ ‡è®°è¯­è¨€/YAML"]},"headers":[],"relativePath":"zh-CN/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md","filePath":"zh-CN/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md"}'),C={name:"zh-CN/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md"},y={tabindex:"0"},o={class:"tip custom-block github-alert"};function c(u,s,b,A,E,m){const p=t("NolebasePageProperties"),l=t("VPNolebaseInlineLinkPreview"),e=t("NolebaseGitContributors"),r=t("NolebaseGitChangelog");return F(),g("div",null,[s[63]||(s[63]=i("h1",{id:"ç¾éš¾æ€§-åœ°å°†-homelab-k8s-çš„-calico-è¿ç§»åˆ°-cilium",tabindex:"-1"},[a("â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium "),i("a",{class:"header-anchor",href:"#ç¾éš¾æ€§-åœ°å°†-homelab-k8s-çš„-calico-è¿ç§»åˆ°-cilium","aria-label":"Permalink to â€œâ€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Ciliumâ€"},"â€‹")],-1)),n(p),s[64]||(s[64]=i("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[a("æ–‡æ¡£å…¼å®¹æ€§ "),i("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":"Permalink to â€œæ–‡æ¡£å…¼å®¹æ€§â€"},"â€‹")],-1)),i("table",y,[s[16]||(s[16]=i("thead",null,[i("tr",null,[i("th",null,"ä¸»ä½“"),i("th",null,"ç‰ˆæœ¬å·"),i("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æžœæœ‰ï¼‰")])],-1)),i("tbody",null,[s[12]||(s[12]=i("tr",null,[i("td",null,"Debian"),i("td",null,"11"),i("td")],-1)),i("tr",null,[s[1]||(s[1]=i("td",null,"Kubernetes",-1)),s[2]||(s[2]=i("td",null,"1.28",-1)),i("td",null,[n(l,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[0]||(s[0]=[a("https://v1-28.docs.kubernetes.io/",-1)])]),_:1})])]),i("tr",null,[s[4]||(s[4]=i("td",null,"Docker",-1)),s[5]||(s[5]=i("td",null,"24.0.2",-1)),i("td",null,[n(l,{href:"https://docs.docker.com/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[3]||(s[3]=[a("https://docs.docker.com/",-1)])]),_:1})])]),s[13]||(s[13]=i("tr",null,[i("td",null,"containerd"),i("td",null,"1.7.6"),i("td")],-1)),s[14]||(s[14]=i("tr",null,[i("td",null,"Linux kernel"),i("td",null,"5.10.0"),i("td")],-1)),s[15]||(s[15]=i("tr",null,[i("td",null,"Calico"),i("td"),i("td")],-1)),i("tr",null,[s[7]||(s[7]=i("td",null,"Cilium",-1)),s[8]||(s[8]=i("td",null,"1.14.2",-1)),i("td",null,[n(l,{href:"https://docs.cilium.io/en/v1.14/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[6]||(s[6]=[a("https://docs.cilium.io/en/v1.14/",-1)])]),_:1})])]),i("tr",null,[s[10]||(s[10]=i("td",null,"helm",-1)),s[11]||(s[11]=i("td",null,"v3.9.0",-1)),i("td",null,[n(l,{href:"https://helm.sh/docs/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[9]||(s[9]=[a("https://helm.sh/docs/",-1)])]),_:1})])])])]),s[65]||(s[65]=i("h2",{id:"ç®€å•åˆ é™¤-calico-ä¹‹åŽå®‰è£…-cilium",tabindex:"-1"},[a("ç®€å•åˆ é™¤ Calico ä¹‹åŽå®‰è£… Cilium "),i("a",{class:"header-anchor",href:"#ç®€å•åˆ é™¤-calico-ä¹‹åŽå®‰è£…-cilium","aria-label":"Permalink to â€œç®€å•åˆ é™¤ Calico ä¹‹åŽå®‰è£… Ciliumâ€"},"â€‹")],-1)),s[66]||(s[66]=i("h3",{id:"å®‰è£…-cilium",tabindex:"-1"},[a("å®‰è£… Cilium "),i("a",{class:"header-anchor",href:"#å®‰è£…-cilium","aria-label":"Permalink to â€œå®‰è£… Ciliumâ€"},"â€‹")],-1)),i("p",null,[s[18]||(s[18]=a("æ ¹æ® ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[17]||(s[17]=[a("Cilium Quick Installation",-1)])]),_:1}),s[19]||(s[19]=a(" çš„è¦æ±‚è¿è¡Œï¼š",-1))]),s[67]||(s[67]=k("",10)),i("p",null,[s[21]||(s[21]=a("å¯ä»¥æ ¹æ®æ–‡æ¡£",-1)),n(l,{href:"/zh-CN/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ KubeKey å®‰è£…çš„ Calico.html"},{default:h(()=>[...s[20]||(s[20]=[a("å®Œå…¨å¸è½½ä½¿ç”¨ KubeKey å®‰è£…çš„ Calico",-1)])]),_:1}),s[22]||(s[22]=a(" ä¸­å»ºè®®çš„æ–¹å¼å’Œæ­¥éª¤æ¥è¿›è¡Œåˆ é™¤ã€‚",-1))]),s[68]||(s[68]=k("",52)),i("p",null,[s[24]||(s[24]=a("æˆ‘ä»¬é‡æ–°ç¿»é˜…æ–‡æ¡£ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[23]||(s[23]=[a("Cluster Scope (Default) â€” Cilium 1.14.2 documentation",-1)])]),_:1}),s[25]||(s[25]=a(": å¯ä»¥å‘çŽ°æ–‡æ¡£ä¸­æè¿°è¯´ï¼š",-1))]),s[69]||(s[69]=k("",7)),i("p",null,[s[27]||(s[27]=a("æ‰€ä»¥æ ¹æ®æ–‡æ¡£ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-migration/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[26]||(s[26]=[a("Migrating a cluster to Cilium â€” Cilium 1.14.2 documentation",-1)])]),_:1}),s[28]||(s[28]=a(" çš„è¯´æ˜Žï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å®‰è£…çš„æ—¶å€™é¢å¤–é…ç½®ä¸€ä¸‹ CIDR æ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚",-1))]),s[70]||(s[70]=i("h2",{id:"ä¸ºä¿®å¤-cidr-å†²çªé‡è£…-cilium",tabindex:"-1"},[a("ä¸ºä¿®å¤ CIDR å†²çªé‡è£… Cilium "),i("a",{class:"header-anchor",href:"#ä¸ºä¿®å¤-cidr-å†²çªé‡è£…-cilium","aria-label":"Permalink to â€œä¸ºä¿®å¤ CIDR å†²çªé‡è£… Ciliumâ€"},"â€‹")],-1)),s[71]||(s[71]=i("h4",{id:"å¸è½½-cilium-1",tabindex:"-1"},[a("å¸è½½ Cilium "),i("a",{class:"header-anchor",href:"#å¸è½½-cilium-1","aria-label":"Permalink to â€œå¸è½½ Ciliumâ€"},"â€‹")],-1)),i("p",null,[s[30]||(s[30]=a("é‚£æˆ‘ä»¬çŽ°åœ¨å…ˆæ ¹æ®",-1)),n(l,{href:"/zh-CN/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium.html"},{default:h(()=>[...s[29]||(s[29]=[a("å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium",-1)])]),_:1}),s[31]||(s[31]=a(" æ–‡æ¡£çš„æŒ‡å¼•å®Œå…¨åˆ é™¤ cilium ç„¶åŽå†è¯•ä¸€æ¬¡ã€‚",-1))]),s[72]||(s[72]=k("",10)),i("p",null,[s[33]||(s[33]=a("æ³¨æ„è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œé¢çš„ ",-1)),s[34]||(s[34]=i("code",null,"kubeProxyReplacement",-1)),s[35]||(s[35]=a(" å­—æ®µé…ç½®ï¼Œæ ¹æ® Cilium çš„ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/kubernetes/kubeproxy-free/#kubeproxy-free",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[32]||(s[32]=[a("Kubernetes Without kube-proxy",-1)])]),_:1}),s[36]||(s[36]=a(" æ–‡æ¡£ï¼š",-1))]),s[73]||(s[73]=k("",4)),i("p",null,[s[38]||(s[38]=a("å¯ä»¥é€šè¿‡ ",-1)),n(l,{href:"/zh-CN/ç¬”è®°/ðŸ“Ÿ ç»ˆç«¯/Linux å‘½ä»¤/æ–‡æ¡£è¯»å†™/cat è¾“å‡ºæ–‡ä»¶.html"},{default:h(()=>[...s[37]||(s[37]=[a("cat è¾“å‡ºæ–‡ä»¶",-1)])]),_:1}),s[39]||(s[39]=a(" å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹ï¼š",-1))]),s[74]||(s[74]=k("",2)),i("div",o,[s[45]||(s[45]=i("p",{class:"custom-block-title"},"å¦‚æžœä½ é€‰æ‹©ä½¿ç”¨ `kubeProxyReplacement` å‚æ•°æ›¿ä»£ `kube-proxy`",-1)),i("p",null,[s[41]||(s[41]=a("å¯ä»¥è·Ÿéš",-1)),n(l,{href:"/zh-CN/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.html"},{default:h(()=>[...s[40]||(s[40]=[a("å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ ",-1),i("code",null,"kube-proxy",-1)])]),_:1}),s[42]||(s[42]=a(" æ–‡æ¡£çš„æŒ‡å¼•å¤‡ä»½å’Œåˆ é™¤ ",-1)),s[43]||(s[43]=i("code",null,"kube-proxy",-1)),s[44]||(s[44]=a(" ç›¸å…³çš„é…ç½®å’Œèµ„æºã€‚",-1))])]),s[75]||(s[75]=k("",10)),i("ul",null,[i("li",null,[n(l,{href:"https://tinychen.com/20230201-k8s-15-migrate-cni-from-calico-to-cilium/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[46]||(s[46]=[a("k8sç³»åˆ—15-calicoæœ‰æŸè¿ç§»è‡³cilium - TinyChen's Studio - äº’è”ç½‘æŠ€æœ¯å­¦ä¹ å·¥ä½œç»éªŒåˆ†äº«",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/kubernetes/kubernetes/issues/86762",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[47]||(s[47]=[a("coredns [ERROR] plugin/errors: 2 read udp 10.244.235.249:55567->10.96.0.10:53: i/o timeout Â· Issue #86762 Â· kubernetes/kubernetes",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/kubernetes/kubernetes/issues/111105",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[48]||(s[48]=[a("When using cilium as Kubernetes network CNI, the coredns is running but not-ready, healthcheck failed and plugin/errors HINFO: read udp i/o timeout Â· Issue #111105 Â· kubernetes/kubernetes",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://izsk.me/2023/06/03/cilium-on-kubernetes-install/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[49]||(s[49]=[a("ciliumåœ¨kubernetesä¸­çš„ç”Ÿäº§å®žè·µäºŒ(ciliuméƒ¨ç½²) | Z.S.K.'s Records",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://isovalent.com/blog/post/tutorial-migrating-to-cilium-part-1/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[50]||(s[50]=[a("Tutorial: How to Migrate to Cilium (Part 1) - Isovalent",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://kubernetes.feisky.xyz/extension/network/cilium",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[51]||(s[51]=[a("Cilium - KubernetesæŒ‡å—",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/kubernetes/kubernetes/issues/86762",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[52]||(s[52]=[a("coredns [ERROR] plugin/errors: 2 read udp 10.244.235.249:55567->10.96.0.10:53: i/o timeout Â· Issue #86762 Â· kubernetes/kubernetes",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/cilium/cilium/issues/13308",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[53]||(s[53]=[a("DNS rules don't work anymore on kubernetes 1.18 with cilium 1.8 Â· Issue #13308 Â· cilium/cilium",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/cilium/cilium/issues/23872",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[54]||(s[54]=[a("I set ipam.operator.clusterPoolIPv4PodCIDR=10.1.0.0/16 why the pod ip allocated is still 10.0 Â· Issue #23872 Â· cilium/cilium",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/kubernetes/kubernetes/issues/111105",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[55]||(s[55]=[a("When using cilium as Kubernetes network CNI, the coredns is running but not-ready, healthcheck failed and plugin/errors HINFO: read udp i/o timeout Â· Issue #111105 Â· kubernetes/kubernetes",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://serverfault.com/questions/1103034/kubernetes-nodes-are-not-reachable-and-cannot-reach-local-network-after-installi",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[56]||(s[56]=[a("linux - Kubernetes Nodes are not reachable and cannot reach local network after installing cilium - Server Fault",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#pod-network",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[57]||(s[57]=[a("Creating a cluster with kubeadm | Kubernetes",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://stackoverflow.com/questions/49112336/container-runtime-network-not-ready-cni-config-uninitialized",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[58]||(s[58]=[a("kubernetes - Container runtime network not ready: cni config uninitialized - Stack Overflow",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://www.jianshu.com/p/896ec00b9661",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[59]||(s[59]=[a("åˆ é™¤cilium ebpf/bpfç¨‹åº/å®Œå…¨å¸è½½cilium",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://gist.github.com/aliasmee/6c7e5fb433c8fd303b07f0081fc83677",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[60]||(s[60]=[a("æ— æ³•å½»åº•æ¸…ç†ciliumç•™ä¸‹çš„é—®é¢˜",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://www.chenshaowen.com/blog/how-to-use-cilium-to-replace-calico.html",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[61]||(s[61]=[a("ä½¿ç”¨ Cilium æ›¿æ¢ Calico â€“ é™ˆå°‘æ–‡çš„ç½‘ç«™",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://kubernetes.io/docs/tasks/debug/debug-cluster/",target:"_blank",rel:"noreferrer"},{default:h(()=>[...s[62]||(s[62]=[a("Troubleshooting Clusters | Kubernetes",-1)])]),_:1})])]),n(e),n(r)])}const D=d(C,[["render",c]]);export{B as __pageData,D as default};
