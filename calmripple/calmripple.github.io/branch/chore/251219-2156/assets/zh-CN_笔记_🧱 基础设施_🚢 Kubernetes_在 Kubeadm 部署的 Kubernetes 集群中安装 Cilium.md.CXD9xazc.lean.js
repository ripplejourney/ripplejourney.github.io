import{_ as d,ad as e,c as o,o as g,b as i,k as n,aE as h,a5 as a,m as t}from"./chunks/framework.BN_kmrHV.js";const P=JSON.parse('{"title":"åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium","description":"","frontmatter":{"tags":["è¿ç»´/äº‘åŸç”Ÿ/Kubernetes","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes","è¿ç»´/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŸç”Ÿ/Cilium","å‘½ä»¤è¡Œ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kube-proxy","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å‘½ä»¤è¡Œ/helm","è½¯ä»¶/äº‘åŸç”Ÿ/helm","å¼€å‘/æ ‡è®°è¯­è¨€/YAML"]},"headers":[],"relativePath":"zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium.md","filePath":"zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium.md"}'),y={name:"zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium.md"},F={tabindex:"0"},C={class:"footnotes"},c={class:"footnotes-list"},u={id:"fn1",class:"footnote-item"},b={id:"fn2",class:"footnote-item"},m={id:"fn3",class:"footnote-item"};function A(f,s,B,E,v,D){const k=e("NolebasePageProperties"),l=e("VPNolebaseInlineLinkPreview"),p=e("NolebaseGitContributors"),r=e("NolebaseGitChangelog");return g(),o("div",null,[s[91]||(s[91]=i("h1",{id:"åœ¨-kubeadm-éƒ¨ç½²çš„-kubernetes-é›†ç¾¤ä¸­å®‰è£…-cilium",tabindex:"-1"},[a("åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium "),i("a",{class:"header-anchor",href:"#åœ¨-kubeadm-éƒ¨ç½²çš„-kubernetes-é›†ç¾¤ä¸­å®‰è£…-cilium","aria-label":"Permalink to â€œåœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Ciliumâ€"},"â€‹")],-1)),n(k),s[92]||(s[92]=i("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[a("æ–‡æ¡£å…¼å®¹æ€§ "),i("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":"Permalink to â€œæ–‡æ¡£å…¼å®¹æ€§â€"},"â€‹")],-1)),i("table",F,[s[9]||(s[9]=i("thead",null,[i("tr",null,[i("th",null,"ä¸»ä½“"),i("th",null,"ç‰ˆæœ¬å·"),i("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰")])],-1)),i("tbody",null,[i("tr",null,[s[1]||(s[1]=i("td",null,"Kubernetes",-1)),s[2]||(s[2]=i("td",null,"1.28",-1)),i("td",null,[n(l,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[0]||(s[0]=[a("https://v1-28.docs.kubernetes.io/",-1)])]),_:1})])]),i("tr",null,[s[4]||(s[4]=i("td",null,"Cilium",-1)),s[5]||(s[5]=i("td",null,"1.14.2",-1)),i("td",null,[n(l,{href:"https://docs.cilium.io/en/v1.14/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[3]||(s[3]=[a("https://docs.cilium.io/en/v1.14/",-1)])]),_:1})])]),i("tr",null,[s[7]||(s[7]=i("td",null,"helm",-1)),s[8]||(s[8]=i("td",null,"v3.9.0",-1)),i("td",null,[n(l,{href:"https://helm.sh/docs/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[6]||(s[6]=[a("https://helm.sh/docs/",-1)])]),_:1})])])])]),s[93]||(s[93]=i("h2",{id:"å…ˆå†³æ¡ä»¶",tabindex:"-1"},[a("å…ˆå†³æ¡ä»¶ "),i("a",{class:"header-anchor",href:"#å…ˆå†³æ¡ä»¶","aria-label":"Permalink to â€œå…ˆå†³æ¡ä»¶â€"},"â€‹")],-1)),i("ul",null,[i("li",null,[n(l,{href:"/zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/ä¸ºå®‰è£… CNI ä½¿ç”¨ Kubeadm å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤.html"},{default:t(()=>[...s[10]||(s[10]=[a("ä¸ºå®‰è£… CNI ä½¿ç”¨ Kubeadm å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤",-1)])]),_:1})])]),s[94]||(s[94]=i("h2",{id:"å‡†å¤‡é…ç½®æ–‡ä»¶",tabindex:"-1"},[a("å‡†å¤‡é…ç½®æ–‡ä»¶ "),i("a",{class:"header-anchor",href:"#å‡†å¤‡é…ç½®æ–‡ä»¶","aria-label":"Permalink to â€œå‡†å¤‡é…ç½®æ–‡ä»¶â€"},"â€‹")],-1)),s[95]||(s[95]=i("p",null,[a("åˆ›å»ºä¸€ä¸ªåä¸º "),i("code",null,"cilium-values.yml"),a(" çš„é…ç½®æ–‡ä»¶å¹¶æ”¾åˆ°ä½ å–œæ¬¢çš„åœ°æ–¹ï¼Œä¹‹åæˆ‘ä»¬éœ€è¦ä½¿ç”¨ "),i("code",null,"cilium install"),a(" æ ¹æ®è¿™ä»½é…ç½®æ–‡ä»¶äº§å‡ºæœ€ç»ˆ "),i("code",null,"helm install"),a(" éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚"),i("sup",{class:"footnote-ref"},[i("a",{href:"#fn1",id:"fnref1"},"[1]")])],-1)),i("p",null,[s[12]||(s[12]=a("å¯¹äºä¸€ä¸ªæ ¹æ®",-1)),n(l,{href:"#å…ˆå†³æ¡ä»¶"},{default:t(()=>[...s[11]||(s[11]=[a("å…ˆå†³æ¡ä»¶",-1)])]),_:1}),s[13]||(s[13]=a("ä¸­çš„è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ’°å†™å¦‚ä¸‹çš„æ–‡ä»¶å†…å®¹ï¼š",-1))]),s[96]||(s[96]=h("",1)),i("p",null,[s[16]||(s[16]=a("å¯¹äº ",-1)),s[17]||(s[17]=i("code",null,"ipam.mode",-1)),s[18]||(s[18]=a(" ä¸º ",-1)),s[19]||(s[19]=i("code",null,"kubernetes",-1)),s[20]||(s[20]=a("ï¼Œä½ å¯ä»¥åœ¨ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[14]||(s[14]=[a("Cluster Scope (Default) â€” Cilium 1.14.2 documentation",-1)])]),_:1}),s[21]||(s[21]=a(" å’Œ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/kubernetes/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[15]||(s[15]=[a("Kubernetes Host Scope â€” Cilium 1.14.2 documentation",-1)])]),_:1}),s[22]||(s[22]=a(" äº†è§£æ›´å¤šã€‚",-1))]),s[97]||(s[97]=h("",44)),i("p",null,[s[26]||(s[26]=a("è¿™æ ·çš„å‘½ä»¤åœ¨ Kubernetes é›†ç¾¤ä¸­å®‰è£…ï¼Œé‚£ ",-1)),s[27]||(s[27]=i("code",null,"cilium",-1)),s[28]||(s[28]=a(" æ˜¯é»˜è®¤ä½¿ç”¨çš„ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[23]||(s[23]=[a("Cluster Scope (Default)",-1)])]),_:1}),s[29]||(s[29]=a(" ä½œä¸º IPAM çš„æ¨¡å¼æ¥è¿è¡Œï¼Œè€Œ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[24]||(s[24]=[a("Cluster Scope (Default)",-1)])]),_:1}),s[30]||(s[30]=a(" å¥½å·§ä¸å·§ä½¿ç”¨çš„é»˜è®¤çš„ CIDR æ˜¯ ",-1)),s[31]||(s[31]=i("code",null,"10.0.0.0/8",-1)),s[32]||(s[32]=i("sup",{class:"footnote-ref"},[i("a",{href:"#fn3",id:"fnref3"},"[3]")],-1)),s[33]||(s[33]=a("ï¼Œå¦‚æœä½ å­¦è¿‡ CIDRï¼ˆæ²¡æœ‰å­¦è¿‡ä¹Ÿä¸è¦ç´§ï¼Œå¯ä»¥çœ‹çœ‹",-1)),n(l,{href:"/zh-CN/ç¬”è®°/ğŸ› ï¸ å¼€å‘/ğŸ•¸ ç½‘ç»œ/IP åé¢çš„æ–œæ æ˜¯ä»€ä¹ˆï¼Ÿ.html"},{default:t(()=>[...s[25]||(s[25]=[a("IP åé¢çš„æ–œæ æ˜¯ä»€ä¹ˆï¼Ÿ",-1)])]),_:1}),s[34]||(s[34]=a("ï¼‰ï¼Œä½ å¯ä»¥çœ‹å‡ºæ¥ ",-1)),s[35]||(s[35]=i("code",null,"10.0.0.0/8",-1)),s[36]||(s[36]=a(" æ„å‘³ç€ ",-1)),s[37]||(s[37]=i("code",null,"10.",-1)),s[38]||(s[38]=a(" åé¢çš„æ•°å­—éƒ½æ˜¯å¯ä»¥è¢«åˆ†é…çš„ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ ",-1)),s[39]||(s[39]=i("code",null,"10.0.0.1",-1)),s[40]||(s[40]=a(" ä¹Ÿæ˜¯ ",-1)),s[41]||(s[41]=i("code",null,"cilium",-1)),s[42]||(s[42]=a(" æ¥ç®¡çš„æµé‡çš„ä¸€éƒ¨åˆ†äº†ï¼Œæ‰€ä»¥ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚",-1))]),i("p",null,[s[44]||(s[44]=a("æ­£ç¡®çš„åšæ³•æ˜¯æˆ‘ä»¬åœ¨å®‰è£…çš„æ—¶å€™ç»™å‚æ•°æˆ–è€…åœ¨ç»™ ",-1)),s[45]||(s[45]=i("code",null,"cilium install",-1)),s[46]||(s[46]=a(" ä½¿ç”¨çš„æˆ–è€… ",-1)),s[47]||(s[47]=i("code",null,"helm install",-1)),s[48]||(s[48]=a(" ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹ ",-1)),s[49]||(s[49]=i("code",null,"ipam.operator.clusterPoolIPv4PodCIDRList",-1)),s[50]||(s[50]=a(" å’Œ ",-1)),s[51]||(s[51]=i("code",null,"ipv4NativeRoutingCIDR",-1)),s[52]||(s[52]=a(" è¿™ä¸¤ä¸ªå­—æ®µï¼Œé…ç½®çš„å­—é¢é‡ä¸ Kubernetes é›†ç¾¤çš„é…ç½®ç›¸åŒå³å¯ã€‚å¦‚æœä½ æƒ³è¦åˆ é™¤ Cilium é‡æ–°éƒ¨ç½²ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹",-1)),n(l,{href:"/zh-CN/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium.html"},{default:t(()=>[...s[43]||(s[43]=[a("å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium",-1)])]),_:1}),s[53]||(s[53]=a(" è¿™ç¯‡æ–‡æ¡£çš„æŒ‡å¼•ã€‚",-1))]),s[98]||(s[98]=h("",29)),i("ol",null,[i("li",null,[s[58]||(s[58]=a("å¦‚æœè¯´æˆ‘ä»¬å®¿ä¸»æœºä¹Ÿæ— æ³•è®¿é—® ",-1)),i("ol",null,[s[57]||(s[57]=i("li",null,[a("å¦‚æœæ˜¯åœ¨ä¸­å›½å¤§é™†éƒ¨ç½²çš„æœºå™¨ï¼Œæ˜¯ä¸æ˜¯å› ä¸º "),i("code",null,"1.1.1.1"),a(" è¢«å¢™äº†ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹ä»£ç†æ˜¯å¦é…ç½®æ­£ç¡®ï¼ŒèŠ‚ç‚¹æ˜¯å¦é€‰æ‹©æ­£ç¡®")],-1)),i("li",null,[s[55]||(s[55]=a("å¦‚æœè¯´ä»£ç†æ­£ç¡®çš„è¯ï¼Œé‚£å¯èƒ½ä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ ",-1)),n(l,{href:"#å› ä¸º-cidr-å†²çªå¯¼è‡´çš„-host-ç½‘ç»œå¼‚å¸¸"},{default:t(()=>[...s[54]||(s[54]=[a("å› ä¸º CIDR å†²çªå¯¼è‡´çš„ Host ç½‘ç»œå¼‚å¸¸",-1)])]),_:1}),s[56]||(s[56]=a("éƒ¨åˆ†æ˜¯å¦åŒ¹é…ä½ æ­£åœ¨é­é‡çš„æ•…éšœï¼Œä¹Ÿè®¸æ˜¯å› ä¸º CIDR çš„å†²çªå¯¼è‡´ DNS æˆ–è€…è·¯ç”±æŒ‚äº†",-1))])])]),s[59]||(s[59]=h("",1))]),s[99]||(s[99]=h("",9)),i("ul",null,[i("li",null,[n(l,{href:"https://github.com/cilium/cilium/issues/16235",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[60]||(s[60]=[a("Cannot reach external endpoint with service ip when the external endpoint is one of k8s node Â· Issue #16235 Â· cilium/cilium",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://stackoverflow.com/questions/76432743/cant-access-the-external-network-from-pod-nginx-pod",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[61]||(s[61]=[a("kubernetes - Canâ€™t access the external network from pod (nginx-pod) - Stack Overflow",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://serverfault.com/questions/1103034/kubernetes-nodes-are-not-reachable-and-cannot-reach-local-network-after-installi",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[62]||(s[62]=[a("linux - Kubernetes Nodes are not reachable and cannot reach local network after installing cilium - Server Fault",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/cilium/cilium/issues/20085",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[63]||(s[63]=[a("Pod cannot access external network Â· Issue #20085 Â· cilium/cilium",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/cilium/cilium/issues/22162",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[64]||(s[64]=[a("CI: ConformanceAKS: curl succeeded while it should have failed due to incorrect exit code Â· Issue #22162 Â· cilium/cilium",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/cilium/cilium-cli/issues/673",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[65]||(s[65]=[a("cilium connectivity test failures Â· Issue #673 Â· cilium/cilium-cli",-1)])]),_:1})]),i("li",null,[n(l,{href:"https://github.com/kubernetes-sigs/kubespray/issues/8546",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[66]||(s[66]=[a("Cilium deployment fails to pass conn test and sonobuoy Â· Issue #8546 Â· kubernetes-sigs/kubespray",-1)])]),_:1})])]),n(p),n(r),s[100]||(s[100]=i("hr",{class:"footnotes-sep"},null,-1)),i("section",C,[i("ol",c,[i("li",u,[i("p",null,[s[68]||(s[68]=a("è™½ç„¶ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-migration/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[67]||(s[67]=[a("Migrating a cluster to Cilium",-1)])]),_:1}),s[69]||(s[69]=a(" æ˜¯ä¸“é—¨ä¸ºè¿ç§»åˆ° Cilium å‡†å¤‡çš„æ–‡æ¡£ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯å…¨æ–°çš„å®‰è£…ï¼Œé‚£è¿™é‡Œé¢æœ‰çš„æ­¥éª¤æ˜¯ä¸éœ€è¦éµå¾ªçš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å€Ÿé‰´ä¸€ä¸‹éƒ¨åˆ†çš„æ“ä½œã€‚ ",-1)),s[70]||(s[70]=i("a",{href:"#fnref1",class:"footnote-backref"},"â†©ï¸",-1))])]),i("li",b,[i("p",null,[s[72]||(s[72]=a("åœ¨ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-helm/",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[71]||(s[71]=[a("Installation using Helm",-1)])]),_:1}),s[73]||(s[73]=a(" ä¸­è®²è§£äº†å¦‚ä½•ä½¿ç”¨ ",-1)),s[74]||(s[74]=i("code",null,"helm",-1)),s[75]||(s[75]=a(" è¿›è¡Œå®‰è£…ï¼Œ",-1)),s[76]||(s[76]=i("code",null,"helm",-1)),s[77]||(s[77]=a(" å®‰è£…å’Œç›´æ¥ç”¨ ",-1)),s[78]||(s[78]=i("code",null,"cilium",-1)),s[79]||(s[79]=a(" å®‰è£…å…¶å®åº•å±‚ä¸Šè€Œè¨€æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯é…ç½®çš„è¿‡ç¨‹ä¸åŒï¼Œä¹Ÿå¯ä»¥é˜…è¯»ä¸€ä¸‹è¿™ç¯‡æ–‡æ¡£æ¥äº†è§£åŒºåˆ«ã€‚ ",-1)),s[80]||(s[80]=i("a",{href:"#fnref2",class:"footnote-backref"},"â†©ï¸",-1))])]),i("li",m,[i("p",null,[s[82]||(s[82]=a("å¯¹äºé»˜è®¤çš„ ",-1)),n(l,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#check-for-conflicting-node-cidrs",target:"_blank",rel:"noreferrer"},{default:t(()=>[...s[81]||(s[81]=[a("Cluster Scope (Default)",-1)])]),_:1}),s[83]||(s[83]=a(" æ¨¡å¼è€Œè¨€ï¼ŒCilium é»˜è®¤ä½¿ç”¨ ",-1)),s[84]||(s[84]=i("code",null,"10.0.0.0/8",-1)),s[85]||(s[85]=a(" ä½œä¸º Pod çš„ CIDRï¼Œä¸å¾—ä¸è¯´æ˜¯çœŸçš„å¤ªé‡äº†ï¼Œè¿™æ ·çš„ CIDR è¿”å›å°†ä¼šè¦†ç›–æ•´ä¸ª ",-1)),s[86]||(s[86]=i("code",null,"10",-1)),s[87]||(s[87]=a(" IP æ®µï¼Œå¾ˆå¤šå†…ç½‘åŸºç¡€è®¾æ–½éƒ½æ˜¯é€‰æ‹©çš„ ",-1)),s[88]||(s[88]=i("code",null,"10",-1)),s[89]||(s[89]=a(" æ®µï¼Œå¦‚æœç›´æ¥ç”¨é»˜è®¤é…ç½®è‚¯å®šä¼šå‡ºå¤§é—®é¢˜ã€‚ ",-1)),s[90]||(s[90]=i("a",{href:"#fnref3",class:"footnote-backref"},"â†©ï¸",-1))])])])])])}const w=d(y,[["render",A]]);export{P as __pageData,w as default};
