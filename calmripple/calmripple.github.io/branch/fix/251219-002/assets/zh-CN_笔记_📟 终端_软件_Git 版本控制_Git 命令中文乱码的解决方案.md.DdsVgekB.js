import{_ as h,ad as n,c as p,o as k,b as s,k as t,aE as g,a5 as e,m as l}from"./chunks/framework.BN_kmrHV.js";const P=JSON.parse('{"title":"Git 命令中文乱码的解决方案","description":"","frontmatter":{"tags":["开发/Git","命令行/git"]},"headers":[],"relativePath":"zh-CN/笔记/📟 终端/软件/Git 版本控制/Git 命令中文乱码的解决方案.md","filePath":"zh-CN/笔记/📟 终端/软件/Git 版本控制/Git 命令中文乱码的解决方案.md"}'),f={name:"zh-CN/笔记/📟 终端/软件/Git 版本控制/Git 命令中文乱码的解决方案.md"},u={tabindex:"0"},b={class:"footnotes"},c={class:"footnotes-list"},m={id:"fn1",class:"footnote-item"},C={id:"fn2",class:"footnote-item"};function y(x,i,F,A,G,_){const o=n("NolebasePageProperties"),a=n("VPNolebaseInlineLinkPreview"),r=n("NolebaseGitContributors"),d=n("NolebaseGitChangelog");return k(),p("div",null,[i[19]||(i[19]=s("h1",{id:"git-命令中文乱码的解决方案",tabindex:"-1"},[e("Git 命令中文乱码的解决方案 "),s("a",{class:"header-anchor",href:"#git-命令中文乱码的解决方案","aria-label":"Permalink to “Git 命令中文乱码的解决方案”"},"​")],-1)),t(o),i[20]||(i[20]=s("h3",{id:"文档兼容性",tabindex:"-1"},[e("文档兼容性 "),s("a",{class:"header-anchor",href:"#文档兼容性","aria-label":"Permalink to “文档兼容性”"},"​")],-1)),s("table",u,[i[3]||(i[3]=s("thead",null,[s("tr",null,[s("th",null,"主体"),s("th",null,"版本号"),s("th",null,"文档地址（如果有）")])],-1)),s("tbody",null,[s("tr",null,[i[1]||(i[1]=s("td",null,"git",-1)),i[2]||(i[2]=s("td",null,"git version 2.32.1 (Apple Git-133)",-1)),s("td",null,[t(a,{href:"https://git-scm.com/",target:"_blank",rel:"noreferrer"},{default:l(()=>[...i[0]||(i[0]=[e("Git (git-scm.com)",-1)])]),_:1})])])])]),i[21]||(i[21]=g(`<h2 id="说明" tabindex="-1">说明 <a class="header-anchor" href="#说明" aria-label="Permalink to “说明”">​</a></h2><p>在使用 <code>simple-git</code> npm 库调用 Git 命令的子命令 <code>git status</code> 或者是 <code>git diff-tree</code> 时候会出现中文文件名乱码的情况：</p><p>比如：</p><ol><li>获取包含中文文件名的提交记录哈希</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --online</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9ae153c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (HEAD -</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> main,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> origin/main,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> origin/HEAD</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) chore: 将所有内部链接转换为 Markdown 链接</span></span></code></pre></div><ol start="2"><li>使用查询到的 <code>9ae153c</code> 提交哈希进行 <code>diff-tree</code> 操作：</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> diff-tree</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --no-commit-id</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name-only</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9ae153c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&quot;\\342\\232\\240\\357\\270\\217 \\347\\237\\245\\350\\257\\206\\345\\272\\223\\351\\241\\273\\347\\237\\245.md&quot;</span></span></code></pre></div><p>可以发现返回的数据中包含了 <code>\\342\\232\\240\\357\\270\\217 \\347\\237\\245\\350\\257\\206\\345\\272\\223\\351\\241\\273\\347\\237\\245.md</code> 这样的乱码字符串，或者我们说出现了 <code>\\xxx\\xxx\\xxx</code> 这样的乱码。</p><h2 id="原因" tabindex="-1">原因 <a class="header-anchor" href="#原因" aria-label="Permalink to “原因”">​</a></h2><p>出现这个问题的原因是因为 Git 命令全局配置下有一个名为 <code>core.quotepath</code> 的选项默认值为 <code>true</code>，这将导致 Git 命令会将「不寻常」的字符通过包裹双引号和反斜杠进行转译<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>。将 <code>core.quotepath</code> 选项配置为 <code>false</code> 之后其将不会对高于 <code>0x80</code>（大于 ASCII 码表最大值 <code>0x7E</code><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>）的字符进行转译，而是选择全部逐字输出。</p><h2 id="解决" tabindex="-1">解决 <a class="header-anchor" href="#解决" aria-label="Permalink to “解决”">​</a></h2><p>在命令行程序中使用下面的命令进行配置：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> core.quotepath</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> false</span></span></code></pre></div><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to “参考资料”">​</a></h2>`,14)),s("ul",null,[s("li",null,[t(a,{href:"https://blog.zengrong.net/post/git-codec-issues/",target:"_blank",rel:"noreferrer"},{default:l(()=>[...i[4]||(i[4]=[e("git乱码解决方案汇总 | ZRONG's BLOG",-1)])]),_:1})]),s("li",null,[t(a,{href:"https://blog.csdn.net/tyro_java/article/details/53439537",target:"_blank",rel:"noreferrer"},{default:l(()=>[...i[5]||(i[5]=[e("在git中出现中文乱码的解决方案_Johnny丶me的博客-CSDN博客_git utf8",-1)])]),_:1})]),s("li",null,[t(a,{href:"https://www.cnblogs.com/EasonJim/p/8403587.html",target:"_blank",rel:"noreferrer"},{default:l(()=>[...i[6]||(i[6]=[e("Linux下Git命令中文显示乱码的问题解决：274\\232\\350\\256\\256\\346\\200\\273\\347\\273\\223 - EasonJim - 博客园",-1)])]),_:1})])]),t(r),t(d),i[22]||(i[22]=s("hr",{class:"footnotes-sep"},null,-1)),s("section",b,[s("ol",c,[s("li",m,[s("p",null,[i[8]||(i[8]=s("code",null,"core.quotepath",-1)),i[9]||(i[9]=e(". The commands that output paths (e.g. ",-1)),i[10]||(i[10]=s("em",null,"ls-files",-1)),i[11]||(i[11]=e(", ",-1)),i[12]||(i[12]=s("em",null,"diff",-1)),i[13]||(i[13]=e('), when not given the -z option, will quote "unusual" characters in the pathname by enclosing the pathname in a double-quote pair and with backslashes, the same way strings in the C source code are quoted. From ',-1)),t(a,{href:"https://linux.die.net/man/1/git-config",target:"_blank",rel:"noreferrer"},{default:l(()=>[...i[7]||(i[7]=[e("git-config(1) - Linux man page",-1)])]),_:1}),i[14]||(i[14]=e()),i[15]||(i[15]=s("a",{href:"#fnref1",class:"footnote-backref"},"↩︎",-1))])]),s("li",C,[s("p",null,[t(a,{href:"https://en.wikipedia.org/wiki/ASCII",target:"_blank",rel:"noreferrer"},{default:l(()=>[...i[16]||(i[16]=[e("ASCII - Wikipedia",-1)])]),_:1}),i[17]||(i[17]=e()),i[18]||(i[18]=s("a",{href:"#fnref2",class:"footnote-backref"},"↩︎",-1))])])])])])}const w=h(f,[["render",y]]);export{P as __pageData,w as default};
