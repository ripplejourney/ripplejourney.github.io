import{_ as i,c as a,o as n,aa as h}from"./chunks/framework.wbOZ1cY6.js";const o=JSON.parse('{"title":"å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å—","description":"","frontmatter":{"created":"2024-07-16T15:57:13 (UTC +08:00)","tags":["å¹²è´§åˆ†äº«","ğŸ”¥å¹²è´§åˆ†äº«"],"source":"https://www.cnblogs.com/Megasu/p/15782353.html","author":"Megasu","head":[["script",{},"!function(p){\\"use strict\\";!function(t){var s=window,e=document,i=p,c=\\"\\".concat(\\"https:\\"===e.location.protocol?\\"https://\\":\\"http://\\",\\"sdk.51.la/js-sdk-pro.min.js\\"),n=e.createElement(\\"script\\"),r=e.getElementsByTagName(\\"script\\")[0];n.type=\\"text/javascript\\",n.setAttribute(\\"charset\\",\\"UTF-8\\"),n.async=!0,n.src=c,n.id=\\"LA_COLLECT\\",i.d=n;var o=function(){s.LA.ids.push(i)};s.LA?s.LA.ids&&o():(s.LA=p,s.LA.ids=[],o()),r.parentNode.insertBefore(n,r)}()}({\\"id\\":\\"Jgmg5avjAUvoyePS\\",\\"ck\\":\\"Jgmg5avjAUvoyePS\\",\\"hashMode\\":true});"]]},"headers":[],"relativePath":"bigWeb/node/å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— - MegaSu - åšå®¢å›­.md","filePath":"bigWeb/node/å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— - MegaSu - åšå®¢å›­.md","lastUpdated":1721140296000}'),t={name:"bigWeb/node/å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— - MegaSu - åšå®¢å›­.md"};function l(e,s,p,k,r,d){return n(),a("div",{"data-pagefind-body":!0},s[0]||(s[0]=[h(`<h1 id="å‰ç«¯æ¥å£ç¥å™¨ä¹‹-json-server-è¯¦ç»†ä½¿ç”¨æŒ‡å—" tabindex="-1">å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— <a class="header-anchor" href="#å‰ç«¯æ¥å£ç¥å™¨ä¹‹-json-server-è¯¦ç»†ä½¿ç”¨æŒ‡å—" aria-label="Permalink to &quot;å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å—&quot;">â€‹</a></h1><hr><h2 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to &quot;ç®€ä»‹&quot;">â€‹</a></h2><p><code>json-server</code> æ˜¯ä¸€æ¬¾å°å·§çš„æ¥å£æ¨¡æ‹Ÿå·¥å…·ï¼Œä¸€åˆ†é’Ÿå†…å°±èƒ½æ­å»ºä¸€å¥— Restful é£æ ¼çš„ APIï¼Œå°¤å…¶é€‚åˆå‰ç«¯æ¥å£æµ‹è¯•ä½¿ç”¨ã€‚ğŸ”¥ğŸ”¥ğŸ”¥ åªéœ€æŒ‡å®šä¸€ä¸ª <code>json</code> æ–‡ä»¶ä½œä¸º <code>api</code> çš„æ•°æ®æºå³å¯ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œ30 ç§’å…¥é—¨ï¼ŒåŸºæœ¬ä¸Šæœ‰æ‰‹å°±è¡Œã€‚ğŸ‘ è¿›é˜¶æ“ä½œè¿˜æ”¯æŒåˆ†é¡µï¼Œæ’åºç­‰æ“ä½œï¼Œç®€ç›´å¼ºå¤§ã€‚ğŸ’ª</p><h3 id="å¼€æºåœ°å€" tabindex="-1">å¼€æºåœ°å€ <a class="header-anchor" href="#å¼€æºåœ°å€" aria-label="Permalink to &quot;å¼€æºåœ°å€&quot;">â€‹</a></h3><p>ä¸»é¡µåœ°å€ï¼š<a href="https://www.npmjs.com/package/json-server" target="_blank" rel="noreferrer">https://www.npmjs.com/package/json-server</a> Githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/typicode/json-server" target="_blank" rel="noreferrer">https://github.com/typicode/json-server</a></p><h2 id="_30ç§’å…¥é—¨" tabindex="-1">30ç§’å…¥é—¨ <a class="header-anchor" href="#_30ç§’å…¥é—¨" aria-label="Permalink to &quot;30ç§’å…¥é—¨&quot;">â€‹</a></h2><h3 id="ç¯å¢ƒä¾èµ–" tabindex="-1">ç¯å¢ƒä¾èµ– <a class="header-anchor" href="#ç¯å¢ƒä¾èµ–" aria-label="Permalink to &quot;ç¯å¢ƒä¾èµ–&quot;">â€‹</a></h3><ul><li>å®‰è£… Node.js ç¯å¢ƒå³å¯</li></ul><h3 id="æ“ä½œæ­¥éª¤" tabindex="-1">æ“ä½œæ­¥éª¤ <a class="header-anchor" href="#æ“ä½œæ­¥éª¤" aria-label="Permalink to &quot;æ“ä½œæ­¥éª¤&quot;">â€‹</a></h3><ol><li>å®‰è£… JSON æœåŠ¡å™¨</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json-server</span></span></code></pre></div><ol start="2"><li>åˆ›å»ºä¸€ä¸ª<code>db.json</code>åŒ…å«ä¸€äº›æ•°æ®çš„æ–‡ä»¶</li></ol><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;posts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;json-server&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typicode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;comments&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;body&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;some comment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;postId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;profile&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typicode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="3"><li>å¯åŠ¨ <code>json-server</code> æ¥å£æœåŠ¡å™¨</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¿«é€Ÿåˆ›å»º</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é…ç½®å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --watch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3000</span></span></code></pre></div><ol start="4"><li>æµè§ˆå™¨è®¿é—® <a href="http://localhost:3000/posts/1" target="_blank" rel="noreferrer">http://localhost:3000/posts/1</a>ï¼Œä½ ä¼šå¾—åˆ°</li></ol><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;json-server&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typicode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><ol start="5"><li>ğŸ‰æ­å–œä½ ï¼Œå·²ç»å®Œæˆ <code>json-server</code> å¿«é€Ÿæ­å»ºï¼Œç†Ÿç»ƒä½¿ç”¨çš„è¯ 30 ç§’å³å¯å®ŒæˆæœåŠ¡å™¨æ­å»ºâ°ã€‚</li></ol><h3 id="è¡¥å……" tabindex="-1">è¡¥å…… <a class="header-anchor" href="#è¡¥å……" aria-label="Permalink to &quot;è¡¥å……&quot;">â€‹</a></h3><ul><li>å¦‚æœæ‚¨å‘å‡º POSTã€PUTã€PATCH æˆ– DELETE è¯·æ±‚ï¼Œæ›´æ”¹å°†è‡ªåŠ¨å®‰å…¨åœ°ä¿å­˜åˆ° <code>db.json</code> æ–‡ä»¶ä¸­ã€‚</li></ul><h2 id="è·¯ç”±è¿›é˜¶" tabindex="-1">è·¯ç”±è¿›é˜¶ <a class="header-anchor" href="#è·¯ç”±è¿›é˜¶" aria-label="Permalink to &quot;è·¯ç”±è¿›é˜¶&quot;">â€‹</a></h2><p>æ ¹æ®ä¹‹å‰çš„<code>db.json</code>æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯æ‰€æœ‰çš„é»˜è®¤è·¯ç”±ã€‚</p><h3 id="è·¯ç”±å½¢å¼ä¸€" tabindex="-1">è·¯ç”±å½¢å¼ä¸€ <a class="header-anchor" href="#è·¯ç”±å½¢å¼ä¸€" aria-label="Permalink to &quot;è·¯ç”±å½¢å¼ä¸€&quot;">â€‹</a></h3><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    /posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    /posts/1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">POST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   /posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PUT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    /posts/1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PATCH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  /posts/1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DELETE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts/1</span></span></code></pre></div><h3 id="è·¯ç”±å½¢å¼äºŒ" tabindex="-1">è·¯ç”±å½¢å¼äºŒ <a class="header-anchor" href="#è·¯ç”±å½¢å¼äºŒ" aria-label="Permalink to &quot;è·¯ç”±å½¢å¼äºŒ&quot;">â€‹</a></h3><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    /profile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">POST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   /profile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PUT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    /profile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PATCH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  /profile</span></span></code></pre></div><h3 id="ç­›é€‰" tabindex="-1">ç­›é€‰ <a class="header-anchor" href="#ç­›é€‰" aria-label="Permalink to &quot;ç­›é€‰&quot;">â€‹</a></h3><p>ä½¿ç”¨ <code>.</code> è®¿é—®ç­›é€‰</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?title=json-server&amp;amp;author=typicode</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?id=1&amp;amp;id=2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /comments?author.name=typicode</span></span></code></pre></div><h3 id="åˆ†é¡µ" tabindex="-1">åˆ†é¡µ <a class="header-anchor" href="#åˆ†é¡µ" aria-label="Permalink to &quot;åˆ†é¡µ&quot;">â€‹</a></h3><p>ä½¿ç”¨<code>_page</code>å’Œå¯é€‰åœ°<code>_limit</code>å¯¹è¿”å›çš„æ•°æ®è¿›è¡Œåˆ†é¡µã€‚</p><p>åœ¨<code>Link</code>æ ‡é¢˜ï¼Œä½ ä¼šå¾—åˆ°<code>first</code>ï¼Œ<code>prev</code>ï¼Œ<code>next</code>å’Œ<code>last</code>é“¾æ¥ã€‚</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?_page=7</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?_page=7&amp;amp;_limit=20</span></span></code></pre></div><p><em>é»˜è®¤è¿”å›10é¡¹</em></p><h3 id="æ’åº" tabindex="-1">æ’åº <a class="header-anchor" href="#æ’åº" aria-label="Permalink to &quot;æ’åº&quot;">â€‹</a></h3><p>æ·»åŠ <code>_sort</code>å’Œ<code>_order</code>ï¼ˆé»˜è®¤å‡åºï¼‰</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?_sort=views&amp;amp;_order=asc</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts/1/comments?_sort=votes&amp;amp;_order=asc</span></span></code></pre></div><p>å¯¹äºå¤šä¸ªå­—æ®µï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?_sort=user,views&amp;amp;_order=desc,asc</span></span></code></pre></div><h3 id="åˆ‡ç‰‡-åˆ†é¡µ" tabindex="-1">åˆ‡ç‰‡(åˆ†é¡µ) <a class="header-anchor" href="#åˆ‡ç‰‡-åˆ†é¡µ" aria-label="Permalink to &quot;åˆ‡ç‰‡(åˆ†é¡µ)&quot;">â€‹</a></h3><p>æ·»åŠ <code>_start</code>å’Œ<code>_end</code>æˆ–<code>_limit</code></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?_start=20&amp;amp;_end=30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts/1/comments?_start=20&amp;amp;_end=30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts/1/comments?_start=20&amp;amp;_limit=10</span></span></code></pre></div><p><strong>ä¸<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noreferrer">Array.slice</a>å®Œå…¨ä¸€æ ·<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noreferrer">å·¥ä½œ</a>ï¼ˆå³<code>_start</code>å¼€å§‹<code>_end</code>ç»“æŸï¼‰</strong></p><h3 id="ç‰¹æ®Šç¬¦å·" tabindex="-1">ç‰¹æ®Šç¬¦å· <a class="header-anchor" href="#ç‰¹æ®Šç¬¦å·" aria-label="Permalink to &quot;ç‰¹æ®Šç¬¦å·&quot;">â€‹</a></h3><p>æ·»åŠ <code>_gte</code>æˆ–<code>_lte</code>è·å–èŒƒå›´</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?views_gte=10&amp;amp;views_lte=20</span></span></code></pre></div><p>æ·»åŠ <code>_ne</code>ä»¥æ’é™¤å€¼</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?id_ne=1</span></span></code></pre></div><p>æ·»åŠ <code>_like</code>åˆ°è¿‡æ»¤å™¨ï¼ˆæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼‰</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?title_like=server</span></span></code></pre></div><h3 id="å…¨æ–‡æœç´¢" tabindex="-1">å…¨æ–‡æœç´¢ <a class="header-anchor" href="#å…¨æ–‡æœç´¢" aria-label="Permalink to &quot;å…¨æ–‡æœç´¢&quot;">â€‹</a></h3><p>æ·»åŠ  <code>q</code></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?q=internet</span></span></code></pre></div><h3 id="å…³ç³»" tabindex="-1">å…³ç³» <a class="header-anchor" href="#å…³ç³»" aria-label="Permalink to &quot;å…³ç³»&quot;">â€‹</a></h3><p>è¦åŒ…å«å­èµ„æºï¼Œè¯·æ·»åŠ  <code>_embed</code></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts?_embed=comments</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts/1?_embed=comments</span></span></code></pre></div><p>è¦åŒ…å«çˆ¶èµ„æºï¼Œè¯·æ·»åŠ  <code>_expand</code></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /comments?_expand=post</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /comments/1?_expand=post</span></span></code></pre></div><p>è·å–æˆ–åˆ›å»ºåµŒå¥—èµ„æºï¼ˆé»˜è®¤ä¸ºä¸€çº§ï¼‰</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  /posts/1/comments</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">POST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /posts/1/comments</span></span></code></pre></div><h3 id="æ•°æ®åº“" tabindex="-1">æ•°æ®åº“ <a class="header-anchor" href="#æ•°æ®åº“" aria-label="Permalink to &quot;æ•°æ®åº“&quot;">â€‹</a></h3><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /db</span></span></code></pre></div><h3 id="ä¸»é¡µ" tabindex="-1">ä¸»é¡µ <a class="header-anchor" href="#ä¸»é¡µ" aria-label="Permalink to &quot;ä¸»é¡µ&quot;">â€‹</a></h3><p>è¿”å›é»˜è®¤ç´¢å¼•æ–‡ä»¶æˆ–æœåŠ¡<code>./public</code>ç›®å½•</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /</span></span></code></pre></div><h2 id="é™„åŠ åŠŸèƒ½" tabindex="-1">é™„åŠ åŠŸèƒ½ <a class="header-anchor" href="#é™„åŠ åŠŸèƒ½" aria-label="Permalink to &quot;é™„åŠ åŠŸèƒ½&quot;">â€‹</a></h2><h3 id="é™æ€æ–‡ä»¶æœåŠ¡å™¨" tabindex="-1">é™æ€æ–‡ä»¶æœåŠ¡å™¨ <a class="header-anchor" href="#é™æ€æ–‡ä»¶æœåŠ¡å™¨" aria-label="Permalink to &quot;é™æ€æ–‡ä»¶æœåŠ¡å™¨&quot;">â€‹</a></h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ JSON Server ä¸ºæ‚¨çš„ HTMLã€JS å’Œ CSS æä¾›æœåŠ¡ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ª<code>./public</code>ç›®å½•æˆ–ç”¨äº<code>--static</code>è®¾ç½®ä¸åŒçš„é™æ€æ–‡ä»¶ç›®å½•ã€‚</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;hello world&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public/index.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./some-other-dir</span></span></code></pre></div><h3 id="æ›¿æ¢ç«¯å£" tabindex="-1">æ›¿æ¢ç«¯å£ <a class="header-anchor" href="#æ›¿æ¢ç«¯å£" aria-label="Permalink to &quot;æ›¿æ¢ç«¯å£&quot;">â€‹</a></h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹<code>--port</code>æ ‡å¿—åœ¨å…¶ä»–ç«¯å£ä¸Šå¯åŠ¨ <code>JSON Server</code> ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --watch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3004</span></span></code></pre></div><h3 id="æ”¯æŒè·¨åŸŸ" tabindex="-1">æ”¯æŒè·¨åŸŸ <a class="header-anchor" href="#æ”¯æŒè·¨åŸŸ" aria-label="Permalink to &quot;æ”¯æŒè·¨åŸŸ&quot;">â€‹</a></h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ CORS å’Œ JSONP ä»ä»»ä½•åœ°æ–¹è®¿é—®æ‚¨æ¨¡æ‹Ÿçš„ API æ¥å£ã€‚</p><h3 id="è¿œç¨‹æ¨¡å¼" tabindex="-1">è¿œç¨‹æ¨¡å¼ <a class="header-anchor" href="#è¿œç¨‹æ¨¡å¼" aria-label="Permalink to &quot;è¿œç¨‹æ¨¡å¼&quot;">â€‹</a></h3><p>æ‚¨å¯ä»¥åŠ è½½è¿œç¨‹æ¨¡å¼ã€‚</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://example.com/file.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://jsonplaceholder.typicode.com/db</span></span></code></pre></div><h3 id="ç”Ÿæˆéšæœºæ•°æ®" tabindex="-1">ç”Ÿæˆéšæœºæ•°æ® <a class="header-anchor" href="#ç”Ÿæˆéšæœºæ•°æ®" aria-label="Permalink to &quot;ç”Ÿæˆéšæœºæ•°æ®&quot;">â€‹</a></h3><p>ä½¿ç”¨ JS è€Œä¸æ˜¯ JSON æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼åˆ›å»ºæ•°æ®ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// index.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { users: [] }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åˆ›å»º 1000 ä¸ªç”¨æˆ·ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    data.users.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ id: i, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`user\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.js</span></span></code></pre></div><p><strong>æç¤º</strong>ï¼šä½¿ç”¨<a href="https://github.com/Marak/faker.js" target="_blank" rel="noreferrer">Faker</a>ã€<a href="https://github.com/boo1ean/casual" target="_blank" rel="noreferrer">Casual</a>ã€<a href="https://github.com/victorquinn/chancejs" target="_blank" rel="noreferrer">Chance</a>æˆ–<a href="https://github.com/json-schema-faker/json-schema-faker" target="_blank" rel="noreferrer">JSON Schema Faker ç­‰æ¨¡å—</a>ã€‚</p><h3 id="æ·»åŠ è‡ªå®šä¹‰è·¯ç”±" tabindex="-1">æ·»åŠ è‡ªå®šä¹‰è·¯ç”± <a class="header-anchor" href="#æ·»åŠ è‡ªå®šä¹‰è·¯ç”±" aria-label="Permalink to &quot;æ·»åŠ è‡ªå®šä¹‰è·¯ç”±&quot;">â€‹</a></h3><p>åˆ›å»ºä¸€ä¸ª<code>routes.json</code>æ–‡ä»¶ã€‚æ³¨æ„æ¯æ¡è·¯çº¿éƒ½ä»¥<code>/</code>.</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;/api/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/$1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;/:resource/:id/show&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/:resource/:id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;/posts/:category&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/posts?category=:category&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;/articles\\\\?id=:id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/posts/:id&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ä½¿ç”¨<code>--routes</code>é€‰é¡¹å¯åŠ¨ JSON æœåŠ¡å™¨ã€‚</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --routes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> routes.json</span></span></code></pre></div><p>ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–è·¯çº¿è®¿é—®èµ„æºã€‚</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/api/posts # â†’ /posts</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/api/posts/1  # â†’ /posts/1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/posts/1/show # â†’ /posts/1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/posts/javascript # â†’ /posts?category=javascript</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/articles?id=1 # â†’ /posts/1</span></span></code></pre></div><h3 id="æ·»åŠ ä¸­é—´ä»¶" tabindex="-1">æ·»åŠ ä¸­é—´ä»¶ <a class="header-anchor" href="#æ·»åŠ ä¸­é—´ä»¶" aria-label="Permalink to &quot;æ·»åŠ ä¸­é—´ä»¶&quot;">â€‹</a></h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹<code>--middlewares</code>é€‰é¡¹ä» CLI æ·»åŠ ä¸­é—´ä»¶ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// hello.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;X-Hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --middlewares</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./hello.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --middlewares</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./first.js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./second.js</span></span></code></pre></div><h3 id="å‘½ä»¤è¡Œä½¿ç”¨" tabindex="-1">å‘½ä»¤è¡Œä½¿ç”¨ <a class="header-anchor" href="#å‘½ä»¤è¡Œä½¿ç”¨" aria-label="Permalink to &quot;å‘½ä»¤è¡Œä½¿ç”¨&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json-server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Options:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --config,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       Path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           [default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;json-server.json&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --port,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                    [default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3000]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --host,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                             [default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --watch,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Watch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                     [boolean]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --routes,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       Path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> routes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --middlewares,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Paths</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> middleware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                           [array]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --static,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --read-only,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ro</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> only</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                           [boolean]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --no-cors,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --nc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cross-Origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Resource</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sharing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">             [boolean]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --no-gzip,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ng</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GZIP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Content-Encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                     [boolean]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --snapshots,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> snapshots</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      [default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --delay,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delay</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> responses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ms)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --id,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> database</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e.g. </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)         [default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --foreignKeySuffix,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --fks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foreign</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> suffix,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e.g. </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> post_id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                                                 [default: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --quiet,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -q</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Suppress</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> messages</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> output</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                 [boolean]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --help,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                         [boolean]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --version,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      Show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                               [boolean]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Examples:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  json-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://example.com/db.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://github.com/typicode/json-server</span></span></code></pre></div><p>æ‚¨è¿˜å¯ä»¥åœ¨<code>json-server.json</code>é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é€‰é¡¹ã€‚</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="æ¨¡å—" tabindex="-1">æ¨¡å— <a class="header-anchor" href="#æ¨¡å—" aria-label="Permalink to &quot;æ¨¡å—&quot;">â€‹</a></h3><p>å¦‚æœæ‚¨éœ€è¦æ·»åŠ èº«ä»½éªŒè¯ã€éªŒè¯æˆ–<strong>ä»»ä½•è¡Œä¸º</strong>ï¼Œæ‚¨å¯ä»¥å°†é¡¹ç›®ä½œä¸ºæ¨¡å—ä¸å…¶ä»– Express ä¸­é—´ä»¶ç»“åˆä½¿ç”¨ã€‚</p><h4 id="ç®€å•çš„ä¾‹å­" tabindex="-1">ç®€å•çš„ä¾‹å­ <a class="header-anchor" href="#ç®€å•çš„ä¾‹å­" aria-label="Permalink to &quot;ç®€å•çš„ä¾‹å­&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// server.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jsonServer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;json-server&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;db.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> middlewares</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaults</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(middlewares)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(router)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;JSON Server is running&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server.js</span></span></code></pre></div><p>æ‚¨æä¾›ç»™<code>jsonServer.router</code>å‡½æ•°çš„è·¯å¾„æ˜¯ç›¸å¯¹äºæ‚¨å¯åŠ¨èŠ‚ç‚¹è¿›ç¨‹çš„ç›®å½•çš„ã€‚å¦‚æœä»å¦ä¸€ä¸ªç›®å½•è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;db.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><p>å¯¹äºå†…å­˜æ•°æ®åº“ï¼Œåªéœ€å°†å¯¹è±¡ä¼ é€’ç»™<code>jsonServer.router()</code>.</p><p>å¦è¯·æ³¨æ„ï¼Œ<code>jsonServer.router()</code>å®ƒå¯ç”¨äºç°æœ‰çš„ Express é¡¹ç›®ã€‚</p><h4 id="è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹" tabindex="-1">è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹ <a class="header-anchor" href="#è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹" aria-label="Permalink to &quot;è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹&quot;">â€‹</a></h4><p>å‡è®¾æ‚¨æƒ³è¦ä¸€ä¸ªå›æ˜¾æŸ¥è¯¢å‚æ•°çš„è·¯ç”±å’Œå¦ä¸€ä¸ªåœ¨åˆ›å»ºçš„æ¯ä¸ªèµ„æºä¸Šè®¾ç½®æ—¶é—´æˆ³çš„è·¯ç”±ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jsonServer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;json-server&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;db.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> middlewares</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaults</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®é»˜è®¤ä¸­é—´ä»¶ï¼ˆè®°å½•å™¨ã€é™æ€ã€cors å’Œæ— ç¼“å­˜ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(middlewares)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å†™åœ¨è‡ªå®šä¹‰è·¯ç”±ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/echo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jsonp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(req.query)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¦å¤„ç† POSTã€PUT å’Œ PATCHï¼Œæ‚¨éœ€è¦ä½¿ç”¨ body-parser</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‚¨å¯ä»¥ä½¿ç”¨ JSON Server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(jsonServer.bodyParser)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (req.method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    req.body.createdAt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç»§ç»­åˆ° JSON Server è·¯ç”±å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨é»˜è®¤è·¯ç”±å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(router)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;JSON Server is running&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="è®¿é—®æ§åˆ¶ç¤ºä¾‹" tabindex="-1">è®¿é—®æ§åˆ¶ç¤ºä¾‹ <a class="header-anchor" href="#è®¿é—®æ§åˆ¶ç¤ºä¾‹" aria-label="Permalink to &quot;è®¿é—®æ§åˆ¶ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jsonServer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;json-server&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;db.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> middlewares</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaults</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(middlewares)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isAuthorized</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(req)) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨æ­¤å¤„æ·»åŠ æ‚¨çš„æˆæƒé€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç»§ç»­åˆ° JSON Server è·¯ç”±å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">401</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(router)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;JSON Server is running&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹" tabindex="-1">è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹ <a class="header-anchor" href="#è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹" aria-label="Permalink to &quot;è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹&quot;">â€‹</a></h4><p>è¦ä¿®æ”¹å“åº”ï¼Œè¯·è¦†ç›–<code>router.render</code>æ–¹æ³•ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿”å›çš„èµ„æºå°†è¢«åŒ…è£…åœ¨ä¸€ä¸ª body å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jsonp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    body: res.locals.data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æ‚¨å¯ä»¥ä¸ºå“åº”è®¾ç½®è‡ªå·±çš„çŠ¶æ€ä»£ç ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ªæœåŠ¡å™¨ç«¯é”™è¯¯å“åº”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jsonp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    error: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;error message here&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="é‡å†™å™¨ç¤ºä¾‹" tabindex="-1">é‡å†™å™¨ç¤ºä¾‹ <a class="header-anchor" href="#é‡å†™å™¨ç¤ºä¾‹" aria-label="Permalink to &quot;é‡å†™å™¨ç¤ºä¾‹&quot;">â€‹</a></h4><p>è¦æ·»åŠ é‡å†™è§„åˆ™ï¼Œè¯·ä½¿ç”¨<code>jsonServer.rewriter()</code>ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å†™åœ¨ server.use(router) ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(jsonServer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rewriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;/api/*&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/$1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;/blog/:resource/:id/show&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/:resource/:id&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span></code></pre></div><h4 id="åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½-json-æœåŠ¡å™¨ç¤ºä¾‹" tabindex="-1">åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½ JSON æœåŠ¡å™¨ç¤ºä¾‹ <a class="header-anchor" href="#åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½-json-æœåŠ¡å™¨ç¤ºä¾‹" aria-label="Permalink to &quot;åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½ JSON æœåŠ¡å™¨ç¤ºä¾‹&quot;">â€‹</a></h4><p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†è·¯ç”±å™¨å®‰è£…åœ¨<code>/api</code>.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, router)</span></span></code></pre></div><h4 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">â€‹</a></h4><p><strong><code>jsonServer.create()</code></strong></p><p>è¿”å›ä¸€ä¸ª Express æœåŠ¡å™¨ã€‚</p><p><strong><code>jsonServer.defaults([options])</code></strong></p><p>è¿”å› JSON æœåŠ¡å™¨ä½¿ç”¨çš„ä¸­é—´ä»¶ã€‚</p><ul><li>é€‰é¡¹ <ul><li><code>static</code> é™æ€æ–‡ä»¶çš„è·¯å¾„</li><li><code>logger</code> å¯ç”¨è®°å½•å™¨ä¸­é—´ä»¶ï¼ˆé»˜è®¤å€¼ï¼štrueï¼‰</li><li><code>bodyParser</code> å¯ç”¨ body-parser ä¸­é—´ä»¶ï¼ˆé»˜è®¤å€¼ï¼štrueï¼‰</li><li><code>noCors</code> ç¦ç”¨ CORSï¼ˆé»˜è®¤å€¼ï¼šfalseï¼‰</li><li><code>readOnly</code> åªæ¥å— GET è¯·æ±‚ï¼ˆé»˜è®¤å€¼ï¼šfalseï¼‰</li></ul></li></ul><p><strong><code>jsonServer.router([path|object])</code></strong></p><p>è¿”å› JSON æœåŠ¡å™¨è·¯ç”±å™¨ã€‚</p><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><ol><li>json-server å…¥é—¨ç®€å•ï¼Œ30 ç§’å‡ºæ•ˆæœï¼Œé›¶ç¼–ç å®ç° REST API é£æ ¼æ¥å£ï¼Œå®å±å‰ç«¯æ¥å£ç¥å™¨ã€‚ğŸ‘ğŸ‘ğŸ‘</li><li>è·¯ç”±è¿›é˜¶æ“ä½œè¿˜æ”¯æŒåˆ†é¡µï¼Œæ’åºç­‰æ“ä½œï¼Œç®€ç›´å¼ºå¤§ã€‚ğŸ’ª</li><li>æ„Ÿè°¢ç‚¹èµä¸æ”¯æŒğŸ’•ğŸ’•ğŸ’•</li></ol>`,135)]))}const g=i(t,[["render",l]]);export{o as __pageData,g as default};
