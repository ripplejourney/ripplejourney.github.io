<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>ä»£ç </title>
        <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps</link>
        <description>å¤©é“é…¬å‹¤ï¼Œæ’ä»¥è‡´é ï¼ˆå¤§å‰ç«¯ç›¸å…³æŠ€æœ¯åˆ†äº«ï¼‰</description>
        <lastBuildDate>Mon, 08 Dec 2025 08:39:02 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-cn</language>
        <image>
            <title>ä»£ç </title>
            <url>/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/assert/sitelogo.png</url>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps</link>
        </image>
        <copyright>ä»£ç  2006 - 2025</copyright>
        <item>
            <title><![CDATA[1Panel å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ° NVIDIA-SMI æˆ– XPU-SMI æŒ‡ä»¤ï¼Œè¯·æ£€æŸ¥åé‡è¯•]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/ollama/wslçš„1panel å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ° NVIDIA-SMIæˆ–è€…XPU-SMI æŒ‡ä»¤ï¼Œè¯·æ£€æŸ¥åé‡è¯•.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/ollama/wslçš„1panel å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ° NVIDIA-SMIæˆ–è€…XPU-SMI æŒ‡ä»¤ï¼Œè¯·æ£€æŸ¥åé‡è¯•.html</guid>
            <pubDate>Fri, 28 Nov 2025 18:00:00 GMT</pubDate>
            <description><![CDATA[1Panel å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ° NVIDIA-SMI æˆ– XPU-SMI æŒ‡ä»¤ï¼Œè¯·æ£€æŸ¥åé‡è¯•
 ç‰¹æ®Šæƒ…å†µï¼š1Panel å¯¹ WSL çš„ GPU é€‚é…é™åˆ¶
1Panel çš„ GPU æ£€æµ‹åŠŸèƒ½ä¸»è¦é’ˆå¯¹ åŸ]]></description>
            <content:encoded><![CDATA[<h1 id="_1panel-å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ°-nvidia-smi-æˆ–-xpu-smi-æŒ‡ä»¤-è¯·æ£€æŸ¥åé‡è¯•" tabindex="-1">1Panel å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ° NVIDIA-SMI æˆ– XPU-SMI æŒ‡ä»¤ï¼Œè¯·æ£€æŸ¥åé‡è¯• <a class="header-anchor" href="#_1panel-å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ°-nvidia-smi-æˆ–-xpu-smi-æŒ‡ä»¤-è¯·æ£€æŸ¥åé‡è¯•" aria-label="Permalink to â€œ1Panel å½“å‰ç³»ç»Ÿæœªæ£€æµ‹åˆ° NVIDIA-SMI æˆ– XPU-SMI æŒ‡ä»¤ï¼Œè¯·æ£€æŸ¥åé‡è¯•â€">&#8203;</a></h1>
<h3 id="ç‰¹æ®Šæƒ…å†µ-1panel-å¯¹-wsl-çš„-gpu-é€‚é…é™åˆ¶" tabindex="-1">ç‰¹æ®Šæƒ…å†µï¼š1Panel å¯¹ WSL çš„ GPU é€‚é…é™åˆ¶ <a class="header-anchor" href="#ç‰¹æ®Šæƒ…å†µ-1panel-å¯¹-wsl-çš„-gpu-é€‚é…é™åˆ¶" aria-label="Permalink to â€œç‰¹æ®Šæƒ…å†µï¼š1Panel å¯¹ WSL çš„ GPU é€‚é…é™åˆ¶â€">&#8203;</a></h3>
<p>1Panel çš„ GPU æ£€æµ‹åŠŸèƒ½ä¸»è¦é’ˆå¯¹ <strong>åŸç”Ÿ Linux æœåŠ¡å™¨</strong>ï¼ŒWSL ä½œä¸ºè™šæ‹ŸåŒ–ç¯å¢ƒï¼Œå¯èƒ½å­˜åœ¨ä»¥ä¸‹é€‚é…é—®é¢˜ï¼Œéœ€é’ˆå¯¹æ€§å¤„ç†ï¼š</p>
<h4 id="æƒ…å†µ-1-1panel-æ£€æµ‹é€»è¾‘ä¸æ”¯æŒ-wsl-çš„-gpu-è·¯å¾„" tabindex="-1">æƒ…å†µ 1ï¼š1Panel æ£€æµ‹é€»è¾‘ä¸æ”¯æŒ WSL çš„ GPU è·¯å¾„ <a class="header-anchor" href="#æƒ…å†µ-1-1panel-æ£€æµ‹é€»è¾‘ä¸æ”¯æŒ-wsl-çš„-gpu-è·¯å¾„" aria-label="Permalink to â€œæƒ…å†µ 1ï¼š1Panel æ£€æµ‹é€»è¾‘ä¸æ”¯æŒ WSL çš„ GPU è·¯å¾„â€">&#8203;</a></h4>
<p>è§£å†³ï¼šåˆ›å»º <code>nvidia-smi</code> çš„è½¯é“¾æ¥åˆ° 1Panel é¢„æœŸçš„è·¯å¾„ï¼ˆå¦‚ <code>/usr/local/bin/</code>ï¼‰ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::an0v1pnyt87ewispp59cth::--><code>    # è‹¥ 1Panel æ‰¾ä¸åˆ° nvidia-smiï¼Œæ‰‹åŠ¨åˆ›å»ºè½¯é“¾æ¥
    sudo ln -s $(which nvidia-smi) /usr/local/bin/nvidia-smi
    # é‡å¯ 1Panel
    1pctl restart all</code></pre>
</div><h4 id="æƒ…å†µ-2-wsl-æ— -xpu-smi-ä»…-nvidia-gpu-æ— éœ€å…³æ³¨" tabindex="-1">æƒ…å†µ 2ï¼šWSL æ—  XPU-SMIï¼ˆä»… NVIDIA GPU æ— éœ€å…³æ³¨ï¼‰ <a class="header-anchor" href="#æƒ…å†µ-2-wsl-æ— -xpu-smi-ä»…-nvidia-gpu-æ— éœ€å…³æ³¨" aria-label="Permalink to â€œæƒ…å†µ 2ï¼šWSL æ—  XPU-SMIï¼ˆä»… NVIDIA GPU æ— éœ€å…³æ³¨ï¼‰â€">&#8203;</a></h4>
<p>æç¤ºä¸­æåˆ°çš„ <code>XPU-SMI</code> æ˜¯ Intel/AMD XPU çš„ç›‘æ§å·¥å…·ï¼Œè‹¥ä½ æ˜¯ NVIDIA GPUï¼Œæ— éœ€å®‰è£…ï¼Œ1Panel ä¼šè‡ªåŠ¨å¿½ç•¥ï¼Œåªéœ€ç¡®ä¿ <code>nvidia-smi</code> å¯æ­£å¸¸è°ƒç”¨ã€‚</p>
<h4 id="æƒ…å†µ-3-1panel-ç‰ˆæœ¬è¿‡ä½-æœªé€‚é…-wsl-gpu" tabindex="-1">æƒ…å†µ 3ï¼š1Panel ç‰ˆæœ¬è¿‡ä½ï¼Œæœªé€‚é… WSL GPU <a class="header-anchor" href="#æƒ…å†µ-3-1panel-ç‰ˆæœ¬è¿‡ä½-æœªé€‚é…-wsl-gpu" aria-label="Permalink to â€œæƒ…å†µ 3ï¼š1Panel ç‰ˆæœ¬è¿‡ä½ï¼Œæœªé€‚é… WSL GPUâ€">&#8203;</a></h4>
<p>è§£å†³ï¼šæ›´æ–° 1Panel åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆWSL ä¸­æ”¯æŒæ›´æ–°ï¼‰ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::xoqyvcdsapcxtop0oqpzn::--><code>
    1pctl upgrade</code></pre>
</div><p>æ›´æ–°åé‡å¯ 1Panelï¼Œå†æ£€æŸ¥ GPU æ£€æµ‹æƒ…å†µã€‚</p>
<h3 id="å››ã€æœ€ç»ˆéªŒè¯ä¸å…œåº•æ–¹æ¡ˆ" tabindex="-1">å››ã€æœ€ç»ˆéªŒè¯ä¸å…œåº•æ–¹æ¡ˆ <a class="header-anchor" href="#å››ã€æœ€ç»ˆéªŒè¯ä¸å…œåº•æ–¹æ¡ˆ" aria-label="Permalink to â€œå››ã€æœ€ç»ˆéªŒè¯ä¸å…œåº•æ–¹æ¡ˆâ€">&#8203;</a></h3>
<ol>
<li>
<p>è‹¥ 1Panel ä»æœªè¯†åˆ«ï¼Œä½† WSL ç»ˆç«¯ <code>nvidia-smi</code> æ­£å¸¸ï¼š</p>
<p>è¯´æ˜ 1Panel çš„æ£€æµ‹é€»è¾‘æœªå…¼å®¹ WSLï¼Œå¯å¿½ç•¥è¯¥æç¤º â€”â€” åªè¦ WSL ä¸­èƒ½æ­£å¸¸è°ƒç”¨ GPUï¼ˆå¦‚ Docker å®¹å™¨ã€CUDA ç¨‹åºï¼‰ï¼Œä¸å½±å“å®é™…ä½¿ç”¨ï¼Œ1Panel çš„ GPU ç›‘æ§åŠŸèƒ½ä»…ä¸ºè¾…åŠ©ã€‚</p>
</li>
<li>
<p>å…œåº•ï¼šæ‰‹åŠ¨åœ¨ 1Panel ä¸­é…ç½® GPU è·¯å¾„ï¼ˆè‹¥æ”¯æŒï¼‰ï¼š</p>
<p>éƒ¨åˆ† 1Panel ç‰ˆæœ¬æ”¯æŒæ‰‹åŠ¨æŒ‡å®š <code>nvidia-smi</code> è·¯å¾„ï¼Œå¯åœ¨ 1Panel åå°ã€Œç³»ç»Ÿè®¾ç½®ã€â†’ã€Œç›‘æ§é…ç½®ã€ä¸­ï¼Œæ‰¾åˆ° â€œGPU å·¥å…·è·¯å¾„â€ï¼Œæ‰‹åŠ¨å¡«å†™ <code>nvidia-smi</code> çš„å®é™…è·¯å¾„ï¼ˆå¦‚ <code>/usr/bin/nvidia-smi</code>ï¼‰ï¼Œä¿å­˜ååˆ·æ–°ã€‚</p>
</li>
</ol>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ã€å…è´¹ã€‘Node.js å…¥é—¨æ•™ç¨‹]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/nodejs-getting-started.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/nodejs-getting-started.html</guid>
            <pubDate>Wed, 29 Oct 2025 15:07:23 GMT</pubDate>
            <description><![CDATA[# ã€å…è´¹ã€‘Node.js å…¥é—¨æ•™ç¨‹
æ˜é‡‘å°å†Œã€ŒNode.js å…¥é—¨æ•™ç¨‹ã€è¯¾ç¨‹åœ°å€ï¼š[<<Node.js å…¥é—¨æ•™ç¨‹>>](https://juejin.cn/book/7304230207953567755) ğŸ‘ğŸ»

**è¿™æ˜¯ä¸€æœ¬å®Œå…¨å…è´¹çš„å°å†Œ**ï¼Œå†…å®¹æ¶µç›–äº†è½¯ä»¶çš„å®‰è£…ï¼Œç¯å¢ƒé…ç½®ï¼ŒåŸºç¡€çŸ¥è¯†ä»‹ç»ï¼Œè¿›é˜¶çŸ¥è¯†ä»‹ç»ï¼Œå¤šåœºæ™¯çš„å¼€å‘å®è·µã€‚

![](./nodejs-getting-started/MTcwMjgwNzI2MjUwNg==702807262506.png)

## Node.js çš„ä¼˜åŠ¿

*   é«˜æ€§èƒ½ï¼šåŸºäºäº‹ä»¶é©±åŠ¨çš„éé˜»å¡I/Oæ¨¡å‹ï¼Œå•çº¿ç¨‹ä¹Ÿèƒ½å¤Ÿå¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚ï¼›
*   è·¨å¹³å°ï¼šå¯ä»¥è¿è¡Œåœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šï¼›
*   ç¤¾åŒºå®Œå¤‡ï¼šNode.jsæœ‰ä¸€ä¸ªåºå¤§çš„ç¤¾åŒºï¼Œæœ‰ä¸°å¯Œçš„æ–‡æ¡£å’Œå¼€æºé¡¹ç›®æ²‰æ·€ï¼›
*   æ˜“ä¸Šæ‰‹ï¼šå­¦ä¹ é—¨æ§›ä½ï¼Œç¯å¢ƒé…ç½®ç®€å•ï¼Œå¼€å‘&éƒ¨ç½²è¿…é€Ÿã€‚

## åº”ç”¨åœºæ™¯

*   æœåŠ¡ç«¯å¼€å‘ï¼š[Express](https://expressjs.com/)ã€[Koa](https://koajs.com/#application)ã€[Midway](https://midwayjs.org/)ã€[Egg](https://www.eggjs.org/zh-CN)ï¼›
*   æ¡Œé¢åº”ç”¨ï¼š[Electron](https://www.electronjs.org/)ã€[NW.js](https://nwjs.io/)ã€çº¿ä¸Šåº”ç”¨ [VS Code](https://code.visualstudio.com/)ã€[é£ä¹¦](https://www.feishu.cn/)ã€[æ–°ç‰ˆQQ](https://im.qq.com/macqq/index.shtml)ï¼›
*   ç§»åŠ¨åº”ç”¨ï¼š[React Native](https://reactnative.cn/)ã€[Weex](https://weexapp.com/zh/)ï¼›
*   Webå¼€å‘ï¼š[Vue](https://cn.vuejs.org/)ã€[React](https://zh-hans.react.dev/)ã€[Svelte](https://www.svelte.cn/)ç­‰å‰ç«¯æ¡†æ¶
*   æ„å»ºå·¥å…·ï¼š[webpack](https://webpack.docschina.org/)ã€[Vite](https://cn.vitejs.dev/)ã€[Rollup](https://rollupjs.org/)ï¼›
*   CLIå·¥å…·ï¼šå‰ç«¯å¼€å‘è€…å¸¸ç”¨çš„å„ç§é¡¹ç›®è„šæ‰‹æ¶å’Œå·¥å…·ï¼Œå¦‚ï¼š[nodemon](https://www.npmjs.com/package/nodemon)ã€[whistle](https://github.com/avwo/whistle)ã€[http-server](https://www.npmjs.com/package/http-server)ï¼›

å½“ç„¶è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œç­‰ç€ä½ å»æ¢ç´¢â€¦â€¦

![](./nodejs-getting-started/MTY4NTIwMTQwMTAzNg==685201401036.png)

æœ¬æ•™ç¨‹ä¸»è¦åŒ…å«7ä¸ªç« èŠ‚ï¼Œæ¶µç›–äº†`è½¯ä»¶çš„å®‰è£…`ã€`ç¯å¢ƒé…ç½®`ã€`åŸºç¡€çŸ¥è¯†ä»‹ç»`ã€`è¿›é˜¶çŸ¥è¯†ä»‹ç»`ã€`å¤šåœºæ™¯çš„å¼€å‘å®è·µ` áƒ¦( Â´ï½¥á´—ï½¥\` )ã€‚

## é€‚åˆäººç¾¤

*   æƒ³é€šè¿‡ `JavaScript` å†™ä¸€äº›è„šæœ¬å¤„ç†æ—¥å¸¸å·¥ä½œï¼›
*   å¯¹Webå‰ç«¯å·²ç»æœ‰ä¸€äº›äº†è§£ï¼Œæƒ³è‡ªå·±åšä¸€ä¸ªåç«¯æœåŠ¡ï¼›
*   å…¶å®ƒåç«¯æŠ€æœ¯æ ˆçš„åŒå­¦ï¼Œæƒ³äº†è§£ä¸€ä¸‹ `JavaScript` å¦‚ä½•åšåç«¯æœåŠ¡ã€‚

]]></description>
            <content:encoded><![CDATA[<h1 id="ã€å…è´¹ã€‘node-js-å…¥é—¨æ•™ç¨‹" tabindex="-1">ã€å…è´¹ã€‘Node.js å…¥é—¨æ•™ç¨‹ <a class="header-anchor" href="#ã€å…è´¹ã€‘node-js-å…¥é—¨æ•™ç¨‹" aria-label="Permalink to â€œã€å…è´¹ã€‘Node.js å…¥é—¨æ•™ç¨‹â€">&#8203;</a></h1>
<p>æ˜é‡‘å°å†Œã€ŒNode.js å…¥é—¨æ•™ç¨‹ã€è¯¾ç¨‹åœ°å€ï¼š<a href="https://juejin.cn/book/7304230207953567755" target="_blank" rel="noreferrer">&lt;&lt;Node.js å…¥é—¨æ•™ç¨‹&gt;&gt;</a> ğŸ‘ğŸ»</p>
<p><strong>è¿™æ˜¯ä¸€æœ¬å®Œå…¨å…è´¹çš„å°å†Œ</strong>ï¼Œå†…å®¹æ¶µç›–äº†è½¯ä»¶çš„å®‰è£…ï¼Œç¯å¢ƒé…ç½®ï¼ŒåŸºç¡€çŸ¥è¯†ä»‹ç»ï¼Œè¿›é˜¶çŸ¥è¯†ä»‹ç»ï¼Œå¤šåœºæ™¯çš„å¼€å‘å®è·µã€‚</p>
<p><img src="./nodejs-getting-started/MTcwMjgwNzI2MjUwNg==702807262506.png" alt="" loading="lazy"></p>
<h2 id="node-js-çš„ä¼˜åŠ¿" tabindex="-1">Node.js çš„ä¼˜åŠ¿ <a class="header-anchor" href="#node-js-çš„ä¼˜åŠ¿" aria-label="Permalink to â€œNode.js çš„ä¼˜åŠ¿â€">&#8203;</a></h2>
<ul>
<li>é«˜æ€§èƒ½ï¼šåŸºäºäº‹ä»¶é©±åŠ¨çš„éé˜»å¡I/Oæ¨¡å‹ï¼Œå•çº¿ç¨‹ä¹Ÿèƒ½å¤Ÿå¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚ï¼›</li>
<li>è·¨å¹³å°ï¼šå¯ä»¥è¿è¡Œåœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šï¼›</li>
<li>ç¤¾åŒºå®Œå¤‡ï¼šNode.jsæœ‰ä¸€ä¸ªåºå¤§çš„ç¤¾åŒºï¼Œæœ‰ä¸°å¯Œçš„æ–‡æ¡£å’Œå¼€æºé¡¹ç›®æ²‰æ·€ï¼›</li>
<li>æ˜“ä¸Šæ‰‹ï¼šå­¦ä¹ é—¨æ§›ä½ï¼Œç¯å¢ƒé…ç½®ç®€å•ï¼Œå¼€å‘&amp;éƒ¨ç½²è¿…é€Ÿã€‚</li>
</ul>
<h2 id="åº”ç”¨åœºæ™¯" tabindex="-1">åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#åº”ç”¨åœºæ™¯" aria-label="Permalink to â€œåº”ç”¨åœºæ™¯â€">&#8203;</a></h2>
<ul>
<li>æœåŠ¡ç«¯å¼€å‘ï¼š<a href="https://expressjs.com/" target="_blank" rel="noreferrer">Express</a>ã€<a href="https://koajs.com/#application" target="_blank" rel="noreferrer">Koa</a>ã€<a href="https://midwayjs.org/" target="_blank" rel="noreferrer">Midway</a>ã€<a href="https://www.eggjs.org/zh-CN" target="_blank" rel="noreferrer">Egg</a>ï¼›</li>
<li>æ¡Œé¢åº”ç”¨ï¼š<a href="https://www.electronjs.org/" target="_blank" rel="noreferrer">Electron</a>ã€<a href="https://nwjs.io/" target="_blank" rel="noreferrer">NW.js</a>ã€çº¿ä¸Šåº”ç”¨ <a href="https://code.visualstudio.com/" target="_blank" rel="noreferrer">VS Code</a>ã€<a href="https://www.feishu.cn/" target="_blank" rel="noreferrer">é£ä¹¦</a>ã€<a href="https://im.qq.com/macqq/index.shtml" target="_blank" rel="noreferrer">æ–°ç‰ˆQQ</a>ï¼›</li>
<li>ç§»åŠ¨åº”ç”¨ï¼š<a href="https://reactnative.cn/" target="_blank" rel="noreferrer">React Native</a>ã€<a href="https://weexapp.com/zh/" target="_blank" rel="noreferrer">Weex</a>ï¼›</li>
<li>Webå¼€å‘ï¼š<a href="https://cn.vuejs.org/" target="_blank" rel="noreferrer">Vue</a>ã€<a href="https://zh-hans.react.dev/" target="_blank" rel="noreferrer">React</a>ã€<a href="https://www.svelte.cn/" target="_blank" rel="noreferrer">Svelte</a>ç­‰å‰ç«¯æ¡†æ¶</li>
<li>æ„å»ºå·¥å…·ï¼š<a href="https://webpack.docschina.org/" target="_blank" rel="noreferrer">webpack</a>ã€<a href="https://cn.vitejs.dev/" target="_blank" rel="noreferrer">Vite</a>ã€<a href="https://rollupjs.org/" target="_blank" rel="noreferrer">Rollup</a>ï¼›</li>
<li>CLIå·¥å…·ï¼šå‰ç«¯å¼€å‘è€…å¸¸ç”¨çš„å„ç§é¡¹ç›®è„šæ‰‹æ¶å’Œå·¥å…·ï¼Œå¦‚ï¼š<a href="https://www.npmjs.com/package/nodemon" target="_blank" rel="noreferrer">nodemon</a>ã€<a href="https://github.com/avwo/whistle" target="_blank" rel="noreferrer">whistle</a>ã€<a href="https://www.npmjs.com/package/http-server" target="_blank" rel="noreferrer">http-server</a>ï¼›</li>
</ul>
<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œç­‰ç€ä½ å»æ¢ç´¢â€¦â€¦</p>
<p><img src="./nodejs-getting-started/MTY4NTIwMTQwMTAzNg==685201401036.png" alt="" loading="lazy"></p>
<p>æœ¬æ•™ç¨‹ä¸»è¦åŒ…å«7ä¸ªç« èŠ‚ï¼Œæ¶µç›–äº†<code>è½¯ä»¶çš„å®‰è£…</code>ã€<code>ç¯å¢ƒé…ç½®</code>ã€<code>åŸºç¡€çŸ¥è¯†ä»‹ç»</code>ã€<code>è¿›é˜¶çŸ¥è¯†ä»‹ç»</code>ã€<code>å¤šåœºæ™¯çš„å¼€å‘å®è·µ</code> áƒ¦( Â´ï½¥á´—ï½¥` )ã€‚</p>
<h2 id="é€‚åˆäººç¾¤" tabindex="-1">é€‚åˆäººç¾¤ <a class="header-anchor" href="#é€‚åˆäººç¾¤" aria-label="Permalink to â€œé€‚åˆäººç¾¤â€">&#8203;</a></h2>
<ul>
<li>æƒ³é€šè¿‡ <code>JavaScript</code> å†™ä¸€äº›è„šæœ¬å¤„ç†æ—¥å¸¸å·¥ä½œï¼›</li>
<li>å¯¹Webå‰ç«¯å·²ç»æœ‰ä¸€äº›äº†è§£ï¼Œæƒ³è‡ªå·±åšä¸€ä¸ªåç«¯æœåŠ¡ï¼›</li>
<li>å…¶å®ƒåç«¯æŠ€æœ¯æ ˆçš„åŒå­¦ï¼Œæƒ³äº†è§£ä¸€ä¸‹ <code>JavaScript</code> å¦‚ä½•åšåç«¯æœåŠ¡ã€‚</li>
</ul>
<hr>
<p>å½“ä¸‹ï¼Œ<code>JavaScript</code> å·²ç»æˆä¸ºäº†å‰ç«¯å¼€å‘çš„æ ‡é…ï¼Œå¹¶ä¸”éšç€ <code>Node.js</code> çš„å‡ºç°ï¼Œ<code>JavaScript</code> ä¹Ÿé€æ¸æˆä¸ºäº†å…¨æ ˆå¼€å‘çš„æ ‡é…ï¼Œå¸Œæœ›æœ¬æ•™ç¨‹èƒ½å¤Ÿå¸®åŠ©è¯»è€…æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡å…¨æ ˆå¼€å‘æ‰€éœ€çš„ <code>Node.js</code> ç›¸å…³çš„åŸºç¡€æŠ€æœ¯ï¼Œä»è€Œæ›´å¥½åœ°å®Œæˆå®é™…å¼€å‘å·¥ä½œã€‚</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/nodejs-getting-started/MTY4NTIwMTQwMTAzNg==685201401036.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Cloud Native]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/devops/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/devops/</guid>
            <pubDate>Wed, 29 Oct 2025 09:37:04 GMT</pubDate>
            <description><![CDATA[cloud native ç›¸å…³
 ç›®å½•
* wslä¸­å®‰è£…docker 1panel k8s
* zshå’Œoh-my-zshç¾åŒ–]]></description>
            <content:encoded><![CDATA[<h1 id="cloud-native" tabindex="-1">Cloud Native <a class="header-anchor" href="#cloud-native" aria-label="Permalink to â€œCloud Nativeâ€">&#8203;</a></h1>
<p>cloud native ç›¸å…³</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./install_docker_k8s_1panel_in_WSL.html">wslä¸­å®‰è£…docker 1panel k8s</a></li>
<li><a href="./zshå’Œoh-my-zshç¾åŒ–.html">zshå’Œoh-my-zshç¾åŒ–</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[zshå’Œoh-my-zshç¾åŒ–]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/devops/zshå’Œoh-my-zshç¾åŒ–.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/devops/zshå’Œoh-my-zshç¾åŒ–.html</guid>
            <pubDate>Tue, 28 Oct 2025 20:00:00 GMT</pubDate>
            <description><![CDATA[æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„ shell
```bash
echo $SHELL
```
 æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº› shell
```bash
cat /etc/shells
```
 å®‰è£… zsh
```bash
s]]></description>
            <content:encoded><![CDATA[<h2 id="å‡†å¤‡" tabindex="-1">å‡†å¤‡ <a class="header-anchor" href="#å‡†å¤‡" aria-label="Permalink to â€œå‡†å¤‡â€">&#8203;</a></h2>
<blockquote>
<p>å®‰è£…wslä»¥åŠUbuntuè¯·å‚è€ƒ <a href="./install_docker_k8s_1panel_in_WSL.html">wslä¸­å®‰è£…docker 1panel k8s</a></p>
</blockquote>
<h3 id="æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„-shell" tabindex="-1">æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„ shell <a class="header-anchor" href="#æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„-shell" aria-label="Permalink to â€œæŸ¥çœ‹å½“å‰ç¯å¢ƒçš„ shellâ€">&#8203;</a></h3>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::x48451vxx2qisd55z8gzq::--><code>echo $SHELL</code></pre>
</div><h3 id="æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº›-shell" tabindex="-1">æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº› shell <a class="header-anchor" href="#æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº›-shell" aria-label="Permalink to â€œæŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº› shellâ€">&#8203;</a></h3>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::33pb68momdsf2tu9ghlw7::--><code>cat /etc/shells</code></pre>
</div><h2 id="å®‰è£…-zsh" tabindex="-1">å®‰è£… zsh <a class="header-anchor" href="#å®‰è£…-zsh" aria-label="Permalink to â€œå®‰è£… zshâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::jfn8314c58i5niz9ba1q1g::--><code>sudo apt install zsh</code></pre>
</div><h2 id="å°†-zsh-è®¾ç½®ä¸ºé»˜è®¤çš„-shell" tabindex="-1">å°† zsh è®¾ç½®ä¸ºé»˜è®¤çš„ shell <a class="header-anchor" href="#å°†-zsh-è®¾ç½®ä¸ºé»˜è®¤çš„-shell" aria-label="Permalink to â€œå°† zsh è®¾ç½®ä¸ºé»˜è®¤çš„ shellâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::fpzih95slxi4bsklio3ppw::--><code>chsh -s /bin/zsh</code></pre>
</div><h2 id="å®‰è£…-oh-my-zsh" tabindex="-1">å®‰è£… Oh My Zsh <a class="header-anchor" href="#å®‰è£…-oh-my-zsh" aria-label="Permalink to â€œå®‰è£… Oh My Zshâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::l8xrplzrl4p7g537epsho::--><code>git clone https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh</code></pre>
</div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::vhwgnigtr7vhsm1fvdrfk::--><code>cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</code></pre>
</div><h2 id="å®‰è£…-powerlevel10k" tabindex="-1">å®‰è£… Powerlevel10k <a class="header-anchor" href="#å®‰è£…-powerlevel10k" aria-label="Permalink to â€œå®‰è£… Powerlevel10kâ€">&#8203;</a></h2>
<h3 id="å…‹éš†ä»“åº“" tabindex="-1">å…‹éš†ä»“åº“ <a class="header-anchor" href="#å…‹éš†ä»“åº“" aria-label="Permalink to â€œå…‹éš†ä»“åº“â€">&#8203;</a></h3>
<blockquote>
<p>GitHub</p>
</blockquote>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::x68n8lsyyq4xnauz24h::--><code>git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k</code></pre>
</div><blockquote>
<p>Gitee</p>
</blockquote>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::d00yc71y41c8x0xmg9idxk::--><code>git clone --depth=1 https://gitee.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k</code></pre>
</div><h3 id="è®¾ç½®ä¸»é¢˜" tabindex="-1">è®¾ç½®ä¸»é¢˜ <a class="header-anchor" href="#è®¾ç½®ä¸»é¢˜" aria-label="Permalink to â€œè®¾ç½®ä¸»é¢˜â€">&#8203;</a></h3>
<p>åœ¨ <code>~/.zshrc</code> ä¸­æ·»åŠ </p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::gp0njipu7a42pl3bc19gtv::--><code>ZSH_THEME=&quot;powerlevel10k/powerlevel10k&quot;</code></pre>
</div><p>ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::fpyha8rby2mmbt84q91of::--><code>source ~/.zshrc</code></pre>
</div><h4 id="è®¾ç½®å­—ä½“ä¸º-meslolgs-nf" tabindex="-1">è®¾ç½®å­—ä½“ä¸º MesloLGS NF <a class="header-anchor" href="#è®¾ç½®å­—ä½“ä¸º-meslolgs-nf" aria-label="Permalink to â€œè®¾ç½®å­—ä½“ä¸º MesloLGS NFâ€">&#8203;</a></h4>
<blockquote>
<p><a href="https://github.com/romkatv/powerlevel10k#manual-font-installation" target="_blank" rel="noreferrer">https://github.com/romkatv/powerlevel10k#manual-font-installation</a></p>
</blockquote>
<h4 id="è‡ªå®šä¹‰é…ç½®" tabindex="-1">è‡ªå®šä¹‰é…ç½® <a class="header-anchor" href="#è‡ªå®šä¹‰é…ç½®" aria-label="Permalink to â€œè‡ªå®šä¹‰é…ç½®â€">&#8203;</a></h4>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::z9n09yn0xiq3a4xz3c4qun::--><code>p10k configure</code></pre>
</div><h2 id="å®‰è£…ä¸€äº›-zsh-å¸¸ç”¨æ’ä»¶" tabindex="-1">å®‰è£…ä¸€äº› zsh å¸¸ç”¨æ’ä»¶ <a class="header-anchor" href="#å®‰è£…ä¸€äº›-zsh-å¸¸ç”¨æ’ä»¶" aria-label="Permalink to â€œå®‰è£…ä¸€äº› zsh å¸¸ç”¨æ’ä»¶â€">&#8203;</a></h2>
<blockquote>
<p>å®‰è£…æ’ä»¶åè¦ä½¿ç”¨ <code>source .zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆ</p>
</blockquote>
<ul>
<li>
<p>git</p>
<blockquote>
<p>æ˜¾ç¤º git çš„ä¸€äº›åŠŸèƒ½ï¼Œé»˜è®¤å·²ç»å®‰è£…</p>
</blockquote>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::voadlnp334rffz9ch5bjfj::--><code>plugins=(git)</code></pre>
</div></li>
<li>
<p>z</p>
<blockquote>
<p>è·³è½¬ç›®å½•ï¼Œç›´æ¥åœ¨ plugins é‡Œé¢æ·»åŠ  z</p>
</blockquote>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::5786lgv8y13f9j1jw3tep::--><code>plugins=(
        git
        z)</code></pre>
</div></li>
<li>
<p>sudo</p>
<blockquote>
<p>å¶å°”è¾“å…¥æŸä¸ªå‘½ä»¤ï¼Œæç¤ºæ²¡æœ‰æƒé™ï¼Œéœ€è¦åŠ sudoï¼Œè¿™ä¸ªæ—¶å€™æŒ‰ä¸¤ä¸‹ESCï¼Œå°±ä¼šåœ¨å‘½ä»¤è¡Œå¤´éƒ¨åŠ ä¸Š sudo é»˜è®¤å·²ç»å®‰è£…</p>
</blockquote>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::xa5mxwwkkbpythfnmjfoog::--><code>plugins=(
        git
        sudo
        z)</code></pre>
</div></li>
<li>
<p>zsh-autosuggestions</p>
<blockquote>
<p>ä¼šè®°å½•ä½ ä¹‹å‰è¾“å…¥è¿‡çš„æ‰€æœ‰å‘½ä»¤ï¼Œå¹¶ä¸”è‡ªåŠ¨åŒ¹é…ä½ å¯èƒ½æƒ³è¦è¾“å…¥å‘½ä»¤ï¼Œç„¶åæŒ‰ Tab è¡¥å…¨</p>
</blockquote>
<p><a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh" target="_blank" rel="noreferrer">https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh</a></p>
<p>å…‹éš†ä»“åº“</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::npm73gdm2fmp9qc5yfa7rb::--><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</code></pre>
</div><p>æ·»åŠ é…ç½®</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::fmlana536m7b3k3k5z2h25::--><code>plugins=(
        git
        sudo
        z
        zsh-autosuggestions)</code></pre>
</div></li>
<li>
<p>zsh-syntax-highlighting</p>
<blockquote>
<p>ç›´æ¥åœ¨è¾“å…¥è¿‡ç¨‹ä¸­å°±ä¼šæç¤ºä½ ï¼Œå½“å‰å‘½ä»¤æ˜¯å¦æ­£ç¡®ï¼Œé”™è¯¯çº¢è‰²ï¼Œæ­£ç¡®ç»¿è‰²</p>
</blockquote>
<p><a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh" target="_blank" rel="noreferrer">https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh</a></p>
<p>å…‹éš†ä»“åº“</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::f78kdgrkpbq5zs9bhwjdk::--><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></pre>
</div><p>æ·»åŠ é…ç½®</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::3m6mgew6ol280pj4vals1v::--><code>plugins=(
        git
        sudo
        z
        zsh-autosuggestions
        zsh-syntax-highlighting)</code></pre>
</div></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[zshå’Œoh-my-zshç¾åŒ–]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/wsl/zshå’Œoh-my-zshç¾åŒ–.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/wsl/zshå’Œoh-my-zshç¾åŒ–.html</guid>
            <pubDate>Tue, 28 Oct 2025 20:00:00 GMT</pubDate>
            <description><![CDATA[- window 11
- å¼€å¯`é€‚ç”¨ä¸ Linx çš„ Windows å­ç³»ç»Ÿ`
- åˆ°å¾®è½¯å•†åº—ä¸‹è½½ `Ubuntu` ç³»ç»Ÿ
- è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ `WSL1`, `wsl --set-default-]]></description>
            <content:encoded><![CDATA[<h2 id="å‡†å¤‡" tabindex="-1">å‡†å¤‡ <a class="header-anchor" href="#å‡†å¤‡" aria-label="Permalink to â€œå‡†å¤‡â€">&#8203;</a></h2>
<ul>
<li>window 11</li>
<li>å¼€å¯<code>é€‚ç”¨ä¸ Linx çš„ Windows å­ç³»ç»Ÿ</code></li>
<li>åˆ°å¾®è½¯å•†åº—ä¸‹è½½ <code>Ubuntu</code> ç³»ç»Ÿ</li>
<li>è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>WSL1</code>, <code>wsl --set-default-version &lt;Version&gt;</code></li>
</ul>
<h3 id="æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„-shell" tabindex="-1">æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„ shell <a class="header-anchor" href="#æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„-shell" aria-label="Permalink to â€œæŸ¥çœ‹å½“å‰ç¯å¢ƒçš„ shellâ€">&#8203;</a></h3>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::79y8c3f0p10tkms75z37lo::--><code>echo $SHELL</code></pre>
</div><h3 id="æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº›-shell" tabindex="-1">æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº› shell <a class="header-anchor" href="#æŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº›-shell" aria-label="Permalink to â€œæŸ¥çœ‹å½“å‰ç³»ç»Ÿæœ‰é‚£äº› shellâ€">&#8203;</a></h3>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::antwcr138w6sy3frhmie9::--><code>cat /etc/shells</code></pre>
</div><h2 id="å®‰è£…-zsh" tabindex="-1">å®‰è£… zsh <a class="header-anchor" href="#å®‰è£…-zsh" aria-label="Permalink to â€œå®‰è£… zshâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::faio3b9n53jw710fsiy35d::--><code>sudo apt install zsh</code></pre>
</div><h2 id="å°†-zsh-è®¾ç½®ä¸ºé»˜è®¤çš„-shell" tabindex="-1">å°† zsh è®¾ç½®ä¸ºé»˜è®¤çš„ shell <a class="header-anchor" href="#å°†-zsh-è®¾ç½®ä¸ºé»˜è®¤çš„-shell" aria-label="Permalink to â€œå°† zsh è®¾ç½®ä¸ºé»˜è®¤çš„ shellâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::68udzm4968o9a1z4vlydg::--><code>chsh -s /bin/zsh</code></pre>
</div><h2 id="å®‰è£…-oh-my-zsh" tabindex="-1">å®‰è£… Oh My Zsh <a class="header-anchor" href="#å®‰è£…-oh-my-zsh" aria-label="Permalink to â€œå®‰è£… Oh My Zshâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::nt6mloyd99bottva0gz5q9::--><code>git clone https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh</code></pre>
</div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::mpii4lghgxawbrf3dzqth::--><code>cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</code></pre>
</div><h2 id="å®‰è£…-powerlevel10k" tabindex="-1">å®‰è£… Powerlevel10k <a class="header-anchor" href="#å®‰è£…-powerlevel10k" aria-label="Permalink to â€œå®‰è£… Powerlevel10kâ€">&#8203;</a></h2>
<h3 id="å…‹éš†ä»“åº“" tabindex="-1">å…‹éš†ä»“åº“ <a class="header-anchor" href="#å…‹éš†ä»“åº“" aria-label="Permalink to â€œå…‹éš†ä»“åº“â€">&#8203;</a></h3>
<blockquote>
<p>GitHub</p>
</blockquote>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::wpicxmo2efrn1l8pr7oeg::--><code>git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k</code></pre>
</div><blockquote>
<p>Gitee</p>
</blockquote>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::wy7qh8lwpktk1wcqffub::--><code>git clone --depth=1 https://gitee.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k</code></pre>
</div><h3 id="è®¾ç½®ä¸»é¢˜" tabindex="-1">è®¾ç½®ä¸»é¢˜ <a class="header-anchor" href="#è®¾ç½®ä¸»é¢˜" aria-label="Permalink to â€œè®¾ç½®ä¸»é¢˜â€">&#8203;</a></h3>
<p>åœ¨ <code>~/.zshrc</code> ä¸­æ·»åŠ </p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::ny6s76kopwqvvupkj8shr::--><code>ZSH_THEME=&quot;powerlevel10k/powerlevel10k&quot;</code></pre>
</div><p>ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::g90o6nkxugygins1u3xu::--><code>source ~/.zshrc</code></pre>
</div><h4 id="è®¾ç½®å­—ä½“ä¸º-meslolgs-nf" tabindex="-1">è®¾ç½®å­—ä½“ä¸º MesloLGS NF <a class="header-anchor" href="#è®¾ç½®å­—ä½“ä¸º-meslolgs-nf" aria-label="Permalink to â€œè®¾ç½®å­—ä½“ä¸º MesloLGS NFâ€">&#8203;</a></h4>
<blockquote>
<p><a href="https://github.com/romkatv/powerlevel10k#manual-font-installation" target="_blank" rel="noreferrer">https://github.com/romkatv/powerlevel10k#manual-font-installation</a></p>
</blockquote>
<h4 id="è‡ªå®šä¹‰é…ç½®" tabindex="-1">è‡ªå®šä¹‰é…ç½® <a class="header-anchor" href="#è‡ªå®šä¹‰é…ç½®" aria-label="Permalink to â€œè‡ªå®šä¹‰é…ç½®â€">&#8203;</a></h4>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::cbfrck72pcnceipaarvxl::--><code>p10k configure</code></pre>
</div><h2 id="å®‰è£…ä¸€äº›-zsh-å¸¸ç”¨æ’ä»¶" tabindex="-1">å®‰è£…ä¸€äº› zsh å¸¸ç”¨æ’ä»¶ <a class="header-anchor" href="#å®‰è£…ä¸€äº›-zsh-å¸¸ç”¨æ’ä»¶" aria-label="Permalink to â€œå®‰è£…ä¸€äº› zsh å¸¸ç”¨æ’ä»¶â€">&#8203;</a></h2>
<blockquote>
<p>å®‰è£…æ’ä»¶åè¦ä½¿ç”¨ <code>source .zshrc</code> ä½¿é…ç½®ç”Ÿæ•ˆ</p>
</blockquote>
<ul>
<li>
<p>git</p>
<blockquote>
<p>æ˜¾ç¤º git çš„ä¸€äº›åŠŸèƒ½ï¼Œé»˜è®¤å·²ç»å®‰è£…</p>
</blockquote>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::nk9a1xrivma5v4tsn3pprc::--><code>plugins=(git)</code></pre>
</div></li>
<li>
<p>z</p>
<blockquote>
<p>è·³è½¬ç›®å½•ï¼Œç›´æ¥åœ¨ plugins é‡Œé¢æ·»åŠ  z</p>
</blockquote>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::p3at9xgcm9h1b9dsok2wd9::--><code>plugins=(
        git
        z)</code></pre>
</div></li>
<li>
<p>sudo</p>
<blockquote>
<p>å¶å°”è¾“å…¥æŸä¸ªå‘½ä»¤ï¼Œæç¤ºæ²¡æœ‰æƒé™ï¼Œéœ€è¦åŠ sudoï¼Œè¿™ä¸ªæ—¶å€™æŒ‰ä¸¤ä¸‹ESCï¼Œå°±ä¼šåœ¨å‘½ä»¤è¡Œå¤´éƒ¨åŠ ä¸Š sudo é»˜è®¤å·²ç»å®‰è£…</p>
</blockquote>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::vhfmg924i1n1czdknicnxqh::--><code>plugins=(
        git
        sudo
        z)</code></pre>
</div></li>
<li>
<p>zsh-autosuggestions</p>
<blockquote>
<p>ä¼šè®°å½•ä½ ä¹‹å‰è¾“å…¥è¿‡çš„æ‰€æœ‰å‘½ä»¤ï¼Œå¹¶ä¸”è‡ªåŠ¨åŒ¹é…ä½ å¯èƒ½æƒ³è¦è¾“å…¥å‘½ä»¤ï¼Œç„¶åæŒ‰ Tab è¡¥å…¨</p>
</blockquote>
<p><a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh" target="_blank" rel="noreferrer">https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md#oh-my-zsh</a></p>
<p>å…‹éš†ä»“åº“</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::cqbngd9ng64viu35tdue7i::--><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</code></pre>
</div><p>æ·»åŠ é…ç½®</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::c0e0mfm3to0j6ddgwm6u19::--><code>plugins=(
        git
        sudo
        z
        zsh-autosuggestions)</code></pre>
</div></li>
<li>
<p>zsh-syntax-highlighting</p>
<blockquote>
<p>ç›´æ¥åœ¨è¾“å…¥è¿‡ç¨‹ä¸­å°±ä¼šæç¤ºä½ ï¼Œå½“å‰å‘½ä»¤æ˜¯å¦æ­£ç¡®ï¼Œé”™è¯¯çº¢è‰²ï¼Œæ­£ç¡®ç»¿è‰²</p>
</blockquote>
<p><a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh" target="_blank" rel="noreferrer">https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh</a></p>
<p>å…‹éš†ä»“åº“</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::vwcd3uxwb18f847cu4f9n::--><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></pre>
</div><p>æ·»åŠ é…ç½®</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::unio1mcl2ichjnnrkegrp::--><code>plugins=(
        git
        sudo
        z
        zsh-autosuggestions
        zsh-syntax-highlighting)</code></pre>
</div></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[wslä¸­å®‰è£…docker 1panel k8s]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/devops/install_docker_k8s_1panel_in_WSL.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/devops/install_docker_k8s_1panel_in_WSL.html</guid>
            <pubDate>Mon, 27 Oct 2025 18:00:00 GMT</pubDate>
            <description><![CDATA[è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®
```bash
 è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®
notepad $env:UserProfile\.wslconfig
 å¦‚æœwslæ­£åœ¨è¿è¡Œï¼Œéœ€è¦é‡å¯wsl
wsl --shutdown]]></description>
            <content:encoded><![CDATA[<h1 id="wslä¸­å®‰è£…docker-1panel-k8s" tabindex="-1">wslä¸­å®‰è£…docker 1panel k8s <a class="header-anchor" href="#wslä¸­å®‰è£…docker-1panel-k8s" aria-label="Permalink to â€œwslä¸­å®‰è£…docker 1panel k8sâ€">&#8203;</a></h1>
<blockquote>
<p>ä»…å†2025å¹´å½“å‰æ—¶é—´ç‚¹æµ‹è¯•æœ‰æ•ˆï¼Œåç»­ç›¸å…³é…ç½®å¯èƒ½å˜åŒ–ï¼Œè‡ªè¡Œä¿®æ”¹</p>
</blockquote>
<h2 id="è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®" tabindex="-1">è®¾ç½®wslçš„ç³»ç»Ÿé…ç½® <a class="header-anchor" href="#è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®" aria-label="Permalink to â€œè®¾ç½®wslçš„ç³»ç»Ÿé…ç½®â€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::3b0h2z5q3hplunt1u06b4r::--><code># è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®
#
notepad $env:UserProfile\.wslconfig
# å¦‚æœwslæ­£åœ¨è¿è¡Œï¼Œéœ€è¦é‡å¯wsl
wsl --shutdown
</code></pre>
</div><p>ç²˜è´´å¦‚ä¸‹å†…å®¹åˆ°notepad</p>
<div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre><!--::markdown-it-async::8an6ofnt0we8ohr3oac8q::--><code>[wsl2]
firewall=false
dhcp=false
ipv6=true
networkingMode=Mirrored
swap=0 # å…³é—­swap

[experimental]
hostAddressLoopback=true</code></pre>
</div><h2 id="å®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆ" tabindex="-1">å®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆ <a class="header-anchor" href="#å®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆ" aria-label="Permalink to â€œå®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::c92s74o6qa8m0m36englfh::--><code>#Win10æˆ–è€…Win11å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚ å¯ç”¨Windows å­ç³»ç»ŸåŠŸèƒ½ï¼Œä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ä¸€ä¸ª PowerShell çª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
#è¿˜éœ€è¦å†å¯ç”¨è™šæ‹Ÿæœºå¹³å°åŠŸèƒ½ï¼Œåœ¨ PowerShell ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œé‡å¯ç³»ç»Ÿï¼š
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

#æˆ–è€…å®‰è£…wslç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨wslå‘½ä»¤å®‰è£…ï¼ˆå¦‚æœéœ€è¦ï¼‰
# wsl --install --no-distribution

#å‡çº§wsl 2ï¼ˆå¦‚æœéœ€è¦ï¼‰
# wsl.exe --update --pre-release

#é‡å¯åï¼Œåœ¨ PowerShell ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå°† WSL é»˜è®¤ç‰ˆæœ¬æ”¹ä¸º WSL2:
wsl --set-default-version 2
#æ¥ä¸‹æ¥å®‰è£…Ubuntuï¼Œå»ºè®®å®‰è£…24.04ç‰ˆæœ¬
wsl --install Ubuntu-24.04

#è‹¥è¦è®¾ç½®ä¸å‘½ä»¤ä¸€èµ·ä½¿ç”¨ wsl çš„é»˜è®¤ Linux åˆ†å‘ç‰ˆï¼Œè¯·è¾“å…¥ï¼š
wsl.exe --set-default Ubuntu-24.04</code></pre>
</div><p>è¿è¡Œè¿›å…¥ubuntu</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::0ww1u5dq2rjn7woh1v4egrk::--><code># è¿è¡Œè¿›å…¥ubuntu
wsl -d Ubuntu-24.04

# æ›´æ”¹ubuntuæ›´æ–°æº
cp /etc/apt/sources.list /etc/apt/sources.list.bak

echo &quot;deb http://mirrors.aliyun.com/ubuntu/ focal main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal universe
deb http://mirrors.aliyun.com/ubuntu/ focal-updates universe
deb http://mirrors.aliyun.com/ubuntu/ focal multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal-security universe
deb http://mirrors.aliyun.com/ubuntu/ focal-security multiverse&quot;&gt;/etc/apt/sources.list
# æ›´æ–°ç³»ç»Ÿ
apt update &amp;&amp; apt upgrade -y
# ç¡®è®¤systemdæ˜¯å¦å¯ç”¨,å½“å‰wsl å·²ç»æ”¯æŒsystemdï¼Œä¸éœ€è¦å®‰è£…
# systemctl status systemd-resolved</code></pre>
</div><h2 id="å®‰è£…zshå’Œoh-my-zshç¾åŒ–" tabindex="-1">å®‰è£…zshå’Œoh-my-zshç¾åŒ– <a class="header-anchor" href="#å®‰è£…zshå’Œoh-my-zshç¾åŒ–" aria-label="Permalink to â€œå®‰è£…zshå’Œoh-my-zshç¾åŒ–â€">&#8203;</a></h2>
<p><a href="./zshå’Œoh-my-zshç¾åŒ–.html">å®‰è£…zshå’Œoh-my-zshç¾åŒ–</a></p>
<h2 id="å®‰è£…docker-docker-compose" tabindex="-1">å®‰è£…docker/docker-compose <a class="header-anchor" href="#å®‰è£…docker-docker-compose" aria-label="Permalink to â€œå®‰è£…docker/docker-composeâ€">&#8203;</a></h2>
<p>å› ä¸ºwsl2å·²ç»å®Œæ•´ä½¿ç”¨äº†linuxå†…æ ¸äº†ï¼Œæ­¤ç§æ–¹å¼å’Œå…ˆå‰åœ¨linuxè™šæ‹Ÿæœºå®‰è£…dockerç±»ä¼¼ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::ny2pfobu5hfzy5tljyv6hb::--><code>curl -fsSL https://get.docker.com -o get-docker.sh
# è‹¥æ— æ³•ä¸‹è½½ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ
#curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun

sudo sh get-docker.sh
sudo service docker start

#å¼€æœºå¯åŠ¨
systemctl enable docker
# #ç¦æ­¢å¼€æœºå¯åŠ¨
# systemctl disable docker

# # æ£€æŸ¥dockerdè¿›ç¨‹å¯åŠ¨
# service docker status
# ps aux|grep docker
# # æ£€æŸ¥æ‹‰å–é•œåƒç­‰æ­£å¸¸
# docker pull busybox
# docker images</code></pre>
</div><blockquote>
<p>Docker ä¹Ÿä¸“é—¨å¼€å‘äº†å¯ä»¥ä½¿ç”¨ WSL2 ä¸­çš„ Docker å®ˆæŠ¤è¿›ç¨‹çš„æ¡Œé¢ç®¡ç†ç¨‹åº, æ‰“å¼€ Docker Desktop WSL2 backend é¡µé¢ï¼Œä¸‹è½½æœ€æ–°çš„ Docker Desktop for Windows ç¨‹åº ï¼Œå»ºè®®ä¸‹è½½stableç‰ˆæœ¬ã€‚ä¸‹è½½åœ°å€ï¼š<a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noreferrer">https://www.docker.com/products/docker-desktop</a></p>
</blockquote>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::yngekhlwe3plrcifqi6l::--><code># å®‰è£…docker-compose
DOCKER_CONFIG=${DOCKER_CONFIG:-$HOME/.docker}
mkdir -p $DOCKER_CONFIG/cli-plugins
curl -SL https://github.com/docker/compose/releases/download/v2.20.2/docker-compose-linux-x86_64 -o $DOCKER_CONFIG/cli-plugins/docker-compose
#Apply executable permissions to the binary:
chmod +x $DOCKER_CONFIG/cli-plugins/docker-compose
#Test the installation.
docker compose version
</code></pre>
</div><h2 id="å¸è½½-docker" tabindex="-1">å¸è½½ docker <a class="header-anchor" href="#å¸è½½-docker" aria-label="Permalink to â€œå¸è½½ dockerâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::95t5ajz0evr01cappbsyo::--><code># å¸è½½docker
docker container stop $(docker container ls -aq)
docker system prune -a --volumes
# #æˆ–è€…å¯ä»¥ä½¿ç”¨aptåƒå¸è½½å…¶ä»–è½¯ä»¶åŒ…ä¸€æ ·æ¥å¸è½½ Dockerï¼š
# sudo apt purge docker-ce
# sudo apt autoremove</code></pre>
</div><h2 id="ä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„-éå¿…è¦ä¸è®¾ç½®" tabindex="-1">ä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„(éå¿…è¦ä¸è®¾ç½®) <a class="header-anchor" href="#ä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„-éå¿…è¦ä¸è®¾ç½®" aria-label="Permalink to â€œä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„(éå¿…è¦ä¸è®¾ç½®)â€">&#8203;</a></h2>
<p>wsl ubuntu é»˜è®¤å®‰è£…åœ¨ c ç›˜ï¼Œå¸Œæœ›å°† docker çš„æ•°æ®å­˜å‚¨è·¯å¾„ï¼ˆé»˜è®¤ä¸º /var/lib/docker ï¼‰ä¿®æ”¹åˆ° d ç›˜ã€‚
æ·»åŠ  /etc/docker/daemon.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::9qsxxlwv5fh63h1qvrs46b::--><code>{
  &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;],
  &quot;data-root&quot;: &quot;/mnt/d/data/docker&quot;,
  &quot;log-driver&quot;: &quot;json-file&quot;,
  &quot;log-opts&quot;: { &quot;max-size&quot;: &quot;100m&quot; }
}</code></pre>
</div><blockquote>
<p>docker å¯åŠ¨å¤±è´¥ã€‚wls ubuntu dockerå¯èƒ½ä¸æ”¯æŒå°†æ–‡ä»¶å­˜å‚¨åˆ° windows ç£ç›˜ã€‚
å°† /var/lib/docker æ‹·è´åˆ° d ç›˜ï¼ŒæŠ¥é”™ï¼Œåº”è¯¥æ˜¯ windows ç£ç›˜ä¸æ”¯æŒè¿™äº›ç‰¹æ®Šæ–‡ä»¶(æƒé™é—®é¢˜)ã€‚</p>
<div class="language-log"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre><!--::markdown-it-async::vnrmxxq20lm9i01f4yw1aq::--><code>hekai@thinkpad-l14:~$ sudo mv /var/lib/docker /mnt/d/data/docker
mv: cannot create special file &#039;/mnt/d/data/docker/volumes/backingFsBlockDev&#039;: Operation not supported
mv: cannot create special file &#039;/mnt/d/data/docker/volumes/docker-centos7-slurm-cluster_mysql/_data/mysql.sock&#039;: Operation not supported
mv: cannot create special file &#039;/mnt/d/data/docker/overlay2/3a272b47e6ae28aa475f3eea705bdb2bdeb83dc97c6feb91cc20e6c49bbc004b-init/work/work/#23d&#039;: Operation not supported
mv: cannot create special file &#039;/mnt/d/data/docker/overlay2/2a012b89cc6a205c6c8a148abae32a5e735695b52a54e2e3e792c2a5e88a00af-init/work/work/#23f&#039;: Operation not supported</code></pre>
</div></blockquote>
<p>æ¥ç€ç¼–è¾‘é•œåƒæ–‡ä»¶(ä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»º)ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::b0tvn4v8h5l6url5ilzlmk::--><code>cat &gt;&gt; /etc/docker/daemon.json&lt;&lt;EOF
{
    &quot;registry-mirrors&quot;: [
        &quot;https://a4zqywx0.mirror.aliyuncs.com&quot;,
        &quot;https://docker.1panel.live&quot;,
        &quot;https://registry-vpc.cn-qingdao.aliyuncs.com&quot;,
        &quot;https://f1361db2.m.daocloud.io&quot;,
        &quot;https://docker.mirrors.ustc.edu.cn&quot;,
        &quot;https://mirror.ccs.tencentyun.com&quot;,
        &quot;https://hub-mirror.c.163.com&quot;,
        &quot;https://docker.m.daocloud.io&quot;,
        &quot;https://docker.imgdb.de&quot;,
        &quot;https://docker-0.unsee.tech&quot;,
        &quot;https://docker.hlmirror.com&quot;,
        &quot;https://cjie.eu.org&quot;,
        &quot;https://f1361db2.m.daocloud.io&quot;,
        &quot;https://docker.mirrors.ustc.edu.cn&quot;,
        &quot;https://mirror.ccs.tencentyun.com&quot;,
        &quot;https://hub-mirror.c.163.com&quot;,
        &quot;https://a4zqywx0.mirror.aliyuncs.com&quot;,
        &quot;https://docker.m.daocloud.io&quot;,
        &quot;https://docker.imgdb.de&quot;,
        &quot;https://docker-0.unsee.tech&quot;,
        &quot;https://docker.hlmirror.com&quot;,
        &quot;https://cjie.eu.org&quot;,
        &quot;https://registry.cn-hangzhou.aliyuncs.com&quot;,
        &quot;https://reg-mirror.qiniu.com&quot;,
        &quot;https://docker.mirrors.ustc.edu.cn&quot;,
        &quot;https://hub-mirror.c.163.com&quot;
    ]
}
EOF
#é‡å¯Dokcer
service docker restart</code></pre>
</div><h2 id="å®‰è£…1panel" tabindex="-1">å®‰è£…1panel <a class="header-anchor" href="#å®‰è£…1panel" aria-label="Permalink to â€œå®‰è£…1panelâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::2i754rhz4konbqxvridu::--><code># å®‰è£…1panel
bash -c &quot;$(curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)&quot;</code></pre>
</div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[wslä¸­å®‰è£…docker 1panel k8s]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/wsl/install docker k8s 1panel in WSL.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/cloud/wsl/install docker k8s 1panel in WSL.html</guid>
            <pubDate>Mon, 27 Oct 2025 18:00:00 GMT</pubDate>
            <description><![CDATA[è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®
```bash
 è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®
notepad $env:UserProfile\.wslconfig
 å¦‚æœwslæ­£åœ¨è¿è¡Œï¼Œéœ€è¦é‡å¯wsl
wsl --shutdown]]></description>
            <content:encoded><![CDATA[<h1 id="wslä¸­å®‰è£…docker-1panel-k8s" tabindex="-1">wslä¸­å®‰è£…docker 1panel k8s <a class="header-anchor" href="#wslä¸­å®‰è£…docker-1panel-k8s" aria-label="Permalink to â€œwslä¸­å®‰è£…docker 1panel k8sâ€">&#8203;</a></h1>
<blockquote>
<p>ä»…å†2025å¹´å½“å‰æ—¶é—´ç‚¹æµ‹è¯•æœ‰æ•ˆï¼Œåç»­ç›¸å…³é…ç½®å¯èƒ½å˜åŒ–ï¼Œè‡ªè¡Œä¿®æ”¹</p>
</blockquote>
<h2 id="è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®" tabindex="-1">è®¾ç½®wslçš„ç³»ç»Ÿé…ç½® <a class="header-anchor" href="#è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®" aria-label="Permalink to â€œè®¾ç½®wslçš„ç³»ç»Ÿé…ç½®â€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::ow2sgvora7lkm4qdbrrs1m::--><code># è®¾ç½®wslçš„ç³»ç»Ÿé…ç½®
#
notepad $env:UserProfile\.wslconfig
# å¦‚æœwslæ­£åœ¨è¿è¡Œï¼Œéœ€è¦é‡å¯wsl
wsl --shutdown
</code></pre>
</div><p>ç²˜è´´å¦‚ä¸‹å†…å®¹åˆ°notepad</p>
<div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre><!--::markdown-it-async::8racortdrvsr0f3wcdpk7q::--><code>[wsl2]
firewall=false
dhcp=false
ipv6=true
networkingMode=Mirrored
swap=0 # å…³é—­swap

[experimental]
hostAddressLoopback=true</code></pre>
</div><h2 id="å®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆ" tabindex="-1">å®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆ <a class="header-anchor" href="#å®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆ" aria-label="Permalink to â€œå®‰è£…wslå¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::hoakzpmztkoajfw17dzv4d::--><code>#Win10æˆ–è€…Win11å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚ å¯ç”¨Windows å­ç³»ç»ŸåŠŸèƒ½ï¼Œä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ä¸€ä¸ª PowerShell çª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
#è¿˜éœ€è¦å†å¯ç”¨è™šæ‹Ÿæœºå¹³å°åŠŸèƒ½ï¼Œåœ¨ PowerShell ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œé‡å¯ç³»ç»Ÿï¼š
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

#æˆ–è€…å®‰è£…wslç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨wslå‘½ä»¤å®‰è£…ï¼ˆå¦‚æœéœ€è¦ï¼‰
# wsl --install --no-distribution

#å‡çº§wsl 2ï¼ˆå¦‚æœéœ€è¦ï¼‰
# wsl.exe --update --pre-release

#é‡å¯åï¼Œåœ¨ PowerShell ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå°† WSL é»˜è®¤ç‰ˆæœ¬æ”¹ä¸º WSL2:
wsl --set-default-version 2
#æ¥ä¸‹æ¥å®‰è£…Ubuntuï¼Œå»ºè®®å®‰è£…24.04ç‰ˆæœ¬
wsl --install Ubuntu-24.04

#è‹¥è¦è®¾ç½®ä¸å‘½ä»¤ä¸€èµ·ä½¿ç”¨ wsl çš„é»˜è®¤ Linux åˆ†å‘ç‰ˆï¼Œè¯·è¾“å…¥ï¼š
wsl.exe --set-default Ubuntu-24.04</code></pre>
</div><p>è¿è¡Œè¿›å…¥ubuntu</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::111l6p2b54o5bz6wf1z7nk::--><code># è¿è¡Œè¿›å…¥ubuntu
wsl -d Ubuntu-24.04

# æ›´æ”¹ubuntuæ›´æ–°æº
cp /etc/apt/sources.list /etc/apt/sources.list.bak

echo &quot;deb http://mirrors.aliyun.com/ubuntu/ focal main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal universe
deb http://mirrors.aliyun.com/ubuntu/ focal-updates universe
deb http://mirrors.aliyun.com/ubuntu/ focal multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted
deb http://mirrors.aliyun.com/ubuntu/ focal-security universe
deb http://mirrors.aliyun.com/ubuntu/ focal-security multiverse&quot;&gt;/etc/apt/sources.list
# æ›´æ–°ç³»ç»Ÿ
apt update &amp;&amp; apt upgrade -y
# ç¡®è®¤systemdæ˜¯å¦å¯ç”¨,å½“å‰wsl å·²ç»æ”¯æŒsystemdï¼Œä¸éœ€è¦å®‰è£…
# systemctl status systemd-resolved</code></pre>
</div><h2 id="å®‰è£…zshå’Œoh-my-zshç¾åŒ–" tabindex="-1">å®‰è£…zshå’Œoh-my-zshç¾åŒ– <a class="header-anchor" href="#å®‰è£…zshå’Œoh-my-zshç¾åŒ–" aria-label="Permalink to â€œå®‰è£…zshå’Œoh-my-zshç¾åŒ–â€">&#8203;</a></h2>
<p><a href="./zshå’Œoh-my-zshç¾åŒ–.html">å®‰è£…zshå’Œoh-my-zshç¾åŒ–</a></p>
<h2 id="å®‰è£…docker-docker-compose" tabindex="-1">å®‰è£…docker/docker-compose <a class="header-anchor" href="#å®‰è£…docker-docker-compose" aria-label="Permalink to â€œå®‰è£…docker/docker-composeâ€">&#8203;</a></h2>
<p>å› ä¸ºwsl2å·²ç»å®Œæ•´ä½¿ç”¨äº†linuxå†…æ ¸äº†ï¼Œæ­¤ç§æ–¹å¼å’Œå…ˆå‰åœ¨linuxè™šæ‹Ÿæœºå®‰è£…dockerç±»ä¼¼ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::g3yk08etb5upinwtb6absi::--><code>curl -fsSL https://get.docker.com -o get-docker.sh
# è‹¥æ— æ³•ä¸‹è½½ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ
#curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun

sudo sh get-docker.sh
sudo service docker start

#å¼€æœºå¯åŠ¨
systemctl enable docker
# #ç¦æ­¢å¼€æœºå¯åŠ¨
# systemctl disable docker

# # æ£€æŸ¥dockerdè¿›ç¨‹å¯åŠ¨
# service docker status
# ps aux|grep docker
# # æ£€æŸ¥æ‹‰å–é•œåƒç­‰æ­£å¸¸
# docker pull busybox
# docker images</code></pre>
</div><blockquote>
<p>Docker ä¹Ÿä¸“é—¨å¼€å‘äº†å¯ä»¥ä½¿ç”¨ WSL2 ä¸­çš„ Docker å®ˆæŠ¤è¿›ç¨‹çš„æ¡Œé¢ç®¡ç†ç¨‹åº, æ‰“å¼€ Docker Desktop WSL2 backend é¡µé¢ï¼Œä¸‹è½½æœ€æ–°çš„ Docker Desktop for Windows ç¨‹åº ï¼Œå»ºè®®ä¸‹è½½stableç‰ˆæœ¬ã€‚ä¸‹è½½åœ°å€ï¼š<a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noreferrer">https://www.docker.com/products/docker-desktop</a></p>
</blockquote>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::6xuczul3nsak3pevbh2sq::--><code># å®‰è£…docker-compose
DOCKER_CONFIG=${DOCKER_CONFIG:-$HOME/.docker}
mkdir -p $DOCKER_CONFIG/cli-plugins
curl -SL https://github.com/docker/compose/releases/download/v2.20.2/docker-compose-linux-x86_64 -o $DOCKER_CONFIG/cli-plugins/docker-compose
#Apply executable permissions to the binary:
chmod +x $DOCKER_CONFIG/cli-plugins/docker-compose
#Test the installation.
docker compose version
</code></pre>
</div><h2 id="å¸è½½-docker" tabindex="-1">å¸è½½ docker <a class="header-anchor" href="#å¸è½½-docker" aria-label="Permalink to â€œå¸è½½ dockerâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::6m73oxsrfatieaiio3mtwf::--><code># å¸è½½docker
docker container stop $(docker container ls -aq)
docker system prune -a --volumes
# #æˆ–è€…å¯ä»¥ä½¿ç”¨aptåƒå¸è½½å…¶ä»–è½¯ä»¶åŒ…ä¸€æ ·æ¥å¸è½½ Dockerï¼š
# sudo apt purge docker-ce
# sudo apt autoremove</code></pre>
</div><h2 id="ä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„-éå¿…è¦ä¸è®¾ç½®" tabindex="-1">ä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„(éå¿…è¦ä¸è®¾ç½®) <a class="header-anchor" href="#ä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„-éå¿…è¦ä¸è®¾ç½®" aria-label="Permalink to â€œä¿®æ”¹dockeræ•°æ®å­˜å‚¨è·¯å¾„(éå¿…è¦ä¸è®¾ç½®)â€">&#8203;</a></h2>
<p>wsl ubuntu é»˜è®¤å®‰è£…åœ¨ c ç›˜ï¼Œå¸Œæœ›å°† docker çš„æ•°æ®å­˜å‚¨è·¯å¾„ï¼ˆé»˜è®¤ä¸º /var/lib/docker ï¼‰ä¿®æ”¹åˆ° d ç›˜ã€‚
æ·»åŠ  /etc/docker/daemon.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::mpphvklcgqtck36w1tse::--><code>{
  &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;],
  &quot;data-root&quot;: &quot;/mnt/d/data/docker&quot;,
  &quot;log-driver&quot;: &quot;json-file&quot;,
  &quot;log-opts&quot;: { &quot;max-size&quot;: &quot;100m&quot; }
}</code></pre>
</div><blockquote>
<p>docker å¯åŠ¨å¤±è´¥ã€‚wls ubuntu dockerå¯èƒ½ä¸æ”¯æŒå°†æ–‡ä»¶å­˜å‚¨åˆ° windows ç£ç›˜ã€‚
å°† /var/lib/docker æ‹·è´åˆ° d ç›˜ï¼ŒæŠ¥é”™ï¼Œåº”è¯¥æ˜¯ windows ç£ç›˜ä¸æ”¯æŒè¿™äº›ç‰¹æ®Šæ–‡ä»¶(æƒé™é—®é¢˜)ã€‚</p>
<div class="language-log"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre><!--::markdown-it-async::nvl4g9ockymjw0it51ej5::--><code>hekai@thinkpad-l14:~$ sudo mv /var/lib/docker /mnt/d/data/docker
mv: cannot create special file &#039;/mnt/d/data/docker/volumes/backingFsBlockDev&#039;: Operation not supported
mv: cannot create special file &#039;/mnt/d/data/docker/volumes/docker-centos7-slurm-cluster_mysql/_data/mysql.sock&#039;: Operation not supported
mv: cannot create special file &#039;/mnt/d/data/docker/overlay2/3a272b47e6ae28aa475f3eea705bdb2bdeb83dc97c6feb91cc20e6c49bbc004b-init/work/work/#23d&#039;: Operation not supported
mv: cannot create special file &#039;/mnt/d/data/docker/overlay2/2a012b89cc6a205c6c8a148abae32a5e735695b52a54e2e3e792c2a5e88a00af-init/work/work/#23f&#039;: Operation not supported</code></pre>
</div></blockquote>
<p>æ¥ç€ç¼–è¾‘é•œåƒæ–‡ä»¶(ä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»º)ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::cer7qe9plc77xe45flmrrv::--><code>cat &gt;&gt; /etc/docker/daemon.json&lt;&lt;EOF
{
    &quot;registry-mirrors&quot;: [
        &quot;https://a4zqywx0.mirror.aliyuncs.com&quot;,
        &quot;https://docker.1panel.live&quot;,
        &quot;https://registry-vpc.cn-qingdao.aliyuncs.com&quot;,
        &quot;https://f1361db2.m.daocloud.io&quot;,
        &quot;https://docker.mirrors.ustc.edu.cn&quot;,
        &quot;https://mirror.ccs.tencentyun.com&quot;,
        &quot;https://hub-mirror.c.163.com&quot;,
        &quot;https://docker.m.daocloud.io&quot;,
        &quot;https://docker.imgdb.de&quot;,
        &quot;https://docker-0.unsee.tech&quot;,
        &quot;https://docker.hlmirror.com&quot;,
        &quot;https://cjie.eu.org&quot;,
        &quot;https://f1361db2.m.daocloud.io&quot;,
        &quot;https://docker.mirrors.ustc.edu.cn&quot;,
        &quot;https://mirror.ccs.tencentyun.com&quot;,
        &quot;https://hub-mirror.c.163.com&quot;,
        &quot;https://a4zqywx0.mirror.aliyuncs.com&quot;,
        &quot;https://docker.m.daocloud.io&quot;,
        &quot;https://docker.imgdb.de&quot;,
        &quot;https://docker-0.unsee.tech&quot;,
        &quot;https://docker.hlmirror.com&quot;,
        &quot;https://cjie.eu.org&quot;,
        &quot;https://registry.cn-hangzhou.aliyuncs.com&quot;,
        &quot;https://reg-mirror.qiniu.com&quot;,
        &quot;https://docker.mirrors.ustc.edu.cn&quot;,
        &quot;https://hub-mirror.c.163.com&quot;
    ]
}
EOF
#é‡å¯Dokcer
service docker restart</code></pre>
</div><h2 id="å®‰è£…1panel" tabindex="-1">å®‰è£…1panel <a class="header-anchor" href="#å®‰è£…1panel" aria-label="Permalink to â€œå®‰è£…1panelâ€">&#8203;</a></h2>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::rzk7wuavsw95imji8i4zpf::--><code># å®‰è£…1panel
bash -c &quot;$(curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)&quot;</code></pre>
</div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[**PostgreSQL å®¹å™¨å¯åŠ¨å¤±è´¥ï¼šWSL é…ç½®ç»ˆæè§£å†³æ–¹æ¡ˆ**]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/dify/postgresql_wsl_solution.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/dify/postgresql_wsl_solution.html</guid>
            <pubDate>Thu, 11 Sep 2025 16:00:00 GMT</pubDate>
            <description><![CDATA[PostgreSQL å®¹å™¨å¯åŠ¨å¤±è´¥ï¼šWSL é…ç½®ç»ˆæè§£å†³æ–¹æ¡ˆ]]></description>
            <content:encoded><![CDATA[<h1 id="postgresql-å®¹å™¨å¯åŠ¨å¤±è´¥-wsl-é…ç½®ç»ˆæè§£å†³æ–¹æ¡ˆ" tabindex="-1"><strong>PostgreSQL å®¹å™¨å¯åŠ¨å¤±è´¥ï¼šWSL é…ç½®ç»ˆæè§£å†³æ–¹æ¡ˆ</strong> <a class="header-anchor" href="#postgresql-å®¹å™¨å¯åŠ¨å¤±è´¥-wsl-é…ç½®ç»ˆæè§£å†³æ–¹æ¡ˆ" aria-label="Permalink to â€œPostgreSQL å®¹å™¨å¯åŠ¨å¤±è´¥ï¼šWSL é…ç½®ç»ˆæè§£å†³æ–¹æ¡ˆâ€">&#8203;</a></h1>
<h2 id="é—®é¢˜ç°è±¡" tabindex="-1"><strong>é—®é¢˜ç°è±¡</strong> <a class="header-anchor" href="#é—®é¢˜ç°è±¡" aria-label="Permalink to â€œé—®é¢˜ç°è±¡â€">&#8203;</a></h2>
<p>åœ¨ Windows + WSL ç¯å¢ƒä¸‹è¿è¡Œ dify\docker&gt; podman compose down &amp;&amp; podman compose up -d, åˆ›å»º PostgreSQL å®¹å™¨æ—¶ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p>
<div class="language-plaintext"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre><!--::markdown-it-async::kqlc5gjb4fqxb1t8yw1bul::--><code>initdb: error: could not change permissions of directory &quot;/var/lib/postgresql/data/pgdata&quot;: Operation not permitted
chmod: /var/lib/postgresql/data/pgdata: Operation not permitted</code></pre>
</div><hr>
<h2 id="æ ¹æœ¬åŸå› " tabindex="-1"><strong>æ ¹æœ¬åŸå› </strong> <a class="header-anchor" href="#æ ¹æœ¬åŸå› " aria-label="Permalink to â€œæ ¹æœ¬åŸå› â€">&#8203;</a></h2>
<p>Windows å’Œ WSL é»˜è®¤çš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½æ–¹å¼å¯¼è‡´ï¼š</p>
<ol>
<li><strong>æƒé™éš”ç¦»</strong>ï¼šWSL æŒ‚è½½çš„ Windows ç›®å½•ï¼ˆå¦‚ <code>/mnt/c/...</code>ï¼‰é»˜è®¤ç¦æ­¢ä¿®æ”¹æƒé™ã€‚</li>
<li><strong>ç”¨æˆ·å†²çª</strong>ï¼šå®¹å™¨å†…ç”¨æˆ·ï¼ˆå¦‚ <code>postgres</code>ï¼‰æ— æ³•æ“ä½œæŒ‚è½½ç›®å½•çš„æƒé™ã€‚</li>
</ol>
<hr>
<h2 id="ç»ˆæè§£å†³æ–¹æ¡ˆ-è°ƒæ•´-wsl-é…ç½®" tabindex="-1"><strong>ç»ˆæè§£å†³æ–¹æ¡ˆï¼šè°ƒæ•´ WSL é…ç½®</strong> <a class="header-anchor" href="#ç»ˆæè§£å†³æ–¹æ¡ˆ-è°ƒæ•´-wsl-é…ç½®" aria-label="Permalink to â€œç»ˆæè§£å†³æ–¹æ¡ˆï¼šè°ƒæ•´ WSL é…ç½®â€">&#8203;</a></h2>
<h3 id="_1-ä¿®æ”¹-wsl-é…ç½®æ–‡ä»¶" tabindex="-1"><strong>1. ä¿®æ”¹ WSL é…ç½®æ–‡ä»¶</strong> <a class="header-anchor" href="#_1-ä¿®æ”¹-wsl-é…ç½®æ–‡ä»¶" aria-label="Permalink to â€œ1. ä¿®æ”¹ WSL é…ç½®æ–‡ä»¶â€">&#8203;</a></h3>
<p>åœ¨ WSL ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::2z2vszl9vlby8qpcb1pxvq::--><code>sudo nano /etc/wsl.conf</code></pre>
</div><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™æ–°å»ºï¼‰ï¼š</p>
<div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre><!--::markdown-it-async::w8kunkempm92wplv0ddnkc::--><code>[automount]
options = &quot;metadata,umask=22,fmask=11&quot;</code></pre>
</div><p>ä¿å­˜åé€€å‡ºï¼ˆ<code>Ctrl+O</code> â†’ <code>Enter</code> â†’ <code>Ctrl+X</code>ï¼‰ã€‚</p>
<h3 id="_2-é‡å¯-wsl" tabindex="-1"><strong>2. é‡å¯ WSL</strong> <a class="header-anchor" href="#_2-é‡å¯-wsl" aria-label="Permalink to â€œ2. é‡å¯ WSLâ€">&#8203;</a></h3>
<p>åœ¨ Windows PowerShell ä¸­è¿è¡Œï¼š</p>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::aerukaxo336oasrwp8lgk::--><code>wsl --shutdown</code></pre>
</div><p>é‡æ–°å¯åŠ¨ WSL ç»ˆç«¯ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<h3 id="_3-éªŒè¯é…ç½®" tabindex="-1"><strong>3. éªŒè¯é…ç½®</strong> <a class="header-anchor" href="#_3-éªŒè¯é…ç½®" aria-label="Permalink to â€œ3. éªŒè¯é…ç½®â€">&#8203;</a></h3>
<p>åœ¨ WSL ä¸­è¿è¡Œï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::o4a7gdro32o774x887puqy::--><code>cat /etc/wsl.conf</code></pre>
</div><p>ç¡®è®¤è¾“å‡ºåŒ…å«ä¸Šè¿°é…ç½®ã€‚</p>
<hr>
<h2 id="è¾…åŠ©æ­¥éª¤-å¯é€‰" tabindex="-1"><strong>è¾…åŠ©æ­¥éª¤ï¼ˆå¯é€‰ï¼‰</strong> <a class="header-anchor" href="#è¾…åŠ©æ­¥éª¤-å¯é€‰" aria-label="Permalink to â€œè¾…åŠ©æ­¥éª¤ï¼ˆå¯é€‰ï¼‰â€">&#8203;</a></h2>
<h3 id="_1-ç¡®ä¿ç›®å½•å­˜åœ¨" tabindex="-1"><strong>1. ç¡®ä¿ç›®å½•å­˜åœ¨</strong> <a class="header-anchor" href="#_1-ç¡®ä¿ç›®å½•å­˜åœ¨" aria-label="Permalink to â€œ1. ç¡®ä¿ç›®å½•å­˜åœ¨â€">&#8203;</a></h3>
<p>åœ¨ Windows ä¸­åˆ›å»ºç›®æ ‡ç›®å½•ï¼š</p>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::s0a8b8ro2msmrnarobf2::--><code>mkdir -p C:\AppData\code\ai\dify\docker\volumes\db\data</code></pre>
</div><h3 id="_2-è°ƒæ•´ç›®å½•æƒé™" tabindex="-1"><strong>2. è°ƒæ•´ç›®å½•æƒé™</strong> <a class="header-anchor" href="#_2-è°ƒæ•´ç›®å½•æƒé™" aria-label="Permalink to â€œ2. è°ƒæ•´ç›®å½•æƒé™â€">&#8203;</a></h3>
<p>åœ¨ WSL ä¸­è¿è¡Œï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::s6xx3ttl15bdsllpbnihx9::--><code>sudo chmod -R 755 /mnt/c/AppData/code/ai/dify/docker/volumes/db/data</code></pre>
</div><h3 id="_3-é‡æ–°å¯åŠ¨å®¹å™¨" tabindex="-1"><strong>3. é‡æ–°å¯åŠ¨å®¹å™¨</strong> <a class="header-anchor" href="#_3-é‡æ–°å¯åŠ¨å®¹å™¨" aria-label="Permalink to â€œ3. é‡æ–°å¯åŠ¨å®¹å™¨â€">&#8203;</a></h3>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::3kgipms9tzktjtfjlvlrw8::--><code>podman-compose down &amp;&amp; podman-compose up -d</code></pre>
</div><hr>
<h2 id="ä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ä½³æ–¹æ¡ˆ" tabindex="-1"><strong>ä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ä½³æ–¹æ¡ˆï¼Ÿ</strong> <a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ä½³æ–¹æ¡ˆ" aria-label="Permalink to â€œä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ä½³æ–¹æ¡ˆï¼Ÿâ€">&#8203;</a></h2>
<ol>
<li><strong>ä¸€åŠ³æ°¸é€¸</strong>ï¼šä¿®æ”¹ WSL é…ç½®åï¼Œæ‰€æœ‰å®¹å™¨æŒ‚è½½ç›®å½•çš„æƒé™é—®é¢˜è‡ªåŠ¨è§£å†³ã€‚</li>
<li><strong>æ— éœ€ç¡¬ç¼–ç ç”¨æˆ·</strong>ï¼šé¿å…åœ¨ <code>docker-compose.yml</code> ä¸­å¼ºåˆ¶æŒ‡å®š <code>user: &quot;1000:1000&quot;</code>ã€‚</li>
<li><strong>å…¼å®¹æ€§æ›´å¥½</strong>ï¼šæ”¯æŒæ‰€æœ‰éœ€è¦æƒé™æ“ä½œçš„å®¹å™¨ï¼ˆå¦‚ MySQLã€MongoDB ç­‰ï¼‰ã€‚</li>
</ol>
<hr>
<h2 id="éªŒè¯æ–¹æ³•" tabindex="-1"><strong>éªŒè¯æ–¹æ³•</strong> <a class="header-anchor" href="#éªŒè¯æ–¹æ³•" aria-label="Permalink to â€œéªŒè¯æ–¹æ³•â€">&#8203;</a></h2>
<ol>
<li>
<p><strong>æ£€æŸ¥ç›®å½•æƒé™</strong>
åœ¨ WSL ä¸­è¿è¡Œï¼š</p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::t7cme52la5iqbondyqvjz::--><code>ls -ld /mnt/c/AppData/code/ai/dify/docker/volumes/db/data</code></pre>
</div><p>æ­£å¸¸è¾“å‡ºç¤ºä¾‹ï¼š</p>
<div class="language-plaintext"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre><!--::markdown-it-async::7lym3xm8yj8afvoznrtq09::--><code>drwxr-xr-x 1 user user 4096 Sep 11 10:00 /mnt/c/.../data</code></pre>
</div></li>
<li>
<p><strong>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</strong></p>
<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::w900zk12e4myoel64zal::--><code>podman logs &lt;container_id&gt;</code></pre>
</div><p>ç¡®è®¤æ— æƒé™é”™è¯¯ã€‚</p>
</li>
</ol>
<hr>
<h2 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><strong>æ³¨æ„äº‹é¡¹</strong> <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to â€œæ³¨æ„äº‹é¡¹â€">&#8203;</a></h2>
<ol>
<li><strong>WSL ç‰ˆæœ¬</strong>ï¼šä»… WSL 2 æ”¯æŒæ­¤é…ç½®ï¼ˆé€šè¿‡ <code>wsl -l -v</code> æ£€æŸ¥ï¼‰ã€‚</li>
<li><strong>å®‰å…¨é™åˆ¶</strong>ï¼š<code>umask=22</code> è¡¨ç¤ºé»˜è®¤æƒé™ä¸º <code>755</code>ï¼ˆå¯æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰ã€‚</li>
</ol>
<hr>
<h2 id="æ€»ç»“" tabindex="-1"><strong>æ€»ç»“</strong> <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>é€šè¿‡è°ƒæ•´ WSL çš„ <code>automount</code> é…ç½®ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†å®¹å™¨æŒ‚è½½ç›®å½•çš„æƒé™é—®é¢˜ã€‚æ­¤æ–¹æ³•ç®€å•ã€é€šç”¨ï¼Œæ˜¯ Windows + WSL ç¯å¢ƒä¸‹è¿è¡Œæ•°æ®åº“å®¹å™¨çš„æ¨èæ–¹æ¡ˆã€‚</p>
<hr>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å®ç°è‡ªåŠ¨ä¸º VitePress ç½‘ç«™æ·»åŠ  RSS è®¢é˜…çš„æ’ä»¶]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vitepress-plugin-rss.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vitepress-plugin-rss.html</guid>
            <pubDate>Sun, 02 Feb 2025 20:11:06 GMT</pubDate>
            <description><![CDATA[ä½¿ç”¨ VitePress ä½œä¸ºä¸ªäººåšå®¢çš„ç«™ç‚¹è¶Šæ¥è¶Šå¤šï¼ŒRSSæ”¯æŒä¹Ÿæ˜¯åšå®¢ä¸Šçš„ä¸€ä¸ªåŠŸèƒ½ç‚¹ï¼Œæ–¹ä¾¿è¯»è€…è®¢é˜…ï¼Œæœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡Vite æ’ä»¶ä¸º VitePress ç«™ç‚¹ä¸€é”®æ·»åŠ RSSæ”¯æŒ]]></description>
            <content:encoded><![CDATA[<h1 id="å®ç°è‡ªåŠ¨ä¸º-vitepress-ç½‘ç«™æ·»åŠ -rss-è®¢é˜…çš„æ’ä»¶" tabindex="-1">å®ç°è‡ªåŠ¨ä¸º VitePress ç½‘ç«™æ·»åŠ  RSS è®¢é˜…çš„æ’ä»¶ <a class="header-anchor" href="#å®ç°è‡ªåŠ¨ä¸º-vitepress-ç½‘ç«™æ·»åŠ -rss-è®¢é˜…çš„æ’ä»¶" aria-label="Permalink to â€œå®ç°è‡ªåŠ¨ä¸º VitePress ç½‘ç«™æ·»åŠ  RSS è®¢é˜…çš„æ’ä»¶â€">&#8203;</a></h1>
<p>çœæµï¼šä½¿ç”¨ <a href="https://www.npmjs.com/package/vitepress-plugin-rss" target="_blank" rel="noreferrer">vitepress-plugin-rss</a> è¿™ä¸ªæ’ä»¶</p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨çœ‹è®¸å¤šä¸ªäººåšå®¢ç«™ç‚¹çš„æ—¶å€™ï¼Œå³ä¸Šè§’æ€»ä¼šæœ‰ä¸ªRSSè®¢é˜…çš„æ ‡å¿—</p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyNTQwOTU1Mw==692625409553.png" alt="" loading="lazy"></p>
<p>æ°å¥½<a href="https://www.dmsrs.org/" target="_blank" rel="noreferrer">æˆ‘çš„åšå®¢</a>ä¹Ÿæ˜¯åŸºäº <a href="https://vitepress.dev/" target="_blank" rel="noreferrer">VitePress</a> æ­å»ºçš„ï¼Œå°±æƒ³çœ‹çœ‹èƒ½ä¸èƒ½ä¹Ÿå®ç°è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ</p>
<p>åŠ¨æ‰‹å‰å…ˆæœäº†ä¸€ä¸‹ï¼Œå…ˆæ˜¯çœ‹åˆ°äº†<a href="https://github.com/clark-cui/vitepress-blog-zaun" target="_blank" rel="noreferrer">vitepress-blog-zaun</a>ä¸Šæœ‰è¿™ä¸ªRSSçš„å®ç°æ”¯æŒï¼Œå†æœäº†ä¸€ä¸‹å‘ç°Vueçš„å®˜æ–¹åšå®¢ <a href="https://github.com/vuejs/blog/tree/main" target="_blank" rel="noreferrer">vuejs/blog</a> ä¹Ÿæ˜¯ç”¨çš„è¿™æ ·çš„å®ç°</p>
<p>å¤§æ¦‚å°±æ˜¯è‡ªå®šä¹‰ VitePress çš„ <a href="https://vitepress.dev/reference/site-config#buildend" target="_blank" rel="noreferrer">buildEnd</a> é’©å­ï¼Œåœ¨é‡Œé¢å®ç°é€»è¾‘è·å– <code>md</code> æ–‡ä»¶åˆ—è¡¨ï¼Œç„¶åé€šè¿‡ <a href="https://www.npmjs.com/package/feed" target="_blank" rel="noreferrer">feed</a> ç”Ÿæˆ RSS æ–‡ä»¶ï¼Œ<a href="https://github.com/vuejs/blog/blob/main/.vitepress/genFeed.ts" target="_blank" rel="noreferrer">æ•´ä¸ªé€»è¾‘å°± 50+ è¡Œä»£ç </a></p>
<p>ç”±äºæˆ‘çš„åšå®¢è¿˜åˆ†ç¦»äº†ç‹¬ç«‹çš„ä¸»é¢˜åŒ… <a href="https://theme.sugarat.top/" target="_blank" rel="noreferrer">@sugarat/theme</a>ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªåŠŸèƒ½åŠ åˆ°æˆ‘çš„ä¸»é¢˜åŒ…é‡Œï¼Œè¿™æ ·ä½¿ç”¨è¿™ä¸ªä¸»é¢˜çš„å°±å¯ä»¥ç®€å•çš„é…ç½®ä¸€ä¸‹å°±èƒ½ä½¿ç”¨äº†ï¼Œå½“ç„¶ä¹Ÿä¸ºäº†æ–¹ä¾¿å¹¿å¤§ VitePress ç”¨æˆ·æ›´åŠ ç®€ä¾¿çš„ä½¿ç”¨ï¼Œæˆ‘å°†è¿™æ®µé€»è¾‘å•ç‹¬åˆ†ç¦»å°è£…åˆ°äº† <a href="https://www.npmjs.com/package/vitepress-plugin-rss" target="_blank" rel="noreferrer">vitepress-plugin-rss</a> è¿™ä¸ªæ’ä»¶é‡Œã€‚</p>
<p><strong>æ¥ä¸‹æ¥æˆ‘å°†ä¼šå…ˆä»‹ç»ä¸€ä¸‹å¦‚ä½•é£Ÿç”¨è¿™ä¸ªæ’ä»¶ï¼Œå†ä»‹ç»å®ƒçš„æ ¸å¿ƒå®ç°åŸç†</strong></p>
<h2 id="æ’ä»¶ä½¿ç”¨" tabindex="-1">æ’ä»¶ä½¿ç”¨ <a class="header-anchor" href="#æ’ä»¶ä½¿ç”¨" aria-label="Permalink to â€œæ’ä»¶ä½¿ç”¨â€">&#8203;</a></h2>
<p>é€šè¿‡ <code>pnpm/npm/yarn</code> å®‰è£…æ’ä»¶</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::isbiqym9qwjpen8oehys9f::--><code>pnpm add vitepress-plugin-rss</code></pre>
</div><p>åœ¨ <code>.vitepress/config.ts</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ä½¿ç”¨</p>
<p>ä¸‹é¢æ˜¯æœ€åŸºç¡€çš„ä½¿ç”¨é…ç½®</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::pgsx0qplk206zp0qduudiv::--><code>import { RSSOptions, RssPlugin } from &#039;vitepress-plugin-rss&#039;
const baseUrl = &#039;https://www.dmsrs.org&#039;
const RSS: RSSOptions = {
  title: &#039;ä»£ç &#039;,
  baseUrl,
  copyright: &#039;Copyright (c) 2018-present, ä»£ç &#039;,
}

export default defineConfig({
  vite: {
    // â†“â†“â†“â†“â†“
    plugins: [RssPlugin(RSS)]
    // â†‘â†‘â†‘â†‘â†‘
  }
})</code></pre>
</div><p>ç„¶åè¿è¡Œ build å‘½ä»¤ï¼Œä½ å¯ä»¥çœ‹åˆ°åœ¨<code>rendering pages...</code>åæ‰“å°äº†ç”Ÿæˆ <code>feed.rss</code> æ—¥å¿—...</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::nq98wwk4f840z725gn8gg::--><code>pnpm run build</code></pre>
</div><p><img src="./vitepress-plugin-rss/MTY5MjQ1NTAzMzcwMg==692455033702.png" alt="" loading="lazy"></p>
<p>åŒæ—¶ä¼šåœ¨å¯¼èˆªæ çš„ socialLinks ä¸­æ·»åŠ  rss å›¾æ ‡é“¾æ¥</p>
<p><img src="./vitepress-plugin-rss/MTY5MjQ1NTQ4MDYxMg==692455480612.png" alt="" loading="lazy"></p>
<p>ä½¿ç”¨æ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Œåªéœ€è¦ 10 è¡Œä»£ç ã€‚</p>
<p>å¦‚æœä½ å¯¹æ’ä»¶çš„å®ç°åŸç†æ„Ÿå…´è¶£ï¼Œè¯·æ¥ç€å¾€ä¸‹çœ‹ ğŸ‰ ğŸ‰ ğŸ‰ã€‚</p>
<h2 id="æ ¸å¿ƒå®ç°åŸç†è§£æ" tabindex="-1">æ ¸å¿ƒå®ç°åŸç†è§£æ <a class="header-anchor" href="#æ ¸å¿ƒå®ç°åŸç†è§£æ" aria-label="Permalink to â€œæ ¸å¿ƒå®ç°åŸç†è§£æâ€">&#8203;</a></h2>
<p>VitePress çš„æ‹“å±•åœ¨å®˜æ–¹æ–‡æ¡£ <a href="https://vitepress.dev/guide/what-is-vitepress#use-cases" target="_blank" rel="noreferrer">Use Cases</a> éƒ¨åˆ†æœ‰æåˆ°</p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyNzE4MDA4MA==692627180080.png" alt="" loading="lazy"></p>
<p>å…¶æ˜¯åŸºäº Vite çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ Vite çš„æ’ä»¶æœºåˆ¶æ¥å®ç°ä¸»é¢˜å†…å®¹çš„æ‹“å±•ã€‚</p>
<h3 id="buildend-ä¿®æ”¹" tabindex="-1">buildEnd ä¿®æ”¹ <a class="header-anchor" href="#buildend-ä¿®æ”¹" aria-label="Permalink to â€œbuildEnd ä¿®æ”¹â€">&#8203;</a></h3>
<p>ä»å®˜æ–¹çš„demoç§å¯ä»¥çœ‹åˆ°ï¼ŒRSS çš„ç”Ÿæˆé€»è¾‘æ˜¯æ”¾åœ¨ buildEnd ä¸­çš„ï¼Œå› æ­¤å’±ä»¬æ’ä»¶ä¹Ÿéœ€è¦å®ç°é—´æ¥ä¿®æ”¹ buildEnd æ–¹æ³•</p>
<p>è¿™ä¸ªéå¸¸çš„ç®€å•ï¼Œåˆ©ç”¨ Vite çš„æ’ä»¶æä¾›çš„ <a href="https://vitejs.dev/guide/api-plugin.html#configresolved" target="_blank" rel="noreferrer">configResolved</a> é’©å­å°±è¡Œ</p>
<p>ä¸‹é¢æ˜¯ç®€å•çš„demo</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::92rctpl4hbi1qrxp0cpjh4::--><code>import { SiteConfig } from &#039;vitepress&#039;

let resolveConfig: any = null

function configResolved(config: any) {
  // é¿å…å¤šæ¬¡æ‰§è¡Œ
  if (resolveConfig) {
    return
  }
  resolveConfig = config

  const VPConfig: SiteConfig = config.vitepress
  if (!VPConfig) {
    return
  }
  const selfBuildEnd = VPConfig.buildEnd
  // è‡ªå®šä¹‰ buildEnd æ–¹æ³•ï¼Œæ·»åŠ  rss ç”Ÿæˆæ”¯æŒ
  VPConfig.buildEnd = async (siteConfig: any) =&gt; {
    // è°ƒç”¨è‡ªå·±çš„
    await selfBuildEnd?.(siteConfig)
    console.log(&#039;buildEnd&#039;, &#039;ç”Ÿæˆ rss æ–‡ä»¶&#039;)
  }
}</code></pre>
</div><p>é€šè¿‡<code>config.vitepress</code>å³å¯æ‹¿åˆ°vitepressçš„é…ç½®ï¼Œç„¶åé‡æ–°å®šä¹‰ <code>buildEnd</code> æ–¹æ³•å³å¯</p>
<p>è¿™é‡Œå¯ä»¥ç›´æ¥å¿«é€Ÿçš„éªŒè¯ä¸€ä¸‹</p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyODA0OTEzMA==692628049130.png" alt="" loading="lazy"></p>
<p>è¿è¡Œåå¯ä»¥çœ‹åˆ°æ‰“å°äº† <code>buildEnd ç”Ÿæˆ rss æ–‡ä»¶</code>ï¼Œè¯´æ˜æˆ‘ä»¬çš„æ’ä»¶çš„ä¿®æ”¹å·²ç»ç”Ÿæ•ˆäº†</p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyODE0MzUyNw==692628143527.png" alt="" loading="lazy"></p>
<h3 id="icon-æ·»åŠ " tabindex="-1">icon æ·»åŠ  <a class="header-anchor" href="#icon-æ·»åŠ " aria-label="Permalink to â€œicon æ·»åŠ â€">&#8203;</a></h3>
<p>è¿™ä¸ªä¹Ÿéå¸¸çš„ç®€å•ï¼ŒVitePress åœ¨å®˜æ–¹æ–‡æ¡£é‡Œæœ‰ä»‹ç» <a href="https://vitepress.dev/reference/default-theme-config#sociallinks" target="_blank" rel="noreferrer">socialLinks</a></p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyODMxNTQyMA==692628315420.png" alt="" loading="lazy"></p>
<p>æˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®ä¿®æ”¹ä¸­æ·»åŠ ä¸€ä¸ª <code>socialLinks</code> çš„é…ç½®å³å¯</p>
<p>æ¥ç€ä¸Šè¿°çš„demoï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç </p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::x4pw0eo08fbbcorj7xw9vm::--><code>VPConfig.site.themeConfig.socialLinks = [
  {
    icon: {
      svg: &#039;svg icon&#039;
    },
    link: &#039;rss url&#039;
  },
  ...VPConfig.site.themeConfig.socialLinks
]</code></pre>
</div><p>svgçš„å›¾æ ‡å¯ä»¥é€šè¿‡ <a href="https://www.xicons.org/#/zh-CN" target="_blank" rel="noreferrer">xicons</a> è¿™ä¸ªç½‘ç«™æŸ¥æ‰¾</p>
<p>æ¯”å¦‚æˆ‘è¿™é‡Œæ‰¾äº†ä¸€ä¸ª sun çš„å›¾æ ‡é…ä¸Š</p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyODc2MjI2MQ==692628762261.png" alt="" loading="lazy"></p>
<p>å¯åŠ¨åšå®¢åå°±èƒ½çœ‹è§å³ä¸Šè§’è¿™ä¸ªå°å¤ªé˜³äº†</p>
<p><img src="./vitepress-plugin-rss/MTY5MjYyODY2MDQ3OQ==692628660479.png" alt="" loading="lazy"></p>
<h3 id="mdæ–‡ä»¶è·å–ä¸è§£æ" tabindex="-1">MDæ–‡ä»¶è·å–ä¸è§£æ <a class="header-anchor" href="#mdæ–‡ä»¶è·å–ä¸è§£æ" aria-label="Permalink to â€œMDæ–‡ä»¶è·å–ä¸è§£æâ€">&#8203;</a></h3>
<p>è¿™ä¸ªæ˜¯æœ€æ ¸å¿ƒçš„é€»è¾‘äº†ï¼Œâ‘  éœ€è¦è·å–æ‰€æœ‰çš„ <code>md</code> æ–‡ä»¶ï¼Œâ‘¡ è§£æé‡Œé¢çš„ frontmatter â‘¢ æ¸²æŸ“HTML</p>
<p>è¿™ä¸ªåœ¨ <code>vuejs/blog</code> ä¸­å¯ä»¥çœ‹åˆ°ä½¿ç”¨çš„æ˜¯ VitePress å†…ç½®çš„ <a href="https://vitepress.dev/guide/data-loading#createcontentloader" target="_blank" rel="noreferrer">createContentLoader</a> æ–¹æ³•ï¼ˆé‡Œé¢åŒ…å«äº†ä¸Šè¿°3éƒ¨åˆ†é€»è¾‘ï¼‰</p>
<p>è¿™é‡ŒæŠŠå…¶æ ¸å¿ƒå®ç°æ‹†å‡ºæ¥ï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£å’Œæ›´å¥½çš„è‡ªå®šä¹‰ï¼ˆç¬”è€…åœ¨æ’ä»¶é‡Œä¹Ÿæ²¡ç›´æ¥ä½¿ç”¨ <code>createContentLoader</code> è¿™ä¸ªæ–¹æ³•ï¼‰</p>
<p><strong>â‘  é€šè¿‡ fast-glob è·å–æ‰€æœ‰çš„ md æ–‡ä»¶</strong></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::yx6kpn459ew4pg91n3wx::--><code>import glob from &#039;fast-glob&#039;

const files = glob.sync(`${srcDir}/**/*.md`, { ignore: [&#039;node_modules&#039;] })</code></pre>
</div><p>å…¶ä¸­ <code>srcDir</code> å³æ–‡ç« æ‰€åœ¨çš„ç›®å½•ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è·å–åˆ°ç›¸å¯¹è·¯å¾„</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wr07dl1b36d6k64udgqtpk::--><code>// config å³ SiteConfig
const srcDir
    = config.srcDir.replace(config.root, &#039;&#039;).replace(/^\//, &#039;&#039;)
    || process.argv.slice(2)?.[1]
    || &#039;.&#039;</code></pre>
</div><p><strong>â‘¡ é€šè¿‡ gray-matter è§£æ frontmatter</strong></p>
<p>è¿™é‡Œ<code>frontmatter</code>å°±æ˜¯æ–‡ç« å¼€å¤´é‡Œä¸¤ä¸ª<code>---</code>ä¹‹é—´çš„å†…å®¹</p>
<p>ä¾‹å¦‚</p>
<div class="language-md"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre><!--::markdown-it-async::32nyj0mhvsfoxpbb0rlf9::--><code>---
title: ç¤ºä¾‹æ ‡é¢˜
description: æ–‡ç« ä»‹ç»
---</code></pre>
</div><p>åˆ©ç”¨ gray-matter è§£æ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::iey29zgeitsd7xccz7lg86::--><code>import fs from &#039;fs&#039;
import matter from &#039;gray-matter&#039;

for (const file of files) {
  const fileContent = fs.readFileSync(file, &#039;utf-8&#039;)
  const { data: frontmatter, excerpt } = matter(fileContent, {
    excerpt: true
  })
}</code></pre>
</div><p>å…¶ä¸­ <code>excerpt</code> å³ä¸ºæ–‡ç« çš„æ‘˜è¦ä¿¡æ¯(description)</p>
<p><strong>â‘¢ MD æ¸²æŸ“ä¸º HTML</strong></p>
<p>è¿™ä¸ªä½¿ç”¨ VitePress æä¾›çš„ <code>createMarkdownRenderer</code> å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::nybmdh9z4yskjfsc6ds7kh::--><code>// ç”±äºæ’ä»¶é‡Œæœ€åæ„å»ºæˆ CJS/ESM ä¸¤ç§æ ¼å¼ï¼ŒVitePress æœ€æ–°çš„ç‰ˆæœ¬æ”¯æŒ ESMï¼Œå› æ­¤éœ€è¦åŠ¨æ€å¼•å…¥
const { createMarkdownRenderer } = await import(&#039;vitepress&#039;)

const mdRender = await createMarkdownRenderer(
  config.srcDir,
  config.markdown,
  config.site.base,
  config.logger
)
for (const file of files) {
  const fileContent = fs.readFileSync(file, &#039;utf-8&#039;)
  // ç”Ÿæˆhtml
  const html = mdRender.render(fileContent)
}</code></pre>
</div><h3 id="rssæ–‡ä»¶ç”Ÿæˆ" tabindex="-1">RSSæ–‡ä»¶ç”Ÿæˆ <a class="header-anchor" href="#rssæ–‡ä»¶ç”Ÿæˆ" aria-label="Permalink to â€œRSSæ–‡ä»¶ç”Ÿæˆâ€">&#8203;</a></h3>
<p>é€šè¿‡ä¸Šé¢çš„ markdown æ–‡ä»¶çš„è§£æï¼Œæˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†æ‰€æœ‰çš„æ–‡ç« ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡ <a href="https://www.npmjs.com/package/feed" target="_blank" rel="noreferrer">feed</a> è¿™ä¸ªåº“ç”Ÿæˆ RSS æ–‡ä»¶äº†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::z1os735irqc80qmx8yp4qb::--><code>import { Feed } from &#039;feed&#039;
const feedOptions = {
  // ...
}
const feed = new Feed(feedOptions)

for (const file of files) {
  // é€šè¿‡å‰é¢è§£æçš„ä¿¡æ¯ï¼Œç”Ÿæˆ feed item
  feed.addItem({
    title,
    id: link,
    link,
    description,
    content: html,
    author: [
      {
        name: author,
        ...authorInfo
      }
    ],
    image: frontmatter?.cover,
    date: new Date(date)
  })
}

const RSSFilename = &#039;feed.rss&#039;
const RSSFilepath = path.join(config.outDir, RSSFilename)

// ç”Ÿæˆ rss æ–‡ä»¶
writeFileSync(RSSFilepath, feed.rss2())</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æ’ä»¶çš„å®Œæ•´æºç è§ <a href="https://github.com/ripplejourney/ripplejourney.github.io/tree/master/packages/vitepress-plugin-rss" target="_blank" rel="noreferrer">GitHub</a>ï¼Œæ¬¢è¿å¤§å®¶è¯•ç”¨å’Œåé¦ˆ</p>
<h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to â€œå‚è€ƒâ€">&#8203;</a></h2>
<ul>
<li><a href="https://www.npmjs.com/package/feed" target="_blank" rel="noreferrer">jpmonette/feed</a></li>
<li><a href="https://github.com/vuejs/blog/tree/main" target="_blank" rel="noreferrer">vuejs/blog</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/vitepress-plugin-rss/MTY5MjYyNTQwOTU1Mw==692625409553.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[githubä»£ç åº“ç®¡ç†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/github/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/github/</guid>
            <pubDate>Sun, 26 Jan 2025 13:21:52 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* å¤§æ•°ç›¸åŠ &Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬
* SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³]]></description>
            <content:encoded><![CDATA[<h1 id="githubä»£ç åº“ç®¡ç†" tabindex="-1">githubä»£ç åº“ç®¡ç† <a class="header-anchor" href="#githubä»£ç åº“ç®¡ç†" aria-label="Permalink to â€œgithubä»£ç åº“ç®¡ç†â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬.html">å¤§æ•°ç›¸åŠ &amp;Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬</a></li>
<li><a href="./SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³.html">SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/github/SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/github/SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³.html</guid>
            <pubDate>Sun, 26 Jan 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[# SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³

## é—®é¢˜æè¿°
é€šè¿‡sourcetreeè¿æ¥githubæ—¶ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºï¼š

å‘½ä»¤: 

```
git -c diff.mnemonicprefix=false -c core.quotepath=false --no-optional-locks ls-remote git@github.com:VitepressAwesome/nolebase.git
```

> è¾“å‡º:
> é”™è¯¯: The host key is not cached for this server:
>   github.com (port 22)
> You have no guarantee that the server is the computer you
> think it is.
> The server's ssh-ed25519 key fingerprint is:
>   ssh-ed25519 255 SHA256:+++++++æŒ‡çº¹++++++
> If you trust this host, enter "y" to add the key to Plink's
> cache and carry on connecting.
> If you want to carry on connecting just once, without adding
> the key to the cache, enter "n".
> If you do not trust this host, press Return to abandon the
> connection.
> Store key in cache? (y/n, Return cancels connection, i for more info) fatal: Could not read from remote repository.

## åŸå› åˆ†æ

æˆ‘ç°åœ¨éœ€è¦è§£å†³ç”¨æˆ·åœ¨ä½¿ç”¨SourceTreeæ—¶é‡åˆ°çš„SSHä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜ã€‚ç”¨æˆ·è¿è¡Œäº†gitå‘½ä»¤æ¥ls-remoteä¸€ä¸ªGitHubä»“åº“ï¼Œä½†æç¤ºä¸»æœºå¯†é’¥æœªç¼“å­˜ï¼Œéœ€è¦ç¡®è®¤æ˜¯å¦ä¿¡ä»»è¯¥å¯†é’¥ã€‚ç”¨æˆ·ç°åœ¨ä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†ï¼Œæ‰€ä»¥éœ€è¦ä¸€æ­¥æ­¥æŒ‡å¯¼ä»–ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

é¦–å…ˆï¼Œæˆ‘åº”è¯¥å›å¿†ä¸€ä¸‹SSHè¿æ¥çš„åŸºæœ¬åŸç†ã€‚å½“ç¬¬ä¸€æ¬¡é€šè¿‡SSHè¿æ¥åˆ°æŸä¸ªæœåŠ¡å™¨æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šæ£€æŸ¥æ˜¯å¦å·²ç»ç¼“å­˜äº†è¯¥æœåŠ¡å™¨çš„ä¸»æœºå¯†é’¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šæç¤ºç”¨æˆ·æ˜¯å¦ä¿¡ä»»è¯¥å¯†é’¥ã€‚è¿™ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚ç”¨æˆ·åœ¨è¿™é‡Œé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºä»–ä»¬çš„ç¯å¢ƒï¼ˆå¯èƒ½æ˜¯ä½¿ç”¨Plinkä½œä¸ºSSHå®¢æˆ·ç«¯ï¼‰æ²¡æœ‰ç¼“å­˜GitHubçš„ä¸»æœºå¯†é’¥ã€‚

æ¥ä¸‹æ¥ï¼Œç”¨æˆ·ä½¿ç”¨çš„æ˜¯SourceTreeï¼Œè€ŒSourceTreeåœ¨Windowsä¸Šå¯èƒ½é»˜è®¤ä½¿ç”¨PuTTYçš„Plinkä½œä¸ºSSHå®¢æˆ·ç«¯ã€‚PuTTYå’ŒOpenSSHå¤„ç†å·²çŸ¥ä¸»æœºçš„æ–¹å¼ä¸åŒï¼ŒPuTTYä¼šæœ‰ä¸€ä¸ªå•ç‹¬çš„known_hostsæ–‡ä»¶ï¼Œè€ŒOpenSSHç”¨çš„æ˜¯ç”¨æˆ·ç›®å½•ä¸‹çš„.ssh/known_hostsã€‚ç”¨æˆ·é‡åˆ°çš„é—®é¢˜å¯èƒ½æ˜¯å› ä¸ºPlinkçš„ç¼“å­˜é‡Œæ²¡æœ‰GitHubçš„ä¸»æœºå¯†é’¥ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨ç¡®è®¤æ·»åŠ ã€‚

ç”¨æˆ·çœ‹åˆ°çš„é”™è¯¯ä¿¡æ¯é‡Œæåˆ°äº†æ˜¯å¦å°†å¯†é’¥ä¿å­˜åˆ°Plinkçš„ç¼“å­˜ä¸­ï¼Œéœ€è¦è¾“å…¥yæˆ–nã€‚å¦‚æœç”¨æˆ·è¾“å…¥yï¼ŒPlinkå°±ä¼šæŠŠå¯†é’¥ä¿å­˜ä¸‹æ¥ï¼Œä»¥åè¿æ¥å°±ä¸ä¼šå†æç¤ºäº†ã€‚ä½†ç”¨æˆ·å¯èƒ½æ˜¯åœ¨SourceTreeä¸­æ“ä½œï¼Œæ²¡æœ‰ç›´æ¥çš„æœºä¼šè¾“å…¥è¿™ä¸ªyï¼Œå¯¼è‡´è¿æ¥å¤±è´¥ã€‚è¿™æ—¶å€™éœ€è¦æ‰‹åŠ¨ç¡®è®¤GitHubçš„ä¸»æœºå¯†é’¥ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°Plinkçš„ç¼“å­˜ä¸­ã€‚

é¦–å…ˆï¼Œæˆ‘éœ€è¦éªŒè¯GitHubçš„SSHå¯†é’¥æŒ‡çº¹æ˜¯å¦æ­£ç¡®ã€‚ç”¨æˆ·çœ‹åˆ°çš„æŒ‡çº¹æ˜¯ssh-ed25519 255 SHA256:+++++++æŒ‡çº¹++++++ã€‚æ ¹æ®GitHubçš„å®˜æ–¹æ–‡æ¡£ï¼Œä»–ä»¬çš„Ed25519æŒ‡çº¹ç¡®å®æ˜¯è¿™ä¸ªSHA256å€¼ã€‚æ‰€ä»¥ç”¨æˆ·åº”è¯¥ä¿¡ä»»è¿™ä¸ªå¯†é’¥ã€‚

è§£å†³æ–¹æ¡ˆå¯èƒ½åŒ…æ‹¬å‡ ç§æ–¹æ³•ï¼š

1. æ‰‹åŠ¨ä½¿ç”¨Plinkï¼ˆPuTTYçš„ç»„ä»¶ï¼‰è¿æ¥åˆ°GitHubï¼Œè¿™æ ·ä¼šè§¦å‘ä¿å­˜ä¸»æœºå¯†é’¥çš„æç¤ºï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥yç¡®è®¤ã€‚ä¾‹å¦‚è¿è¡Œ`plink git@github.com`ï¼Œç„¶åè¾“å…¥yï¼Œä¹‹åSourceTreeå°±èƒ½æ­£å¸¸è¿æ¥äº†ã€‚

2. å°†GitHubçš„ä¸»æœºå¯†é’¥æ‰‹åŠ¨æ·»åŠ åˆ°Plinkçš„known_hostsæ–‡ä»¶ä¸­ï¼Œå³PuTTYçš„ç¼“å­˜æ–‡ä»¶ã€‚éœ€è¦æ‰¾åˆ°Plinkå­˜å‚¨known hostsçš„ä½ç½®ï¼Œé€šå¸¸æ˜¯æ³¨å†Œè¡¨ä¸­çš„æŸä¸ªä½ç½®ï¼Œæˆ–è€…ä½¿ç”¨Pageantæ¥ç®¡ç†ã€‚ä¸è¿‡æ‰‹åŠ¨æ“ä½œæ³¨å†Œè¡¨å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å¯èƒ½æ›´æ¨èç¬¬ä¸€ç§æ–¹æ³•ã€‚

3. æˆ–è€…ï¼Œå°†SourceTreeçš„SSHå®¢æˆ·ç«¯åˆ‡æ¢ä¸ºOpenSSHè€Œä¸æ˜¯Plinkï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„SSHé…ç½®ï¼Œå¯èƒ½é¿å…è¿™ä¸ªé—®é¢˜ã€‚ä½†ç”¨æˆ·å¯èƒ½éœ€è¦é…ç½®SourceTreeä½¿ç”¨OpenSSHï¼Œå¹¶ä¸”ç¡®ä¿known_hostsä¸­å·²ç»æœ‰GitHubçš„å¯†é’¥ã€‚

å¦å¤–ï¼Œç”¨æˆ·å¯èƒ½é‡åˆ°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä¹‹å‰æ²¡æœ‰é€šè¿‡Plinkè¿æ¥è¿‡GitHubï¼Œæ‰€ä»¥éœ€è¦é¦–æ¬¡ç¡®è®¤ã€‚æˆ–è€…å¯èƒ½SourceTreeåœ¨åå°è¿è¡ŒPlinkæ—¶æ²¡æœ‰æä¾›äº¤äº’å¼æç¤ºï¼Œå¯¼è‡´æ— æ³•è¾“å…¥yï¼Œä»è€Œå¤±è´¥ã€‚å› æ­¤éœ€è¦æ‰‹åŠ¨è§¦å‘è¿™ä¸ªç¡®è®¤è¿‡ç¨‹ã€‚

æ€»ç»“ä¸‹æ¥ï¼Œæ­¥éª¤åº”è¯¥æ˜¯ï¼š

- ç¡®è®¤GitHubçš„SSHæŒ‡çº¹æ˜¯å¦åŒ¹é…å®˜æ–¹æ–‡æ¡£ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚

- ä½¿ç”¨Plinkæ‰‹åŠ¨è¿æ¥GitHubï¼Œè§¦å‘ä¿å­˜å¯†é’¥çš„æç¤ºï¼Œè¾“å…¥yç¡®è®¤ã€‚

- ä¹‹åSourceTreeçš„å‘½ä»¤åº”è¯¥å°±èƒ½æ­£å¸¸æ‰§è¡Œäº†ã€‚

æˆ–è€…ï¼Œå¦‚æœç”¨æˆ·æ›´ç†Ÿæ‚‰OpenSSHï¼Œå¯ä»¥åˆ‡æ¢SourceTreeçš„SSHå®¢æˆ·ç«¯ä¸ºOpenSSHï¼Œè¿™æ ·åˆ©ç”¨ç³»ç»Ÿå·²æœ‰çš„known_hostsæ–‡ä»¶ï¼Œå¯èƒ½å·²ç»åŒ…å«äº†GitHubçš„å¯†é’¥ã€‚

éœ€è¦è¯¦ç»†è¯´æ˜æ¯ä¸€æ­¥çš„æ“ä½œï¼Œå°¤å…¶æ˜¯å¦‚ä½•è¿è¡ŒPlinkå‘½ä»¤ï¼Œå› ä¸ºç”¨æˆ·å¯èƒ½ä¸ç†Ÿæ‚‰å‘½ä»¤è¡Œæ“ä½œã€‚åŒæ—¶æé†’ç”¨æˆ·ç¡®ä¿ä»–ä»¬ä¿¡ä»»GitHubçš„ä¸»æœºå¯†é’¥ï¼Œä¸è¦éšæ„æ·»åŠ æœªçŸ¥çš„å¯†é’¥ï¼Œé¿å…å®‰å…¨é£é™©ã€‚

æ­¤å¤–ï¼Œå¦‚æœç”¨æˆ·ä¹‹å‰é…ç½®è¿‡SSHå¯†é’¥ï¼Œéœ€è¦ç¡®è®¤ä»–ä»¬çš„SSHç§é’¥æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥ä»“åº“ã€‚ä½†æ ¹æ®é”™è¯¯ä¿¡æ¯æ¥çœ‹ï¼Œä¸»è¦é—®é¢˜è¿˜æ˜¯ä¸»æœºå¯†é’¥æœªç¼“å­˜ï¼Œè€Œä¸æ˜¯æƒé™é—®é¢˜ã€‚ä½†é”™è¯¯ä¿¡æ¯æœ€åæåˆ°â€œè¯·ç¡®ä¿æ‚¨æœ‰æ­£ç¡®çš„è®¿é—®æƒé™â€ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦æ£€æŸ¥SSHå¯†é’¥æ˜¯å¦æ·»åŠ åˆ°GitHubè´¦æˆ·ä¸­ã€‚ä½†å¯èƒ½è¿™ä¸€æ­¥é—®é¢˜å·²ç»å¤„ç†ï¼Œæ‰€ä»¥ä¸»è¦é—®é¢˜è¿˜æ˜¯ä¸»æœºå¯†é’¥ç¼“å­˜ã€‚

å¯èƒ½çš„å…¶ä»–è€ƒè™‘ï¼šç”¨æˆ·æ˜¯å¦åœ¨ä»£ç†æˆ–é˜²ç«å¢™åé¢ï¼Œå¯¼è‡´æ— æ³•è¿æ¥åˆ°GitHubçš„22ç«¯å£ï¼Ÿä½†é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºå·²ç»èƒ½è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œåªæ˜¯ä¸»æœºå¯†é’¥æœªç¼“å­˜ï¼Œæ‰€ä»¥ç½‘ç»œè¿æ¥åº”è¯¥æ˜¯é€šçš„ï¼Œé—®é¢˜å‡ºåœ¨å¯†é’¥ç¡®è®¤ä¸Šã€‚

æœ€åï¼Œéœ€è¦ä»¥æ¸…æ™°ã€åˆ†æ­¥éª¤çš„æ–¹å¼æŒ‡å¯¼ç”¨æˆ·æ“ä½œï¼Œç¡®ä¿ä»–ä»¬èƒ½ç†è§£å¹¶å®‰å…¨åœ°è§£å†³é—®é¢˜ã€‚

## è¦è§£å†³ SourceTree ä¸­å‡ºç°çš„ SSH ä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

]]></description>
            <content:encoded><![CDATA[<h1 id="sourcetree-sshå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³" tabindex="-1">SourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³ <a class="header-anchor" href="#sourcetree-sshå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³" aria-label="Permalink to â€œSourceTree SSHå¯†é’¥ç¼“å­˜é—®é¢˜è§£å†³â€">&#8203;</a></h1>
<h2 id="é—®é¢˜æè¿°" tabindex="-1">é—®é¢˜æè¿° <a class="header-anchor" href="#é—®é¢˜æè¿°" aria-label="Permalink to â€œé—®é¢˜æè¿°â€">&#8203;</a></h2>
<p>é€šè¿‡sourcetreeè¿æ¥githubæ—¶ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºï¼š</p>
<p>å‘½ä»¤:</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::7ztoprsud6g7lwrfbomajm::--><code>git -c diff.mnemonicprefix=false -c core.quotepath=false --no-optional-locks ls-remote git@github.com:VitepressAwesome/nolebase.git</code></pre>
</div><blockquote>
<p>è¾“å‡º:
é”™è¯¯: The host key is not cached for this server:
github.com (port 22)
You have no guarantee that the server is the computer you
think it is.
The server's ssh-ed25519 key fingerprint is:
ssh-ed25519 255 SHA256:+++++++æŒ‡çº¹++++++
If you trust this host, enter &quot;y&quot; to add the key to Plink's
cache and carry on connecting.
If you want to carry on connecting just once, without adding
the key to the cache, enter &quot;n&quot;.
If you do not trust this host, press Return to abandon the
connection.
Store key in cache? (y/n, Return cancels connection, i for more info) fatal: Could not read from remote repository.</p>
</blockquote>
<h2 id="åŸå› åˆ†æ" tabindex="-1">åŸå› åˆ†æ <a class="header-anchor" href="#åŸå› åˆ†æ" aria-label="Permalink to â€œåŸå› åˆ†æâ€">&#8203;</a></h2>
<p>æˆ‘ç°åœ¨éœ€è¦è§£å†³ç”¨æˆ·åœ¨ä½¿ç”¨SourceTreeæ—¶é‡åˆ°çš„SSHä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜ã€‚ç”¨æˆ·è¿è¡Œäº†gitå‘½ä»¤æ¥ls-remoteä¸€ä¸ªGitHubä»“åº“ï¼Œä½†æç¤ºä¸»æœºå¯†é’¥æœªç¼“å­˜ï¼Œéœ€è¦ç¡®è®¤æ˜¯å¦ä¿¡ä»»è¯¥å¯†é’¥ã€‚ç”¨æˆ·ç°åœ¨ä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†ï¼Œæ‰€ä»¥éœ€è¦ä¸€æ­¥æ­¥æŒ‡å¯¼ä»–ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘åº”è¯¥å›å¿†ä¸€ä¸‹SSHè¿æ¥çš„åŸºæœ¬åŸç†ã€‚å½“ç¬¬ä¸€æ¬¡é€šè¿‡SSHè¿æ¥åˆ°æŸä¸ªæœåŠ¡å™¨æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šæ£€æŸ¥æ˜¯å¦å·²ç»ç¼“å­˜äº†è¯¥æœåŠ¡å™¨çš„ä¸»æœºå¯†é’¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šæç¤ºç”¨æˆ·æ˜¯å¦ä¿¡ä»»è¯¥å¯†é’¥ã€‚è¿™ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚ç”¨æˆ·åœ¨è¿™é‡Œé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºä»–ä»¬çš„ç¯å¢ƒï¼ˆå¯èƒ½æ˜¯ä½¿ç”¨Plinkä½œä¸ºSSHå®¢æˆ·ç«¯ï¼‰æ²¡æœ‰ç¼“å­˜GitHubçš„ä¸»æœºå¯†é’¥ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œç”¨æˆ·ä½¿ç”¨çš„æ˜¯SourceTreeï¼Œè€ŒSourceTreeåœ¨Windowsä¸Šå¯èƒ½é»˜è®¤ä½¿ç”¨PuTTYçš„Plinkä½œä¸ºSSHå®¢æˆ·ç«¯ã€‚PuTTYå’ŒOpenSSHå¤„ç†å·²çŸ¥ä¸»æœºçš„æ–¹å¼ä¸åŒï¼ŒPuTTYä¼šæœ‰ä¸€ä¸ªå•ç‹¬çš„known_hostsæ–‡ä»¶ï¼Œè€ŒOpenSSHç”¨çš„æ˜¯ç”¨æˆ·ç›®å½•ä¸‹çš„.ssh/known_hostsã€‚ç”¨æˆ·é‡åˆ°çš„é—®é¢˜å¯èƒ½æ˜¯å› ä¸ºPlinkçš„ç¼“å­˜é‡Œæ²¡æœ‰GitHubçš„ä¸»æœºå¯†é’¥ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨ç¡®è®¤æ·»åŠ ã€‚</p>
<p>ç”¨æˆ·çœ‹åˆ°çš„é”™è¯¯ä¿¡æ¯é‡Œæåˆ°äº†æ˜¯å¦å°†å¯†é’¥ä¿å­˜åˆ°Plinkçš„ç¼“å­˜ä¸­ï¼Œéœ€è¦è¾“å…¥yæˆ–nã€‚å¦‚æœç”¨æˆ·è¾“å…¥yï¼ŒPlinkå°±ä¼šæŠŠå¯†é’¥ä¿å­˜ä¸‹æ¥ï¼Œä»¥åè¿æ¥å°±ä¸ä¼šå†æç¤ºäº†ã€‚ä½†ç”¨æˆ·å¯èƒ½æ˜¯åœ¨SourceTreeä¸­æ“ä½œï¼Œæ²¡æœ‰ç›´æ¥çš„æœºä¼šè¾“å…¥è¿™ä¸ªyï¼Œå¯¼è‡´è¿æ¥å¤±è´¥ã€‚è¿™æ—¶å€™éœ€è¦æ‰‹åŠ¨ç¡®è®¤GitHubçš„ä¸»æœºå¯†é’¥ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°Plinkçš„ç¼“å­˜ä¸­ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘éœ€è¦éªŒè¯GitHubçš„SSHå¯†é’¥æŒ‡çº¹æ˜¯å¦æ­£ç¡®ã€‚ç”¨æˆ·çœ‹åˆ°çš„æŒ‡çº¹æ˜¯ssh-ed25519 255 SHA256:+++++++æŒ‡çº¹++++++ã€‚æ ¹æ®GitHubçš„å®˜æ–¹æ–‡æ¡£ï¼Œä»–ä»¬çš„Ed25519æŒ‡çº¹ç¡®å®æ˜¯è¿™ä¸ªSHA256å€¼ã€‚æ‰€ä»¥ç”¨æˆ·åº”è¯¥ä¿¡ä»»è¿™ä¸ªå¯†é’¥ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆå¯èƒ½åŒ…æ‹¬å‡ ç§æ–¹æ³•ï¼š</p>
<ol>
<li>
<p>æ‰‹åŠ¨ä½¿ç”¨Plinkï¼ˆPuTTYçš„ç»„ä»¶ï¼‰è¿æ¥åˆ°GitHubï¼Œè¿™æ ·ä¼šè§¦å‘ä¿å­˜ä¸»æœºå¯†é’¥çš„æç¤ºï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥yç¡®è®¤ã€‚ä¾‹å¦‚è¿è¡Œ<code>plink git@github.com</code>ï¼Œç„¶åè¾“å…¥yï¼Œä¹‹åSourceTreeå°±èƒ½æ­£å¸¸è¿æ¥äº†ã€‚</p>
</li>
<li>
<p>å°†GitHubçš„ä¸»æœºå¯†é’¥æ‰‹åŠ¨æ·»åŠ åˆ°Plinkçš„known_hostsæ–‡ä»¶ä¸­ï¼Œå³PuTTYçš„ç¼“å­˜æ–‡ä»¶ã€‚éœ€è¦æ‰¾åˆ°Plinkå­˜å‚¨known hostsçš„ä½ç½®ï¼Œé€šå¸¸æ˜¯æ³¨å†Œè¡¨ä¸­çš„æŸä¸ªä½ç½®ï¼Œæˆ–è€…ä½¿ç”¨Pageantæ¥ç®¡ç†ã€‚ä¸è¿‡æ‰‹åŠ¨æ“ä½œæ³¨å†Œè¡¨å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å¯èƒ½æ›´æ¨èç¬¬ä¸€ç§æ–¹æ³•ã€‚</p>
</li>
<li>
<p>æˆ–è€…ï¼Œå°†SourceTreeçš„SSHå®¢æˆ·ç«¯åˆ‡æ¢ä¸ºOpenSSHè€Œä¸æ˜¯Plinkï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„SSHé…ç½®ï¼Œå¯èƒ½é¿å…è¿™ä¸ªé—®é¢˜ã€‚ä½†ç”¨æˆ·å¯èƒ½éœ€è¦é…ç½®SourceTreeä½¿ç”¨OpenSSHï¼Œå¹¶ä¸”ç¡®ä¿known_hostsä¸­å·²ç»æœ‰GitHubçš„å¯†é’¥ã€‚</p>
</li>
</ol>
<p>å¦å¤–ï¼Œç”¨æˆ·å¯èƒ½é‡åˆ°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä¹‹å‰æ²¡æœ‰é€šè¿‡Plinkè¿æ¥è¿‡GitHubï¼Œæ‰€ä»¥éœ€è¦é¦–æ¬¡ç¡®è®¤ã€‚æˆ–è€…å¯èƒ½SourceTreeåœ¨åå°è¿è¡ŒPlinkæ—¶æ²¡æœ‰æä¾›äº¤äº’å¼æç¤ºï¼Œå¯¼è‡´æ— æ³•è¾“å…¥yï¼Œä»è€Œå¤±è´¥ã€‚å› æ­¤éœ€è¦æ‰‹åŠ¨è§¦å‘è¿™ä¸ªç¡®è®¤è¿‡ç¨‹ã€‚</p>
<p>æ€»ç»“ä¸‹æ¥ï¼Œæ­¥éª¤åº”è¯¥æ˜¯ï¼š</p>
<ul>
<li>
<p>ç¡®è®¤GitHubçš„SSHæŒ‡çº¹æ˜¯å¦åŒ¹é…å®˜æ–¹æ–‡æ¡£ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨Plinkæ‰‹åŠ¨è¿æ¥GitHubï¼Œè§¦å‘ä¿å­˜å¯†é’¥çš„æç¤ºï¼Œè¾“å…¥yç¡®è®¤ã€‚</p>
</li>
<li>
<p>ä¹‹åSourceTreeçš„å‘½ä»¤åº”è¯¥å°±èƒ½æ­£å¸¸æ‰§è¡Œäº†ã€‚</p>
</li>
</ul>
<p>æˆ–è€…ï¼Œå¦‚æœç”¨æˆ·æ›´ç†Ÿæ‚‰OpenSSHï¼Œå¯ä»¥åˆ‡æ¢SourceTreeçš„SSHå®¢æˆ·ç«¯ä¸ºOpenSSHï¼Œè¿™æ ·åˆ©ç”¨ç³»ç»Ÿå·²æœ‰çš„known_hostsæ–‡ä»¶ï¼Œå¯èƒ½å·²ç»åŒ…å«äº†GitHubçš„å¯†é’¥ã€‚</p>
<p>éœ€è¦è¯¦ç»†è¯´æ˜æ¯ä¸€æ­¥çš„æ“ä½œï¼Œå°¤å…¶æ˜¯å¦‚ä½•è¿è¡ŒPlinkå‘½ä»¤ï¼Œå› ä¸ºç”¨æˆ·å¯èƒ½ä¸ç†Ÿæ‚‰å‘½ä»¤è¡Œæ“ä½œã€‚åŒæ—¶æé†’ç”¨æˆ·ç¡®ä¿ä»–ä»¬ä¿¡ä»»GitHubçš„ä¸»æœºå¯†é’¥ï¼Œä¸è¦éšæ„æ·»åŠ æœªçŸ¥çš„å¯†é’¥ï¼Œé¿å…å®‰å…¨é£é™©ã€‚</p>
<p>æ­¤å¤–ï¼Œå¦‚æœç”¨æˆ·ä¹‹å‰é…ç½®è¿‡SSHå¯†é’¥ï¼Œéœ€è¦ç¡®è®¤ä»–ä»¬çš„SSHç§é’¥æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥ä»“åº“ã€‚ä½†æ ¹æ®é”™è¯¯ä¿¡æ¯æ¥çœ‹ï¼Œä¸»è¦é—®é¢˜è¿˜æ˜¯ä¸»æœºå¯†é’¥æœªç¼“å­˜ï¼Œè€Œä¸æ˜¯æƒé™é—®é¢˜ã€‚ä½†é”™è¯¯ä¿¡æ¯æœ€åæåˆ°â€œè¯·ç¡®ä¿æ‚¨æœ‰æ­£ç¡®çš„è®¿é—®æƒé™â€ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦æ£€æŸ¥SSHå¯†é’¥æ˜¯å¦æ·»åŠ åˆ°GitHubè´¦æˆ·ä¸­ã€‚ä½†å¯èƒ½è¿™ä¸€æ­¥é—®é¢˜å·²ç»å¤„ç†ï¼Œæ‰€ä»¥ä¸»è¦é—®é¢˜è¿˜æ˜¯ä¸»æœºå¯†é’¥ç¼“å­˜ã€‚</p>
<p>å¯èƒ½çš„å…¶ä»–è€ƒè™‘ï¼šç”¨æˆ·æ˜¯å¦åœ¨ä»£ç†æˆ–é˜²ç«å¢™åé¢ï¼Œå¯¼è‡´æ— æ³•è¿æ¥åˆ°GitHubçš„22ç«¯å£ï¼Ÿä½†é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºå·²ç»èƒ½è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œåªæ˜¯ä¸»æœºå¯†é’¥æœªç¼“å­˜ï¼Œæ‰€ä»¥ç½‘ç»œè¿æ¥åº”è¯¥æ˜¯é€šçš„ï¼Œé—®é¢˜å‡ºåœ¨å¯†é’¥ç¡®è®¤ä¸Šã€‚</p>
<p>æœ€åï¼Œéœ€è¦ä»¥æ¸…æ™°ã€åˆ†æ­¥éª¤çš„æ–¹å¼æŒ‡å¯¼ç”¨æˆ·æ“ä½œï¼Œç¡®ä¿ä»–ä»¬èƒ½ç†è§£å¹¶å®‰å…¨åœ°è§£å†³é—®é¢˜ã€‚</p>
<h2 id="è¦è§£å†³-sourcetree-ä¸­å‡ºç°çš„-ssh-ä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜-è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œ" tabindex="-1">è¦è§£å†³ SourceTree ä¸­å‡ºç°çš„ SSH ä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š <a class="header-anchor" href="#è¦è§£å†³-sourcetree-ä¸­å‡ºç°çš„-ssh-ä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜-è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œ" aria-label="Permalink to â€œè¦è§£å†³ SourceTree ä¸­å‡ºç°çš„ SSH ä¸»æœºå¯†é’¥æœªç¼“å­˜çš„é—®é¢˜ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼šâ€">&#8203;</a></h2>
<hr>
<h3 id="_1-éªŒè¯-github-çš„-ssh-å¯†é’¥æŒ‡çº¹" tabindex="-1"><strong>1. éªŒè¯ GitHub çš„ SSH å¯†é’¥æŒ‡çº¹</strong> <a class="header-anchor" href="#_1-éªŒè¯-github-çš„-ssh-å¯†é’¥æŒ‡çº¹" aria-label="Permalink to â€œ1. éªŒè¯ GitHub çš„ SSH å¯†é’¥æŒ‡çº¹â€">&#8203;</a></h3>
<p>é¦–å…ˆç¡®è®¤æç¤ºä¸­çš„æŒ‡çº¹æ˜¯å¦ä¸ GitHub å®˜æ–¹ä¸€è‡´ï¼š</p>
<ul>
<li><strong>GitHub å®˜æ–¹ Ed25519 æŒ‡çº¹</strong>ï¼š<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::hpuy9n1ieju4mu05cvxfqs::--><code>SHA256:+++++++æŒ‡çº¹++++++</code></pre>
</div>å¦‚æœåŒ¹é…ï¼Œè¯´æ˜æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥ä¿¡ä»»ã€‚</li>
</ul>
<hr>
<h3 id="_2-æ‰‹åŠ¨ç¼“å­˜å¯†é’¥-é€šè¿‡-plink" tabindex="-1"><strong>2. æ‰‹åŠ¨ç¼“å­˜å¯†é’¥ï¼ˆé€šè¿‡ Plinkï¼‰</strong> <a class="header-anchor" href="#_2-æ‰‹åŠ¨ç¼“å­˜å¯†é’¥-é€šè¿‡-plink" aria-label="Permalink to â€œ2. æ‰‹åŠ¨ç¼“å­˜å¯†é’¥ï¼ˆé€šè¿‡ Plinkï¼‰â€">&#8203;</a></h3>
<p>SourceTree å¯èƒ½ä½¿ç”¨ Plinkï¼ˆPuTTY çš„ SSH å®¢æˆ·ç«¯ï¼‰ï¼Œéœ€æ‰‹åŠ¨è§¦å‘å¯†é’¥ä¿å­˜ï¼š</p>
<ol>
<li><strong>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦</strong>ï¼ˆCMD æˆ– PowerShellï¼‰ã€‚</li>
<li><strong>è¿è¡Œä»¥ä¸‹å‘½ä»¤</strong>ï¼š<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::rxgq1cr1n9io8p1i2bdxmf::--><code>plink git@github.com</code></pre>
</div></li>
<li><strong>è¾“å…¥ <code>y</code></strong> ç¡®è®¤ä¿å­˜å¯†é’¥åˆ° Plink çš„ç¼“å­˜ã€‚</li>
<li><strong>ç­‰å¾…è¿æ¥è¢«æ‹’ç»</strong>ï¼ˆæ­£å¸¸ç°è±¡ï¼Œç›®çš„ä»…æ˜¯ç¼“å­˜å¯†é’¥ï¼‰ã€‚</li>
</ol>
<hr>
<h3 id="_3-æ£€æŸ¥-sourcetree-çš„-ssh-é…ç½®" tabindex="-1"><strong>3. æ£€æŸ¥ SourceTree çš„ SSH é…ç½®</strong> <a class="header-anchor" href="#_3-æ£€æŸ¥-sourcetree-çš„-ssh-é…ç½®" aria-label="Permalink to â€œ3. æ£€æŸ¥ SourceTree çš„ SSH é…ç½®â€">&#8203;</a></h3>
<p>ç¡®ä¿ SourceTree ä½¿ç”¨æ­£ç¡®çš„ SSH å®¢æˆ·ç«¯ï¼š</p>
<ol>
<li>æ‰“å¼€ SourceTreeï¼Œè¿›å…¥ <strong>å·¥å…· &gt; é€‰é¡¹ &gt; ä¸€èˆ¬</strong>ã€‚</li>
<li>åœ¨ <strong>SSH å®¢æˆ·ç«¯</strong> ä¸­é€‰æ‹© <strong>OpenSSH</strong>ï¼ˆæ¨èï¼‰è€Œé PuTTY/Plinkã€‚
<ul>
<li>OpenSSH ä½¿ç”¨ç³»ç»Ÿ <code>known_hosts</code> æ–‡ä»¶ï¼ˆé€šå¸¸å·²åŒ…å« GitHub å¯†é’¥ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h3 id="_4-éªŒè¯-ssh-å¯†é’¥æƒé™" tabindex="-1"><strong>4. éªŒè¯ SSH å¯†é’¥æƒé™</strong> <a class="header-anchor" href="#_4-éªŒè¯-ssh-å¯†é’¥æƒé™" aria-label="Permalink to â€œ4. éªŒè¯ SSH å¯†é’¥æƒé™â€">&#8203;</a></h3>
<p>ç¡®ä¿ä½ çš„ SSH ç§é’¥å·²æ·»åŠ åˆ° GitHub è´¦æˆ·ï¼š</p>
<ol>
<li>æ£€æŸ¥ <code>~/.ssh/id_ed25519.pub</code> æˆ– <code>~/.ssh/id_rsa.pub</code> å†…å®¹ã€‚</li>
<li>ç™»å½• GitHubï¼Œè¿›å…¥ <strong>Settings &gt; SSH and GPG Keys</strong>ï¼Œæ·»åŠ å…¬é’¥ã€‚</li>
</ol>
<hr>
<h3 id="_5-é‡æ–°å°è¯•æ“ä½œ" tabindex="-1"><strong>5. é‡æ–°å°è¯•æ“ä½œ</strong> <a class="header-anchor" href="#_5-é‡æ–°å°è¯•æ“ä½œ" aria-label="Permalink to â€œ5. é‡æ–°å°è¯•æ“ä½œâ€">&#8203;</a></h3>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œé‡æ–°æ‰§è¡Œ SourceTree çš„æ‹‰å–/æ¨é€æ“ä½œã€‚</p>
<hr>
<h3 id="é™„-å¸¸è§é—®é¢˜" tabindex="-1">é™„ï¼šå¸¸è§é—®é¢˜ <a class="header-anchor" href="#é™„-å¸¸è§é—®é¢˜" aria-label="Permalink to â€œé™„ï¼šå¸¸è§é—®é¢˜â€">&#8203;</a></h3>
<ul>
<li><strong>å¦‚æœ Plink æœªå®‰è£…</strong>ï¼šå®‰è£… Git æ—¶é€‰æ‹©â€œä½¿ç”¨ OpenSSHâ€è€Œé PuTTYã€‚</li>
<li><strong>é˜²ç«å¢™/ç½‘ç»œé—®é¢˜</strong>ï¼šç¡®ä¿èƒ½è®¿é—® <code>github.com:22</code> ç«¯å£ã€‚</li>
<li><strong>å¼ºåˆ¶ä½¿ç”¨ OpenSSH</strong>ï¼ˆæ¨èï¼‰ï¼š<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::5k3kjucirpsd3j5tikewml::--><code>git config --global core.sshCommand &quot;ssh -o IdentitiesOnly=yes -i ~/.ssh/your_private_key&quot;</code></pre>
</div></li>
</ul>
<hr>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼ŒSourceTree åº”èƒ½æ­£ç¡®ç¼“å­˜ GitHub çš„ä¸»æœºå¯†é’¥å¹¶æ­£å¸¸è®¿é—®ä»“åº“ã€‚</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ä½¿ç”¨Pagefindä¸ºVitePressæ–‡æ¡£æ·»åŠ ç¦»çº¿å…¨æ–‡æœç´¢èƒ½åŠ›]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/vitepress-plugin-pagefind.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/vitepress-plugin-pagefind.html</guid>
            <pubDate>Fri, 17 Jan 2025 03:00:01 GMT</pubDate>
            <description><![CDATA[Pagefindæ˜¯åŸºäºRustå®ç°çš„ç¦»çº¿æœç´¢åº“ï¼Œæ£€ç´¢ç”Ÿæˆåçš„HTMLé¡µé¢å†…å®¹ï¼Œç„¶åè‡ªåŠ¨æ„å»ºç´¢å¼•æ–‡ä»¶ï¼Œæä¾›æœç´¢ä½¿ç”¨çš„APIå’Œç»„ä»¶]]></description>
            <content:encoded><![CDATA[<h1 id="ä½¿ç”¨pagefindä¸ºvitepressæ–‡æ¡£æ·»åŠ ç¦»çº¿å…¨æ–‡æœç´¢èƒ½åŠ›" tabindex="-1">ä½¿ç”¨Pagefindä¸ºVitePressæ–‡æ¡£æ·»åŠ ç¦»çº¿å…¨æ–‡æœç´¢èƒ½åŠ› <a class="header-anchor" href="#ä½¿ç”¨pagefindä¸ºvitepressæ–‡æ¡£æ·»åŠ ç¦»çº¿å…¨æ–‡æœç´¢èƒ½åŠ›" aria-label="Permalink to â€œä½¿ç”¨Pagefindä¸ºVitePressæ–‡æ¡£æ·»åŠ ç¦»çº¿å…¨æ–‡æœç´¢èƒ½åŠ›â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><a href="https://vitepress.dev/" target="_blank" rel="noreferrer">VitePress</a> ç›¸ä¿¡å¤§å®¶éƒ½æˆ–å¤šæˆ–å°‘å¬è¯´è¿‡æˆ–è€…ç”¨è¿‡äº†</p>
<p>é»˜è®¤ UIç›¸æ¯” <a href="https://v2.vuepress.vuejs.org/" target="_blank" rel="noreferrer">VuePress2.x</a> å¥½çœ‹ï¼Œå¯åŠ¨é€Ÿåº¦ä¹Ÿå¿«ï¼ˆç”±Viteé©±åŠ¨ï¼Œå½“ç„¶VuePressä¹Ÿå¯ä»¥åˆ‡æ¢æ„å»ºå¼•æ“è‡³Viteï¼‰</p>
<p>åšå†…å®¹å®šåˆ¶ä¹Ÿç›¸å¯¹ç®€å•ï¼Œç¬”è€…çš„å¾ˆå¤šé™æ€æ–‡æ¡£ç«™ç‚¹ï¼ˆä½¿ç”¨VuePress1.xï¼‰ï¼Œæ–‡ç« å†…å®¹å¤šçš„æ—¶å€™å¯åŠ¨éå¸¸çš„æ…¢ï¼Œäºæ˜¯å°±ä»ä¹‹å‰çš„ VuePress è¿ç§»åˆ°äº† VitePressï¼Œå¹¶åšäº†ä¸€ä¸ªåšå®¢ä¸»é¢˜ <a href="https://theme.sugarat.top/" target="_blank" rel="noreferrer">@sugarat/theme</a> =&gt; ä¹‹å‰ä¹Ÿæœ‰è¿‡ä»‹ç»<a href="https://juejin.cn/post/7196517835380293693" target="_blank" rel="noreferrer">ä¸€ä¸ªç®€çº¦é£çš„VitePressåšå®¢ä¸»é¢˜</a></p>
<p>ä½†æ˜¯ VitePress å®˜æ–¹ç›®å‰è¿˜æ²¡æœ‰å†…ç½®å¼€ç®±å³ç”¨çš„æœç´¢èƒ½åŠ›ï¼ˆ<a href="https://github.com/vuejs/vitepress/pull/2110" target="_blank" rel="noreferrer">ç›¸å…³PR</a>è¿˜åœ¨æ–½å·¥ä¸­ï¼‰</p>
<p><img src="./vitepress-plugin-pagefind/MTY3OTgzNzk5NDg2MA==679837994860.png" alt="" loading="lazy"></p>
<p>æ–‡æ¡£é‡Œé¦–æ¨ä½¿ç”¨ <a href="https://docsearch.algolia.com/docs/what-is-docsearch" target="_blank" rel="noreferrer">Algolia DocSearch</a>, è¿™ä¸ªéœ€è¦ç”³è¯·ï¼Œæµç¨‹ç›¸å¯¹è¾ƒæ…¢ï¼Œå…¬å¸å†…ç½‘æ–‡æ¡£ä¹Ÿæ— æ³•æ¥å…¥ä½¿ç”¨ã€‚</p>
<p>æ¨èçš„å¦ä¸€ä¸ªæ–¹æ¡ˆæ˜¯ä½¿ç”¨ <a href="https://github.com/emersonbottero/vitepress-plugin-search" target="_blank" rel="noreferrer">vitepress-plugin-search</a> åŸºäº <a href="https://github.com/nextapps-de/flexsearch" target="_blank" rel="noreferrer">flexsearch</a> å®ç°ï¼Œä½†æ˜¯é»˜è®¤çš„UIè¾ƒä¸‘ï¼ˆä¸ Algolia çš„UIå·®è·è¾ƒå¤§ï¼‰ï¼Œå¯¹ä¸­æ–‡æ²¡æœ‰æä¾›å¼€ç®±å³ç”¨çš„æ”¯æŒï¼Œéœ€è¦<a href="https://github.com/emersonbottero/vitepress-plugin-search/issues/11" target="_blank" rel="noreferrer">è¿›è¡Œä¸€å®šçš„é…ç½®</a></p>
<p><img src="./vitepress-plugin-pagefind/MTY3OTgzODY5MzUxNQ==679838693515.png" alt="" loading="lazy"></p>
<p>ç›®å‰å¸¸ç”¨çš„é™¤äº† <code>flexsearch</code>ï¼Œè¿˜æœ‰ <a href="https://github.com/lucaong/minisearch" target="_blank" rel="noreferrer">MiniSearch</a></p>
<p>ç¬”è€…ä¹‹å‰åœ¨é€›GitHubçš„æ—¶å€™è¿˜å‘ç°äº†ä¸€ä¸ª <a href="https://github.com/cloudcannon/pagefind" target="_blank" rel="noreferrer">Pagefind</a>ï¼ˆåŸºäºRustå®ç°ï¼Œæ£€ç´¢ç”Ÿæˆåçš„HTMLé¡µé¢å†…å®¹ï¼Œç„¶åè‡ªåŠ¨æ„å»ºç´¢å¼•æ–‡ä»¶ï¼‰</p>
<p>æ„Ÿè§‰æŒºæœ‰æ„æ€çš„ï¼Œå°±ç ”ç©¶ä½¿ç”¨äº†ä¸€ç•ªï¼Œç„¶åå°†å…¶åšæˆäº†ä¸€ä¸ªå¯ç›´æ¥ä½¿ç”¨çš„ VItePress æ’ä»¶ï¼ˆä¹Ÿå°±æ˜¯æœ¬æ–‡å°†ä»‹ç»çš„ï¼‰</p>
<p>æœ¬æ–‡ä¸»è¦æ¼”ç¤ºä¸‹ æ¥å…¥æ­¥éª¤å’Œæ•ˆæœï¼Œå†ç®€å•ä»‹ç»<code>Pagefind</code>ï¼Œæœ€åè®²è§£ä¸€ä¸‹æ’ä»¶åŸç†</p>
<h2 id="æ¥å…¥åæ•ˆæœ" tabindex="-1">æ¥å…¥åæ•ˆæœ <a class="header-anchor" href="#æ¥å…¥åæ•ˆæœ" aria-label="Permalink to â€œæ¥å…¥åæ•ˆæœâ€">&#8203;</a></h2>
<p>åªéœ€è¦2æ­¥å³å¯å®Œæˆæ¥å…¥</p>
<p>â‘  å®‰è£… <a href="https://github.com/ripplejourney/ripplejourney.github.io/tree/master/packages/vitepress-plugin-pagefind" target="_blank" rel="noreferrer">vitepress-plugin-pagefind</a></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::5tl1f5k67s6eal3lkggqas::--><code>npm i vitepress-plugin-pagefind
# or
yarn add vitepress-plugin-pagefind
# or
pnpm add vitepress-plugin-pagefind</code></pre>
</div><p>â‘¡ åœ¨<code>.vitepress/config.ts</code>å¼•å…¥ä½¿ç”¨</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wep6bwurwyhy83xaon0dzp::--><code>import { defineConfig } from &#039;vitepress&#039;
import { pagefindPlugin } from &#039;vitepress-plugin-pagefind&#039;
export default defineConfig({
  vite:{
    plugins:[pagefindPlugin()],
  }
})</code></pre>
</div><p>UIå¦‚ä¸‹ï¼ˆpower by <a href="https://github.com/xiaoluoboding/vue-command-palette" target="_blank" rel="noreferrer">vue-command-palette</a>ï¼‰</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">æœç´¢æŒ‰é’®</th>
<th style="text-align:center">æœç´¢æ¡†</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./vitepress-plugin-pagefind/MTY3OTgxOTEzNjUwMw==679819136503.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./vitepress-plugin-pagefind/MTY3OTgxOTE1MDQ0OA==679819150448.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<h2 id="pagefindä»‹ç»" tabindex="-1">Pagefindä»‹ç» <a class="header-anchor" href="#pagefindä»‹ç»" aria-label="Permalink to â€œPagefindä»‹ç»â€">&#8203;</a></h2>
<blockquote>
<p><code>Pagefind</code>æ˜¯ä¸€ä¸ªå®Œå…¨é™æ€çš„æœç´¢åº“ï¼Œæ—¨åœ¨åœ¨å¤§å‹ç½‘ç«™ä¸Šè¡¨ç°è‰¯å¥½ï¼ŒåŒæ—¶å°½å¯èƒ½åœ°å‡å°‘ç”¨æˆ·å¸¦å®½çš„ä½¿ç”¨ï¼Œä¸”ä¸éœ€è¦è¿›è¡Œä»»ä½•åŸºç¡€è®¾æ–½æ‰˜ç®¡ã€‚</p>
</blockquote>
<blockquote>
<p><code>Pagefind</code>åœ¨Hugoï¼ŒEleventyï¼ŒJekyllï¼ŒNextï¼ŒAstroï¼ŒSvelteKitæˆ–ä»»ä½•å…¶ä»–SSGä¹‹åè¿è¡Œã€‚å®‰è£…è¿‡ç¨‹å§‹ç»ˆç›¸åŒï¼š<code>Pagefind</code>ä»…éœ€è¦ä¸€ä¸ªåŒ…å«æ„å»ºçš„é™æ€æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œå› æ­¤åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ— éœ€è¿›è¡Œé…ç½®å³å¯å¼€å§‹ä½¿ç”¨ã€‚</p>
</blockquote>
<blockquote>
<p>ç´¢å¼•åï¼Œ<code>Pagefind</code>ä¼šå‘æ‚¨çš„æ„å»ºæ–‡ä»¶æ·»åŠ é™æ€æœç´¢åŒ…ï¼Œè¯¥åŒ…å…¬å¼€äº†å¯ä»¥åœ¨ç«™ç‚¹ä»»ä½•ä½ç½®ä½¿ç”¨çš„<code>JavaScript</code>æœç´¢APIã€‚<code>Pagefind</code>è¿˜æä¾›äº†ä¸€ä¸ªå¯æ— éœ€é…ç½®å³å¯ä½¿ç”¨çš„é¢„æ„å»ºUI</p>
</blockquote>
<p>æ€»ç»“ï¼šæ¡†æ¶æ— å…³ï¼Œç›´æ¥è§£æé™æ€ç«™ç‚¹çš„äº§ç‰©ï¼Œç„¶åç”Ÿæˆç´¢å¼•æ–‡ä»¶ï¼Œ<strong>æä¾›å¼€ç®±å³ç”¨çš„APIå’Œç»„ä»¶</strong>ï¼Œæ”¯æŒå¼€ç®±å³ç”¨çš„å¤šè¯­è¨€ç«™ç‚¹ï¼Œé›¶é…ç½®</p>
<h3 id="ç”Ÿæˆå†…å®¹ç´¢å¼•" tabindex="-1">ç”Ÿæˆå†…å®¹ç´¢å¼• <a class="header-anchor" href="#ç”Ÿæˆå†…å®¹ç´¢å¼•" aria-label="Permalink to â€œç”Ÿæˆå†…å®¹ç´¢å¼•â€">&#8203;</a></h3>
<p>å¯ç›´æ¥é€šè¿‡npxè°ƒç”¨ï¼ŒæŒ‡å®šæ„å»ºåçš„äº§ç‰©ç›®å½•å³å¯</p>
<p>ä»¥ vitepress é»˜è®¤äº§ç‰©ç›®å½•ä¸ºä¾‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::m7tw8pe81psep114jj7vf::--><code>npx pagefind --source docs/.vitepress/dist</code></pre>
</div><p>ä¸€èˆ¬æ¯«ç§’çº§å°±å®Œæˆäº†é¡µé¢å†…å®¹çš„åˆ†æä¸pagefindéœ€è¦çš„èµ„æºè½¬æ¢</p>
<p><img src="./vitepress-plugin-pagefind/MTY4MDQwNzk5NzYxNw==680407997617.png" alt="" loading="lazy"></p>
<p>é»˜è®¤ä¼šè‡ªåŠ¨æ‰«ææŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰çš„<code>html</code>èµ„æºï¼Œå°†å¸¦æœ‰<code>data-pagefind-body</code>å±æ€§çš„å…ƒç´ ä½œä¸ºç´¢å¼•çš„ä½ç½®ï¼Œå¦åˆ™çš„è¯ä½¿ç”¨<code>&lt;body&gt;</code>ä½œä¸ºç´¢å¼•ä½ç½®</p>
<p>ä¼šè‡ªåŠ¨è¯†åˆ« <code>html</code> ä¸­çš„ <code>lang</code> å±æ€§ï¼Œä½¿ç”¨å¯¹åº”çš„åˆ†è¯ç­–ç•¥å¤„ç†ï¼Œç›®å‰å·²ç»<a href="https://pagefind.app/docs/multilingual/#language-support" target="_blank" rel="noreferrer">å†…ç½®å¤šç§è¯­è¨€æ”¯æŒ</a></p>
<p>ç”Ÿæˆçš„ç›¸å…³æ–‡ä»¶é»˜è®¤åœ¨<code>_pagefind</code>ç›®å½•ä¸­ï¼Œå†…å®¹å¦‚ä¸‹</p>
<p><img src="./vitepress-plugin-pagefind/MTY4MDQyMjc2NjQ3NQ==680422766475.png" alt="" loading="lazy"></p>
<h3 id="ä½¿ç”¨å†…ç½®æœç´¢ui" tabindex="-1">ä½¿ç”¨å†…ç½®æœç´¢UI <a class="header-anchor" href="#ä½¿ç”¨å†…ç½®æœç´¢ui" aria-label="Permalink to â€œä½¿ç”¨å†…ç½®æœç´¢UIâ€">&#8203;</a></h3>
<p>åœ¨ç”Ÿæˆç´¢å¼•çš„è¿‡ç¨‹ä¸­ï¼Œpagefindä¹Ÿä¼šæŠŠå†…ç½®çš„æœç´¢æ¡†UIç›¸å…³èµ„æºæ”¾å…¥å…¶ä¸­</p>
<p>åœ¨é¡µé¢ä¸­åªéœ€è¦å¯¼å…¥ç›¸åº”çš„<code>js/css</code>èµ„æºå³å¯</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::0l6ff7xvnhucnz7knohv6ds::--><code>&lt;link href=&quot;/_pagefind/pagefind-ui.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script src=&quot;/_pagefind/pagefind-ui.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;

&lt;div id=&quot;search&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    window.addEventListener(&#039;DOMContentLoaded&#039;, (event) =&gt; {
        new PagefindUI({ element: &quot;#search&quot; });
    });
&lt;/script&gt;</code></pre>
</div><p>æœç´¢æ¡†æ ·å¼å¦‚ä¸‹</p>
<p><img src="./vitepress-plugin-pagefind/MTY4MDQyMzM0OTQ2NA==680423349464.png" alt="" loading="lazy"></p>
<h3 id="ä½¿ç”¨js-api" tabindex="-1">ä½¿ç”¨JS API <a class="header-anchor" href="#ä½¿ç”¨js-api" aria-label="Permalink to â€œä½¿ç”¨JS APIâ€">&#8203;</a></h3>
<p>é»˜è®¤çš„æœç´¢æ¡†æ ·å¼ä¸æ»¡è¶³çš„è¯å¯ä»¥ï¼Œè‡ªå®šä¹‰æœç´¢æ¡†é€»è¾‘ï¼Œé€šè¿‡JS APIè°ƒç”¨æœç´¢èƒ½åŠ›</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4jzqf9rss281g41oaf6001::--><code>// 1. Initializing Pagefind
const pagefind = await import(&quot;/_pagefind/pagefind.js&quot;);
// 2. search docs
const search = await pagefind.search(&quot;hello&quot;);
// 3. Loading a result
const oneResult = await search.results[0].data();</code></pre>
</div><p>æœç´¢ç»“æœæ ¼å¼å¦‚ä¸‹</p>
<p><img src="./vitepress-plugin-pagefind/MTY4MDQyMzg0NzMxMg==680423847312.png" alt="" loading="lazy"></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::8d4q6opmkef9qyybccw134::--><code>interface SearchResult {
  url: string;
  excerpt: string;
  filters: Record&lt;string,any&gt;;
  meta: Record&lt;string,any&gt;;
  content: string;
  word_count: number;
}</code></pre>
</div><h3 id="ä¸€äº›ä¸è¶³" tabindex="-1">ä¸€äº›ä¸è¶³ <a class="header-anchor" href="#ä¸€äº›ä¸è¶³" aria-label="Permalink to â€œä¸€äº›ä¸è¶³â€">&#8203;</a></h3>
<ul>
<li>ä»…é’ˆå¯¹æ„å»ºåçš„äº§ç‰©è¿›è¡Œç´¢å¼•ï¼Œå¼€å‘ç¯å¢ƒä¸‹æ— æ³•å·¥ä½œ</li>
<li>å¯¹ä¸­æ–‡å’Œæ—¥è¯­ç­‰æ”¯æŒç›¸å¯¹è‹±è¯­ä¼šå·®ä¸€ç‚¹ï¼ˆåŒºåˆ«è§ä¸‹æˆªå›¾ï¼‰
<img src="./vitepress-plugin-pagefind/MTY4MDQyNDMyMjk1MA==680424322950.png" alt="" loading="lazy"></li>
<li>ä¸æ”¯è·³è½¬è‡³æ ‡é¢˜</li>
</ul>
<h2 id="æ’ä»¶å®ç°åŸç†è§£æ" tabindex="-1">æ’ä»¶å®ç°åŸç†è§£æ <a class="header-anchor" href="#æ’ä»¶å®ç°åŸç†è§£æ" aria-label="Permalink to â€œæ’ä»¶å®ç°åŸç†è§£æâ€">&#8203;</a></h2>
<p>è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç» <code>vitepress-plugin-pagefind</code> çš„å…³é”®å®ç°éƒ¨åˆ†ï¼ˆç»†èŠ‚å¯çœ‹<a href="https://github.com/ripplejourney/ripplejourney.github.io/tree/master/packages/vitepress-plugin-pagefind" target="_blank" rel="noreferrer">æºç </a>ï¼Œå¦‚è¯»è€…æœ‰æ›´å¥½çš„å®ç°æ€è·¯å¯ä»¥è¯„è®ºåŒºäº¤æµï¼‰</p>
<p>å‡ ä¸ªå…³é”®æ­¥éª¤:</p>
<ol>
<li>æ›¿æ¢é»˜è®¤æœç´¢ç»„ä»¶</li>
<li>ç›®æ ‡å…ƒç´ ä¸Šæ’å…¥æ£€ç´¢çš„æ ‡è¯†<code>data-pagefind-body</code></li>
<li>æ’å…¥è¿è¡Œæ—¶çš„<code>script</code>è„šæœ¬</li>
</ol>
<h3 id="æ›¿æ¢é»˜è®¤æœç´¢ç»„ä»¶" tabindex="-1">æ›¿æ¢é»˜è®¤æœç´¢ç»„ä»¶ <a class="header-anchor" href="#æ›¿æ¢é»˜è®¤æœç´¢ç»„ä»¶" aria-label="Permalink to â€œæ›¿æ¢é»˜è®¤æœç´¢ç»„ä»¶â€">&#8203;</a></h3>
<p>é€šè¿‡æŸ¥çœ‹é»˜è®¤å¸ƒå±€ç»„ä»¶<code>Layout.vue</code>æºç å…¶ä¸­æœç´¢ç»„ä»¶æ˜¯è¢«<code>VPNavBarSearch.vue</code>å¼•å…¥</p>
<p>å’±åªéœ€è¦é€šè¿‡æ’ä»¶æ·»åŠ ä¸€ä¸ª <code>alias</code> è§„åˆ™,å°†å…¶æŒ‡å‘è‡ªå®šä¹‰çš„ç»„ä»¶å³å¯</p>
<p>è¿™ä¸ªä½¿ç”¨æ’ä»¶çš„ <code>config</code> é’©å­å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::jqihkf5gt6p7mx523zizua::--><code>export function pagefindPlugin() {
  return {
    name: &#039;vitepress-plugin-pagefind&#039;,
    enforce: &#039;pre&#039;,
    config: () =&gt; ({
      resolve: {
        alias: {
          &#039;./VPNavBarSearch.vue&#039;: &#039;vitepress-plugin-pagefind/Search.vue&#039;
        }
      }
    }),
  }
}</code></pre>
</div><h3 id="æ·»åŠ ç´¢å¼•æ ‡è¯†" tabindex="-1">æ·»åŠ ç´¢å¼•æ ‡è¯† <a class="header-anchor" href="#æ·»åŠ ç´¢å¼•æ ‡è¯†" aria-label="Permalink to â€œæ·»åŠ ç´¢å¼•æ ‡è¯†â€">&#8203;</a></h3>
<p>ç”±äºvitepressçš„é»˜è®¤ <code>body</code>å…ƒç´ ä¸­åŒ…å« navBarï¼Œfooterï¼Œsidebarç­‰ç­‰ç­‰å†…å®¹</p>
<p>é»˜è®¤æƒ…å†µä¸‹æ¯ä¸ªé¡µé¢çš„ä»£ç ä¸­éƒ½ä¼šåŒ…å«è¿™äº›å…¬å…±å†…å®¹ï¼Œå› æ­¤ä¼šå¯¼è‡´æ£€ç´¢å‡ºçš„å†…å®¹æœ‰å¾ˆå¤šé‡å¤ä¿¡æ¯</p>
<p>ç†è®ºä¸Šåªéœ€è¦æ£€ç´¢ç”¨æˆ·ç¼–å†™çš„ markdownå†…å®¹ç”Ÿæˆçš„éƒ¨åˆ†</p>
<p>ä¹Ÿå°±æ˜¯<code>VPContent.vue</code>ç»„ä»¶æ¸²æŸ“çš„å†…å®¹ï¼ˆå½“ç„¶é‡Œé¢åŒ…å«äº†3ç§æƒ…å†µ<code>VPHome</code>ï¼Œ<code>VPPage</code>ï¼Œ<code>VPDoc</code>è¿™é‡Œå¯ä»¥ä¸åšåŒºåˆ†ï¼‰</p>
<p>è¿™ä¸ªé€šè¿‡æ’ä»¶çš„<code>transform</code>é’©å­å¤„ç†ä¸€ä¸‹ï¼Œæ„å»ºæ—¶æ›¿æ¢æºç ä¸­<code>VPContent</code>çš„å†…å®¹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zqmjjuincsiscctonzfpt::--><code>export function pagefindPlugin() {
  return {
    // ... other code
    transform(code, id) {
      if (id.endsWith(&#039;theme-default/Layout.vue&#039;)) {
        return code.replace(&#039;&lt;VPContent&gt;&#039;, &#039;&lt;VPContent data-pagefind-body&gt;&#039;)
      }
      return code
    }
  }
}</code></pre>
</div><h3 id="è¿è¡Œæ—¶çš„è„šæœ¬æ³¨å…¥" tabindex="-1">è¿è¡Œæ—¶çš„è„šæœ¬æ³¨å…¥ <a class="header-anchor" href="#è¿è¡Œæ—¶çš„è„šæœ¬æ³¨å…¥" aria-label="Permalink to â€œè¿è¡Œæ—¶çš„è„šæœ¬æ³¨å…¥â€">&#8203;</a></h3>
<p>å› ä¸ºç›¸å…³èµ„æºæ˜¯åœ¨Buildä¹‹åæ‰ä¼šç”Ÿæˆï¼Œæ‰€ä»¥ç›´æ¥åœ¨æºç ä¸­ <code>import</code> ä¼šæç¤º <code>module not found</code> å¯¼è‡´æ„å»ºå¤±è´¥</p>
<p>å’±å¯ä»¥åœ¨æœç´¢ç»„ä»¶é‡Œå†™ä¸€æ®µè„šæœ¬ï¼Œåœ¨é¡µé¢è¿è¡Œå<code>append</code>åˆ°é¡µé¢ä¸­ï¼Œè¿™æ®µé€»è¾‘å¯ä»¥å†™åˆ°<code>onBeforeMount</code>å‘¨æœŸå‡½æ•°ä¸­</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::5kb5m09x66wx2v4q3ez2cr::--><code>import { onBeforeMount } from &#039;vue&#039;

const addInlineScript = () =&gt; {
  const scriptText = `import(&#039;/_pagefind/pagefind.js&#039;)
        .then((module) =&gt; {
          window.__pagefind__ = module
        })
        .catch(() =&gt; {
          console.log(&#039;not load /_pagefind/pagefind.js&#039;)
        })`
  const inlineScript = document.createElement(&#039;script&#039;)
  inlineScript.innerHTML = scriptText
  document.head.appendChild(inlineScript)
}

onBeforeMount(() =&gt; {
  addInlineScript()
})</code></pre>
</div><p><code>pagefind</code>æˆ‘è¿™é‡Œé‡‡ç”¨<code>import(source)</code>åŠ¨æ€å¯¼å…¥ï¼Œç»„ä»¶æœç´¢ç›´æ¥ä½¿ç”¨<code>window.__pagefind__</code>æ¥è¿›è¡ŒAPIçš„è°ƒç”¨</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>ç›®å‰è¿™ä¸€ç‰ˆæ’ä»¶ä¸»è¦æ˜¯å°†pagefindåšäº†ä¸€ä¸ªç®€å•çš„å†…ç½®ï¼Œæ²¡æœ‰å¯¹æœç´¢ç»“æœè¿›è¡Œä¼˜åŒ–ï¼Œä¹Ÿä¸æ”¯æŒå¤šçº§æ ‡é¢˜çš„è·³è½¬</p>
<p>åç»­æ˜¯å‡†å¤‡ä¼˜åŒ–ä¸€ä¸‹æ’ä»¶çš„æœ¬èº«å®ç°å’ŒåŠŸèƒ½</p>
<ul>
<li>æ’ä»¶å†…éƒ¨çš„hackå®ç°æ›¿æ¢ä¸º VitePress çš„ <a href="https://vitepress.dev/reference/site-config#build-hooks" target="_blank" rel="noreferrer">Build Hooks</a></li>
<li>æœç´¢å†…å®¹çš„è¾“å…¥è¾“å‡ºæ”¯æŒè‡ªå®šä¹‰çš„è½¬æ¢</li>
<li>è·³è½¬æ”¯æŒæ ‡é¢˜</li>
<li>...</li>
</ul>
<p>æ¬¢è¿å„ä½åœ¨è¯„è®ºåŒºäº¤æµæƒ³æ³•</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/vitepress-plugin-pagefind/MTY3OTgzOTgxMjU3NQ==679839812575.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[dotnetå¼€å‘]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/dotnet/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/dotnet/</guid>
            <pubDate>Thu, 21 Nov 2024 05:28:38 GMT</pubDate>
            <description><![CDATA[dotnetå¼€å‘ç›¸å…³
 ç›®å½•
* å¤§æ•°ç›¸åŠ &nuget ä¿®æ”¹ packageå­˜å‚¨ä½ç½®]]></description>
            <content:encoded><![CDATA[<h1 id="dotnetå¼€å‘" tabindex="-1">dotnetå¼€å‘ <a class="header-anchor" href="#dotnetå¼€å‘" aria-label="Permalink to â€œdotnetå¼€å‘â€">&#8203;</a></h1>
<p>dotnetå¼€å‘ç›¸å…³</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./dotnetViaVscode.html">å¤§æ•°ç›¸åŠ &amp;nuget ä¿®æ”¹ packageå­˜å‚¨ä½ç½®</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[nuget ä¿®æ”¹ packageå­˜å‚¨ä½ç½®]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/dotnet/dotnetViaVscode.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/dotnet/dotnetViaVscode.html</guid>
            <pubDate>Thu, 21 Nov 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[æ–¹æ³•ä¸€ï¼šä¿®æ”¹ NuGet é…ç½®æ–‡ä»¶
1. æ‰“å¼€ NuGet é…ç½®æ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶é€šå¸¸ä½äºä»¥ä¸‹ä½ç½®ï¼š
   - Windows: `%AppData%\NuGet\NuGet.Config`
   - m]]></description>
            <content:encoded><![CDATA[<h1 id="è¦ä¿®æ”¹-nuget-åŒ…å­˜å‚¨ä½ç½®-æ‚¨éœ€è¦æ›´æ”¹-nuget-é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œçš„æ­¥éª¤" tabindex="-1">è¦ä¿®æ”¹ NuGet åŒ…å­˜å‚¨ä½ç½®ï¼Œæ‚¨éœ€è¦æ›´æ”¹ NuGet é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œçš„æ­¥éª¤ï¼š <a class="header-anchor" href="#è¦ä¿®æ”¹-nuget-åŒ…å­˜å‚¨ä½ç½®-æ‚¨éœ€è¦æ›´æ”¹-nuget-é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œçš„æ­¥éª¤" aria-label="Permalink to â€œè¦ä¿®æ”¹ NuGet åŒ…å­˜å‚¨ä½ç½®ï¼Œæ‚¨éœ€è¦æ›´æ”¹ NuGet é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œçš„æ­¥éª¤ï¼šâ€">&#8203;</a></h1>
<h3 id="æ–¹æ³•ä¸€-ä¿®æ”¹-nuget-é…ç½®æ–‡ä»¶" tabindex="-1">æ–¹æ³•ä¸€ï¼šä¿®æ”¹ NuGet é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#æ–¹æ³•ä¸€-ä¿®æ”¹-nuget-é…ç½®æ–‡ä»¶" aria-label="Permalink to â€œæ–¹æ³•ä¸€ï¼šä¿®æ”¹ NuGet é…ç½®æ–‡ä»¶â€">&#8203;</a></h3>
<ol>
<li>
<p>æ‰“å¼€ NuGet é…ç½®æ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶é€šå¸¸ä½äºä»¥ä¸‹ä½ç½®ï¼š</p>
<ul>
<li>Windows: <code>%AppData%\NuGet\NuGet.Config</code></li>
<li>macOS/Linux: <code>$HOME/.config/NuGet/NuGet.Config</code></li>
</ul>
<p>å¦‚æœæ‚¨æ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ <code>nuget config -list</code> å‘½ä»¤æŸ¥çœ‹å½“å‰çš„ NuGet é…ç½®ã€‚</p>
</li>
<li>
<p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æˆ–ä¿®æ”¹ <code>&lt;packageSources&gt;</code> éƒ¨åˆ†ï¼ŒæŒ‡å®šæ–°çš„å­˜å‚¨ä½ç½®ã€‚ä¾‹å¦‚ï¼Œè¦å°†åŒ…å­˜å‚¨ä½ç½®æ›´æ”¹ä¸º <code>D:\NuGetPackages</code>ï¼Œè¯·æ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre><!--::markdown-it-async::xlnmo731dux792c42c80b::--><code>&lt;configuration&gt;
  &lt;packageSources&gt;
    &lt;add key=&quot;MyCustomPackages&quot; value=&quot;D:\NuGetPackages&quot; /&gt;
  &lt;/packageSources&gt;
&lt;/configuration&gt;</code></pre>
</div><p>è¿™é‡Œçš„ <code>key</code> æ˜¯æ‚¨è‡ªå®šä¹‰çš„æºåç§°ï¼Œ<code>value</code> æ˜¯æ–°çš„å­˜å‚¨ä½ç½®ã€‚</p>
</li>
<li>
<p>ä¿å­˜å¹¶å…³é—­é…ç½®æ–‡ä»¶ã€‚</p>
</li>
</ol>
<h3 id="æ–¹æ³•äºŒ-ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°" tabindex="-1">æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œå‚æ•° <a class="header-anchor" href="#æ–¹æ³•äºŒ-ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°" aria-label="Permalink to â€œæ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°â€">&#8203;</a></h3>
<p>æ‚¨è¿˜å¯ä»¥åœ¨å®‰è£…æˆ–æ›´æ–° NuGet åŒ…æ—¶ä½¿ç”¨ <code>-Source</code> å‚æ•°æŒ‡å®šæ–°çš„å­˜å‚¨ä½ç½®ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::sxpm9envao80s4bby854k49::--><code>dotnet nuget install &lt;package_name&gt; -Source D:\NuGetPackages</code></pre>
</div><p>æˆ–è€…ï¼Œåœ¨æ›´æ–° NuGet åŒ…æ—¶ï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::o0g4v5mywt9bh7pltea77::--><code>dotnet nuget update &lt;package_name&gt; -Source D:\NuGetPackages</code></pre>
</div><h3 id="æ–¹æ³•ä¸‰-è®¾ç½®å…¨å±€é»˜è®¤æº" tabindex="-1">æ–¹æ³•ä¸‰ï¼šè®¾ç½®å…¨å±€é»˜è®¤æº <a class="header-anchor" href="#æ–¹æ³•ä¸‰-è®¾ç½®å…¨å±€é»˜è®¤æº" aria-label="Permalink to â€œæ–¹æ³•ä¸‰ï¼šè®¾ç½®å…¨å±€é»˜è®¤æºâ€">&#8203;</a></h3>
<p>å¦‚æœæ‚¨å¸Œæœ›å°†æ–°çš„å­˜å‚¨ä½ç½®è®¾ç½®ä¸ºå…¨å±€é»˜è®¤æºï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::v56hhnxumnglddl8pqu59s::--><code>dotnet nuget config -set globalPackagesFolder=D:\NuGetPackages</code></pre>
</div><p>è¿™ä¼šå°†å…¨å±€åŒ…æ–‡ä»¶å¤¹è®¾ç½®ä¸º <code>D:\NuGetPackages</code>ã€‚</p>
<h3 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h3>
<p>é€šè¿‡ä»¥ä¸Šæ–¹æ³•ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°ä¿®æ”¹ NuGet åŒ…çš„å­˜å‚¨ä½ç½®ã€‚æ ¹æ®æ‚¨çš„éœ€æ±‚å’Œåå¥½ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä¿®æ”¹é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[NodeJS]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/</guid>
            <pubDate>Tue, 16 Jul 2024 14:31:36 GMT</pubDate>
            <description><![CDATA[è®°å½•Nodeå­¦ä¹ ä¸å¼€å‘çš„ä¸€ç‚¹å¿ƒå¾—
 ç›®å½•
* Nodeä¾§å®ç°å†…å®¹å‹ç¼©(gzip/br/deflate)ä»‹ç»ä¸å®è·µ
* ä½¿ç”¨TSå°è£…æ“ä½œMongoDBæ•°æ®åº“çš„å·¥å…·æ–¹æ³•
* ä½¿ç”¨Node.jsä»ç»ˆç«¯è¯»å…¥å†…]]></description>
            <content:encoded><![CDATA[<h1 id="nodejs" tabindex="-1">NodeJS <a class="header-anchor" href="#nodejs" aria-label="Permalink to â€œNodeJSâ€">&#8203;</a></h1>
<p>è®°å½•Nodeå­¦ä¹ ä¸å¼€å‘çš„ä¸€ç‚¹å¿ƒå¾—</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./compress-response.html">Nodeä¾§å®ç°å†…å®¹å‹ç¼©(gzip/br/deflate)ä»‹ç»ä¸å®è·µ</a></li>
<li><a href="./mongoDb.html">ä½¿ç”¨TSå°è£…æ“ä½œMongoDBæ•°æ®åº“çš„å·¥å…·æ–¹æ³•</a></li>
<li><a href="./p1.html">ä½¿ç”¨Node.jsä»ç»ˆç«¯è¯»å…¥å†…å®¹</a></li>
<li><a href="./phantom-dep-cli.html">å®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…·</a></li>
<li><a href="./å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— - MegaSu - åšå®¢å›­.html">å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å—</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å—]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— - MegaSu - åšå®¢å›­.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— - MegaSu - åšå®¢å›­.html</guid>
            <pubDate>Tue, 16 Jul 2024 14:31:36 GMT</pubDate>
            <description><![CDATA[
# å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å—

]]></description>
            <content:encoded><![CDATA[<h1 id="å‰ç«¯æ¥å£ç¥å™¨ä¹‹-json-server-è¯¦ç»†ä½¿ç”¨æŒ‡å—" tabindex="-1">å‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å— <a class="header-anchor" href="#å‰ç«¯æ¥å£ç¥å™¨ä¹‹-json-server-è¯¦ç»†ä½¿ç”¨æŒ‡å—" aria-label="Permalink to â€œå‰ç«¯æ¥å£ç¥å™¨ä¹‹ json-server è¯¦ç»†ä½¿ç”¨æŒ‡å—â€">&#8203;</a></h1>
<hr>
<h2 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to â€œç®€ä»‹â€">&#8203;</a></h2>
<p><code>json-server</code> æ˜¯ä¸€æ¬¾å°å·§çš„æ¥å£æ¨¡æ‹Ÿå·¥å…·ï¼Œä¸€åˆ†é’Ÿå†…å°±èƒ½æ­å»ºä¸€å¥— Restful é£æ ¼çš„ APIï¼Œå°¤å…¶é€‚åˆå‰ç«¯æ¥å£æµ‹è¯•ä½¿ç”¨ã€‚ğŸ”¥ğŸ”¥ğŸ”¥
åªéœ€æŒ‡å®šä¸€ä¸ª <code>json</code> æ–‡ä»¶ä½œä¸º <code>api</code> çš„æ•°æ®æºå³å¯ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œ30 ç§’å…¥é—¨ï¼ŒåŸºæœ¬ä¸Šæœ‰æ‰‹å°±è¡Œã€‚ğŸ‘
è¿›é˜¶æ“ä½œè¿˜æ”¯æŒåˆ†é¡µï¼Œæ’åºç­‰æ“ä½œï¼Œç®€ç›´å¼ºå¤§ã€‚ğŸ’ª</p>
<h3 id="å¼€æºåœ°å€" tabindex="-1">å¼€æºåœ°å€ <a class="header-anchor" href="#å¼€æºåœ°å€" aria-label="Permalink to â€œå¼€æºåœ°å€â€">&#8203;</a></h3>
<p>ä¸»é¡µåœ°å€ï¼š<a href="https://www.npmjs.com/package/json-server" target="_blank" rel="noreferrer">https://www.npmjs.com/package/json-server</a>
Githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/typicode/json-server" target="_blank" rel="noreferrer">https://github.com/typicode/json-server</a></p>
<h2 id="_30ç§’å…¥é—¨" tabindex="-1">30ç§’å…¥é—¨ <a class="header-anchor" href="#_30ç§’å…¥é—¨" aria-label="Permalink to â€œ30ç§’å…¥é—¨â€">&#8203;</a></h2>
<h3 id="ç¯å¢ƒä¾èµ–" tabindex="-1">ç¯å¢ƒä¾èµ– <a class="header-anchor" href="#ç¯å¢ƒä¾èµ–" aria-label="Permalink to â€œç¯å¢ƒä¾èµ–â€">&#8203;</a></h3>
<ul>
<li>å®‰è£… Node.js ç¯å¢ƒå³å¯</li>
</ul>
<h3 id="æ“ä½œæ­¥éª¤" tabindex="-1">æ“ä½œæ­¥éª¤ <a class="header-anchor" href="#æ“ä½œæ­¥éª¤" aria-label="Permalink to â€œæ“ä½œæ­¥éª¤â€">&#8203;</a></h3>
<ol>
<li>å®‰è£… JSON æœåŠ¡å™¨</li>
</ol>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::t5dow9uo0fn6r9bqeovt3m::--><code>npm install -g json-server</code></pre>
</div><ol start="2">
<li>åˆ›å»ºä¸€ä¸ª<code>db.json</code>åŒ…å«ä¸€äº›æ•°æ®çš„æ–‡ä»¶</li>
</ol>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::ivt6zrmq3ps9pmwv3ax1me::--><code>{
  &quot;posts&quot;: [
    { &quot;id&quot;: 1, &quot;title&quot;: &quot;json-server&quot;, &quot;author&quot;: &quot;typicode&quot; }
  ],
  &quot;comments&quot;: [
    { &quot;id&quot;: 1, &quot;body&quot;: &quot;some comment&quot;, &quot;postId&quot;: 1 }
  ],
  &quot;profile&quot;: { &quot;name&quot;: &quot;typicode&quot; }
}</code></pre>
</div><ol start="3">
<li>å¯åŠ¨ <code>json-server</code> æ¥å£æœåŠ¡å™¨</li>
</ol>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::yg8yr0wt3iaq0fucyf77c::--><code># å¿«é€Ÿåˆ›å»º
json-server db.json

# é…ç½®å‚æ•°
json-server db.json --watch --port 3000</code></pre>
</div><ol start="4">
<li>æµè§ˆå™¨è®¿é—® <a href="http://localhost:3000/posts/1" target="_blank" rel="noreferrer">http://localhost:3000/posts/1</a>ï¼Œä½ ä¼šå¾—åˆ°</li>
</ol>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::ijkr27uyqq9zey59ox23fo::--><code>{ &quot;id&quot;: 1, &quot;title&quot;: &quot;json-server&quot;, &quot;author&quot;: &quot;typicode&quot; }</code></pre>
</div><ol start="5">
<li>ğŸ‰æ­å–œä½ ï¼Œå·²ç»å®Œæˆ <code>json-server</code> å¿«é€Ÿæ­å»ºï¼Œç†Ÿç»ƒä½¿ç”¨çš„è¯ 30 ç§’å³å¯å®ŒæˆæœåŠ¡å™¨æ­å»ºâ°ã€‚</li>
</ol>
<h3 id="è¡¥å……" tabindex="-1">è¡¥å…… <a class="header-anchor" href="#è¡¥å……" aria-label="Permalink to â€œè¡¥å……â€">&#8203;</a></h3>
<ul>
<li>å¦‚æœæ‚¨å‘å‡º POSTã€PUTã€PATCH æˆ– DELETE è¯·æ±‚ï¼Œæ›´æ”¹å°†è‡ªåŠ¨å®‰å…¨åœ°ä¿å­˜åˆ° <code>db.json</code> æ–‡ä»¶ä¸­ã€‚</li>
</ul>
<h2 id="è·¯ç”±è¿›é˜¶" tabindex="-1">è·¯ç”±è¿›é˜¶ <a class="header-anchor" href="#è·¯ç”±è¿›é˜¶" aria-label="Permalink to â€œè·¯ç”±è¿›é˜¶â€">&#8203;</a></h2>
<p>æ ¹æ®ä¹‹å‰çš„<code>db.json</code>æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯æ‰€æœ‰çš„é»˜è®¤è·¯ç”±ã€‚</p>
<h3 id="è·¯ç”±å½¢å¼ä¸€" tabindex="-1">è·¯ç”±å½¢å¼ä¸€ <a class="header-anchor" href="#è·¯ç”±å½¢å¼ä¸€" aria-label="Permalink to â€œè·¯ç”±å½¢å¼ä¸€â€">&#8203;</a></h3>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::i6gp1jrybt036qjy9kr1su::--><code>GET    /posts
GET    /posts/1
POST   /posts
PUT    /posts/1
PATCH  /posts/1
DELETE /posts/1</code></pre>
</div><h3 id="è·¯ç”±å½¢å¼äºŒ" tabindex="-1">è·¯ç”±å½¢å¼äºŒ <a class="header-anchor" href="#è·¯ç”±å½¢å¼äºŒ" aria-label="Permalink to â€œè·¯ç”±å½¢å¼äºŒâ€">&#8203;</a></h3>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::m6d00bzk0as8zvfqpnm0ur::--><code>GET    /profile
POST   /profile
PUT    /profile
PATCH  /profile</code></pre>
</div><h3 id="ç­›é€‰" tabindex="-1">ç­›é€‰ <a class="header-anchor" href="#ç­›é€‰" aria-label="Permalink to â€œç­›é€‰â€">&#8203;</a></h3>
<p>ä½¿ç”¨ <code>.</code> è®¿é—®ç­›é€‰</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::gaairhseah7epgtrky62x::--><code>GET /posts?title=json-server&amp;amp;author=typicode
GET /posts?id=1&amp;amp;id=2
GET /comments?author.name=typicode</code></pre>
</div><h3 id="åˆ†é¡µ" tabindex="-1">åˆ†é¡µ <a class="header-anchor" href="#åˆ†é¡µ" aria-label="Permalink to â€œåˆ†é¡µâ€">&#8203;</a></h3>
<p>ä½¿ç”¨<code>_page</code>å’Œå¯é€‰åœ°<code>_limit</code>å¯¹è¿”å›çš„æ•°æ®è¿›è¡Œåˆ†é¡µã€‚</p>
<p>åœ¨<code>Link</code>æ ‡é¢˜ï¼Œä½ ä¼šå¾—åˆ°<code>first</code>ï¼Œ<code>prev</code>ï¼Œ<code>next</code>å’Œ<code>last</code>é“¾æ¥ã€‚</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::x2ai9reslch6wqlxfj6dbl::--><code>GET /posts?_page=7
GET /posts?_page=7&amp;amp;_limit=20</code></pre>
</div><p><em>é»˜è®¤è¿”å›10é¡¹</em></p>
<h3 id="æ’åº" tabindex="-1">æ’åº <a class="header-anchor" href="#æ’åº" aria-label="Permalink to â€œæ’åºâ€">&#8203;</a></h3>
<p>æ·»åŠ <code>_sort</code>å’Œ<code>_order</code>ï¼ˆé»˜è®¤å‡åºï¼‰</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::vgd60k4blqpc9cjolx0i::--><code>GET /posts?_sort=views&amp;amp;_order=asc
GET /posts/1/comments?_sort=votes&amp;amp;_order=asc</code></pre>
</div><p>å¯¹äºå¤šä¸ªå­—æ®µï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::83vvpzapqtuqkirt9vxudm::--><code>GET /posts?_sort=user,views&amp;amp;_order=desc,asc</code></pre>
</div><h3 id="åˆ‡ç‰‡-åˆ†é¡µ" tabindex="-1">åˆ‡ç‰‡(åˆ†é¡µ) <a class="header-anchor" href="#åˆ‡ç‰‡-åˆ†é¡µ" aria-label="Permalink to â€œåˆ‡ç‰‡(åˆ†é¡µ)â€">&#8203;</a></h3>
<p>æ·»åŠ <code>_start</code>å’Œ<code>_end</code>æˆ–<code>_limit</code></p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::597uwskdc6g6bcovarhnog::--><code>GET /posts?_start=20&amp;amp;_end=30
GET /posts/1/comments?_start=20&amp;amp;_end=30
GET /posts/1/comments?_start=20&amp;amp;_limit=10</code></pre>
</div><p><strong>ä¸<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noreferrer">Array.slice</a>å®Œå…¨ä¸€æ ·<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noreferrer">å·¥ä½œ</a>ï¼ˆå³<code>_start</code>å¼€å§‹<code>_end</code>ç»“æŸï¼‰</strong></p>
<h3 id="ç‰¹æ®Šç¬¦å·" tabindex="-1">ç‰¹æ®Šç¬¦å· <a class="header-anchor" href="#ç‰¹æ®Šç¬¦å·" aria-label="Permalink to â€œç‰¹æ®Šç¬¦å·â€">&#8203;</a></h3>
<p>æ·»åŠ <code>_gte</code>æˆ–<code>_lte</code>è·å–èŒƒå›´</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::tmjz6njemhcpbusqr60fxn::--><code>GET /posts?views_gte=10&amp;amp;views_lte=20</code></pre>
</div><p>æ·»åŠ <code>_ne</code>ä»¥æ’é™¤å€¼</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::dkw7fozlkymwei6r4m037c::--><code>GET /posts?id_ne=1</code></pre>
</div><p>æ·»åŠ <code>_like</code>åˆ°è¿‡æ»¤å™¨ï¼ˆæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼‰</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::fw409jk63ptmfx2rja8o2::--><code>GET /posts?title_like=server</code></pre>
</div><h3 id="å…¨æ–‡æœç´¢" tabindex="-1">å…¨æ–‡æœç´¢ <a class="header-anchor" href="#å…¨æ–‡æœç´¢" aria-label="Permalink to â€œå…¨æ–‡æœç´¢â€">&#8203;</a></h3>
<p>æ·»åŠ  <code>q</code></p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::k7z7s6471heqox450qin1s::--><code>GET /posts?q=internet</code></pre>
</div><h3 id="å…³ç³»" tabindex="-1">å…³ç³» <a class="header-anchor" href="#å…³ç³»" aria-label="Permalink to â€œå…³ç³»â€">&#8203;</a></h3>
<p>è¦åŒ…å«å­èµ„æºï¼Œè¯·æ·»åŠ  <code>_embed</code></p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::bz9i9s011egz3k7spgu7jp::--><code>GET /posts?_embed=comments
GET /posts/1?_embed=comments</code></pre>
</div><p>è¦åŒ…å«çˆ¶èµ„æºï¼Œè¯·æ·»åŠ  <code>_expand</code></p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::lfn5z2wd7kavq8lqrisq68::--><code>GET /comments?_expand=post
GET /comments/1?_expand=post</code></pre>
</div><p>è·å–æˆ–åˆ›å»ºåµŒå¥—èµ„æºï¼ˆé»˜è®¤ä¸ºä¸€çº§ï¼‰</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::wps2i9wz5j1iqnm9s744u::--><code>GET  /posts/1/comments
POST /posts/1/comments</code></pre>
</div><h3 id="æ•°æ®åº“" tabindex="-1">æ•°æ®åº“ <a class="header-anchor" href="#æ•°æ®åº“" aria-label="Permalink to â€œæ•°æ®åº“â€">&#8203;</a></h3>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::jetxl050zgly0gdwqbcxhg::--><code>GET /db</code></pre>
</div><h3 id="ä¸»é¡µ" tabindex="-1">ä¸»é¡µ <a class="header-anchor" href="#ä¸»é¡µ" aria-label="Permalink to â€œä¸»é¡µâ€">&#8203;</a></h3>
<p>è¿”å›é»˜è®¤ç´¢å¼•æ–‡ä»¶æˆ–æœåŠ¡<code>./public</code>ç›®å½•</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::aj3tdzgd0rttcrtzz3pofc::--><code>GET /</code></pre>
</div><h2 id="é™„åŠ åŠŸèƒ½" tabindex="-1">é™„åŠ åŠŸèƒ½ <a class="header-anchor" href="#é™„åŠ åŠŸèƒ½" aria-label="Permalink to â€œé™„åŠ åŠŸèƒ½â€">&#8203;</a></h2>
<h3 id="é™æ€æ–‡ä»¶æœåŠ¡å™¨" tabindex="-1">é™æ€æ–‡ä»¶æœåŠ¡å™¨ <a class="header-anchor" href="#é™æ€æ–‡ä»¶æœåŠ¡å™¨" aria-label="Permalink to â€œé™æ€æ–‡ä»¶æœåŠ¡å™¨â€">&#8203;</a></h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ JSON Server ä¸ºæ‚¨çš„ HTMLã€JS å’Œ CSS æä¾›æœåŠ¡ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ª<code>./public</code>ç›®å½•æˆ–ç”¨äº<code>--static</code>è®¾ç½®ä¸åŒçš„é™æ€æ–‡ä»¶ç›®å½•ã€‚</p>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::a1jwgqgfzj5kenthbh96fd::--><code>mkdir public
echo &#039;hello world&#039; &gt; public/index.html
json-server db.json</code></pre>
</div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::8xx5xzmnfi5ov0qi0kuovr::--><code>json-server db.json --static ./some-other-dir</code></pre>
</div><h3 id="æ›¿æ¢ç«¯å£" tabindex="-1">æ›¿æ¢ç«¯å£ <a class="header-anchor" href="#æ›¿æ¢ç«¯å£" aria-label="Permalink to â€œæ›¿æ¢ç«¯å£â€">&#8203;</a></h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹<code>--port</code>æ ‡å¿—åœ¨å…¶ä»–ç«¯å£ä¸Šå¯åŠ¨ <code>JSON Server</code> ï¼š</p>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::0gjfaaf19mkfnb1f9jta5io::--><code>$ json-server --watch db.json --port 3004</code></pre>
</div><h3 id="æ”¯æŒè·¨åŸŸ" tabindex="-1">æ”¯æŒè·¨åŸŸ <a class="header-anchor" href="#æ”¯æŒè·¨åŸŸ" aria-label="Permalink to â€œæ”¯æŒè·¨åŸŸâ€">&#8203;</a></h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ CORS å’Œ JSONP ä»ä»»ä½•åœ°æ–¹è®¿é—®æ‚¨æ¨¡æ‹Ÿçš„ API æ¥å£ã€‚</p>
<h3 id="è¿œç¨‹æ¨¡å¼" tabindex="-1">è¿œç¨‹æ¨¡å¼ <a class="header-anchor" href="#è¿œç¨‹æ¨¡å¼" aria-label="Permalink to â€œè¿œç¨‹æ¨¡å¼â€">&#8203;</a></h3>
<p>æ‚¨å¯ä»¥åŠ è½½è¿œç¨‹æ¨¡å¼ã€‚</p>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::wv3ltznvdunmtk1h8ntbbg::--><code>$ json-server http://example.com/file.json
$ json-server http://jsonplaceholder.typicode.com/db</code></pre>
</div><h3 id="ç”Ÿæˆéšæœºæ•°æ®" tabindex="-1">ç”Ÿæˆéšæœºæ•°æ® <a class="header-anchor" href="#ç”Ÿæˆéšæœºæ•°æ®" aria-label="Permalink to â€œç”Ÿæˆéšæœºæ•°æ®â€">&#8203;</a></h3>
<p>ä½¿ç”¨ JS è€Œä¸æ˜¯ JSON æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼åˆ›å»ºæ•°æ®ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::fuddz3rrj4fnihq17y57ma::--><code>// index.js
module.exports = () =&gt; {
  const data = { users: [] }
  // åˆ›å»º 1000 ä¸ªç”¨æˆ·ä¿¡æ¯
  for (let i = 0; i &lt; 1000; i++) {
    data.users.push({ id: i, name: `user${i}` })
  }
  return data
}</code></pre>
</div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::08x1lpiqkdxbx865y02hcd::--><code>$ json-server index.js</code></pre>
</div><p><strong>æç¤º</strong>ï¼šä½¿ç”¨<a href="https://github.com/Marak/faker.js" target="_blank" rel="noreferrer">Faker</a>ã€<a href="https://github.com/boo1ean/casual" target="_blank" rel="noreferrer">Casual</a>ã€<a href="https://github.com/victorquinn/chancejs" target="_blank" rel="noreferrer">Chance</a>æˆ–<a href="https://github.com/json-schema-faker/json-schema-faker" target="_blank" rel="noreferrer">JSON Schema Faker ç­‰æ¨¡å—</a>ã€‚</p>
<h3 id="æ·»åŠ è‡ªå®šä¹‰è·¯ç”±" tabindex="-1">æ·»åŠ è‡ªå®šä¹‰è·¯ç”± <a class="header-anchor" href="#æ·»åŠ è‡ªå®šä¹‰è·¯ç”±" aria-label="Permalink to â€œæ·»åŠ è‡ªå®šä¹‰è·¯ç”±â€">&#8203;</a></h3>
<p>åˆ›å»ºä¸€ä¸ª<code>routes.json</code>æ–‡ä»¶ã€‚æ³¨æ„æ¯æ¡è·¯çº¿éƒ½ä»¥<code>/</code>.</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::5ce0fq6tedp2o76dxoqy2u::--><code>{
  &quot;/api/*&quot;: &quot;/$1&quot;,
  &quot;/:resource/:id/show&quot;: &quot;/:resource/:id&quot;,
  &quot;/posts/:category&quot;: &quot;/posts?category=:category&quot;,
  &quot;/articles\\?id=:id&quot;: &quot;/posts/:id&quot;
}</code></pre>
</div><p>ä½¿ç”¨<code>--routes</code>é€‰é¡¹å¯åŠ¨ JSON æœåŠ¡å™¨ã€‚</p>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::tg5znjaq138ap7xsrmq565::--><code>json-server db.json --routes routes.json</code></pre>
</div><p>ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–è·¯çº¿è®¿é—®èµ„æºã€‚</p>
<div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre><!--::markdown-it-async::g7mkhn83y3ik016lk84mm::--><code>/api/posts # â†’ /posts
/api/posts/1  # â†’ /posts/1
/posts/1/show # â†’ /posts/1
/posts/javascript # â†’ /posts?category=javascript
/articles?id=1 # â†’ /posts/1</code></pre>
</div><h3 id="æ·»åŠ ä¸­é—´ä»¶" tabindex="-1">æ·»åŠ ä¸­é—´ä»¶ <a class="header-anchor" href="#æ·»åŠ ä¸­é—´ä»¶" aria-label="Permalink to â€œæ·»åŠ ä¸­é—´ä»¶â€">&#8203;</a></h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹<code>--middlewares</code>é€‰é¡¹ä» CLI æ·»åŠ ä¸­é—´ä»¶ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::7vqm3u49nri8cqub4a1nl8::--><code>// hello.js
module.exports = (req, res, next) =&gt; {
  res.header(&#039;X-Hello&#039;, &#039;World&#039;)
  next()
}</code></pre>
</div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::m8afxgwzoafdtd15wc7v9a::--><code>json-server db.json --middlewares ./hello.js
json-server db.json --middlewares ./first.js ./second.js</code></pre>
</div><h3 id="å‘½ä»¤è¡Œä½¿ç”¨" tabindex="-1">å‘½ä»¤è¡Œä½¿ç”¨ <a class="header-anchor" href="#å‘½ä»¤è¡Œä½¿ç”¨" aria-label="Permalink to â€œå‘½ä»¤è¡Œä½¿ç”¨â€">&#8203;</a></h3>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::ui71w55t3vkdie659kwkiq::--><code>json-server [options] &lt;source&gt;

Options:
  --config, -c       Path to config file           [default: &quot;json-server.json&quot;]
  --port, -p         Set port                                    [default: 3000]
  --host, -H         Set host                             [default: &quot;localhost&quot;]
  --watch, -w        Watch file(s)                                     [boolean]
  --routes, -r       Path to routes file
  --middlewares, -m  Paths to middleware files                           [array]
  --static, -s       Set static files directory
  --read-only, --ro  Allow only GET requests                           [boolean]
  --no-cors, --nc    Disable Cross-Origin Resource Sharing             [boolean]
  --no-gzip, --ng    Disable GZIP Content-Encoding                     [boolean]
  --snapshots, -S    Set snapshots directory                      [default: &quot;.&quot;]
  --delay, -d        Add delay to responses (ms)
  --id, -i           Set database id property (e.g. _id)         [default: &quot;id&quot;]
  --foreignKeySuffix, --fks  Set foreign key suffix, (e.g. _id as in post_id)
                                                                 [default: &quot;Id&quot;]
  --quiet, -q        Suppress log messages from output                 [boolean]
  --help, -h         Show help                                         [boolean]
  --version, -v      Show version number                               [boolean]

Examples:
  json-server db.json
  json-server file.js
  json-server http://example.com/db.json

https://github.com/typicode/json-server</code></pre>
</div><p>æ‚¨è¿˜å¯ä»¥åœ¨<code>json-server.json</code>é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é€‰é¡¹ã€‚</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::juazynrgjfet76rktk9qg::--><code>{
  &quot;port&quot;: 3000
}</code></pre>
</div><h3 id="æ¨¡å—" tabindex="-1">æ¨¡å— <a class="header-anchor" href="#æ¨¡å—" aria-label="Permalink to â€œæ¨¡å—â€">&#8203;</a></h3>
<p>å¦‚æœæ‚¨éœ€è¦æ·»åŠ èº«ä»½éªŒè¯ã€éªŒè¯æˆ–<strong>ä»»ä½•è¡Œä¸º</strong>ï¼Œæ‚¨å¯ä»¥å°†é¡¹ç›®ä½œä¸ºæ¨¡å—ä¸å…¶ä»– Express ä¸­é—´ä»¶ç»“åˆä½¿ç”¨ã€‚</p>
<h4 id="ç®€å•çš„ä¾‹å­" tabindex="-1">ç®€å•çš„ä¾‹å­ <a class="header-anchor" href="#ç®€å•çš„ä¾‹å­" aria-label="Permalink to â€œç®€å•çš„ä¾‹å­â€">&#8203;</a></h4>
<div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::12nzruzordtmz71g3vuklyn::--><code>$ npm install json-server --save-dev</code></pre>
</div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::305193ru54ijtzxcimf21e::--><code>// server.js
const jsonServer = require(&#039;json-server&#039;)
const server = jsonServer.create()
const router = jsonServer.router(&#039;db.json&#039;)
const middlewares = jsonServer.defaults()

server.use(middlewares)
server.use(router)
server.listen(3000, () =&gt; {
  console.log(&#039;JSON Server is running&#039;)
})</code></pre>
</div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><!--::markdown-it-async::1a3twpibnp2powren8cci::--><code>$ node server.js</code></pre>
</div><p>æ‚¨æä¾›ç»™<code>jsonServer.router</code>å‡½æ•°çš„è·¯å¾„æ˜¯ç›¸å¯¹äºæ‚¨å¯åŠ¨èŠ‚ç‚¹è¿›ç¨‹çš„ç›®å½•çš„ã€‚å¦‚æœä»å¦ä¸€ä¸ªç›®å½•è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::rajgazrgidakvjdxmqhag::--><code>const path = require(&#039;path&#039;)
const router = jsonServer.router(path.join(__dirname, &#039;db.json&#039;))</code></pre>
</div><p>å¯¹äºå†…å­˜æ•°æ®åº“ï¼Œåªéœ€å°†å¯¹è±¡ä¼ é€’ç»™<code>jsonServer.router()</code>.</p>
<p>å¦è¯·æ³¨æ„ï¼Œ<code>jsonServer.router()</code>å®ƒå¯ç”¨äºç°æœ‰çš„ Express é¡¹ç›®ã€‚</p>
<h4 id="è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹" tabindex="-1">è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹ <a class="header-anchor" href="#è‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹" aria-label="Permalink to â€œè‡ªå®šä¹‰è·¯ç”±ç¤ºä¾‹â€">&#8203;</a></h4>
<p>å‡è®¾æ‚¨æƒ³è¦ä¸€ä¸ªå›æ˜¾æŸ¥è¯¢å‚æ•°çš„è·¯ç”±å’Œå¦ä¸€ä¸ªåœ¨åˆ›å»ºçš„æ¯ä¸ªèµ„æºä¸Šè®¾ç½®æ—¶é—´æˆ³çš„è·¯ç”±ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::1dkby8eu84g9kp82b3ts::--><code>const jsonServer = require(&#039;json-server&#039;)
const server = jsonServer.create()
const router = jsonServer.router(&#039;db.json&#039;)
const middlewares = jsonServer.defaults()

// è®¾ç½®é»˜è®¤ä¸­é—´ä»¶ï¼ˆè®°å½•å™¨ã€é™æ€ã€cors å’Œæ— ç¼“å­˜ï¼‰
server.use(middlewares)

// å†™åœ¨è‡ªå®šä¹‰è·¯ç”±ä¹‹å‰
server.get(&#039;/echo&#039;, (req, res) =&gt; {
  res.jsonp(req.query)
})

// è¦å¤„ç† POSTã€PUT å’Œ PATCHï¼Œæ‚¨éœ€è¦ä½¿ç”¨ body-parser
// æ‚¨å¯ä»¥ä½¿ç”¨ JSON Server
server.use(jsonServer.bodyParser)
server.use((req, res, next) =&gt; {
  if (req.method === &#039;POST&#039;) {
    req.body.createdAt = Date.now()
  }
  // ç»§ç»­åˆ° JSON Server è·¯ç”±å™¨
  next()
})

// ä½¿ç”¨é»˜è®¤è·¯ç”±å™¨
server.use(router)
server.listen(3000, () =&gt; {
  console.log(&#039;JSON Server is running&#039;)
})</code></pre>
</div><h4 id="è®¿é—®æ§åˆ¶ç¤ºä¾‹" tabindex="-1">è®¿é—®æ§åˆ¶ç¤ºä¾‹ <a class="header-anchor" href="#è®¿é—®æ§åˆ¶ç¤ºä¾‹" aria-label="Permalink to â€œè®¿é—®æ§åˆ¶ç¤ºä¾‹â€">&#8203;</a></h4>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::yzd0l3j7scpdbcx9pbql6b::--><code>const jsonServer = require(&#039;json-server&#039;)
const server = jsonServer.create()
const router = jsonServer.router(&#039;db.json&#039;)
const middlewares = jsonServer.defaults()

server.use(middlewares)
server.use((req, res, next) =&gt; {
  if (isAuthorized(req)) { // åœ¨æ­¤å¤„æ·»åŠ æ‚¨çš„æˆæƒé€»è¾‘
    next() // ç»§ç»­åˆ° JSON Server è·¯ç”±å™¨
  }
  else {
    res.sendStatus(401)
  }
})
server.use(router)
server.listen(3000, () =&gt; {
  console.log(&#039;JSON Server is running&#039;)
})</code></pre>
</div><h4 id="è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹" tabindex="-1">è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹ <a class="header-anchor" href="#è‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹" aria-label="Permalink to â€œè‡ªå®šä¹‰è¾“å‡ºç¤ºä¾‹â€">&#8203;</a></h4>
<p>è¦ä¿®æ”¹å“åº”ï¼Œè¯·è¦†ç›–<code>router.render</code>æ–¹æ³•ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::l1ivc29ocmi4l44qj49r1o::--><code>// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿”å›çš„èµ„æºå°†è¢«åŒ…è£…åœ¨ä¸€ä¸ª body å±æ€§
router.render = (req, res) =&gt; {
  res.jsonp({
    body: res.locals.data
  })
}</code></pre>
</div><p>æ‚¨å¯ä»¥ä¸ºå“åº”è®¾ç½®è‡ªå·±çš„çŠ¶æ€ä»£ç ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::spw9rqbvrd9mb8y2tviig::--><code>// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ªæœåŠ¡å™¨ç«¯é”™è¯¯å“åº”
router.render = (req, res) =&gt; {
  res.status(500).jsonp({
    error: &#039;error message here&#039;
  })
}</code></pre>
</div><h4 id="é‡å†™å™¨ç¤ºä¾‹" tabindex="-1">é‡å†™å™¨ç¤ºä¾‹ <a class="header-anchor" href="#é‡å†™å™¨ç¤ºä¾‹" aria-label="Permalink to â€œé‡å†™å™¨ç¤ºä¾‹â€">&#8203;</a></h4>
<p>è¦æ·»åŠ é‡å†™è§„åˆ™ï¼Œè¯·ä½¿ç”¨<code>jsonServer.rewriter()</code>ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::dba0jj3e8srjek8tn7b26o::--><code>// å†™åœ¨ server.use(router) ä¹‹å‰
server.use(jsonServer.rewriter({
  &#039;/api/*&#039;: &#039;/$1&#039;,
  &#039;/blog/:resource/:id/show&#039;: &#039;/:resource/:id&#039;
}))</code></pre>
</div><h4 id="åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½-json-æœåŠ¡å™¨ç¤ºä¾‹" tabindex="-1">åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½ JSON æœåŠ¡å™¨ç¤ºä¾‹ <a class="header-anchor" href="#åœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½-json-æœåŠ¡å™¨ç¤ºä¾‹" aria-label="Permalink to â€œåœ¨å¦ä¸€ä¸ªç«¯ç‚¹ä¸ŠæŒ‚è½½ JSON æœåŠ¡å™¨ç¤ºä¾‹â€">&#8203;</a></h4>
<p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†è·¯ç”±å™¨å®‰è£…åœ¨<code>/api</code>.</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::hor5w8jkon7zs0j4w1kka::--><code>server.use(&#039;/api&#039;, router)</code></pre>
</div><h4 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to â€œAPIâ€">&#8203;</a></h4>
<p><strong><code>jsonServer.create()</code></strong></p>
<p>è¿”å›ä¸€ä¸ª Express æœåŠ¡å™¨ã€‚</p>
<p><strong><code>jsonServer.defaults([options])</code></strong></p>
<p>è¿”å› JSON æœåŠ¡å™¨ä½¿ç”¨çš„ä¸­é—´ä»¶ã€‚</p>
<ul>
<li>é€‰é¡¹
<ul>
<li><code>static</code> é™æ€æ–‡ä»¶çš„è·¯å¾„</li>
<li><code>logger</code> å¯ç”¨è®°å½•å™¨ä¸­é—´ä»¶ï¼ˆé»˜è®¤å€¼ï¼štrueï¼‰</li>
<li><code>bodyParser</code> å¯ç”¨ body-parser ä¸­é—´ä»¶ï¼ˆé»˜è®¤å€¼ï¼štrueï¼‰</li>
<li><code>noCors</code> ç¦ç”¨ CORSï¼ˆé»˜è®¤å€¼ï¼šfalseï¼‰</li>
<li><code>readOnly</code> åªæ¥å— GET è¯·æ±‚ï¼ˆé»˜è®¤å€¼ï¼šfalseï¼‰</li>
</ul>
</li>
</ul>
<p><strong><code>jsonServer.router([path|object])</code></strong></p>
<p>è¿”å› JSON æœåŠ¡å™¨è·¯ç”±å™¨ã€‚</p>
<h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<ol>
<li>json-server å…¥é—¨ç®€å•ï¼Œ30 ç§’å‡ºæ•ˆæœï¼Œé›¶ç¼–ç å®ç° REST API é£æ ¼æ¥å£ï¼Œå®å±å‰ç«¯æ¥å£ç¥å™¨ã€‚ğŸ‘ğŸ‘ğŸ‘</li>
<li>è·¯ç”±è¿›é˜¶æ“ä½œè¿˜æ”¯æŒåˆ†é¡µï¼Œæ’åºç­‰æ“ä½œï¼Œç®€ç›´å¼ºå¤§ã€‚ğŸ’ª</li>
<li>æ„Ÿè°¢ç‚¹èµä¸æ”¯æŒğŸ’•ğŸ’•ğŸ’•</li>
</ol>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[è¯‘ï¼šä½¿ç”¨ Bun æ‰§è¡Œ Shell è„šæœ¬]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/bun/bun-shell.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/bun/bun-shell.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[JavaScript æ˜¯ä¸–ç•Œä¸Šæœ€æµè¡Œçš„è„šæœ¬è¯­è¨€ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆåœ¨ `JavaScript` ä¸­æ‰§è¡Œ `Shell` è„šæœ¬å¾ˆå›°éš¾å‘¢ï¼ŸBun åˆæ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿ]]></description>
            <content:encoded><![CDATA[<h1 id="è¯‘-ä½¿ç”¨-bun-æ‰§è¡Œ-shell-è„šæœ¬" tabindex="-1">è¯‘ï¼šä½¿ç”¨ Bun æ‰§è¡Œ Shell è„šæœ¬ <a class="header-anchor" href="#è¯‘-ä½¿ç”¨-bun-æ‰§è¡Œ-shell-è„šæœ¬" aria-label="Permalink to â€œè¯‘ï¼šä½¿ç”¨ Bun æ‰§è¡Œ Shell è„šæœ¬â€">&#8203;</a></h1>
<blockquote>
<p>åŸæ–‡åœ°å€ï¼ˆBun Blogï¼‰ï¼š <a href="https://bun.sh/blog/the-bun-shell" target="_blank" rel="noreferrer">https://bun.sh/blog/the-bun-shell</a>
<br/>ä½œè€…ï¼š <a href="https://twitter.com/jarredsumner" target="_blank" rel="noreferrer">jarredsumner</a>
<br/>å‘å¸ƒæ—¶é—´ï¼š2024-01-20</p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><code>JavaScript</code> æ˜¯ä¸–ç•Œä¸Šæœ€æµè¡Œçš„è„šæœ¬è¯­è¨€ã€‚</p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆåœ¨ <code>JavaScript</code> ä¸­æ‰§è¡Œ <code>Shell</code> è„šæœ¬å¾ˆå›°éš¾å‘¢ï¼Ÿ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::itu5uujr5la4t57l3mp0tr::--><code>import { spawnSync } from &#039;child_process&#039;

// ä»£ç æ¯”æƒ³è±¡ä¸­è¦ç¨å¾®å¤æ‚ä¸€äº›
const { status, stdout, stderr } = spawnSync(&#039;ls&#039;, [&#039;-l&#039;, &#039;*.js&#039;], {
  encoding: &#039;utf8&#039;,
})</code></pre>
</div><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å†…ç½®çš„ API æ¥æ‰§è¡Œç±»ä¼¼çš„æ“ä½œï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::0prmzqe616e5pomnzs4cl4::--><code>import { readdir } from &#039;fs/promises&#039;;

(await readdir(&#039;.&#039;, { withFileTypes: true })).filter(a =&gt;
  a.name.endsWith(&#039;.js&#039;),
)</code></pre>
</div><p>ä½†æ˜¯ï¼Œè¿˜æ˜¯æ²¡æœ‰ shell è„šæœ¬ç®€å•ï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::vc6pw4ugphamwwugp8g3::--><code>ls *.js</code></pre>
</div><h2 id="ä¸ºä»€ä¹ˆç°æœ‰çš„-shell-æ— æ³•åœ¨-javascript-ä¸­è¿è¡Œ" tabindex="-1">ä¸ºä»€ä¹ˆç°æœ‰çš„ shell æ— æ³•åœ¨ JavaScript ä¸­è¿è¡Œ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆç°æœ‰çš„-shell-æ— æ³•åœ¨-javascript-ä¸­è¿è¡Œ" aria-label="Permalink to â€œä¸ºä»€ä¹ˆç°æœ‰çš„ shell æ— æ³•åœ¨ JavaScript ä¸­è¿è¡Œâ€">&#8203;</a></h2>
<p><code>bash</code> å’Œ <code>sh</code> ç­‰è¿™äº› <code>shell</code> å·¥å…·å·²ç»å­˜åœ¨å‡ åå¹´äº†ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸ºä»€ä¹ˆå®ƒä»¬åœ¨ <code>JavaScript</code> ä¸­ä¸èƒ½å¾ˆå¥½çš„å·¥ä½œï¼Ÿ</p>
<p><code>macOS (zsh)</code>ã€<code>Linux (bash)</code> å’Œ <code>Windows (cmd)</code> çš„ shell éƒ½æœ‰æ‰€ä¸åŒï¼Œå…·æœ‰ä¸åŒçš„è¯­æ³•å’Œä¸åŒçš„å‘½ä»¤ã€‚æ¯ä¸ªå¹³å°ä¸Šå¯ç”¨çš„å‘½ä»¤éƒ½ä¸åŒï¼Œç”šè‡³ç›¸åŒçš„å‘½ä»¤ä¹Ÿå¯èƒ½æœ‰ä¸åŒçš„å¯é€‰å‚æ•°å’Œè¡Œä¸ºã€‚</p>
<p>è¿„ä»Šä¸ºæ­¢ï¼Œ<code>npm</code> çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¾é ç¤¾åŒºç”¨ <code>JavaScript</code> å®ç°æ¥å¡«è¡¥ç¼ºå¤±çš„å‘½ä»¤ã€‚</p>
<h3 id="rm-rf-ä¸é€‚ç”¨äº-windows" tabindex="-1">rm -rf ä¸é€‚ç”¨äº Windows <a class="header-anchor" href="#rm-rf-ä¸é€‚ç”¨äº-windows" aria-label="Permalink to â€œrm -rf ä¸é€‚ç”¨äº Windowsâ€">&#8203;</a></h3>
<p><a href="https://www.npmjs.com/package/rimraf" target="_blank" rel="noreferrer">rimraf</a> æ˜¯ <code>rm -rf</code> æŒ‡ä»¤çš„è·¨å¹³å°å®ç°ï¼Œæ¯å‘¨ä¸‹è½½ 6000 ä¸‡æ¬¡ï¼š</p>
<p><img src="./bun-shell/4be77f54128dc01fe235bf46be65dfd0.png" alt="" loading="lazy"></p>
<h3 id="foo-bar-script-è®¾ç½®ç¯å¢ƒå˜é‡åœ¨-windows-ä¸Šä¸ç”Ÿæ•ˆ" tabindex="-1"><code>FOO=bar &lt;script&gt;</code> è®¾ç½®ç¯å¢ƒå˜é‡åœ¨ Windows ä¸Šä¸ç”Ÿæ•ˆ <a class="header-anchor" href="#foo-bar-script-è®¾ç½®ç¯å¢ƒå˜é‡åœ¨-windows-ä¸Šä¸ç”Ÿæ•ˆ" aria-label="Permalink to â€œFOO=bar &lt;script&gt; è®¾ç½®ç¯å¢ƒå˜é‡åœ¨ Windows ä¸Šä¸ç”Ÿæ•ˆâ€">&#8203;</a></h3>
<p>ä¸åŒå¹³å°ä¸Šè®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ç•¥æœ‰ä¸åŒã€‚å¦‚æœä¸ä½¿ç”¨ <code>FOO=bar</code> è¿™ç§æ–¹å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <a href="https://www.npmjs.com/package/cross-env" target="_blank" rel="noreferrer">cross-env</a></p>
<p><img src="./bun-shell/654ccf7364bc395e6699f33dbe05bc8c.png" alt="" loading="lazy"></p>
<h3 id="which-åœ¨-windows-ä¸Šæ˜¯-where" tabindex="-1">which åœ¨ Windows ä¸Šæ˜¯ where <a class="header-anchor" href="#which-åœ¨-windows-ä¸Šæ˜¯-where" aria-label="Permalink to â€œwhich åœ¨ Windows ä¸Šæ˜¯ whereâ€">&#8203;</a></h3>
<p>äºæ˜¯å¦ä¸€ä¸ªå‘¨ä¸‹è½½é‡ 6000w çš„åŒ…è¯ç”Ÿäº†ï¼š</p>
<p><img src="./bun-shell/ba91ab9eb9713c5484c09a6bd62f96a5.png" alt="" loading="lazy"></p>
<h2 id="shell-å¯åŠ¨æ—¶é—´ä¹Ÿæœ‰ä¸€ç‚¹é•¿" tabindex="-1">shell å¯åŠ¨æ—¶é—´ä¹Ÿæœ‰ä¸€ç‚¹é•¿ <a class="header-anchor" href="#shell-å¯åŠ¨æ—¶é—´ä¹Ÿæœ‰ä¸€ç‚¹é•¿" aria-label="Permalink to â€œshell å¯åŠ¨æ—¶é—´ä¹Ÿæœ‰ä¸€ç‚¹é•¿â€">&#8203;</a></h2>
<p>åˆ›å»ºä¸€ä¸ª <code>shell</code> æ‰§è¡Œéœ€è¦å¤šä¹…ï¼Ÿ</p>
<p>åœ¨ Linux x64 Hetzner Arch Linux æœºå™¨ä¸Šï¼Œå¤§çº¦éœ€è¦ 7msï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ui61ya7ns5qw37fis03k4b::--><code>$ hyperfine --warmup 3 &#039;bash -c &quot;echo hello&quot;&#039; &#039;sh -c &quot;echo hello&quot;&#039; -N

Benchmark 1: bash -c &#039;echo hello&#039;
  Time (mean Â± Ïƒ):       7.3 ms Â±   1.5 ms    [User: 5.1 ms, System: 1.9 ms]
  Range (min â€¦ max):     1.7 ms â€¦   9.4 ms    529 runs

Benchmark 2: sh -c &#039;echo hello&#039;
  Time (mean Â± Ïƒ):       7.2 ms Â±   1.6 ms    [User: 4.8 ms, System: 2.1 ms]
  Range (min â€¦ max):     1.5 ms â€¦   9.6 ms    327 runs</code></pre>
</div><p>å¦‚æœåªæ˜¯æƒ³è¿è¡Œå•ä¸ªå‘½ä»¤ï¼Œä½†æ˜¯å¯åŠ¨ <code>shell</code> å¯èƒ½æ¯”è¿è¡Œå‘½ä»¤æœ¬èº«èŠ±è´¹æ›´é•¿çš„æ—¶é—´ã€‚å¦‚æœéœ€è¦åœ¨å¾ªç¯ä¸­è¿è¡Œè®¸å¤šå‘½ä»¤ï¼Œé‚£ä¹ˆæˆæœ¬å°±ä¼šå‡é«˜ã€‚</p>
<p>ä½ å¯ä»¥å°è¯•åµŒå…¥ <code>shell</code>ï¼Œä½†è¿™æ ·å°±å¤æ‚äº†ï¼Œè€Œä¸”å®ƒä»¬çš„è®¸å¯è¯å¯èƒ½ä¸ä½ çš„é¡¹ç›®ä¸å…¼å®¹ã€‚</p>
<h2 id="è¿™äº›-polyfill-çœŸçš„å¿…è¦å—" tabindex="-1">è¿™äº› polyfill çœŸçš„å¿…è¦å—ï¼Ÿ <a class="header-anchor" href="#è¿™äº›-polyfill-çœŸçš„å¿…è¦å—" aria-label="Permalink to â€œè¿™äº› polyfill çœŸçš„å¿…è¦å—ï¼Ÿâ€">&#8203;</a></h2>
<p>åœ¨ 2009 - 2016 å¹´çš„é‡Œï¼Œ<code>JavaScript</code> è¿˜ç›¸å¯¹è¾ƒæ–°ä¸”å¤„äºå®éªŒé˜¶æ®µæ—¶ï¼Œä¾é ç¤¾åŒºæ¥å¡«è¡¥ç¼ºå¤±çš„åŠŸèƒ½æ˜¯å¾ˆåˆç†çš„ã€‚ä½†ç°åœ¨å·²ç»æ˜¯ 2024 å¹´äº†ã€‚<code>JavaScript</code> å·²åœ¨å¹¿æ³›çš„ä½¿ç”¨äºæœåŠ¡ç«¯å¼€å‘äº†ã€‚å¦‚ä»Šï¼Œ<code>JavaScript</code> ç”Ÿæ€ç³»ç»Ÿå¯¹éœ€æ±‚çš„ç†è§£ä¸ 2009 å¹´æ—¶å®Œå…¨ä¸åŒäº†ã€‚</p>
<p>æˆ‘ä»¬å…¶å®å¯ä»¥åšå¾—æ›´å¥½ã€‚</p>
<h2 id="ä»‹ç»ä¸€ä¸‹-bun-shell" tabindex="-1">ä»‹ç»ä¸€ä¸‹ Bun Shell <a class="header-anchor" href="#ä»‹ç»ä¸€ä¸‹-bun-shell" aria-label="Permalink to â€œä»‹ç»ä¸€ä¸‹ Bun Shellâ€">&#8203;</a></h2>
<p><code>Bun Shell</code> æ˜¯ <code>Bun</code> æä¾›çš„ä¸€ç§æ–°çš„å®éªŒæ€§çš„åµŒå…¥å¼è¯­è¨€å’Œè§£é‡Šå™¨ï¼Œæ”¯æŒä½¿ç”¨ <code>JavaScript</code> å’Œ <code>TypeScript</code> ç¼–å†™è·¨å¹³å°è¿è¡Œçš„ <code>shell</code> è„šæœ¬ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::azvvd73yk6h93wjw1w8agt::--><code>import { $ } from &#039;bun&#039;

// ç›´æ¥åœ¨ç»ˆç«¯é‡Œè¾“å‡º
await $`ls *.js`

// è½¬ä¸ºå­—ç¬¦ä¸²å˜é‡
const text = await $`ls *.js`.text()</code></pre>
</div><p>åŒæ—¶å…è®¸ä½ ä½¿ç”¨ <code>JavaScript</code> å˜é‡ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::h1jz56uv8ru2gdeeoki98i::--><code>import { $ } from &#039;bun&#039;

const resp = await fetch(&#039;https://example.com&#039;)

const stdout = await $`gzip -c &lt; ${resp}`.arrayBuffer()</code></pre>
</div><p>å‡ºäºå®‰å…¨é—®é¢˜è€ƒè™‘ï¼Œæ‰€æœ‰æ¨¡æ¿å˜é‡éƒ½å°†è¢«è½¬ä¹‰ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::an5g3a70s1bz2zj9sf91kj::--><code>const filename = &#039;foo.js; rm -rf /&#039;

// å°†ä¼šæ‰§è¡ŒæŒ‡ä»¤ `ls &#039;foo.js; rm -rf /&#039;`
const results = await $`ls ${filename}`

console.log(results.exitCode) // 1
console.log(results.stderr.toString()) // ls: cannot access &#039;foo.js; rm -rf /&#039;: No such file or directory</code></pre>
</div><p>ä½¿ç”¨ <code>Bun Shell</code> æ„Ÿè§‰å°±åƒæ™®é€šçš„ <code>JavaScript</code>ã€‚å…è®¸ä½ å°†æ ‡å‡†è¾“å‡ºæ”¾å…¥ <code>buffers</code> ä¸­ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::trcavx34hsea4evlwadfbm::--><code>import { $ } from &#039;bun&#039;

const buffer = Buffer.alloc(1024)

await $`ls *.js &gt; ${buffer}`

console.log(buffer.toString(&#039;utf8&#039;))</code></pre>
</div><p>ä½ ä¹Ÿå¯ä»¥å°†è¾“å‡ºç»“æœç›´æ¥å†™å…¥æ–‡ä»¶ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::q327fyj7x52csyjp670qw::--><code>import { $, file } from &#039;bun&#039;

// å½“åšæ–‡ä»¶è¾“å‡º
await $`ls *.js &gt; ${file(&#039;output.txt&#039;)}`

// æˆ–è€…æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²
await $`ls *.js &gt; output.txt`
await $`ls *.js &gt; ${&#039;output.txt&#039;}`</code></pre>
</div><p>ä½ è¿˜å¯ä»¥å°†è¾“å‡ºç»“æœé€šè¿‡ç®¡é“è¿ç®—ç¬¦ä¼ é€’ç»™å…¶å®ƒå‘½ä»¤ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::um7stubl8uoaj8kn963xh5::--><code>import { $ } from &#039;bun&#039;

await $`ls *.js | grep foo`</code></pre>
</div><p>ä½ ç”šè‡³å¯ä»¥ä½¿ç”¨ <code>Response</code> ä½œä¸ºæ ‡å‡†è¾“å…¥ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::8h2egm1p18914assnwd0m9f::--><code>import { $ } from &#039;bun&#039;

const buffer = new Response(&#039;bar\n foo\n bar\n foo\n&#039;)

await $`grep foo &lt; ${buffer}`</code></pre>
</div><p>å¯ä½¿ç”¨ <code>cd</code>ã€<code>echo</code> å’Œ <code>rm</code> ç­‰å†…ç½®å‘½ä»¤ï¼š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::jx84bxalrvowh14hofwv2::--><code>import { $ } from &#039;bun&#039;

await $`cd .. &amp;&amp; rm -rf node_modules/rimraf`</code></pre>
</div><p>å®ƒå¯åœ¨ <code>Windows</code>ã€<code>macOS</code> å’Œ <code>Linux</code> ä¸Šè¿è¡Œã€‚æˆ‘ä»¬å®ç°äº†è®¸å¤šå¸¸ç”¨å‘½ä»¤å’ŒåŠŸèƒ½ï¼Œå¦‚<code>é€šé…ç¬¦</code>ã€<code>ç¯å¢ƒå˜é‡</code>ã€<code>é‡å®šå‘ï¼ˆredirectionï¼‰</code>ã€<code>ç®¡é“ï¼ˆpipingï¼‰</code>ç­‰ã€‚</p>
<p>å®ƒè¢«è®¾è®¡ä¸ºç®€å• <code>shell</code> è„šæœ¬çš„æ›¿ä»£å“ã€‚åœ¨ <code>Windows</code> ç‰ˆ <code>Bun</code> ä¸­ï¼Œå®ƒå°†ä¸º <code>bun run</code> ä¸­çš„ <code>package.json</code> â€œè„šæœ¬â€æä¾›æ”¯æŒã€‚</p>
<p>ä¸ºäº†æ›´æœ‰è¶£ä¸€ç‚¹ï¼Œæ‚¨è¿˜å¯ä»¥å°†å®ƒç”¨ä½œç‹¬ç«‹çš„ shell è„šæœ¬è§£é‡Šå™¨ï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::gxxrs1eyrgawkwgcw6o9km::--><code>echo &quot;cat package.json&quot; &gt; script.bun.sh
bun script.bun.sh</code></pre>
</div><h2 id="å¦‚ä½•å®‰è£…" tabindex="-1">å¦‚ä½•å®‰è£…ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•å®‰è£…" aria-label="Permalink to â€œå¦‚ä½•å®‰è£…ï¼Ÿâ€">&#8203;</a></h2>
<p><code>Bun Shell</code> å†…ç½®äº <code>Bun</code> ä¸­ã€‚å¦‚æœå·²ç»å®‰è£…äº† <code>Bun v1.0.24</code> æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥ä½¿ç”¨å®ƒï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::w9ee5agqv38l5mztpf5hwp::--><code>bun --version
1.0.24</code></pre>
</div><p>å¦‚æœä½ æ²¡æœ‰å®‰è£…<code>Bun</code>ï¼Œå¯ä»¥ä½¿ç”¨<code>curl</code>å®‰è£…ï¼š</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::l241c1du1ar9s0w7wltya5::--><code>curl -fsSL https://bun.sh/install | bash</code></pre>
</div><p>æˆ–è€…ä½¿ç”¨ npm :</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::gmuwwcftyb2b7rv7mqypv::--><code>npm install -g bun</code></pre>
</div><h2 id="ä½¿ç”¨å®è·µ" tabindex="-1">ä½¿ç”¨å®è·µ <a class="header-anchor" href="#ä½¿ç”¨å®è·µ" aria-label="Permalink to â€œä½¿ç”¨å®è·µâ€">&#8203;</a></h2>
<p>åˆ›å»º <code>test.ts</code> æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹ä»£ç </p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ypgyp88segvljuzv97p7::--><code>import { $ } from &#039;bun&#039;

await $`echo hello world`

const files = await $`ls *.js *.mjs`.text()

console.log(files.split(&#039;\n&#039;))</code></pre>
</div><p>è¿è¡Œè„šæœ¬</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::azy6n122538rfviow196va::--><code>bun test.ts</code></pre>
</div><p><a href="https://app.warp.dev/block/VLbnk6T4x6rCSVZT2uwWs7" target="_blank" rel="noreferrer">è¿è¡Œç»“æœ</a> å¦‚ä¸‹</p>
<p><img src="./bun-shell/1ad4e2f3727b32803ee4ce3b458ee21f.png" alt="" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/bun-shell/4be77f54128dc01fe235bf46be65dfd0.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å®‰è£…nvmåç»ˆç«¯å¯åŠ¨å˜æ…¢,æ›´å¿«çš„Nodeç‰ˆæœ¬ç®¡ç†å·¥å…·æ¨è]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/nvm-iterm.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/nvm-iterm.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[ç»ˆç«¯å¯åŠ¨æ—¶æ€»ä¼šå¡é¡¿ä¸€ä¸‹ï¼Œæ²¡å»æ¢ç©¶åŸå› ï¼Œçœ‹åˆ°å’²å¥ˆçš„åˆ†äº«æ‰çŸ¥é“æ˜¯nvmåœ¨ä½œç¥Ÿ]]></description>
            <content:encoded><![CDATA[<h1 id="å®‰è£…nvmåç»ˆç«¯å¯åŠ¨å˜æ…¢-æ›´å¿«çš„nodeç‰ˆæœ¬ç®¡ç†å·¥å…·æ¨è" tabindex="-1">å®‰è£…nvmåç»ˆç«¯å¯åŠ¨å˜æ…¢,æ›´å¿«çš„Nodeç‰ˆæœ¬ç®¡ç†å·¥å…·æ¨è <a class="header-anchor" href="#å®‰è£…nvmåç»ˆç«¯å¯åŠ¨å˜æ…¢-æ›´å¿«çš„nodeç‰ˆæœ¬ç®¡ç†å·¥å…·æ¨è" aria-label="Permalink to â€œå®‰è£…nvmåç»ˆç«¯å¯åŠ¨å˜æ…¢,æ›´å¿«çš„Nodeç‰ˆæœ¬ç®¡ç†å·¥å…·æ¨èâ€">&#8203;</a></h1>
<h2 id="å…ˆçœ‹å®‰è£…å‰åå¯¹æ¯”" tabindex="-1">å…ˆçœ‹å®‰è£…å‰åå¯¹æ¯” <a class="header-anchor" href="#å…ˆçœ‹å®‰è£…å‰åå¯¹æ¯”" aria-label="Permalink to â€œå…ˆçœ‹å®‰è£…å‰åå¯¹æ¯”â€">&#8203;</a></h2>
<p>å®‰è£…å‰</p>
<p><img src="./nvm-iterm/MTY3NjE4NDI1OTY0OA==676184259648.png" alt="" loading="lazy"></p>
<p>å®‰è£…å</p>
<p><img src="./nvm-iterm/MTY3NjE4NDgwNjAzMA==676184806030.png" alt="" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°æœ‰æ˜æ˜¾çš„å¡é¡¿</p>
<h2 id="å¦‚ä½•è§£å†³" tabindex="-1">å¦‚ä½•è§£å†³ <a class="header-anchor" href="#å¦‚ä½•è§£å†³" aria-label="Permalink to â€œå¦‚ä½•è§£å†³â€">&#8203;</a></h2>
<p>å°† NVM åˆå§‹åŒ–çš„é€»è¾‘æ”¾å…¥å‡½æ•°ä¸­ï¼Œä½¿ç”¨æ—¶æ‰è°ƒç”¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::zsxhd32l13ksddairzu7x::--><code>nvm() {// [!code ++]
export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm
[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion
}// [!code ++]</code></pre>
</div><p>æ–¹æ³•æ¥æº <a href="https://public.zsxq.com/groups/28851452458181.html" target="_blank" rel="noreferrer">å’²å¥ˆçš„å¹³è¡Œæ—¶ç©º</a></p>
<p><img src="./nvm-iterm/MTY3NjE4NTM2MDkyOQ==676185360929.png" alt="" loading="lazy"></p>
<p><strong>å¸¦æ¥çš„å½±å“</strong></p>
<p>emm ç”¨Nodeçš„è¯éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€ä¸‹<code>nvm</code> è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸æ˜¯å¾ˆä¼˜é›…</p>
<p>ä¸‹é¢ä»‹ç»å‡ ä¸ªå¯å¹³æ›¿ NVM çš„å·¥å…·ï¼Œéå¸¸çš„èµ</p>
<h2 id="ä½¿ç”¨å…¶å®ƒæ›´å¿«çš„å·¥å…·" tabindex="-1">ä½¿ç”¨å…¶å®ƒæ›´å¿«çš„å·¥å…· <a class="header-anchor" href="#ä½¿ç”¨å…¶å®ƒæ›´å¿«çš„å·¥å…·" aria-label="Permalink to â€œä½¿ç”¨å…¶å®ƒæ›´å¿«çš„å·¥å…·â€">&#8203;</a></h2>
<h3 id="volta" tabindex="-1"><a href="https://volta.sh/" target="_blank" rel="noreferrer">volta</a> <a class="header-anchor" href="#volta" aria-label="Permalink to â€œvoltaâ€">&#8203;</a></h3>
<p>åŸºäº Rust å®ç°çš„ï¼Œé™¤äº†Nodeç‰ˆæœ¬å¤–è¿˜æ”¯æŒå…¶å®ƒçš„</p>
<p>å®‰è£…</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::xoaasvaeoltw4m72ihva::--><code>curl https://get.volta.sh | bash</code></pre>
</div><p>å®‰è£… Node</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::xmqxr1s8nj2674y1u768r::--><code># install latest
volta install node
# or
volta install node@16</code></pre>
</div><h3 id="fnm" tabindex="-1"><a href="https://github.com/Schniz/fnm" target="_blank" rel="noreferrer">fnm</a> <a class="header-anchor" href="#fnm" aria-label="Permalink to â€œfnmâ€">&#8203;</a></h3>
<p>ä¹Ÿæ˜¯ä¸€ä¸ª åŸºäº Rustçš„ Node åŒ…ç®¡ç†å·¥å…·</p>
<p>å®‰è£…</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::3s92yjrclgvhs2xpjtlm16::--><code>curl -fsSL https://fnm.vercel.app/install | bash</code></pre>
</div><p>å®‰è£… Node</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::lyyjd1arsw2coidbqc6gg::--><code>fnm install --latest

fnm install 14</code></pre>
</div><h3 id="pnpm" tabindex="-1"><a href="https://pnpm.io/zh/cli/env" target="_blank" rel="noreferrer">pnpm</a> <a class="header-anchor" href="#pnpm" aria-label="Permalink to â€œpnpmâ€">&#8203;</a></h3>
<p>æ²¡é”™<code>pnpm</code> å¯ä»¥å®‰è£…NodeåŒ…</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::hwety1qgu3w86arov6lc::--><code>pnpm env use --global latest</code></pre>
</div><p>å®‰è£… v16 çš„Node.js</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ff4qufsvydv5v3xdkvr4::--><code>pnpm env use --global 16</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>ç¬”è€…è¯•ç”¨äº†ä¸‹æœ€åé€‰æ‹©äº†<code>volta</code></p>
<p>ä¸ä»…ä»…æ”¯æŒ node ç‰ˆæœ¬ç®¡ç†ï¼Œè¿˜æ”¯æŒå…¶å®ƒå…¨å±€åŒ…çš„ç®¡ç†</p>
<p>åŠŸèƒ½éå¸¸çš„å¤šï¼ˆæ¯”å¦‚ æ ¹æ®é¡¹ç›®é‡ŒNodeç‰ˆæœ¬è¦æ±‚ï¼Œè‡ªåŠ¨åˆ‡æ¢ï¼‰</p>
<p><img src="./nvm-iterm/MTY3NjE4OTM5MTk2Mg==676189391962.png" alt="" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/nvm-iterm/MTY3NjE4NTM2MDkyOQ==676185360929.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[æ€§èƒ½ä¼˜åŒ–ç¬”è®°]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/performance/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/performance/</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[:::tip å‚è€ƒ
æ˜é‡‘å°å†Œ:æ€§èƒ½ä¼˜åŒ–
:::
 ç›®å½•
* ç½‘ç»œå±‚é¢ä¼˜åŒ–
* CDNçš„ç¼“å­˜ä¸å›æºæœºåˆ¶
* DNS é¢„è§£æ
* å›¾ç‰‡ä¼˜åŒ–
* æ‡’åŠ è½½ä¸æ‰§è¡Œ
* ç›‘æ§
* èµ„æºé¢„åŠ è½½
* é¡µé¢é¢„æ¸²æŸ“
* ]]></description>
            <content:encoded><![CDATA[<h1 id="æ€§èƒ½ä¼˜åŒ–ç¬”è®°" tabindex="-1">æ€§èƒ½ä¼˜åŒ–ç¬”è®° <a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–ç¬”è®°" aria-label="Permalink to â€œæ€§èƒ½ä¼˜åŒ–ç¬”è®°â€">&#8203;</a></h1>
<p><img src="./index/MTU4MzQwMTU3ODkwNw==583401578907.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div  class="tip custom-block"><p class="custom-block-title">å‚è€ƒ</p>
<p><a href="https://juejin.im/book/5b936540f265da0a9624b04b/section/5b97cd22e51d450e8f5f6375#heading-2" target="_blank" rel="noreferrer">æ˜é‡‘å°å†Œ:æ€§èƒ½ä¼˜åŒ–</a></p>
</div>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./Internet.html">ç½‘ç»œå±‚é¢ä¼˜åŒ–</a></li>
<li><a href="./cdn.html">CDNçš„ç¼“å­˜ä¸å›æºæœºåˆ¶</a></li>
<li><a href="./dnsPre.html">DNS é¢„è§£æ</a></li>
<li><a href="./image.html">å›¾ç‰‡ä¼˜åŒ–</a></li>
<li><a href="./lazyLoad.html">æ‡’åŠ è½½ä¸æ‰§è¡Œ</a></li>
<li><a href="./monitor.html">ç›‘æ§</a></li>
<li><a href="./preLoad.html">èµ„æºé¢„åŠ è½½</a></li>
<li><a href="./preRender.html">é¡µé¢é¢„æ¸²æŸ“</a></li>
<li><a href="./ssr.html">æœåŠ¡ç«¯æ¸²æŸ“</a></li>
<li><a href="./throttling.html">èŠ‚æµä¸é˜²æŠ–</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/index/MTU4MzQwMTU3ODkwNw==583401578907.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[åšå®¢æ€§èƒ½ä¼˜åŒ–ç¬”è®° | 99åˆ†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/essay/dev/2024-blog-perf.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/essay/dev/2024-blog-perf.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[# åšå®¢æ€§èƒ½ä¼˜åŒ–ç¬”è®° | 99åˆ†

é—²ç€æ²¡äº‹ï¼Œæ‹¿ lighthouse æµ‹äº†ä¸€ä¸‹åšå®¢ç½‘ç«™çš„æ€§èƒ½è¯„æµ‹ï¼Œå‘ç°è¯Šæ–­å‡ºçš„é—®é¢˜è¿˜æŒºå¤šï¼Œå°±é¡ºæ‰‹ä¼˜åŒ–äº†ä¸€ä¸‹ã€‚

è¿™ç¯‡æ–‡ç« å°†è®°å½•è¿™ä¸ªä¼˜åŒ–çš„è¿‡ç¨‹ã€‚

## ä¼˜åŒ–å‰åå¯¹æ¯”
lighthouse æ£€æµ‹ç»“æœ

|                                     ä¼˜åŒ–å‰                                      |                                     ä¼˜åŒ–å                                      |
| :]]></description>
            <content:encoded><![CDATA[<h1 id="åšå®¢æ€§èƒ½ä¼˜åŒ–ç¬”è®°-99åˆ†" tabindex="-1">åšå®¢æ€§èƒ½ä¼˜åŒ–ç¬”è®° | 99åˆ† <a class="header-anchor" href="#åšå®¢æ€§èƒ½ä¼˜åŒ–ç¬”è®°-99åˆ†" aria-label="Permalink to â€œåšå®¢æ€§èƒ½ä¼˜åŒ–ç¬”è®° | 99åˆ†â€">&#8203;</a></h1>
<p>é—²ç€æ²¡äº‹ï¼Œæ‹¿ lighthouse æµ‹äº†ä¸€ä¸‹åšå®¢ç½‘ç«™çš„æ€§èƒ½è¯„æµ‹ï¼Œå‘ç°è¯Šæ–­å‡ºçš„é—®é¢˜è¿˜æŒºå¤šï¼Œå°±é¡ºæ‰‹ä¼˜åŒ–äº†ä¸€ä¸‹ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°†è®°å½•è¿™ä¸ªä¼˜åŒ–çš„è¿‡ç¨‹ã€‚</p>
<h2 id="ä¼˜åŒ–å‰åå¯¹æ¯”" tabindex="-1">ä¼˜åŒ–å‰åå¯¹æ¯” <a class="header-anchor" href="#ä¼˜åŒ–å‰åå¯¹æ¯”" aria-label="Permalink to â€œä¼˜åŒ–å‰åå¯¹æ¯”â€">&#8203;</a></h2>
<p>lighthouse æ£€æµ‹ç»“æœ</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">ä¼˜åŒ–å‰</th>
<th style="text-align:center">ä¼˜åŒ–å</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/4d82e4e81e499921a65b73c80034c153.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/b5bae2c72f1d2aed2c09857c1b9e6b5f.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>æ€§èƒ½é¢æ¿æ£€æµ‹ç»“æœ</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">FCP</th>
<th style="text-align:center">DOMContentLoaded</th>
<th style="text-align:center">LCP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ä¼˜åŒ–å‰</td>
<td style="text-align:center">764ms</td>
<td style="text-align:center">1798ms</td>
<td style="text-align:center">1864ms</td>
</tr>
<tr>
<td style="text-align:center">ä¼˜åŒ–å</td>
<td style="text-align:center">496ms</td>
<td style="text-align:center">507ms</td>
<td style="text-align:center">496ms</td>
</tr>
</tbody>
</table>
<ul>
<li>FCPï¼ˆFirst Contentful Paintï¼‰</li>
<li>LCPï¼ˆLargest Contentful Paintï¼‰</li>
</ul>
<h2 id="æ£€æµ‹å·¥å…·" tabindex="-1">æ£€æµ‹å·¥å…· <a class="header-anchor" href="#æ£€æµ‹å·¥å…·" aria-label="Permalink to â€œæ£€æµ‹å·¥å…·â€">&#8203;</a></h2>
<p>ä½¿ç”¨ Chrome è‡ªå¸¦çš„ lighthouse å’Œ æ€§èƒ½é¢æ¿è¿›è¡Œæµ‹è¯•ã€‚</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">æ€§èƒ½é¢æ¿</th>
<th style="text-align:center">lighthouse</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/ee2e46cd895e2773a22671fe99571bd3.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/c35d5a583f80ccbeae74544644fbc236.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<h2 id="å‘ç°é—®é¢˜" tabindex="-1">å‘ç°é—®é¢˜ <a class="header-anchor" href="#å‘ç°é—®é¢˜" aria-label="Permalink to â€œå‘ç°é—®é¢˜â€">&#8203;</a></h2>
<h3 id="æ€§èƒ½é¢æ¿-performance" tabindex="-1">æ€§èƒ½é¢æ¿ | Performance <a class="header-anchor" href="#æ€§èƒ½é¢æ¿-performance" aria-label="Permalink to â€œæ€§èƒ½é¢æ¿ | Performanceâ€">&#8203;</a></h3>
<p><em>é€šè¿‡æˆªå›¾å¯ä»¥è§‚å¯Ÿåˆ°æ¯ä¸ªæ—¶é—´çš„é¡µé¢å˜åŒ–</em></p>
<p><img src="./2024-blog-perf/1d59bbd832442846c5e15bd05a0fb41a.png" alt="" loading="lazy"></p>
<p>å‘ç°çš„é—®é¢˜ï¼š</p>
<ol>
<li>æ–‡ç« åˆ—è¡¨æ¸²æŸ“åï¼Œæ–‡ç« å°é¢å›¾åŠ è½½ç¼“æ…¢</li>
<li>å›¾ç‰‡å®ŒæˆåŠ è½½æ—¶é—´è¿‡é•¿ï¼ˆå°é¢ï¼Œå¤´åƒå›¾ç‰‡ï¼‰</li>
<li>å¸ƒå±€æ¸²æŸ“æœŸé—´å‘ç”Ÿæ˜æ˜¾å˜åŒ–</li>
</ol>
<ul>
<li>å‹é“¾åˆ—è¡¨åŠ è½½å®Œæˆå</li>
<li>å·¦ä¸Šå¤´åƒåŠ è½½å®Œæˆ</li>
</ul>
<h3 id="lighthouse" tabindex="-1">lighthouse <a class="header-anchor" href="#lighthouse" aria-label="Permalink to â€œlighthouseâ€">&#8203;</a></h3>
<p>æµ‹è¯•åä¼šç»™åˆ°ä¼˜åŒ–å»ºè®®ã€‚</p>
<p><img src="./2024-blog-perf/564a5318bef5fe8f9318e205a946ed5d.png" alt="" loading="lazy"></p>
<p>è¿™é‡ŒæŒ‘ä¸€äº›åé¢ç”¨åˆ°çš„</p>
<ol start="4">
<li>ä½¿ç”¨æ–°çš„å›¾ç‰‡æ ¼å¼ï¼ˆWebP and AVIFï¼‰</li>
<li>å‡å°‘æ²¡ç”¨åˆ°çš„CSSæ–‡ä»¶å¤§å°</li>
<li>img æ²¡æœ‰æ˜ç¡®çš„å®½é«˜å±æ€§</li>
<li>èµ„æºä¼ è¾“å‹ç¼©ï¼ˆgzip, brotli ç­‰ï¼‰</li>
<li>åŠ è½½é€‚å½“å¤§å°çš„å›¾ç‰‡ï¼ˆé¿å…è¶…è¿‡è¦å±•ç¤ºçš„å¤§å°ï¼‰</li>
<li>é¿å…è¶…å¤§çš„èµ„æºåŠ è½½é˜»å¡ç½‘ç»œï¼ˆä¸»è¦æ˜¯ä¸€äº›è¶…å¤§çš„å›¾ç‰‡å’Œjsï¼‰</li>
</ol>
<h2 id="ä¼˜åŒ–è¿‡ç¨‹" tabindex="-1">ä¼˜åŒ–è¿‡ç¨‹ <a class="header-anchor" href="#ä¼˜åŒ–è¿‡ç¨‹" aria-label="Permalink to â€œä¼˜åŒ–è¿‡ç¨‹â€">&#8203;</a></h2>
<h3 id="å›¾ç‰‡ä¼˜åŒ–" tabindex="-1">å›¾ç‰‡ä¼˜åŒ– <a class="header-anchor" href="#å›¾ç‰‡ä¼˜åŒ–" aria-label="Permalink to â€œå›¾ç‰‡ä¼˜åŒ–â€">&#8203;</a></h3>
<p><em>è§£å†³ï¼š1ï¼Œ2ï¼Œ4ï¼Œ8ï¼Œ9</em></p>
<p>â‘  è£å‰ªä¸ºæ¸²æŸ“çš„å¤§å°</p>
<p>â‘¡ æ ¼å¼è°ƒæ•´ä¸ºWebPæ ¼å¼</p>
<p>æˆ‘çš„å›¾ç‰‡éƒ½æ˜¯æ”¾åœ¨å›¾åºŠä¸Šçš„ï¼ˆ<a href="https://www.qiniu.com/" target="_blank" rel="noreferrer">ä¸ƒç‰›äº‘</a>ï¼Œ<a href="https://www.upyun.com/" target="_blank" rel="noreferrer">åˆæ‹äº‘</a>ï¼Œ<a href="https://www.bitiful.com/" target="_blank" rel="noreferrer">ç¼¤çº·äº‘</a>ï¼‰ã€‚</p>
<p>è¿™ä¸€æ­¥æˆ‘ç›´æ¥ä½¿ç”¨ OSSï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰ æä¾›çš„å›¾ç‰‡åŠ è½½è£å‰ªåŠŸèƒ½å³å¯ã€‚</p>
<p>é…ç½®ç›®æ ‡ï¼š<code>å®½é«˜è£å‰ªä¸º 120px * 80px</code>ï¼Œæ ¼å¼è°ƒæ•´ä¸º <code>WebP</code> æ ¼å¼ã€‚</p>
<p>é…ç½®å¤„ç†æ ·å¼ç¤ºä¾‹</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">ä¸ƒç‰›äº‘</th>
<th style="text-align:center">åˆæ‹äº‘</th>
<th style="text-align:center">ç¼¤çº·äº‘</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/35a9ae4bce09253ec27336add6d5b113.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/71b189c9662ae6ebf6c5cbba026bef9b.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/61666d5257abea7242b81f73b841366b.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>ä½¿ç”¨ï¼šåœ¨åŸæœ‰çš„èµ„æºä¸Šæ·»åŠ å¯¹åº”çš„åç½®å³å¯</p>
<ul>
<li>ä¸ƒç‰›äº‘ï¼šurl<code>~cover.webp</code></li>
<li>åˆæ‹äº‘ï¼šurl<code>-cover</code></li>
<li>ç¼¤çº·äº‘ï¼šurl<code>!style:cover</code></li>
</ul>
<p>ä»£ç ä¸­çš„ä½“ç°â†“</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">å°é¢</th>
<th style="text-align:center">å‹é“¾å¤´åƒ</th>
<th style="text-align:center">å¤´åƒ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/bea00144a61781f8effd682a43d36af0.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/aad8979fe2c73aa37c626d59cdbcb199.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/a0bebb4818ac1c4dcd208871c977fd6b.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<h3 id="oml2dæ¨¡å‹èµ„æºä¼˜åŒ–" tabindex="-1">oml2dæ¨¡å‹èµ„æºä¼˜åŒ– <a class="header-anchor" href="#oml2dæ¨¡å‹èµ„æºä¼˜åŒ–" aria-label="Permalink to â€œoml2dæ¨¡å‹èµ„æºä¼˜åŒ–â€">&#8203;</a></h3>
<p>åšå®¢å·¦ä¸‹è§’çš„çœ‹æ¿å¨˜åŠ è½½ä¼˜åŒ–ã€‚</p>
<p><em>è§£å†³ï¼š9</em></p>
<p>â‘  èµ„æºå…¨éƒ¨æ”¾åœ¨è‡ªå·±çš„ OSS é€šè¿‡CDNåŠ è½½ï¼ˆæœ‰gzipå‹ç¼©ï¼Œæ›´å¿«çš„è®¿é—®é€Ÿåº¦ï¼‰</p>
<p><img src="./2024-blog-perf/a54a6ad8b950bcd35881a91a766d9516.png" alt="" loading="lazy"></p>
<p>â‘¡ å°†æ¨¡å‹ç”¨åˆ°çš„PNGå›¾ç‰‡å‹ç¼©</p>
<p>ä½¿ç”¨ä¹‹å‰åšçš„<a href="https://demos.sugarat.top/pages/png-compress/" target="_blank" rel="noreferrer">å›¾ç‰‡åœ¨çº¿å‹ç¼©å·¥å…·</a></p>
<p><img src="./2024-blog-perf/3a71f093eb7e6a9edd7fc5a44ea5453a.png" alt="" loading="lazy"></p>
<p>å‹ç¼©åå‡å°‘äº† 88% çš„ä½“ç§¯ï¼Œè§†è§‰ä¸Šçœ‹ä¸å‡ºå˜åŒ–ã€‚</p>
<h3 id="ç½‘ç»œä¼˜åŒ–" tabindex="-1">ç½‘ç»œä¼˜åŒ– <a class="header-anchor" href="#ç½‘ç»œä¼˜åŒ–" aria-label="Permalink to â€œç½‘ç»œä¼˜åŒ–â€">&#8203;</a></h3>
<p><em>è§£å†³ï¼š7ï¼Œ9</em></p>
<p>â‘  ç¬¬ä¸‰æ–¹èµ„æºä½¿ç”¨ OSSå­˜å‚¨ + CDNåŠ è½½</p>
<p>â‘¡ è®¿é—®ä½¿ç”¨ HTTP3/HTTP2</p>
<p>æ–°çš„åè®®åŠ è½½èµ„æºï¼Œç”¨ä¸Šå¤šè·¯å¤ç”¨çš„ç‰¹æ€§ã€‚</p>
<p>å¯ç”¨å‰æèµ„æºæ”¯æŒ HTTPS è®¿é—®ï¼ˆé…ç½®SSLè¯ä¹¦ï¼‰ï¼Œæ‰èƒ½å¯ç”¨ HTTP2/3ã€‚</p>
<p>é…ç½® HTTPS æ—¶ä½¿ç”¨æœ€æ–°çš„ TLS1.3 ç‰ˆæœ¬ï¼Œæ›´å¿«çš„åŠ è§£å¯†é€Ÿåº¦ã€‚</p>
<p>ä¸‹é¢æ˜¯åœ¨å„å¹³å°å¼€å¯ç›¸å…³é…ç½®ç¤ºæ„ã€‚</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">ä¸ƒç‰›äº‘</th>
<th style="text-align:center">åˆæ‹äº‘</th>
<th style="text-align:center">ç¼¤çº·äº‘</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/bbbd1791fb922ff5a3b93bf767da7077.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/cef4e8d57160ce1e15f55a013fb5c48f.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/567b27f97e7c8c6d9872d30554ff5aac.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>ä¼˜åŒ–å‰åå¯¹æ¯”</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">ä¼˜åŒ–å‰</th>
<th style="text-align:center">ä¼˜åŒ–å</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/2589d8a0c951eb52926265296d295300.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/d2a595575fffd4894aafb90d242169ae.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<h3 id="å¸ƒå±€ä¼˜åŒ–" tabindex="-1">å¸ƒå±€ä¼˜åŒ– <a class="header-anchor" href="#å¸ƒå±€ä¼˜åŒ–" aria-label="Permalink to â€œå¸ƒå±€ä¼˜åŒ–â€">&#8203;</a></h3>
<p><em>è§£å†³ï¼š3ï¼Œ6</em></p>
<p><strong>ç›®æ ‡ï¼šå‡å°‘è§¦å‘ â€œé¡µé¢å›æµé‡ç»˜â€ çš„èŒƒå›´å’Œæ¬¡æ•°ã€‚</strong></p>
<p>â‘  é’ˆå¯¹å›¾ç‰‡ï¼Œé™å®šå…·ä½“æ¸²æŸ“çš„å®½é«˜ï¼Œé¿å…å›¾ç‰‡åŠ è½½åå¸ƒå±€å‘ç”Ÿå˜åŒ–</p>
<p><img src="./2024-blog-perf/ff09a4dbcd305b2b1fb1811934a1c7c2.png" alt="" loading="lazy"></p>
<p><img src="./2024-blog-perf/67cfbd857a8a3e7e7eefa5aac53f696e.png" alt="" loading="lazy"></p>
<p>â‘¡ é’ˆå¯¹åæ¸²æŸ“åŒºåŸŸï¼Œé™å®šå…¶å®¹å™¨çš„å®½åº¦ï¼Œé¿å…æ¸²æŸ“åå½±å“å¸ƒå±€</p>
<p><img src="./2024-blog-perf/2210f6baef787ab13326a26d02e11783.png" alt="" loading="lazy"></p>
<h3 id="å‡å°‘æ— ç”¨ä»£ç " tabindex="-1">å‡å°‘æ— ç”¨ä»£ç  <a class="header-anchor" href="#å‡å°‘æ— ç”¨ä»£ç " aria-label="Permalink to â€œå‡å°‘æ— ç”¨ä»£ç â€">&#8203;</a></h3>
<p><em>è§£å†³ï¼š5</em></p>
<p>â‘  ç§»é™¤æ— ç”¨çš„ js è„šæœ¬æˆ–è€… CSS èµ„æº</p>
<p>å¤§æ¦‚çœ‹äº†ä¸€ä¸‹ï¼Œé¡¹ç›®é‡Œé¢å¤–ä¾èµ–çš„ element-plus æ ·å¼æ–‡ä»¶å å¤§å¤´ã€‚</p>
<p><img src="./2024-blog-perf/028e0cf966f7a0b067ce1f3dc26ede32.png" alt="" loading="lazy"></p>
<p>å°†å…¨é‡å¼•å…¥ï¼Œæ‰‹åŠ¨è°ƒæ•´ä¸ºæŒ‰éœ€å¼•å…¥ã€‚</p>
<h2 id="æœ€ç»ˆæ•ˆæœ" tabindex="-1">æœ€ç»ˆæ•ˆæœ <a class="header-anchor" href="#æœ€ç»ˆæ•ˆæœ" aria-label="Permalink to â€œæœ€ç»ˆæ•ˆæœâ€">&#8203;</a></h2>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">æ€§èƒ½é¢æ¿</th>
<th style="text-align:center">lighthouse</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./2024-blog-perf/5373e67f09e2a349074b0ab0c852d134.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./2024-blog-perf/b5bae2c72f1d2aed2c09857c1b9e6b5f.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>ä¼˜åŒ–åçš„æ€§èƒ½æŒ‡æ ‡</p>
<ul>
<li>FCPï¼ˆFirst Contentful Paintï¼‰ï¼š496ms</li>
<li>DOMContentLoadedï¼š507ms</li>
<li>LCPï¼ˆLargest Contentful Paintï¼‰ï¼š496ms</li>
</ul>
<p>è®¿é—® <a href="https://www.dmsrs.org" target="_blank" rel="noreferrer">https://www.dmsrs.org</a> å¯ä»¥çœ‹åˆ°æ•ˆæœè¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ã€‚</p>
<h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<ol>
<li>å›¾ç‰‡ï¼šå‹ç¼©ï¼ŒåŠ è½½åˆé€‚å°ºå¯¸ï¼Œä¼˜å…ˆä½¿ç”¨ WebP æ ¼å¼</li>
<li>ç½‘ç»œï¼šHTTPS + HTTP2/3ï¼ŒOSS + CDN</li>
<li>å¸ƒå±€ï¼šå‡å°‘å›æµé‡ç»˜èŒƒå›´ä¸æ¬¡æ•°</li>
<li>èµ„æºï¼šç§»é™¤æ— ç”¨ä»£ç ï¼Œæ— ç”¨çš„ç¬¬ä¸‰æ–¹èµ„æºåŠ è½½</li>
</ol>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/2024-blog-perf/4d82e4e81e499921a65b73c80034c153.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å®ç°è‡ªåŠ¨æ‰«æå·¥ä½œåŒºnpmåŒ…å¹¶åŒæ­¥cnpm]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/cnnc.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/cnnc.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[æ‰¹é‡ä¸”è‡ªåŠ¨çš„åšcnpmçš„åŒæ­¥ï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªå¤šnpmåŒ…çš„é¡¹ç›®ï¼Œé‚£ä¹ˆè¿™ä¸ªå·¥å…·éå¸¸é€‚åˆä½ ]]></description>
            <content:encoded><![CDATA[<h1 id="å®ç°è‡ªåŠ¨æ‰«æå·¥ä½œåŒºnpmåŒ…å¹¶åŒæ­¥cnpm" tabindex="-1">å®ç°è‡ªåŠ¨æ‰«æå·¥ä½œåŒºnpmåŒ…å¹¶åŒæ­¥cnpm <a class="header-anchor" href="#å®ç°è‡ªåŠ¨æ‰«æå·¥ä½œåŒºnpmåŒ…å¹¶åŒæ­¥cnpm" aria-label="Permalink to â€œå®ç°è‡ªåŠ¨æ‰«æå·¥ä½œåŒºnpmåŒ…å¹¶åŒæ­¥cnpmâ€">&#8203;</a></h1>
<p><strong>çœæµç‰ˆ: <code>npx cnnc</code></strong></p>
<p>ä¸ºé¿å…åŒ…åé‡å¤ï¼Œå–äº†2ä¸ªå•è¯çš„é¦–å°¾ï¼Œ<em><span style="color:red">cn</span>pm sy<span style="color:red">nc</span></em></p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨å¼€å‘ä¸€ä¸ªå¤šnpmåŒ…çš„é¡¹ç›®æ—¶ï¼Œæ—¶å¸¸ä¼šä¸€æ¬¡æ›´æ–°å¤šä¸ªåŒ…çš„ä»£ç ï¼Œå†æ‰¹é‡å‘å¸ƒåˆ° npm é•œåƒæºåã€‚</p>
<p>ç”±äºå›½å†…ç½‘ç»œç¯å¢ƒçš„åŸå› ï¼Œå¤§éƒ¨åˆ†éƒ½ä¼šä½¿ç”¨<a href="https://npmmirror.com/" target="_blank" rel="noreferrer">æ·˜å®çš„é•œåƒæº</a>è¿›è¡Œä¾èµ–å®‰è£…ï¼Œä¸ºäº†ç¡®ä¿å‘å¸ƒåï¼Œé€šè¿‡æ·˜å®æºèƒ½å¤Ÿé¡ºåˆ©çš„å®‰è£…ï¼Œé€šå¸¸ä¼šæ‰‹åŠ¨åŒæ­¥ä¸€ä¸‹</p>
<p><code>cnpm sync vue react</code></p>
<p>ä½†åœ¨ä¸€äº›å¤§å‹çš„ monorepo çš„å¤šåŒ…å·¥ç¨‹é‡Œï¼Œæ‰‹åŠ¨è¾“å…¥åŒ…åæ˜¯ä¸€ä»¶éå¸¸ç¹ççš„äº‹æƒ…ï¼Œæ‰€ä»¥å‡†å¤‡æŠŠè¾“å…¥çš„è¿‡ç¨‹ç®€åŒ–ä¸€ä¸‹ï¼Œæ”¹æˆè‡ªåŠ¨æ‰«æå·¥ä½œåŒºçš„åŒ…åï¼Œç„¶åè‡ªåŠ¨åŒæ­¥ã€‚</p>
<p>è¿›è€Œæœ‰äº†è¿™ä¸ªå·¥å…·</p>
<h2 id="å·¥å…·çš„ä½¿ç”¨" tabindex="-1">å·¥å…·çš„ä½¿ç”¨ <a class="header-anchor" href="#å·¥å…·çš„ä½¿ç”¨" aria-label="Permalink to â€œå·¥å…·çš„ä½¿ç”¨â€">&#8203;</a></h2>
<p>ç›´æ¥é€šè¿‡ npx è¿è¡Œå³å¯ï¼Œå°†è‡ªåŠ¨æ‰«ææ‰€æœ‰çš„åŒ…</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::04us9t7qg4kvofci2pasjqf::--><code>npx cnnc</code></pre>
</div><p><a href="https://app.warp.dev/block/wrTUBqnxdg65BqCTgtSgD5" target="_blank" rel="noreferrer">ç¤ºä¾‹ç»“æœ</a> å¦‚ä¸‹</p>
<p><img src="./cnnc/MTY5NDI0OTI5MjYwMg==694249292602.png" alt="" loading="lazy"></p>
<p>å½“ç„¶ä¹ŸåŒæ ·æ”¯æŒæ‰‹åŠ¨ä¼ å…¥è¦æ›´æ–°çš„åŒ…</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2i2wmcmrl6zlolx9xkyql::--><code>npx cncc vue react</code></pre>
</div><p>å¦‚æœä½¿ç”¨é¢‘ç‡è¾ƒé«˜ï¼Œä¹Ÿå¯å…¨å±€å®‰è£…<code>npm i -g cnnc</code></p>
<p>è¿™æ ·å¯ä»¥ç›´æ¥é€šè¿‡<code>cnnc</code>æˆ–<code>cs</code>å‘½ä»¤è°ƒç”¨</p>
<p><img src="./cnnc/MTY5NDI1NDAxNTM0Nw==694254015347.png" alt="" loading="lazy"></p>
<h2 id="å®ç°åŸç†" tabindex="-1">å®ç°åŸç† <a class="header-anchor" href="#å®ç°åŸç†" aria-label="Permalink to â€œå®ç°åŸç†â€">&#8203;</a></h2>
<p>æ ¸å¿ƒä»£ç ä¸åˆ°20è¡Œï¼Œä¸‹é¢è¯¦ç»†çš„æ‹†è§£ä¸€ä¸‹ï¼Œä¾¿äºå­¦ä¹ ä¸ç†è§£</p>
<p>ä¸»è¦åˆ†ä¸º3éƒ¨åˆ†</p>
<ul>
<li>å·¥ä½œåŒºçš„åŒ…æ‰«æ</li>
<li>è¿‡æ»¤å‡ºåˆæ³•çš„åŒ…</li>
<li>è°ƒç”¨ cnpm åŒæ­¥</li>
</ul>
<h3 id="å·¥ä½œåŒºçš„åŒ…æ‰«æ" tabindex="-1">å·¥ä½œåŒºçš„åŒ…æ‰«æ <a class="header-anchor" href="#å·¥ä½œåŒºçš„åŒ…æ‰«æ" aria-label="Permalink to â€œå·¥ä½œåŒºçš„åŒ…æ‰«æâ€">&#8203;</a></h3>
<p>ä¸»è¦ç›®çš„å°±æ˜¯æ‰«æå·¥ä½œåŒºæ‰€æœ‰çš„ <code>package.json</code> æ–‡ä»¶ï¼Œç„¶åæå–å‡ºåŒ…åï¼ˆä¸åŒ…å« node_modulesï¼Œbuild ç­‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼‰</p>
<p>è¿™é‡Œå¯ä»¥ <code>fs.readdirSync</code> å®ç°ä¸€ä¸ªé€’å½’çš„æ‰«æï¼Œä¹Ÿå¯ä»¥ç”¨<a href="https://github.com/mrmlnc/fast-glob#readme" target="_blank" rel="noreferrer">fast-glob</a>ï¼Œå›¾æ–¹ä¾¿æˆ‘è¿™é‡Œé€‰æ‹©åè€…ï¼Œä¹Ÿæ˜¯ç›®å‰ç›®å½•æ‰«æç”¨å¾—è¾ƒå¹¿æ³›çš„ä¸€ä¸ªåŒ…</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::xdr3u5jsgphbk9xc0t4uc::--><code>const fg = require(&#039;fast-glob&#039;)

const pkgNames = []

// é€šè¿‡glob å–æ‰€æœ‰package.json
fg.sync(&#039;./**/package.json&#039;, {
  ignore: [
    &#039;**/node_modules&#039;,
    &#039;**/dist&#039;,
    &#039;**/build&#039;,
    &#039;**/test&#039;,
    // çœç•¥æ›´å¤šçš„æ— å…³ç›®å½•...
  ],
  absolute: true
}).forEach((file) =&gt; {
  const { name } = require(file)
  pkgNames.push(name)
})</code></pre>
</div><p>é€šå¸¸å·¥ä½œåŒºé‡Œæœ‰å¾ˆå¤šæ— å…³çš„ç›®å½•ï¼Œæ¯”å¦‚<code>node_modules</code>ã€<code>build</code>ã€<code>dist</code>ã€<code>test</code>ç­‰ï¼Œè¿™äº›ç›®å½•ä¸‹çš„<code>package.json</code>éƒ½ä¸éœ€è¦åŒæ­¥ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡<code>ignore</code>å‚æ•°æ¥å¿½ç•¥æ‰ï¼Œé¿å…ä¸å¿…è¦çš„æ‰«æï¼ˆå¦åˆ™ node_modules å¥— node_modules ä¼šå¢åŠ æ‰«ææ—¶é—´ï¼Œéƒ¨åˆ†ç›®å½•æ˜¯è½¯é“¾çš„è¯ä¹Ÿä¼šå¯¼è‡´æ‰«æè·¯å¾„çš„å¼‚å¸¸ï¼‰</p>
<h3 id="è¿‡æ»¤å‡ºåˆæ³•çš„åŒ…" tabindex="-1">è¿‡æ»¤å‡ºåˆæ³•çš„åŒ… <a class="header-anchor" href="#è¿‡æ»¤å‡ºåˆæ³•çš„åŒ…" aria-label="Permalink to â€œè¿‡æ»¤å‡ºåˆæ³•çš„åŒ…â€">&#8203;</a></h3>
<p>æœ‰äº›<code>package.json</code>ä¼šåŒ…å« <code>&quot;private&quot;: true</code> å†…å®¹ï¼Œè¡¨æ˜ä¸ºç§æœ‰çš„åŒ…ï¼Œä¸ä¼šå‘å¸ƒåˆ°npmé•œåƒæºï¼Œæ‰€ä»¥éœ€è¦è¿‡æ»¤æ‰</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::3afmulvh1fvksrl26lcq9q::--><code>// çœç•¥å…¶å®ƒä»£ç 
globResult.forEach((file) =&gt; {
  const { name, private } = require(file)
  if (!private) {
    pkgNames.push(name)
  }
})</code></pre>
</div><h3 id="è°ƒç”¨-cnpm-åŒæ­¥" tabindex="-1">è°ƒç”¨ cnpm åŒæ­¥ <a class="header-anchor" href="#è°ƒç”¨-cnpm-åŒæ­¥" aria-label="Permalink to â€œè°ƒç”¨ cnpm åŒæ­¥â€">&#8203;</a></h3>
<p>æœ€åä¸€æ­¥å°±æ˜¯è°ƒç”¨<code>cnpm sync</code>å‘½ä»¤ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡<code>child_process</code>æ¨¡å—æ¥å®ç°</p>
<p>é€šè¿‡<code>spawn</code>æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œå‘½ä»¤ï¼Œç„¶åé€šè¿‡<code>stdio: 'inherit'</code>å°†å‘½ä»¤è¡Œçš„è¾“å‡ºç›´æ¥æ‰“å°åˆ°ç»ˆç«¯ä¸­</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::06blcfuqpzmlj91z2to1yx::--><code>const { spawn } = require(&#039;child_process&#039;)
const { promisify } = require(&#039;util&#039;)
function CnpmSync(...names) {
  return promisify(spawn)(&#039;npx&#039;, [&#039;cnpm&#039;, &#039;sync&#039;, ...names], {
    cwd: __dirname,
    stdio: &#039;inherit&#039;
  })
}</code></pre>
</div><p>ä¸ºé˜²æ­¢ç”¨æˆ·æ²¡æœ‰å…¨å±€å®‰è£…cnpmï¼Œè¿™é‡Œé€šè¿‡<code>npx cnpm sync</code>çš„æ–¹å¼æ¥è°ƒç”¨ï¼Œè¿™æ ·å°±ä¸éœ€è¦ç”¨æˆ·è‡ªå·±å®‰è£…äº†</p>
<p>åŒæ—¶å¯ä»¥å°†<code>cnpm</code>ä½œä¸ºåŒ…<code>dependencies</code>ä¾èµ–å®‰è£…ï¼Œé€šè¿‡<code>cwd: __dirname</code>å‚æ•°ï¼Œå°†æŒ‡ä»¤è¿è¡Œç›®å½•æŒ‡å®šä¸ºå½“å‰ç›®å½•ï¼Œè¿™æ ·<code>npx cnpm</code>æ‰§è¡Œæ—¶ï¼Œå°±ä¼šå»<code>cncc</code>ç›®å½•çš„<code>node_modules</code>ä¸‹æ‰¾åˆ°<code>cnpm</code>å‘½ä»¤ï¼Œä»è€Œå®ç°è°ƒç”¨ï¼Œä¸éœ€è¦é‡å¤çš„åœ¨å…¨å±€è¿›è¡Œä¾èµ–çš„å®‰è£…ï¼Œå¤§å¤§æå‡æŒ‡ä»¤æ‰§è¡Œé€Ÿåº¦</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>å·¥å…·åŸç†å¾ˆç®€å•ï¼Œè§£å†³çš„é—®é¢˜ä¹Ÿéå¸¸æ˜ç¡®ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©è¯»è€…çœä¸‹å‡ åˆ†é’Ÿçš„æ—¶é—´ï¼Œæå‡å¼€å‘çš„å¹¸ç¦åº¦</p>
<hr>
<p>å½“ç„¶å·¥å…·è¿˜æœ‰å¾ˆå¤šå¯ä¼˜åŒ–çš„ç‚¹ï¼Œæ¯”å¦‚å…ˆé€šè¿‡å¯¹æ¯” npm å’Œ cnpm çš„ç‰ˆæœ¬å·ï¼Œå¦‚æœä¸€è‡´å°±ä¸éœ€è¦åŒæ­¥äº†ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§åŠ å¿«åŒæ­¥çš„é€Ÿåº¦</p>
<p>ï¼ˆ<em>ç›®å‰ç”±äºç½‘ç»œåŸå› ä» npm é•œåƒæºæ‹‰åŒ…ç‰ˆæœ¬ä¿¡æ¯ç›¸å¯¹è¾ƒæ…¢ï¼Œæ‰€ä»¥æœ¬æœŸæ²¡æœ‰åŠ è¿™ä¸ªåŠŸèƒ½ï¼Œè¯»è€…å¦‚æœæœ‰æ›´å¥½çš„å»ºè®®ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµ</em>ï¼‰</p>
<p>åŒæ—¶å¯ä»¥å°†è¿™ä¸ªæŒ‡ä»¤æ”¾åœ¨ <code>&quot;npm postpublish&quot;</code> é’©å­ä¸­ï¼Œè¿™æ ·å‘å¸ƒåè‡ªåŠ¨è§¦å‘åŒæ­¥ï¼Œæ›´åŠ çœå¿ƒ</p>
<hr>
<p>å®Œæ•´æºç è§ï¼š<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/sync-cnpm/README.md" target="_blank" rel="noreferrer">GitHub</a></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/cnnc/MTY5NDI0OTI5MjYwMg==694249292602.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å¦‚ä½•ä¼˜é›…çš„å¤åˆ¶å½“å‰é¡¹ç›®åˆ†æ”¯å]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/copy-branch.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/copy-branch.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[æœ¬æ–‡ç®€å•ä»‹ç»äº†å¦‚ä½•é€šè¿‡`Shell`å’Œ`Node.js`å®ç°å¤åˆ¶å½“å‰åˆ†æ”¯ååˆ°å‰ªè´´æ¿]]></description>
            <content:encoded><![CDATA[<h1 id="å¦‚ä½•ä¼˜é›…çš„å¤åˆ¶å½“å‰é¡¹ç›®åˆ†æ”¯å" tabindex="-1">å¦‚ä½•ä¼˜é›…çš„å¤åˆ¶å½“å‰é¡¹ç›®åˆ†æ”¯å <a class="header-anchor" href="#å¦‚ä½•ä¼˜é›…çš„å¤åˆ¶å½“å‰é¡¹ç›®åˆ†æ”¯å" aria-label="Permalink to â€œå¦‚ä½•ä¼˜é›…çš„å¤åˆ¶å½“å‰é¡¹ç›®åˆ†æ”¯åâ€">&#8203;</a></h1>
<p><strong>çœæµç‰ˆ: <code>npx bcy</code></strong></p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨å·¥ä½œä¸­ï¼Œåä½œåœºæ™¯ä¸‹ï¼Œé¿å…ä¸äº†è¦å‘Šè¯‰åŒäº‹ä½ å½“å‰çš„å¼€å‘åˆ†æ”¯ï¼Œ<strong>é€šå¸¸æƒ…å†µ</strong>ä¸‹éœ€è¦2æ­¥</p>
<p><strong>Step1 æŸ¥çœ‹å½“å‰åˆ†æ”¯</strong></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::82kagoa8sljitscdqyfurj::--><code>git branch</code></pre>
</div><p>è¿™é‡Œè¿˜æœ‰ä¸ªcaseï¼Œåˆ†æ”¯å¤šçš„è¯éœ€è¦ç¿»é¡µæŸ¥çœ‹ï¼Œæ‰èƒ½æ‰¾åˆ°å½“å‰åˆ†æ”¯</p>
<p><img src="./copy-branch/MTY5MTI0NTYxOTQzMw==691245619433.png" alt="" loading="lazy"></p>
<p>è¦å‡†ç¡®è·å–éœ€è¦åŠ ä¸Š<code>--show-current</code>å‚æ•°</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::by2xn6kuyxp8zg0z4izztf::--><code>git branch --show-current</code></pre>
</div><p><img src="./copy-branch/MTY5MTI0NTc5MDM2OQ==691245790369.png" alt="" loading="lazy"></p>
<p><strong>Step2 é¼ æ ‡å³é”®å¤åˆ¶å½“å‰åˆ†æ”¯</strong></p>
<hr>
<p>æœ¬æ–‡å°†ä¼šä»‹ç»2ç§æ–¹å¼ï¼Œå®ç°1è¡Œä»£ç ç›´æ¥å¤åˆ¶åˆ†æ”¯</p>
<ul>
<li>Shell</li>
<li>Node CLI</li>
</ul>
<h2 id="æ ¸å¿ƒæ­¥éª¤" tabindex="-1">æ ¸å¿ƒæ­¥éª¤ <a class="header-anchor" href="#æ ¸å¿ƒæ­¥éª¤" aria-label="Permalink to â€œæ ¸å¿ƒæ­¥éª¤â€">&#8203;</a></h2>
<h3 id="è·å–åˆ†æ”¯å" tabindex="-1">è·å–åˆ†æ”¯å <a class="header-anchor" href="#è·å–åˆ†æ”¯å" aria-label="Permalink to â€œè·å–åˆ†æ”¯åâ€">&#8203;</a></h3>
<p>è¿™ä¸ªä¸Šé¢ä»‹ç»äº†ï¼Œå¯ä»¥é€šè¿‡<code>git branch --show-current</code>è·å–</p>
<p>åœ¨ <code>shell</code> é‡Œï¼Œå¯ä»¥ç›´æ¥å°†ç»“æœå­˜åˆ°å˜é‡é‡Œ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::pj7d78yezej0of0swizfu5c::--><code># bcp.sh
branch=$(git branch --show-current)
echo $branch</code></pre>
</div><p><img src="./copy-branch/MTY5MTMwNDE3MDkzNg==691304170936.png" alt="" loading="lazy"></p>
<p><code>Node.js</code> é‡Œï¼Œå¯ä»¥é€šè¿‡<code>child_process</code>æ¨¡å—æ¥æ‰§è¡Œå‘½ä»¤</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::1tm01xugqd3h1oz5417zsj::--><code>const { execSync } = require(&#039;child_process&#039;);
const branch = execSync(&#039;git branch --show-current&#039;).toString().trim();
console.log(branch);</code></pre>
</div><p><img src="./copy-branch/MTY5MTMwNDU1NTQ2Nw==691304555467.png" alt="" loading="lazy"></p>
<h3 id="å¤åˆ¶åˆ°å‰ªè´´æ¿" tabindex="-1">å¤åˆ¶åˆ°å‰ªè´´æ¿ <a class="header-anchor" href="#å¤åˆ¶åˆ°å‰ªè´´æ¿" aria-label="Permalink to â€œå¤åˆ¶åˆ°å‰ªè´´æ¿â€">&#8203;</a></h3>
<p>è¿™ä¸€å—å°±æ˜¯è°ƒç”¨ç³»ç»ŸæŒ‡ä»¤æ‰§è¡Œäº†ï¼Œä¸åŒæ“ä½œç³»ç»Ÿçš„ä¸ä¸€æ ·</p>
<p>ä¹‹å‰ç”¨è¿‡ <a href="https://github.com/xavi-/node-copy-paste#readme" target="_blank" rel="noreferrer">node-copy-paste</a> è¿™ä¸ªåº“</p>
<p>å¤§æ¦‚ä»‹ç»äº†ä¸€ä¸‹å„ä¸ªæ“ä½œç³»ç»Ÿæ‰€ç”¨çš„æŒ‡ä»¤ï¼šMacOS(pbcopy)ã€Windows(clip)ã€Linux(xclip)</p>
<p><img src="./copy-branch/MTY5MTMwNDc4MTIwMQ==691304781201.png" alt="" loading="lazy"></p>
<p>è¿™é‡Œç¬”è€…ç”¨çš„æ˜¯<code>MacOS</code>ï¼Œæ‰€ä»¥ç›´æ¥ç”¨<code>pbcopy</code>æŒ‡ä»¤</p>
<p>åªéœ€è¦åœ¨ä¸Šé¢çš„åŸºç¡€ä¸ŠåŠ ä¸Š<code>| pbcopy</code>å³å¯</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::bn6rrpf32gmej3g30l7z29::--><code>branch=$(git branch --show-current)
echo $branch | pbcopy
# æˆ–
git branch --show-current | pbcopy</code></pre>
</div><p>è¿è¡Œåå‘ç°<code>git branch --show-current</code>è·å–çš„å†…å®¹ä¼šæœ‰æ¢è¡Œç¬¦ï¼Œå¯ä»¥é€šè¿‡<code>tr</code>æŒ‡ä»¤å»æ‰</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::vc1anz9631ghuiw2qwa0xe::--><code>git branch --show-current | tr -d &#039;\n&#039; | pbcopy</code></pre>
</div><p>Node.js é‡Œï¼Œåœ¨<code>.trim()</code>ååŠ ä¸Š<code>.replace(/\n/g, '')</code>å³å¯</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::gwnx2fl2shlfy3s2uiq4pe::--><code>execSync(&#039;git branch --show-current&#039;).toString().trim().replace(/\n/g, &#039;&#039;);</code></pre>
</div><p>ä¸è¿‡å®é™…æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¹ˆé•¿çš„æŒ‡ä»¤å°è£…èµ·æ¥ï¼Œæ–¹ä¾¿ä½¿ç”¨</p>
<p><em>è°æ²¡äº‹æ•²è¿™ä¹ˆå¤šï¼Œéƒ½å¯ä»¥æ‰‹åŠ¨CVå¥½å¤šéäº†</em></p>
<h2 id="å°è£…å®ç°" tabindex="-1">å°è£…å®ç° <a class="header-anchor" href="#å°è£…å®ç°" aria-label="Permalink to â€œå°è£…å®ç°â€">&#8203;</a></h2>
<h3 id="shell" tabindex="-1">Shell <a class="header-anchor" href="#shell" aria-label="Permalink to â€œShellâ€">&#8203;</a></h3>
<p>åªéœ€è¦ä½¿ç”¨<code>alias</code>æŒ‡ä»¤å³å¯</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ftxzsrdbw7bjx0m6zbbi4::--><code>alias bcy=&#039;git branch --show-current | tr -d &quot;\n&quot; | pbcopy&#039;</code></pre>
</div><p>ç„¶åå°†è¿™ä¸ªæŒ‡ä»¤åŠ å…¥åˆ°<code>~/.zshrc</code>æˆ–<code>~/.bashrc</code>é‡Œå³å¯ï¼ˆå¯ä»¥ä½¿ç”¨ <code>echo $0</code>ç¡®å®šè‡ªå·±çš„ç»ˆç«¯é»˜è®¤çš„shellæ‰§è¡Œå™¨ï¼‰</p>
<p>å¯è¿è¡Œä¸‹é¢çš„shellè„šæœ¬å®Œæˆè‡ªåŠ¨æ·»åŠ </p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::kobohi7bqjhy9a03oyimj::--><code>echo &#039;alias bcy=&quot;git branch --show-current | tr -d \&quot;\\n\&quot; | pbcopy&quot;&#039; &gt;&gt; ~/.zshrc</code></pre>
</div><p>é‡å¯ç»ˆç«¯ï¼Œæˆ–è€…ä½¿ç”¨<code>source ~/.zshrc</code>ä½¿å…¶ç”Ÿæ•ˆ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::0anm9466cpglb0o7dkrvmbe::--><code>source ~/.zshrc</code></pre>
</div><p><img src="./copy-branch/MTY5MTMwNzY2OTU1MA==691307669550.png" alt="" loading="lazy"></p>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰“å°ä¸€äº›æç¤ºä¿¡æ¯</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2sf7gqmkaee8ww3qf4wlfa::--><code>alias bcy=&#039;branch=$(git branch --show-current); echo &quot;å½“å‰åˆ†æ”¯ï¼š$branch&quot;; echo $branch | tr -d &quot;\n&quot; | pbcopy&#039;</code></pre>
</div><p>å¯¹åº”çš„å®‰è£…è„šæœ¬å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::in5yzrpvih7hnkuss0td4g::--><code>echo &quot;alias bcy=&#039;branch=\$(git branch --show-current); echo \&quot;å½“å‰åˆ†æ”¯ï¼š\$branch\&quot;; echo \$branch | tr -d \&quot;\\\\n\&quot; | pbcopy&#039;&quot; &gt;&gt; ~/.zshrc</code></pre>
</div><p><img src="./copy-branch/MTY5MTMwODMzMTk2NA==691308331964.png" alt="" loading="lazy"></p>
<p><img src="./copy-branch/MTY5MTMxNzA1MDQ0OA==691317050448.png" alt="" loading="lazy"></p>
<h3 id="node-cli" tabindex="-1">Node CLI <a class="header-anchor" href="#node-cli" aria-label="Permalink to â€œNode CLIâ€">&#8203;</a></h3>
<p>ä¸Šé¢ä»‹ç»çš„æ˜¯<code>shell</code>é‡Œçš„å®ç°ï¼Œè¿™é‡Œä»‹ç»ä¸‹<code>Node.js</code>é‡Œçš„å®ç°</p>
<p>æ–¹ä¾¿æœ‰ Node ç¯å¢ƒï¼Œä½†ä¸ç†Ÿæ‚‰Shellçš„åŒå­¦ä½¿ç”¨</p>
<p>è„šæœ¬ä¹Ÿå¾ˆç®€å•</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::x9jy45xxkdyrp9bsoxjxn::--><code>#!/usr/bin/env node
const { execSync } = require(&#039;child_process&#039;)
const ncp = require(&#039;copy-paste&#039;)

// è·å–å½“å‰ä»“åº“åˆ†æ”¯
const branch = execSync(&#039;git branch --show-current&#039;)
  .toString()
  .trim()
  .replace(/\n/g, &#039;&#039;)

console.log(&#039;å½“å‰åˆ†æ”¯:&#039;, branch)

ncp.copy(branch)</code></pre>
</div><p>è¿™ä¸ªCLIé€šè¿‡npmåŒ…å‘å¸ƒäº†ï¼Œå¯ä»¥ç›´æ¥<code>npx bcy</code>ä½¿ç”¨</p>
<p>æˆ–è€… <code>npm i bcy -g</code> å…¨å±€å®‰è£…</p>
<p><img src="./copy-branch/MTY5MTMyMTU1NjY2MQ==691321556661.png" alt="" loading="lazy"></p>
<p><em>åŒ…åå®åœ¨æ˜¯éš¾å–ï¼Œç®€å•è¯­ä¹‰åŒ–ä¸€ç‚¹çš„éƒ½è¢«å ç”¨äº†ï¼Œè®©GPT è¾…åŠ©äº†ä¸€ä¸‹</em></p>
<p><img src="./copy-branch/MTY5MTI0NTI4NDAxNQ==691245284015.png" alt="" loading="lazy"></p>
<p>æœ€åç”¨äº†æœäº†ä¸€åœˆä¸é‡å¤çš„åªæœ‰<code>bcy</code></p>
<h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>æœ¬æ–‡ç®€å•ä»‹ç»äº†å¦‚ä½•é€šè¿‡<code>Shell</code>å’Œ<code>Node.js</code>å®ç°<strong>å¤åˆ¶å½“å‰åˆ†æ”¯ååˆ°å‰ªè´´æ¿</strong></p>
<p>å¦‚æœä½ æœ‰æ›´å¥½çš„å®ç°æ–¹å¼ï¼Œæ¬¢è¿ç•™è¨€è®¨è®º</p>
<p>æºç åœ°å€ï¼š<a href="https://github.com/ATQQ/tools/tree/main/packages/cli/bcy" target="_blank" rel="noreferrer">bcy</a></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/copy-branch/MTY5MTMxNzA1MDQ0OA==691317050448.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ESMä¸­ä½¿ç”¨CJSæ¨¡å—ç‰¹æœ‰çš„å˜é‡å’Œæ–¹æ³•]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/esm-require.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/esm-require.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[å‰è¨€
æœ€è¿‘åœ¨çœ‹ VitePress çš„æºç æ—¶çœ‹åˆ°äº†ä¸€ä¸ª`createRequire`æ–¹æ³•ï¼Œå¦‚ä¸‹ã€‚
```ts
import { createRequire } from 'module'
const ]]></description>
            <content:encoded><![CDATA[<h1 id="esmä¸­ä½¿ç”¨cjsæ¨¡å—ç‰¹æœ‰çš„å˜é‡å’Œæ–¹æ³•" tabindex="-1">ESMä¸­ä½¿ç”¨CJSæ¨¡å—ç‰¹æœ‰çš„å˜é‡å’Œæ–¹æ³• <a class="header-anchor" href="#esmä¸­ä½¿ç”¨cjsæ¨¡å—ç‰¹æœ‰çš„å˜é‡å’Œæ–¹æ³•" aria-label="Permalink to â€œESMä¸­ä½¿ç”¨CJSæ¨¡å—ç‰¹æœ‰çš„å˜é‡å’Œæ–¹æ³•â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>æœ€è¿‘åœ¨çœ‹ VitePress çš„æºç æ—¶çœ‹åˆ°äº†ä¸€ä¸ª<code>createRequire</code>æ–¹æ³•ï¼Œå¦‚ä¸‹ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zlp3h1c1tkau3tyn1ugny::--><code>import { createRequire } from &#039;module&#039;

const require = createRequire(import.meta.url)
const pkg = require(&#039;vitepress/package.json&#039;)</code></pre>
</div><p>å¤ªå¦™äº†ï¼ŒESMé‡Œå±…ç„¶å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºrequireä½¿ç”¨ï¼ˆæ˜¯ä¹‹å‰å­¤é™‹å¯¡é—»äº†ï¼‰ï¼Œä¹‹å‰è¿™ç§ESMå’ŒCJSæ··ç”¨çš„åœºæ™¯ï¼Œéƒ½æ˜¯é€šè¿‡æ„å»ºå·¥å…·å¤„ç†çš„ï¼Œä¹Ÿæ²¡æœ‰å…³å¿ƒäº§ç‰©æœ€åç”Ÿæˆå•¥æ ·ã€‚</p>
<p>ä¸‹æ¥ç¿»äº†ç¿»æ–‡æ¡£å‘ç°è¿™ä¸ªNode v12.2.0 å°±æœ‰äº†</p>
<p><img src="./esm-require/MTcwMDY2MTUwNDg1Mg==700661504852.png" alt="" loading="lazy"></p>
<p>ç»“åˆæœ€è¿‘å¼€å‘ VitePress ä¸»é¢˜éœ€è¦ESMä¸­è·å– <code>__dirname</code> çš„ç»éªŒï¼Œè¿™é‡Œå°±é¡ºä¾¿è®°å½•ä¸€ä¸‹ã€‚</p>
<p><em>æ¯•ç«Ÿæœ€è¿‘ <a href="https://vitejs.dev/blog/announcing-vite5" target="_blank" rel="noreferrer">Vite 5</a> ä¹Ÿå‡ºæ¥äº†ï¼Œä¹Ÿæ˜¯æ¨èä½¿ç”¨ ESM æ¨¡å—</em></p>
<h2 id="å…ˆæ¥ä¸ªdemo" tabindex="-1">å…ˆæ¥ä¸ªdemo <a class="header-anchor" href="#å…ˆæ¥ä¸ªdemo" aria-label="Permalink to â€œå…ˆæ¥ä¸ªdemoâ€">&#8203;</a></h2>
<p>åˆ›å»ºä¸€ä¸ª<code>test.mjs</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::791m721o0nhbjh6ghwh75q::--><code>console.log(&#039;__dirname&#039;, __dirname)
console.log(&#039;__filename&#039;, __filename)
console.log(require)</code></pre>
</div><p>æ‰§è¡Œ<code>node test.mjs</code>ï¼Œä½ åº”è¯¥ä¼šå¾—åˆ°å¦‚ä¸‹ç±»ä¼¼çš„æŠ¥é”™ä¿¡æ¯</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::yrciujl51m21kav4lbxwq::--><code>file:///Users/sugar/Documents/fe/sugar-blog/test.mjs:1
console.log(&#039;__dirname&#039;, __dirname)
                         ^

ReferenceError: __dirname is not defined in ES module scope
    at file:///Users/sugar/Documents/fe/sugar-blog/test.mjs:1:26
    at ModuleJob.run (node:internal/modules/esm/module_job:192:25)

Node.js v20.2.0</code></pre>
</div><p>é’ˆå¯¹ require çš„æŠ¥é”™ï¼Œæ˜¯ä¸‹é¢è¿™æ ·çš„</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::3u4023jimmu2p89btnmp52::--><code>ReferenceError: require is not defined in ES module scope, you can use import instead</code></pre>
</div><p><strong>ï¼ESM æ¨¡å—ä¸­æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨CJSæ¨¡å—é‡Œæä¾›çš„è¿™äº›å˜é‡çš„</strong></p>
<h2 id="å¦‚ä½•æ­£ç¡®è·å–" tabindex="-1">å¦‚ä½•æ­£ç¡®è·å– <a class="header-anchor" href="#å¦‚ä½•æ­£ç¡®è·å–" aria-label="Permalink to â€œå¦‚ä½•æ­£ç¡®è·å–â€">&#8203;</a></h2>
<h3 id="dirnameå’Œ-filename" tabindex="-1"><code>__dirname</code>å’Œ<code>__filename</code> <a class="header-anchor" href="#dirnameå’Œ-filename" aria-label="Permalink to â€œ__dirnameå’Œ__filenameâ€">&#8203;</a></h3>
<p>åœ¨ ESM ä¸­å¯ä»¥é€šè¿‡<code>import.meta.url</code> è·å–åˆ°ç±»ä¼¼ <code>__filename</code> çš„å€¼</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::te8yn4m04fzkefg3pq1l::--><code>console.log(import.meta.url)</code></pre>
</div><p>æ‰§è¡Œåä½ ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::7doekhcf9ia65enm4g3d9n::--><code>file:///Users/sugar/Documents/fe/sugar-blog/test.mjs</code></pre>
</div><blockquote>
<p><em>å…¶ä¸­ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/import.meta" target="_blank" rel="noreferrer">import.meta</a> æ˜¯ä¸€ä¸ªç»™ JavaScript æ¨¡å—æš´éœ²ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚å®ƒåŒ…å«äº†è¿™ä¸ªæ¨¡å—çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªæ¨¡å—çš„ URL</em></p>
</blockquote>
<p>æ­¤æ—¶æˆ‘ä»¬å¯å†é€šè¿‡<code>url</code>æ¨¡å—ä¸Šçš„<code>fileURLToPath</code>æ–¹æ³•å°†å…¶è½¬æ¢ä¸º<code>__filename</code>çš„å€¼</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::k4pe19yh7ujaf0onssoon::--><code>import { fileURLToPath } from &#039;url&#039;

const __filename = fileURLToPath(import.meta.url)

console.log(&#039;__filename&#039;, __filename)
// __filename /Users/sugar/Documents/fe/sugar-blog/test.mjs</code></pre>
</div><p>æœ‰äº†<code>__filename</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>path</code>æ¨¡å—çš„<code>dirname</code>æ–¹æ³•è·å–åˆ°<code>__dirname</code>çš„å€¼äº†</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lguu136r6g8knqn8yfbgab::--><code>import { dirname } from &#039;path&#039;

const __dirname = dirname(__filename)

console.log(&#039;__dirname&#039;, __dirname)
// __dirname /Users/sugar/Documents/fe/sugar-blog</code></pre>
</div><h3 id="require" tabindex="-1">require <a class="header-anchor" href="#require" aria-label="Permalink to â€œrequireâ€">&#8203;</a></h3>
<p>è¿™ä¸ªå°±æ˜¯æ–‡ç« å¼€å¤´éƒ¨åˆ†ä½¿ç”¨<code>createRequire</code>çš„åœºæ™¯äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>createRequire</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ª<code>require</code>æ–¹æ³•ï¼Œç„¶åå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨<code>require</code>äº†ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::mbm2dotlk7bffw36gy77p::--><code>import { createRequire } from &#039;module&#039;

const require = createRequire(import.meta.url)

console.log(require(&#039;./package.json&#039;).name)</code></pre>
</div><h3 id="å®Œæ•´ä»£ç " tabindex="-1">å®Œæ•´ä»£ç  <a class="header-anchor" href="#å®Œæ•´ä»£ç " aria-label="Permalink to â€œå®Œæ•´ä»£ç â€">&#8203;</a></h3>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::dshzom0y0xqnq66ae0aml7::--><code>import { fileURLToPath } from &#039;url&#039;
import { dirname } from &#039;path&#039;
import { createRequire } from &#039;module&#039;

const __filename = fileURLToPath(import.meta.url)
const __dirname = dirname(__filename)

console.log(&#039;__filename&#039;, __filename)
console.log(&#039;__dirname&#039;, __dirname)

const require = createRequire(import.meta.url)
console.log(&#039;name&#039;, require(&#039;./package.json&#039;).name)</code></pre>
</div><h3 id="è§£å†³çš„å®é™…é—®é¢˜" tabindex="-1">è§£å†³çš„å®é™…é—®é¢˜ <a class="header-anchor" href="#è§£å†³çš„å®é™…é—®é¢˜" aria-label="Permalink to â€œè§£å†³çš„å®é™…é—®é¢˜â€">&#8203;</a></h3>
<p>åœ¨ç¼–å†™ Vite æ’ä»¶æ—¶ï¼Œæƒ³åŠ¨æ€æ³¨å…¥ä¸€ä¸ª alias è§„åˆ™ï¼Œç¼–è¯‘çš„äº§ç‰©åˆ†åˆ«æœ‰cjså’Œesmçš„ï¼Œåœ¨æºç ä¸­ç¼–å†™éœ€è¦å…¼å®¹è¿™2ä¸ªåœºæ™¯</p>
<p>äºæ˜¯å°±æœ‰äº†å¦‚ä¸‹ä»£ç </p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::iscsb51aumi05syiogasvz5::--><code>function isESM() {
  return typeof __filename === &#039;undefined&#039; || typeof __dirname === &#039;undefined&#039;
}
function getDirname() {
  return isESM() ? path.dirname(fileURLToPath(import.meta.url)) : __dirname
}

const aliasSearchVueFile = `${getDirname()}/../src/Search.vue`

const resolveAlias = {
  &#039;./VPNavBarSearch.vue&#039;: aliasSearchVueFile,
}</code></pre>
</div><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>ç»¼ä¸Šï¼Œåœ¨ ESM ä¸­ä¹Ÿæ˜¯å¯ä»¥ä¼˜é›…çš„ä½¿ç”¨CJSé‡Œçš„<code>require</code>, <code>__dirname</code>, <code>__filename</code> çš„</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/esm-require/MTcwMDY2MTUwNDg1Mg==700661504852.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[çº¯å‰ç«¯å®ç° JPG å›¾ç‰‡å‹ç¼© | canvas]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/jpg-compress.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/jpg-compress.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[åœ¨è¿­ä»£å›¾åºŠåº”ç”¨æ—¶ï¼Œéœ€è¦ç”¨åˆ°å›¾ç‰‡å‹ç¼©ï¼Œåœ¨ä¹‹å‰åˆ†äº«äº†ä½¿ç”¨UPNG.js å¤„ç† PNG å›¾ç‰‡ï¼Œè¿™é‡Œè®°å½•åˆ†äº«ä¸€ä¸‹å¦‚ä½•å¤„ç†JPGå›¾ç‰‡ï¼Œå¹¶é™„ä¸Šå®Œæ•´ Demoã€‚]]></description>
            <content:encoded><![CDATA[<h1 id="çº¯å‰ç«¯å®ç°-jpg-å›¾ç‰‡å‹ç¼©-canvas" tabindex="-1">çº¯å‰ç«¯å®ç° JPG å›¾ç‰‡å‹ç¼© | canvas <a class="header-anchor" href="#çº¯å‰ç«¯å®ç°-jpg-å›¾ç‰‡å‹ç¼©-canvas" aria-label="Permalink to â€œçº¯å‰ç«¯å®ç° JPG å›¾ç‰‡å‹ç¼© | canvasâ€">&#8203;</a></h1>
<blockquote>
<p><strong>åœ¨çº¿ Demo ä½“éªŒåœ°å€ â†’:</strong> <a href="https://demos.sugarat.top/pages/jpg-compress/" target="_blank" rel="noreferrer">https://demos.sugarat.top/pages/jpg-compress/</a></p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨è¿­ä»£å›¾åºŠåº”ç”¨æ—¶ï¼Œéœ€è¦ç”¨åˆ°å›¾ç‰‡å‹ç¼©ï¼Œåœ¨ä¹‹å‰åˆ†äº«äº†<a href="https://juejin.cn/post/7346510823772733494" target="_blank" rel="noreferrer">ä½¿ç”¨ UPNG.js å‹ç¼© PNG å›¾ç‰‡</a>ï¼Œè¿™é‡Œè®°å½•åˆ†äº«ä¸€ä¸‹å¦‚ä½•å¤„ç† JPG å›¾ç‰‡ã€‚</p>
<p>æœç½—è°ƒç ”äº†ä¸€åœˆï¼ŒJPG å›¾ç‰‡çš„å¤„ç†ï¼ŒåŸºæœ¬éƒ½æ˜¯å›´ç»• canvas å±•å¼€çš„ã€‚</p>
<ul>
<li><a href="https://juejin.cn/post/7311633278497685544" target="_blank" rel="noreferrer">æ˜é‡‘ï¼šå‰ç«¯å®ç°å›¾ç‰‡å‹ç¼©æŠ€æœ¯è°ƒç ”</a></li>
<li>ç›¸å…³å¼€æºåº“ï¼ˆè¿‘æœŸè¿˜æœ‰è¿­ä»£ç»´æŠ¤çš„ï¼‰ï¼š<a href="https://github.com/fengyuanchen/compressorjs" target="_blank" rel="noreferrer">Compressor.js</a>ï¼Œ<a href="https://github.com/Donaldcwl/browser-image-compression" target="_blank" rel="noreferrer">browser-image-compression</a>ã€‚</li>
</ul>
<h2 id="å¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯-jpg" tabindex="-1">å¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯ JPG <a class="header-anchor" href="#å¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯-jpg" aria-label="Permalink to â€œå¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯ JPGâ€">&#8203;</a></h2>
<p>åŒæ ·ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯åˆ¤æ–­å›¾ç‰‡ç±»å‹ï¼Œä¸ç„¶å°±æ²¡æ³•æ­£å¸¸çš„åšåç»­å¤„ç†äº†ã€‚</p>
<p>æœç´¢äº†è§£äº†ä¸€ä¸‹ï¼ŒJPG å›¾ç‰‡çš„å‰ä¸‰å­—èŠ‚æ˜¯å›ºå®šçš„ï¼ˆ16è¿›åˆ¶è¡¨ç¤ºï¼‰ï¼š<code>FF D8 FF</code>ã€‚</p>
<p>ä¸‹å›¾æ˜¯ VS Code æ’ä»¶ <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.hexeditor" target="_blank" rel="noreferrer">Hex Editor</a> æŸ¥çœ‹ä¸€ä¸ª JPG å›¾ç‰‡çš„ 16 è¿›åˆ¶è¡¨ç¤ºä¿¡æ¯ã€‚</p>
<p><img src="./jpg-compress/bcba46c1cd96ae55e93d5306796cd98c.png" alt="" loading="lazy"></p>
<p>äºæ˜¯å¯ä»¥æ ¹æ®è¿™ä¸ªç‰¹æ€§åˆ¤æ–­ï¼Œäºæ˜¯å°±æœ‰å¦‚ä¸‹çš„åˆ¤æ–­ä»£ç ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::pg64sh6i5qk95frdt9j2::--><code>function isJPG(file) {
  // æå–å‰3ä¸ªå­—èŠ‚
  const arraybuffer = await file.slice(0, 3).arrayBuffer()

  // JPG çš„å‰3å­—èŠ‚16è¿›åˆ¶è¡¨ç¤º
  const signature = [0xFF, 0xD8, 0xFF]
  // è½¬ä¸º 8ä½æ— ç¬¦å·æ•´æ•°æ•°ç»„ æ–¹ä¾¿å¯¹æ¯”
  // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array
  const source = new Uint8Array(arraybuffer)

  // é€ä¸ªå­—èŠ‚å¯¹æ¯”
  return source.every((value, index) =&gt; value === signature[index])
}</code></pre>
</div><p>å½“ç„¶ç¤¾åŒºä¹Ÿæœ‰ç°æˆçš„ <a href="https://github.com/sindresorhus/is-jpg" target="_blank" rel="noreferrer">is-jpg</a> åº“å¯ä»¥ä½¿ç”¨ã€‚</p>
<p><img src="./jpg-compress/522312911d91522d3217c11765363f85.png" alt="" loading="lazy"></p>
<p><em>å¯çœ‹åˆ¤æ–­ä»£ç è¿˜æ˜¯å¾ˆç®€å•çš„ã€‚</em></p>
<p>ä¸‹é¢å°†å…ˆä»‹ç»ä¸€ä¸‹ä¸Šè¿°ä¸¤ä¸ªå¼€æºåº“çš„ç®€å•ç”¨æ³•ä¸ç‰¹è‰²ï¼Œæœ€åå†ä»‹ç»ä¸€ä¸‹ç›´æ¥ä½¿ç”¨ <code>canvas API</code> å‹ç¼©çš„æ–¹å¼ä»¥åŠæ³¨æ„äº‹é¡¹ã€‚</p>
<h2 id="compressor-js" tabindex="-1"><a href="https://github.com/fengyuanchen/compressorjs" target="_blank" rel="noreferrer">Compressor.js</a> <a class="header-anchor" href="#compressor-js" aria-label="Permalink to â€œCompressor.jsâ€">&#8203;</a></h2>
<h3 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to â€œç®€ä»‹â€">&#8203;</a></h3>
<blockquote>
<p>JavaScript å›¾åƒå‹ç¼©å·¥å…·ã€‚ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿçš„ <code>canvas.toBlob API</code> å®ç°å‹ç¼©ï¼Œ<code>æœ‰æŸå‹ç¼©</code>ï¼Œ<code>å¼‚æ­¥</code>ï¼Œåœ¨ä¸åŒçš„æµè§ˆå™¨å‹ç¼©æ•ˆæœæœ‰æ‰€å‡ºå…¥ã€‚ä¸€èˆ¬å¯ä»¥ç”¨æ¥åœ¨ä¸Šä¼ ä¹‹å‰åœ¨å®¢æˆ·ç«¯é¢„å‹ç¼©å›¾åƒã€‚</p>
</blockquote>
<p>å®˜æ–¹ç¤ºä¾‹ç«™ç‚¹ï¼š<a href="https://fengyuanchen.github.io/compressorjs/" target="_blank" rel="noreferrer">Compressor.js PlayGround</a></p>
<p><img src="./jpg-compress/582a9d9e73a1274fa8e7aae2d7022aa3.png" alt="" loading="lazy"></p>
<h3 id="ä½¿ç”¨" tabindex="-1">ä½¿ç”¨ <a class="header-anchor" href="#ä½¿ç”¨" aria-label="Permalink to â€œä½¿ç”¨â€">&#8203;</a></h3>
<p>æ”¯æŒ <code>npm</code> å’Œ <code>cdn</code> ä¸¤ç§å¼•å…¥æ–¹å¼ã€‚</p>
<p><strong>npm åŠ è½½</strong></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::o40gplrieqjg7z2ldcajl::--><code># å®‰è£…ä¾èµ–
npm install compressorjs</code></pre>
</div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::xyzw1vxivcjlt9o83vctwk::--><code>// é¡¹ç›®ä¸­å¼•å…¥ä½¿ç”¨
import Compressor from &#039;compressorjs&#039;</code></pre>
</div><p><strong>cdn åŠ è½½</strong></p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::d7yvs0tgo0tyzlnfyquzm::--><code>&lt;!-- html head ä¸­å¼•å…¥ --&gt;
&lt;script src=&#039;https://cdn.staticfile.net/compressorjs/1.2.1/compressor.min.js&#039;&gt;&lt;/script&gt;
&lt;!-- é¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨ Compressor å³å¯ --&gt;</code></pre>
</div><p>ç®€å•ä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::cwq1wb587zp2m61zj9gf23::--><code>// file æ˜¯å¾…å‹ç¼©å›¾ç‰‡çš„æ–‡ä»¶å¯¹è±¡
new Compressor(file, {
  quality: 0.8,
  success(result) {
    // result æ˜¯å‹ç¼©åçš„å›¾ç‰‡å†…å®¹
  }
})</code></pre>
</div><p>å…¶ä½™çš„ <a href="https://github.com/fengyuanchen/compressorjs?tab=readme-ov-file#options" target="_blank" rel="noreferrer">option é€‰é¡¹</a>å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œä¸»è¦æ˜¯å°ºå¯¸å¤§å°ï¼Œå‹ç¼©è´¨é‡æ•ˆæœï¼Œå›¾ç‰‡ä¿¡æ¯çš„ä¿ç•™ç­‰ç»†èŠ‚çš„è°ƒèŠ‚ã€‚</p>
<h3 id="ç®€å•å°è£…" tabindex="-1">ç®€å•å°è£… <a class="header-anchor" href="#ç®€å•å°è£…" aria-label="Permalink to â€œç®€å•å°è£…â€">&#8203;</a></h3>
<p>å¯ä»¥ç®€å•ç”¨ <code>Promise</code> å°è£…ä¸€ä¸‹ï¼Œä½¿ç”¨æ›´åŠ æ–¹ä¾¿ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ewimguqhi6nfgt6iuhjxwh::--><code>async function compressJPGByCompressor(file, ops) {
  return new Promise((resolve, reject) =&gt; {
    new Compressor(file, {
      ...ops,
      success(result) {
        resolve(result)
      },
      error(err) {
        reject(err)
      }
    })
  })
}</code></pre>
</div><p>å½“ç„¶è¿™ç§ä¸æ”¯æŒ <code>Promise</code> çš„å›è°ƒç”¨æ³•å‡½æ•°ç”¨ <a href="https://github.com/tc39/proposal-promise-with-resolvers" target="_blank" rel="noreferrer">Promise.withResolvers</a> åŒ…è£…æœ€åˆé€‚ä¸è¿‡äº†ã€‚</p>
<p><em>å½“ç„¶æµè§ˆå™¨ä¸æ”¯æŒè¿™ä¸ªAPIçš„è¯ éœ€è¦å¼•å…¥ <code>polyfill</code> æ‰è¡Œï¼ˆå¯ä»¥ä» <code>core-js</code> ä¸­å¼•å…¥ï¼Œæˆ–è‡ªå·±ç®€å•å®ç°ä¸€ä¸‹ï¼‰ã€‚</em></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::7igidiulzbf7k03ogpj6h4::--><code>function compressJPGByCompressor(file, ops) {
  const { promise, resolve, reject } = Promise.withResolvers()
  new Compressor(file, {
    ...ops,
    success(result) {
      resolve(result)
    },
    error(err) {
      reject(err)
    }
  })
  return promise
}</code></pre>
</div><h2 id="browser-image-compression" tabindex="-1"><a href="https://github.com/Donaldcwl/browser-image-compression" target="_blank" rel="noreferrer">browser-image-compression</a> <a class="header-anchor" href="#browser-image-compression" aria-label="Permalink to â€œbrowser-image-compressionâ€">&#8203;</a></h2>
<h3 id="ç®€ä»‹-1" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹-1" aria-label="Permalink to â€œç®€ä»‹â€">&#8203;</a></h3>
<blockquote>
<p>æµè§ˆå™¨ä¸­å®ç°å›¾ç‰‡å‹ç¼©ï¼Œé€šè¿‡é™ä½åˆ†è¾¨ç‡æˆ–å¤§å°æ¥å‹ç¼© jpegã€pngã€webp å’Œ bmp å›¾åƒï¼›æ”¯æŒä½¿ç”¨ Web Worker å®ç°å¤šçº¿ç¨‹çš„éé˜»å¡å‹ç¼©ã€‚</p>
</blockquote>
<p>å®˜æ–¹ç¤ºä¾‹ç«™ç‚¹ï¼š<a href="https://donaldcwl.github.io/browser-image-compression/example/basic.html" target="_blank" rel="noreferrer">compression PlayGround</a></p>
<p><img src="./jpg-compress/3619ac65a3399e4b8e1928bb4e2c28a2.png" alt="" loading="lazy"></p>
<p>å…¶ä¸­å¤šçº¿ç¨‹å‹ç¼©ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas#browser_compatibility" target="_blank" rel="noreferrer">OffscreenCanvas</a>: ä¸€ä¸ªå¯ä»¥è„±ç¦»å±å¹•æ¸²æŸ“çš„ canvas å¯¹è±¡ã€‚åœ¨ <code>web worker</code> ç¯å¢ƒä¹Ÿå¯å·¥ä½œã€‚</p>
<h3 id="ä½¿ç”¨-1" tabindex="-1">ä½¿ç”¨ <a class="header-anchor" href="#ä½¿ç”¨-1" aria-label="Permalink to â€œä½¿ç”¨â€">&#8203;</a></h3>
<p>åŒæ ·çš„ä¹Ÿæ”¯æŒ <code>npm</code> å’Œ <code>cdn</code> ä¸¤ç§å¼•å…¥æ–¹å¼ã€‚</p>
<p><strong>npm åŠ è½½</strong></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::44x93xk33wpm0w3xltla7d::--><code># å®‰è£…ä¾èµ–
npm install browser-image-compression</code></pre>
</div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::28yj1uez88fvpprrnoe5q::--><code>// é¡¹ç›®ä¸­å¼•å…¥ä½¿ç”¨
import imageCompression from &#039;browser-image-compression&#039;</code></pre>
</div><p><strong>cdn åŠ è½½</strong></p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::1i24sr5ltgabcqfflri7bo::--><code>&lt;!-- html head ä¸­å¼•å…¥ --&gt;
&lt;script src=&quot;https://cdn.staticfile.net/browser-image-compression/2.0.2/browser-image-compression.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- é¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨ imageCompression å³å¯ --&gt;</code></pre>
</div><p>ç®€å•ä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::1f8hl5s4psohsd4y524cro::--><code>imageCompression(file, {
  // è®¾ç½®å‹ç¼©åçš„æœ€å¤§å¤§å°ï¼Œå•ä½æ˜¯ MBï¼ˆä¼šæ ¹æ®ç›®æ ‡è‡ªåŠ¨è°ƒæ•´å›¾ç‰‡è´¨é‡æˆ–è€…å°ºå¯¸ï¼‰
  maxSizeMB: 1,

  // å¦‚æœå¸Œæœ›é€šè¿‡ç™¾åˆ†æ¯”æ§åˆ¶è´¨é‡ï¼Œåªéœ€ç®€å•è®¡ç®—ä¸€ä¸‹å³å¯
  // maxSizeMB: Math.round(file.size / (1024 * 1024) * quality),

  // ä¹Ÿå¯è®¾ç½®å‹ç¼©åæœ€å¤§çš„å®½æˆ–è€…é«˜ ï¼ˆè‡ªåŠ¨åº”ç”¨äºå›¾ç‰‡ä¸­è¾ƒé•¿çš„é‚£ä¸€è¾¹ï¼‰
  // maxWidthOrHeight: 1920,
}).then((result) =&gt; {
  // result ä¸ºå‹ç¼©åçš„ç»“æœ
})</code></pre>
</div><p>å¯ä»¥çœ‹å‡ºæ¥ä½¿ç”¨éå¸¸ç®€å•:</p>
<ul>
<li>è°ƒæ•´å°ºå¯¸å°±ä½¿ç”¨ <code>maxWidthOrHeight</code>;</li>
<li>ä¿æŒåŸå°ºå¯¸å°±è°ƒæ•´ <code>maxSizeMB</code> çš„å€¼ã€‚</li>
</ul>
<h3 id="ç®€å•å°è£…-1" tabindex="-1">ç®€å•å°è£… <a class="header-anchor" href="#ç®€å•å°è£…-1" aria-label="Permalink to â€œç®€å•å°è£…â€">&#8203;</a></h3>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::y2e2aelgk3hlaqfowz4cv::--><code>function compressImageByImageCompression(file, options = {}) {
  const { width, height, quality = 0.8, ...ops } = options
  return window.imageCompression(file, {
    maxSizeMB: Math.round(file.size / (1024 * 1024) * quality),
    maxWidthOrHeight: width || height || undefined,
    libURL: &#039;https://cdn.staticfile.net/browser-image-compression/2.0.2/browser-image-compression.js&#039;,
    ...ops
  })
}</code></pre>
</div><p>è¿™æ ·è°ƒç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿çµæ´»ã€‚</p>
<h3 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to â€œæ³¨æ„äº‹é¡¹â€">&#8203;</a></h3>
<p>é»˜è®¤æ˜¯å¼€å¯çš„å¤šçº¿ç¨‹å‹ç¼©ï¼Œä¼šä» <code>https://cdn.jsdelivr.net</code> æ‹‰å– worker è„šæœ¬ã€‚</p>
<p>å¦‚æœå­˜åœ¨ç½‘ç»œåŸå› è®¿é—®ä¸é€šç•…ï¼Œå¯ä»¥é€šè¿‡ <code>options.libURL</code> æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„è„šæœ¬ä½ç½®ï¼Œæ¯”å¦‚ä½¿ç”¨ <a href="https://www.staticfile.org/" target="_blank" rel="noreferrer">Staticfile CDN</a> èµ„æºã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lbgit0r4tzpsw2pv9na3f::--><code>imageCompression(file, {
  // ...çœç•¥å…¶å®ƒé…ç½®
  libURL: &#039;https://cdn.staticfile.net/browser-image-compression/2.0.2/browser-image-compression.js&#039;
})</code></pre>
</div><h2 id="canvas-api" tabindex="-1">canvas api <a class="header-anchor" href="#canvas-api" aria-label="Permalink to â€œcanvas apiâ€">&#8203;</a></h2>
<p>ä¸»æµçš„ JPG çº¯å‰ç«¯å‹ç¼©æ–¹æ¡ˆï¼ŒåŸºæœ¬éƒ½æ˜¯å€ŸåŠ© <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" target="_blank" rel="noreferrer">canvas</a> å®ç°çš„ï¼ŒåŒºåˆ«å°±åœ¨äºè¾¹ç•Œåœºæ™¯æ˜¯å¦è€ƒè™‘å‘¨å…¨ï¼Œé…å¥—çš„ç‰¹æ€§èƒ½å¦æ»¡è¶³å°†ä½¿ç”¨çš„åœºæ™¯ã€‚</p>
<h3 id="ä½¿ç”¨-2" tabindex="-1">ä½¿ç”¨ <a class="header-anchor" href="#ä½¿ç”¨-2" aria-label="Permalink to â€œä½¿ç”¨â€">&#8203;</a></h3>
<p>å…ˆåˆ›å»º <code>Image</code> å¯¹è±¡ï¼Œè·å–å›¾ç‰‡çš„åŸºæœ¬ä¿¡æ¯</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>URL.createObjectURL</code> åˆ›å»ºèµ„æºé“¾æ¥çš„æ–¹å¼ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::q8b0w7dt8fpvboxpnj773f::--><code>const img = new Image()
// å›¾ç‰‡å®ŒæˆåŠ è½½
img.onload = () =&gt; {
  // è·å–å›¾ç‰‡å®½é«˜
  const { width, height } = img
  // åç»­å°±å¯ä»¥ä½¿ç”¨ canvas è¿›è¡Œè¿›ä¸€æ­¥çš„å‹ç¼©å¤„ç†
}

img.src = URL.createObjectURL(file)</code></pre>
</div><p>å½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ç”¨ <code>FileReader</code>ï¼Œæ­¤æ—¶ä»£ç çœ‹ä¸Šå»å¤š2è¡Œï¼ˆhhhï¼‰</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::5xhsxk9y4ixwwil9i3w5hp::--><code>const reader = new FileReader()
reader.readAsDataURL(file)
reader.onload = function (event) {
  img.src = event.target.result
}</code></pre>
</div><p>ç´§æ¥ç€å°±å¯ä»¥ä½¿ç”¨ <code>canvas</code> è¿›è¡Œå›¾åƒçš„ç»˜åˆ¶ï¼ˆimg å®ŒæˆåŠ è½½åï¼‰</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::2rjza9oqwtqcf4ewcaviac::--><code>// åˆ›å»º canvas å…ƒç´ 
const canvas = document.createElement(&#039;canvas&#039;)
// è·å–ç”»å¸ƒçš„2Dæ¸²æŸ“ä¸Šä¸‹æ–‡
const ctx = canvas.getContext(&#039;2d&#039;)

// è®¾ç½® canvas çš„å®½é«˜ä¸å›¾ç‰‡ä¸€è‡´
canvas.width = img.width
canvas.height = img.height

// åœ¨ canvas ä¸Šç»˜åˆ¶å›¾ç‰‡ï¼ˆå¾…ç»˜åˆ¶çš„å›¾ç‰‡ï¼Œç”»å¸ƒä¸Šçš„èµ·å§‹åæ ‡ï¼Œç»˜åˆ¶çš„å®½é«˜ï¼‰
ctx.drawImage(img, 0, 0, canvas.width, canvas.height)

// å¦‚æœæŠŠå…ƒç´ æ’å…¥åˆ°é¡µé¢ä¸­ï¼Œåˆ™å¯ä»¥çœ‹åˆ° canvas ç»˜åˆ¶çš„å›¾ç‰‡
// document.body.appendChild(canvas);</code></pre>
</div><p>æ¥ä¸‹æ¥æœ€æ ¸å¿ƒçš„å°±è¡Œè°ƒç”¨ <code>canvas.toDataURL(type, quality)</code> è¿›è¡Œ&quot;å‹ç¼©&quot;äº†ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::bg3ym3f4ealrq211ol6du::--><code>// åªéœ€è¦è®¾ç½®å›¾ç‰‡æ ¼å¼ï¼Œä¸å›¾ç‰‡è´¨é‡ ä¸¤ä¸ªå‚æ•°å³å¯
const compressedDataUrl = canvas.toDataURL(&#039;image/jpeg&#039;, 0.8)</code></pre>
</div><p>æ¥ä¸‹æ¥å°±éœ€è¦å°† <code>compressedDataUrl</code> è½¬åŒ–ä¸º <code>blob</code> æˆ–è€… <code>file</code> å¯¹è±¡ã€‚</p>
<p><code>DataUrl</code> æ ¼å¼å¦‚ä¸‹ã€‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::kkgir5ukidmj0sy5rp3cu::--><code>data:image/jpeg;base64,XXXX
# æ•°æ®æ ‡è¯†ç¬¦ï¼šä»¥&quot;data:&quot;å¼€å¤´
# MIMEç±»å‹æè¿°ï¼šæŒ‡ç¤ºæ•°æ®çš„ç±»å‹ï¼Œ&quot;image/jpeg&quot;è¡¨ç¤ºJPEGå›¾åƒ
# æ•°æ®ç¼–ç ï¼šä»¥base64ç¼–ç è¡¨ç¤ºï¼Œ&quot;XXXX&quot;æ˜¯ base64 ç¼–ç æ•°æ®éƒ¨åˆ†</code></pre>
</div><p>å’±ä»¬å…ˆæŠŠ<code>mimetype</code>,<code>decodedData</code> è¿™ 2 éƒ¨åˆ†æå–å‡ºæ¥</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::yksaiiw7iioxvzas5j35v::--><code>const [dataDescription, base64Data] = compressedDataUrl.split(&#039;,&#039;)
// æ–‡ä»¶ç±»å‹
const mimetype = dataDescription.match(/:(.*?);/)[1]

// è§£ç  base64 æ•°æ®
const decodedData = atob(base64Data)</code></pre>
</div><p>æœ€åå°†è§£ç çš„ <code>base64</code> æ•°æ®è½¬æˆ <code>file</code> å³å¯ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::cs5y40k4glqol1oi23i9ho::--><code>let n = decodedData.length
// åˆ›å»ºç­‰å­—èŠ‚å¤§å°çš„ Uint8Array
const u8arr = new Uint8Array(n)

// éå†èµ‹å€¼
while (n--) {
  u8arr[n] = decodedData.charCodeAt(n)
}

// é€šè¿‡ Uint8Array åˆ›å»º File å¯¹è±¡
const result = new File([u8arr], file.name, { type: mimetype })</code></pre>
</div><h3 id="ç®€å•å°è£…-2" tabindex="-1">ç®€å•å°è£… <a class="header-anchor" href="#ç®€å•å°è£…-2" aria-label="Permalink to â€œç®€å•å°è£…â€">&#8203;</a></h3>
<p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::1po2c3y5w7ij5u1s8k36c::--><code>async function compressImageByCanvas(file, options = {}) {
  const { quality } = options
  let { width, height } = options

  let _resolve, _reject
  const promise = new Promise((resolve, reject) =&gt; {
    _resolve = resolve
    _reject = reject
  })

  const img = new Image()
  img.onload = function () {
    // å¦‚æœåªæŒ‡å®šäº†å®½åº¦æˆ–é«˜åº¦ï¼Œåˆ™å¦ä¸€ä¸ªæŒ‰æ¯”ä¾‹ç¼©æ”¾
    if (width &amp;&amp; !height) {
      height = Math.round(img.height * (width / img.width))
    }
    else if (!width &amp;&amp; height) {
      width = Math.round(img.width * (height / img.height))
    }

    const canvas = document.createElement(&#039;canvas&#039;)
    const ctx = canvas.getContext(&#039;2d&#039;)
    canvas.width = width || img.width
    canvas.height = height || img.height
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height)
    const compressedDataUrl = canvas.toDataURL(&#039;image/jpeg&#039;, quality)
    _resolve(dataURItoFile(compressedDataUrl, file.name))
  }

  img.src = createObjectURL(file)
  return promise
}

function dataURItoFile(dataURI, fileName) {
  const [dataDescription, base64Data] = dataURI.split(&#039;,&#039;)
  const mimetype = dataDescription.match(/:(.*?);/)[1]
  const decodedData = atob(base64Data)

  let n = decodedData.length
  const u8arr = new Uint8Array(n)

  while (n--) {
    u8arr[n] = decodedData.charCodeAt(n)
  }

  return new File([u8arr], fileName, { type: mimetype })
}</code></pre>
</div><h3 id="å…¼å®¹æ€§é—®é¢˜" tabindex="-1">å…¼å®¹æ€§é—®é¢˜ <a class="header-anchor" href="#å…¼å®¹æ€§é—®é¢˜" aria-label="Permalink to â€œå…¼å®¹æ€§é—®é¢˜â€">&#8203;</a></h3>
<p>ç¬”è€…å¹¶æ²¡æœ‰æ·±å…¥æµ‹è¯• canvas å‹ç¼©çš„å…¼å®¹æ€§é—®é¢˜ï¼Œä½†ä»ç¤¾åŒºçš„å‡ ä¸ªå‰ç«¯å¤„ç† JPG åº“é‡Œçš„ README æè¿°ä¸ issues ç­‰å¯ä»¥å½’çº³å‡ºä½¿ç”¨ <code>canvas</code> å¤„ç†æ—¶ï¼Œéœ€è€ƒè™‘ä¸‹é¢å‡ ä¸ªæ–¹é¢çš„é—®é¢˜ï¼š</p>
<ol>
<li>å¤§å°é™åˆ¶ï¼šè¯¦è§ <a href="https://jhildenbiddle.github.io/canvas-size/#/?id=test-results" target="_blank" rel="noreferrer">ä¸åŒæµè§ˆå™¨å’Œè®¾å¤‡ä¸Š canvas å¤§å°é™åˆ¶</a>ï¼›</li>
<li>ä¿¡æ¯ä¿ç•™ï¼š<code>EXIF</code> ä¿¡æ¯ï¼Œæ­£ç¡®è¯†åˆ«ä¸å¤„ç†å›¾ç‰‡æ–¹å‘ï¼›</li>
<li>è®¾å¤‡å…¼å®¹æ€§ï¼šç§»åŠ¨ç«¯è®¾å¤‡æµè§ˆå™¨å®šåˆ¶å†…æ ¸ç›¸å¯¹å¤š, è¾¹ç•Œæƒ…å†µè¾ƒå¤šï¼ˆç›¸å…³ API çš„æ”¯æŒç¨‹åº¦ï¼Œcanvas å·®å¼‚æ€§è¡¨ç°ï¼‰ã€‚</li>
</ol>
<p><em>å‚è€ƒï¼š<code>browser-image-compression</code>, <code>Compressor.js</code>, <a href="https://github.com/think2011/localResizeIMG" target="_blank" rel="noreferrer">localResizeIMG</a></em></p>
<h2 id="å®Œæ•´-demo" tabindex="-1">å®Œæ•´ demo <a class="header-anchor" href="#å®Œæ•´-demo" aria-label="Permalink to â€œå®Œæ•´ demoâ€">&#8203;</a></h2>
<p>ç¬”è€…å°†æœ¬èŠ‚å†…å®¹æ•´ç†æˆäº†ä¸€ä¸ª Demoï¼Œå¯ä»¥ç›´æ¥åœ¨çº¿ä½“éªŒã€‚</p>
<blockquote>
<p><strong>åœ¨çº¿ Demo ä½“éªŒåœ°å€ â†’:</strong> <a href="https://demos.sugarat.top/pages/jpg-compress/" target="_blank" rel="noreferrer">https://demos.sugarat.top/pages/jpg-compress/</a></p>
</blockquote>
<p>å¤§æ¦‚ç•Œé¢å¦‚ä¸‹ï¼ˆå¯ä¿®æ”¹é…ç½®åˆ‡æ¢å‹ç¼©æ–¹æ¡ˆï¼Œå¯¹æ¯”æ•ˆæœï¼‰ï¼š</p>
<p><img src="./jpg-compress/736ac7e7771d2a948845e1fe0d0fa40f.png" alt="" loading="lazy"></p>
<p><em>çº¯è¡€ HTML/CSS/JSï¼Œå¤åˆ¶ç²˜è´´å°±èƒ½è¿è¡Œã€‚</em></p>
<p>å®Œæ•´æºç è§ï¼š<a href="https://github.com/ATQQ/demos/tree/main/pages/png-compress" target="_blank" rel="noreferrer">GitHub:ATQQ/demos - jpg-compress</a></p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>åç»­å°†ç»§ç»­å­¦ä¹ &amp;æ¢ç´¢ä¸€ä¸‹ <code>GIF</code>ï¼Œ<code>MP4 è½¬ GIF</code> ç­‰å¸¸ç”¨çš„åŠ¨å›¾å‰ç«¯å¤„ç†å®ç°çš„æ–¹å¼ã€‚</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/jpg-compress/bcba46c1cd96ae55e93d5306796cd98c.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å°ç¨‹åºä¸­ä½¿ç”¨ lottie åŠ¨ç”» | è¸©å‘ç»éªŒåˆ†äº«]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/mini-lottie.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/mini-lottie.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[è®°å½•åˆ†äº«åœ¨å°ç¨‹åºä¸­ä½¿ç”¨ lottie æ’­æ”¾AEåŠ¨ç”»çš„æ–¹æ³•ï¼Œä»¥åŠè¸©å‘ç»éªŒã€‚]]></description>
            <content:encoded><![CDATA[<h1 id="å°ç¨‹åºä¸­ä½¿ç”¨-lottie-åŠ¨ç”»-è¸©å‘ç»éªŒåˆ†äº«" tabindex="-1">å°ç¨‹åºä¸­ä½¿ç”¨ lottie åŠ¨ç”» | è¸©å‘ç»éªŒåˆ†äº« <a class="header-anchor" href="#å°ç¨‹åºä¸­ä½¿ç”¨-lottie-åŠ¨ç”»-è¸©å‘ç»éªŒåˆ†äº«" aria-label="Permalink to â€œå°ç¨‹åºä¸­ä½¿ç”¨ lottie åŠ¨ç”» | è¸©å‘ç»éªŒåˆ†äº«â€">&#8203;</a></h1>
<p>æœ¬å‘¨è¢«æ‹‰å»æ”¯æ´ç´§æ€¥éœ€æ±‚ï¼ˆèµ¶åœ¨äº”ä¸€èŠ‚å‡æ—¥å‰ä¸Šçº¿çš„ï¼ŒåŒä¼‘éœ€è¦åŠ ç­ğŸ˜±ï¼‰ï¼Œå‚ä¸åˆ°é¡¹ç›®ä¸­æ‰çŸ¥é“ï¼Œå¼€å‘çš„é¡¹ç›®æ˜¯å¾®ä¿¡å°ç¨‹åºæŠ€æœ¯æ ˆçš„ã€‚ç”±äºæ˜¯ä¸´æ—¶æ”¯æ´ï¼Œç¬”è€…ä¹Ÿå¾ˆä¹…æ²¡å¼€å‘è¿‡å¾®ä¿¡å°ç¨‹åºäº†ï¼Œæ‰€ä»¥æŒ‘é€‰äº†ç›¸å¯¹ç‹¬ç«‹ï¼Œä¸šåŠ¡å±æ€§ç›¸å¯¹è½»è–„çš„æ¨¡å—å‚ä¸ã€‚</p>
<p>å…¶ä¸­æœ‰ä¸ªè¥é”€æ´»åŠ¨ï¼ˆé¢†çº¢åŒ…ğŸ§§ğŸ˜ï¼‰çš„å¼¹çª—åŠ¨ç”»å°±è¦ç”¨åˆ° lottie åŠ¨ç”»ã€‚</p>
<p>æœ¬æ–‡å°±åˆ†äº«ä¸€ä¸‹åœ¨å°ç¨‹åºä¸­ä½¿ç”¨ lottie è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ä¸è§£å†³åŠæ³•ã€‚</p>
<h2 id="å…³äº-lottie" tabindex="-1">å…³äº lottie <a class="header-anchor" href="#å…³äº-lottie" aria-label="Permalink to â€œå…³äº lottieâ€">&#8203;</a></h2>
<p><a href="https://airbnb.io/lottie/#/README" target="_blank" rel="noreferrer">lottie</a> æ˜¯ Airbnb å¼€æºçš„ä¸€ä¸ªåŠ¨ç”»åº“ï¼Œç”¨äºåœ¨ç«¯ä¸Šç›´æ¥æ’­æ”¾ AE ( Adobe After Effects)åŠ¨ç”»ã€‚</p>
<p>é€šè¿‡ <a href="https://github.com/airbnb/lottie-web/tree/master/build/extension" target="_blank" rel="noreferrer">bodymovin</a> AE æ’ä»¶å°†åŠ¨ç”»æ–‡ä»¶å¯¼å‡ºä¸º json æ–‡ä»¶ï¼Œlottie SDK é€šè¿‡å¯ä»¥é€šè¿‡ JSON æ–‡ä»¶ç›´æ¥æ’­æ”¾åŠ¨ç”»ã€‚</p>
<p>å…·ä½“ demos æ•ˆæœå¯ä»¥ä¸Š <a href="https://lottiefiles.com/" target="_blank" rel="noreferrer">LottieFiles</a> ç½‘ç«™æŸ¥çœ‹ã€‚</p>
<h2 id="å¦‚ä½•ä½¿ç”¨-ae-å¯¼å‡ºåŠ¨ç”»éœ€è¦çš„jsonæ–‡ä»¶" tabindex="-1">å¦‚ä½•ä½¿ç”¨ AE å¯¼å‡ºåŠ¨ç”»éœ€è¦çš„JSONæ–‡ä»¶ <a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-ae-å¯¼å‡ºåŠ¨ç”»éœ€è¦çš„jsonæ–‡ä»¶" aria-label="Permalink to â€œå¦‚ä½•ä½¿ç”¨ AE å¯¼å‡ºåŠ¨ç”»éœ€è¦çš„JSONæ–‡ä»¶â€">&#8203;</a></h2>
<p>å®Œæˆ AE è½¯ä»¶å®‰è£…åï¼Œå‚ç…§ <a href="https://github.com/airbnb/lottie-web/tree/master?tab=readme-ov-file#plugin-installation" target="_blank" rel="noreferrer">Lottie Web GitHub å®˜æ–¹æ–‡æ¡£</a> å®Œæˆ <code>bodymovin</code> æ’ä»¶çš„å®‰è£…ã€‚</p>
<p>æ‰“å¼€åŠ¨ç”»æ–‡ä»¶åï¼Œåªéœ€ç®€å•å‡ æ­¥æ“ä½œ</p>
<p>â‘  window ä¸­é€‰æ‹© Bodymovie</p>
<p><img src="./mini-lottie/e887b3af9200905af6a3484300de1d3b.png" alt="" loading="lazy"></p>
<p>â‘¡ é€‰æ‹©éœ€è¦å¯¼å‡ºçš„åŠ¨ç”»èµ„æº</p>
<p><img src="./mini-lottie/ddb3ce4d7c88df65ee50cca915817fa7.png" alt="" loading="lazy"></p>
<p>â‘¢ å¯¼å‡ºé…ç½®ï¼ˆå°ç¨‹åºç›¸å…³ï¼‰</p>
<p>ç‚¹å‡»å¯¹åº”åŠ¨ç”»çš„è®¾ç½®</p>
<p><img src="./mini-lottie/e8a6dfc08dd521ccf65cf2c003c00aac.png" alt="" loading="lazy"></p>
<p>å‹¾é€‰ <code>Glyphs</code> å°†ç”¨åˆ°çš„æ–‡å­—+å­—ä½“å¯¼å‡ºä¸ºå›¾å½¢ã€‚</p>
<p>å°ç¨‹åºé‡Œæ¸²æŸ“ä¸æ”¯æŒåŠ è½½å¤–éƒ¨å­—ä½“ã€‚</p>
<p><img src="./mini-lottie/fab7f7d9ca8aafd9f7935afdb0d91b74.png" alt="" loading="lazy"></p>
<p><em>è¿™ä¸ªå°±ä¼šæœ‰ tree shakeçš„æ•ˆæœï¼Œå¦‚æœåŠ¨ç”»é‡Œæ²¡æœ‰ç”¨åˆ°çš„æ–‡å­—ï¼ŒåšåŠ¨æ€æ›¿æ¢çš„æ—¶å€™å°±ä¼šä¸æ˜¾ç¤ºï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»åˆ°</em>ã€‚</p>
<p>å‹¾é€‰ <code>Convert expressions to keyframes</code> å°†è¡¨è¾¾å¼è½¬ä¸ºå…³é”®å¸§ï¼Œå› ä¸ºå°ç¨‹åºé‡Œä¸æ”¯æŒä½¿ç”¨ <code>eval</code> ç­‰åŠ¨æ€æ‰§è¡Œè„šæœ¬çš„èƒ½åŠ›ã€‚</p>
<p><img src="./mini-lottie/ca9d49f12f786b36cb1699958a56421e.png" alt="" loading="lazy"></p>
<p>ä¿®æ”¹å®Œæˆåç‚¹å‡»<code>Save</code>ä¿å­˜é…ç½®ã€‚</p>
<p>â‘£ æ¸²æŸ“å¯¼å‡º JSON æ–‡ä»¶</p>
<p>æœ€åç‚¹å‡» Render æŒ‰é’®ï¼Œå¯¼å‡º JSON æ–‡ä»¶ã€‚</p>
<p><img src="./mini-lottie/e4e147a1d4a9a79b8d19f09bfc402bc0.png" alt="" loading="lazy"></p>
<p>å¯¼å‡ºæ–‡ä»¶å¦‚ä¸‹ï¼Œdata.json æ–‡ä»¶å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ JSON æ–‡ä»¶ï¼Œimages é‡Œå­˜å‚¨çš„å°±æ˜¯æ’­æ”¾è¦ç”¨åˆ°çš„å›¾ç‰‡æ–‡ä»¶ã€‚</p>
<p><img src="./mini-lottie/58abc6bc9d72ed6d4ff078b58ab2dbaf.png" alt="" loading="lazy"></p>
<h2 id="å°ç¨‹åºä¸­ä½¿ç”¨" tabindex="-1">å°ç¨‹åºä¸­ä½¿ç”¨ <a class="header-anchor" href="#å°ç¨‹åºä¸­ä½¿ç”¨" aria-label="Permalink to â€œå°ç¨‹åºä¸­ä½¿ç”¨â€">&#8203;</a></h2>
<p>å¯ä»¥ä½¿ç”¨å°ç¨‹åºå®˜æ–¹å°è£…çš„ <a href="https://github.com/wechat-miniprogram/lottie-miniprogram" target="_blank" rel="noreferrer">lottie-miniprogram</a> åº“ã€‚</p>
<blockquote>
<p>å¿«é€ŸéªŒè¯çš„è¯å¯ä»¥æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œåœ¨ç‚¹å‡»ğŸ‘‰ğŸ» <a href="https://developers.weixin.qq.com/s/2TYvm9mJ75bF" target="_blank" rel="noreferrer">demoä»£ç ç‰‡æ®µ</a> è¿›è¡Œåˆ›å»ºã€‚</p>
</blockquote>
<p>â‘  å®‰è£…ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::cvs5kn5ex4480juwtjcjev::--><code>npm install --save lottie-miniprogram</code></pre>
</div><p>â‘¡ ä½¿ç”¨</p>
<p><strong>tipï¼šå¼€å‘è€…å·¥å…·ä¸­éªŒè¯çš„è¯ï¼Œæ¸²æŸ“æ¨¡å¼éœ€è¦é€‰æ‹© webview ï¼Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/runtime/skyline/introduction.html" target="_blank" rel="noreferrer">Skyline</a> ç›®å‰è¿˜ä¸æ”¯æŒè°ƒè¯• canvas</strong></p>
<p>index.wxml</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::r4kpm5uju6kzcwsni1juns::--><code>&lt;canvas id=&quot;lottie-canvas&quot; type=&quot;2d&quot;&gt;&lt;/canvas&gt;</code></pre>
</div><p>index.js</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::25zhfo2ccvzgo9eiqzcufc::--><code>import lottie from &#039;lottie-miniprogram&#039;

Page({
  onReady() {
    this.createSelectorQuery().select(&#039;#lottie-canvas&#039;).node((res) =&gt; {
      // å–å¾— canvas èŠ‚ç‚¹
      const canvas = res[0].node

      // è®¾ç½® cavnas ç”»å¸ƒå°ºå¯¸
      canvas.width = 600
      canvas.height = 600

      lottie.setup(canvas)

      const context = canvas.getContext(&#039;2d&#039;)
      const lottieInstance = lottie.loadAnimation({
        loop: true, // å¾ªç¯æ’­æ”¾
        autoplay: true, // è‡ªåŠ¨æ’­æ”¾
        // æœ¬åœ°ä½¿ç”¨ http-server å¯åŠ¨æœåŠ¡åï¼ŒæŒ‡å®šæœ¬åœ°èµ„æºåœ°å€
        path: &#039;http://127.0.0.1:8080/lottie-demo-sources/data.json&#039;, // é€šè¿‡http åˆ¶å®šjsonèµ„æºè·¯å¾„

        // ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢è¿™ç§æ–¹å¼ï¼Œç›´æ¥ä¼ å…¥ lottie jsonå†…å®¹
        // (éœ€è¦åŠ¨æ€æ›¿æ¢æ–‡æ¡ˆå°±éœ€è¦ç”¨åˆ°è¿™ç§æ–¹å¼)
        // animationData: {/* lottie json æ ¼å¼å†…å®¹ */},
        // é™æ€èµ„æºç›®å½•ï¼Œé€šå¸¸ä¸ animationData é…åˆä½¿ç”¨
        // assetsPath: &#039;http://127.0.0.1:8080/lottie-demo-sources/images/&#039;,

        rendererSettings: {
          context,
        },
      })
    }).exec()
  }
})</code></pre>
</div><p>æˆ‘è¿™ä¸ª demo çš„æ•ˆæœï¼ˆç½‘ä¸Šæ‰¾çš„åŠ¨ç”»ç´ æï¼‰å¦‚ä¸‹ã€‚</p>
<p><img src="./mini-lottie/fe89db8f5a79940b2c2167062f1b321f.png" alt="" loading="lazy"></p>
<h2 id="é—®é¢˜-è§£å†³" tabindex="-1">é—®é¢˜&amp;è§£å†³ <a class="header-anchor" href="#é—®é¢˜-è§£å†³" aria-label="Permalink to â€œé—®é¢˜&amp;è§£å†³â€">&#8203;</a></h2>
<p>ä¸‹é¢ä»‹ç»åœ¨å®é™…ä¸šåŠ¡æ¥å…¥ä½¿ç”¨ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œè§£å†³åŠæ³•ã€‚</p>
<h3 id="expression-è¡¨è¾¾å¼" tabindex="-1">expression è¡¨è¾¾å¼ <a class="header-anchor" href="#expression-è¡¨è¾¾å¼" aria-label="Permalink to â€œexpression è¡¨è¾¾å¼â€">&#8203;</a></h3>
<p>æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼Œè¿™æ˜¯é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ˆä¹Ÿæ˜¯ä¸Šé¢å¯¼å‡ºé…ç½®ä¸­æœ‰ç‰¹åˆ«è¯´æ˜çš„ï¼‰ã€‚</p>
<p><img src="./mini-lottie/63b1e8a0370b0ffdd017de7ceb918465.png" alt="" loading="lazy"></p>
<p>ç»†çœ‹äº†ä¸€ä¸‹æ–‡æ¡£ï¼Œæœ‰ç‰¹åˆ«è¯´æ˜ï¼Œexpression è¡¨è¾¾å¼ç‰¹æ€§æ˜¯ä¸æ”¯æŒçš„ï¼Œå› æ­¤éœ€è¦å†å¯¼å‡º JSON æ–‡ä»¶æ—¶ç¦ç”¨ç›¸å…³ç‰¹æ€§ã€‚</p>
<p><img src="./mini-lottie/c8f32eb3368a511c84cf1e7803687d5c.png" alt="" loading="lazy"></p>
<p>è§£å†³åŠæ³•ï¼šå¯¼å‡ºJSONæ–‡ä»¶æ—¶ï¼Œç¦ç”¨æ‰è¡¨è¾¾å¼ç‰¹æ€§å³å¯ã€‚</p>
<p><img src="./mini-lottie/60104c2927d61dcb75be50fbd363f45d.png" alt="" loading="lazy"></p>
<p>å½“ç„¶ç¦ç”¨åï¼ŒJSON æ–‡ä»¶å¤§å°ä¼šæœ‰æ‰€å¢åŠ ã€‚</p>
<p>æ¯”å¦‚æˆ‘è¿™ä¸ª demo ä» 40kb å¢åŠ åˆ°äº† 240kbï¼ˆå½“ç„¶åŠ¨ç”»ä¸ä¸€æ ·ï¼Œå¢é•¿çš„å¤§å°ä¼šæœ‰æ‰€ä¸åŒã€‚æœ‰äº›å‰åå¯èƒ½åªæœ‰1-2kbçš„å˜åŒ–ï¼‰ã€‚</p>
<h3 id="æ¨¡ç³Š" tabindex="-1">æ¨¡ç³Š <a class="header-anchor" href="#æ¨¡ç³Š" aria-label="Permalink to â€œæ¨¡ç³Šâ€">&#8203;</a></h3>
<p>ç”±äºéœ€è¦å…¨å±å±•ç¤ºï¼ŒåŠ¨ç”»æ–‡ä»¶çš„å°ºå¯¸ä¸ç¡®å®šï¼Œæ‰‹åŠ¨åªè®¾ç½® canvas å°ºå¯¸ä¼šæœ‰æ¨¡ç³Šçš„é—®é¢˜ã€‚</p>
<p>è¿™ä¸ªé€šè¿‡æ˜é‡‘æœç´¢äº†ä¸€ä¸‹å°±å¾—åˆ°äº† <a href="https://juejin.cn/post/7171273016762974216#heading-7" target="_blank" rel="noreferrer">lottieåŠ¨ç”»æ¨¡ç³Šé—®é¢˜çš„è§£å†³æ–¹æ³•</a>ã€‚</p>
<p>å¾®è°ƒä¸€ä¸‹ä¸Šé¢çš„ä»£ç ï¼Œå°±å¯ä»¥è§£å†³æ¨¡ç³Šé—®é¢˜ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::4h9bsop24ii4uvfvjzzn4g::--><code>const canvas = res[0].node
canvas.width = 600
canvas.height = 600

// ä¸‹é¢æ˜¯æ–°å¢çš„ä»£ç 
const dpr = wx.getSystemInfoSync().pixelRatio
canvas.width = canvas.width * dpr
canvas.height = canvas.height * dpr
context.scale(dpr, dpr)

lottie.setup(canvas)</code></pre>
</div><h3 id="å…¨å±åŠ¨ç”»" tabindex="-1">å…¨å±åŠ¨ç”» <a class="header-anchor" href="#å…¨å±åŠ¨ç”»" aria-label="Permalink to â€œå…¨å±åŠ¨ç”»â€">&#8203;</a></h3>
<p>å¼¹çª—çš„åŠ¨ç”»éœ€è¦å…¨å±å±•ç¤ºï¼Œå› æ­¤éœ€è¦è®¾ç½® <code>canvas</code> å®½é«˜ä¸ºé¡µé¢å®½é«˜ã€‚</p>
<p>index.wxss</p>
<div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre><!--::markdown-it-async::v37fr1na0sj8phn6xvsh8::--><code>#lottie-canvas{
    position: fixed;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100vh;
}</code></pre>
</div><p>index.jsï¼Œä½¿ç”¨ <code>wx.getSystemInfoSync</code> è·å–è®¾å¤‡çš„ä¿¡æ¯</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::9tmnq0oic5lxxksgm9doim::--><code>const { windowWidth, windowHeight, pixelRatio } = wx.getSystemInfoSync()
canvas.width = windowWidth * pixelRatio
canvas.height = windowHeight * pixelRatio</code></pre>
</div><p><img src="./mini-lottie/3dd8a0483aba8a07d9a85692197e5ce5.png" alt="" loading="lazy"></p>
<h3 id="åŠ¨æ€æ–‡æ¡ˆ" tabindex="-1">åŠ¨æ€æ–‡æ¡ˆ <a class="header-anchor" href="#åŠ¨æ€æ–‡æ¡ˆ" aria-label="Permalink to â€œåŠ¨æ€æ–‡æ¡ˆâ€">&#8203;</a></h3>
<p>ç”±äºæ˜¯çº¢åŒ…ï¼Œéœ€è¦åŠ¨æ€å±•ç¤ºé‡‘é¢ï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯ä¸å›ºå®šå†…å®¹çš„åŠ¨æ€æ ‡é¢˜ï¼‰ã€‚</p>
<p>æ€è·¯å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« <a href="https://zhuanlan.zhihu.com/p/102334701?s_r=0" target="_blank" rel="noreferrer">çŸ¥ä¹ï¼š åŠ¨æ€ä¿®æ”¹ Lottie ä¸­çš„æ–‡æœ¬</a></p>
<p>å¯ä»¥ä½¿ç”¨å›ºå®šæ ¼å¼çš„æ–‡æœ¬ <code>${æ–‡æœ¬}</code> è¿›è¡Œæ›¿æ¢</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::ecv932k2arb43wthpep4i::--><code>// ä¼ªä»£ç 
get(&#039;sourceUrl&#039;).then((res) =&gt; {
  const jsonText = res.data
  const animationData = JSON.parse(jsonText.replace(&#039;${é‡‘é¢}&#039;, &#039;ç›®æ ‡é‡‘é¢&#039;))
})</code></pre>
</div><p>æ¯”å¦‚æˆ‘åœ¨ demo é‡ŒåŠ ä¸€ä¸ªæ–‡å­—</p>
<ul>
<li>éœ€è¦å±•ç¤ºçš„æ–‡æœ¬é‡Œæ”¾å…¥ <code>${num}</code> ç”¨äºæ›¿æ¢åŒ¹é…</li>
<li>åœ¨æ·»åŠ ä¸€ä¸ªæ–‡æœ¬è—åœ¨çœ‹ä¸è§çš„åœ°æ–¹,é‡Œé¢å†™å…¥æ›¿æ¢åéœ€è¦ç”¨åˆ°çš„æ–‡å­—ï¼ˆç¡®ä¿å’Œä¸Šé¢çš„æ–‡æœ¬ä¸ºåŒä¸€ç§å­—ä½“ï¼‰</li>
</ul>
<p><img src="./mini-lottie/f2bd93aa21e7cd2328c987948d4557a7.png" alt="" loading="lazy"></p>
<p>æ¥ç€å¯¼å‡º JSON æ–‡ä»¶ã€‚</p>
<p>è°ƒç”¨æ–¹æ³•å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::yllqibb98ouxoyztimeie::--><code>// æ‹‰å–JSONæ–‡ä»¶å†…å®¹
const jsonData = await new Promise((resolve) =&gt; {
  wx.request({
    url: &#039;http://127.0.0.1:8080/json/text-replace/data.json&#039;,
    success: (res) =&gt; {
      resolve(res.data)
    }
  })
})

// éšæœºç”Ÿæˆ1-100å…ƒçš„æ•°å­—ï¼Œä¿ç•™ä¸¤ä½å°æ•°
const num = (Math.random() * 100).toFixed(2)
// æ›¿æ¢å†…å®¹
const animationData = JSON.parse(
  JSON.stringify(jsonData)
    .replace(/\$\{num\}/g, `${num}å…ƒ`)
)

lottie.loadAnimation({
  // æŒ‡å®šjsonå†…å®¹
  animationData,
  // è®¾ç½®ä¾èµ–çš„å›¾ç‰‡èµ„æºä½ç½®
  assetsPath: &#039;http://127.0.0.1:8080/json/text-replace/images/&#039;,
  // ...çœç•¥å…¶å®ƒé…ç½®
})</code></pre>
</div><p>æ•ˆæœå¦‚ä¸‹</p>
<p><img src="./mini-lottie/290fee264246526131c5048c67125711.png" alt="" loading="lazy"></p>
<h3 id="style-å¼•å‘çš„æ¸²æŸ“é”™è¯¯" tabindex="-1">style å¼•å‘çš„æ¸²æŸ“é”™è¯¯ <a class="header-anchor" href="#style-å¼•å‘çš„æ¸²æŸ“é”™è¯¯" aria-label="Permalink to â€œstyle å¼•å‘çš„æ¸²æŸ“é”™è¯¯â€">&#8203;</a></h3>
<p>åœ¨ canvas æ ‡ç­¾ä¸Šè®¾ç½® <code>display</code>æ§åˆ¶æ˜¾éšï¼Œå¶ç°ä¼šæç¤ºæ¸²æŸ“å±‚é”™è¯¯ã€‚</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::yj99h1qihfk5c0y3kpttks::--><code>&lt;canvas style=&quot;display:{{show?&#039;block&#039;:&#039;none&#039;}}&quot; id=&quot;c1&quot; type=&quot;2d&quot;&gt;&lt;/canvas&gt;</code></pre>
</div><p><img src="./mini-lottie/cedddb72f45046ca974cb594be964eeb.png" alt="" loading="lazy"></p>
<p>è§£å†³åŠæ³•ï¼Œç»™å¥—äº†ä¸€å±‚ <code>view</code>ï¼Œç”¨<code>wx:if</code>æ§åˆ¶å’¯ã€‚</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::pj7px686kehv80lqp9qq::--><code>&lt;view  wx:if=&quot;{{show}}&quot;&gt;
  &lt;canvas id=&quot;c1&quot; type=&quot;2d&quot;&gt;&lt;/canvas&gt;
&lt;/view&gt;
</code></pre>
</div><h3 id="ios-æ’­æ”¾é—ªé€€é—®é¢˜" tabindex="-1">iOS æ’­æ”¾é—ªé€€é—®é¢˜ <a class="header-anchor" href="#ios-æ’­æ”¾é—ªé€€é—®é¢˜" aria-label="Permalink to â€œiOS æ’­æ”¾é—ªé€€é—®é¢˜â€">&#8203;</a></h3>
<p>ç°è±¡æ˜¯ï¼Œéå†·å¯åŠ¨å°ç¨‹åºçš„æ—¶å€™ï¼ŒåŠ¨ç”»è¿˜æ²¡æ’­æ”¾å®Œæ¯•å°±æå‰ç»“æŸäº†ã€‚</p>
<p>çœ‹ä»£ç logï¼Œ3sçš„åŠ¨ç”»ï¼Œæ’­æ”¾ä¸åˆ° 1s å°±è§¦å‘äº† <code>complete</code> äº‹ä»¶ï¼Œçœ‹ç°è±¡å°±æ˜¯ä¸€é—ªè€Œé€ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::w4n04ms06qtnd8nqhrdir::--><code>const ani = lottie.loadAnimation({
  // 3s çš„åŠ¨ç”»
  animationData,
  // ...çœç•¥å…¶å®ƒé…ç½®
})

ani.addEventListener(&#039;complete&#039;, () =&gt; {
  console.log(&#039;åŠ¨ç”»æ’­æ”¾ç»“æŸ&#039;)
})</code></pre>
</div><p>é—®é¢˜æ’æŸ¥ï¼š</p>
<p>â‘  ç¿»çœ‹æºç <a href="https://github.com/wechat-miniprogram/lottie-miniprogram/tree/master" target="_blank" rel="noreferrer">lottie-miniprogram</a></p>
<p>åœ¨ <code>src/adapter/index.js</code> ä¸­çœ‹åˆ°<a href="https://github.com/wechat-miniprogram/lottie-miniprogram/blob/49066a6479d710b5863754613a518c65487912db/src/adapter/index.js#L89-L101" target="_blank" rel="noreferrer">ä¸‹é¢è¿™æ®µä»£ç </a></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::t1lwl7y3xviirfw14vv8wg::--><code>window.requestAnimationFrame = function requestAnimationFrame(cb) {
  let called = false
  setTimeout(() =&gt; {
    if (called) {
      return
    }
    called = true
    typeof cb === &#039;function&#039; &amp;&amp; cb(Date.now())
  }, 100)
  canvas.requestAnimationFrame((timeStamp) =&gt; {
    if (called) {
      return
    }
    called = true
    typeof cb === &#039;function&#039; &amp;&amp; cb(timeStamp)
  })
}</code></pre>
</div><p>åœ¨ç¿»çœ‹ä¸€ä¸‹å°ç¨‹åºæ–‡æ¡£é‡Œ <a href="https://developers.weixin.qq.com/miniprogram/dev/api/canvas/Canvas.requestAnimationFrame.html" target="_blank" rel="noreferrer">canvas.requestAnimationFrame</a> æ–‡æ¡£è¯´æ˜ã€‚</p>
<p><img src="./mini-lottie/36b0cfb5ce7dca2c6916caf71aeff2ff.png" alt="" loading="lazy"></p>
<p>æœ‰ç‚¹æ‚Ÿäº†ä¸Šé¢çš„ <code>setTimeout</code> ä»£ç ï¼Œåº”è¯¥æ˜¯ä¸ºäº†å…¼å®¹ä½ç‰ˆæœ¬çš„å°ç¨‹åºï¼Œé‡Œé¢è¿˜æœ‰ <code>called</code> å˜é‡æ§åˆ¶ï¼Œä¸é‡å¤æ‰§è¡Œã€‚</p>
<p>çŒœæµ‹å¯èƒ½æ˜¯åœ¨æ’­æ”¾çš„æ—¶å€™æ‰§è¡Œäº† <code>setTimeout</code> é‡Œçš„é€»è¾‘å¯¼è‡´åŠ¨ç”»æå‰ç»“æŸã€‚</p>
<p>äºæ˜¯æˆ‘å°±åŠ ä¸Šäº† <code>console.log</code> å‘å¸ƒåˆ°çº¿ä¸ŠéªŒè¯ä¸€ä¸‹ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::sxpgzxtp75dopgmxl21g9::--><code>setTimeout(() =&gt; {
  if (called) {
    return
  }
  called = true
  console.log(&#039;setTimeout&#039;, Date.now()) // [!code ++]
  typeof cb === &#039;function&#039; &amp;&amp; cb(Date.now())
}, 100)

canvas.requestAnimationFrame((timeStamp) =&gt; {
  if (called) {
    return
  }
  console.log(&#039;canvas.requestAnimationFrame&#039;, timeStamp) // [!code ++]
  called = true
  typeof cb === &#039;function&#039; &amp;&amp; cb(timeStamp)
})</code></pre>
</div><p>vconsole æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="./mini-lottie/8ee7e4cf3535cb2e4caba929abfe205c.png" alt="" loading="lazy"></p>
<p><em>ä¸€ç‚¹è¡¥å……ï¼Œé’ˆå¯¹ <code>canvas.requestAnimationFrame</code> å›åˆ°å‡½æ•°çš„å…¥å‚ï¼Œå°ç¨‹åºæ–‡æ¡£é‡Œè™½æ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼Œä½†å¯ä»¥å¯¹æ ‡ Web çš„
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/window/requestAnimationFrame" target="_blank" rel="noreferrer">Windowï¼šrequestAnimationFrame() æ–¹æ³•</a> çœ‹ä¸€ä¸‹ MDN ä¸Šçš„è§£é‡Šã€‚</em></p>
<p><img src="./mini-lottie/2d307758e0873a89aa4fb33602547ed7.png" alt="" loading="lazy"></p>
<p>ä»ä¸Šé¢çš„ <code>console</code> æ—¥å¿—çœ‹ï¼ŒåŸå› ç¡®å®æ˜¯æ‰§è¡Œ setTimeout é‡Œé¢çš„é€»è¾‘å¯¼è‡´çš„åŠ¨ç”»ç»“æŸã€‚</p>
<p>å¯ä»¥å¾—åˆ°å¼•å‘bugçš„åŸå› ï¼šâ†“</p>
<p><strong>æŸç§æƒ…å†µä¸‹ï¼Œ<code>setTimeout(callback, 100)</code> æ¯” <code>canvas.requestAnimationFrame</code> æ›´å¿«æ‰§è¡Œã€‚</strong></p>
<p><em>è¿™ä¸ªåº“å¾ˆä¹…æ²¡è¿­ä»£äº†ï¼ˆç°æœ‰ç‰ˆæœ¬æ˜¯3å¹´å‰å‘å¸ƒçš„ï¼‰ï¼Œæ¯å‘¨è¿˜æ˜¯æœ‰ä¸€äº›ä¸‹è½½é‡ï¼Œissue é‡Œä¹Ÿæ²¡æœ‰æåˆ° iOS æœ‰è¿™ä¸ªé—®é¢˜ï¼ï¼ˆåˆ‡æ¢æ¸²æŸ“æ¨¡å¼ä¸º skyline ä¹Ÿæ²¡æœ‰è§¦å‘è¿™ä¸ªé—®é¢˜ï¼Œé—®é¢˜åªåœ¨ webview æ¨¡å¼ä¸‹æœ‰ï¼Œä¸”ä»…ä½¿ç”¨ç®€å•Demoä¹Ÿæ— æ³•å¤ç°è¿™ä¸ªé—®é¢˜ï¼‰</em></p>
<p><em>ä¹Ÿä¸æ¸…æ¥šå°ç¨‹åºé‡Œ canvas.requestAnimationFrame å®ç°æœºåˆ¶ã€‚</em></p>
<p><img src="./mini-lottie/5c5a97df02d19c6b7248b1c983b5a639.png" alt="" loading="lazy"></p>
<p>å¤§èƒ†æ£æµ‹ä¸€ä¸‹åŸå› ï¼š</p>
<p><strong>é¡µé¢å®ç°å¯èƒ½è¿‡äºå¤æ‚ï¼Œå¤æ‚çš„ä¸šåŠ¡é€»è¾‘æ‰§è¡Œé˜»å¡åœ¨é€»è¾‘å±‚ï¼Œå¯¼è‡´ setTimeout æ—¶é—´åˆ°äº†ä»¥åå›è°ƒå‡½æ•°å…¥æ ˆï¼Œæ¥ç€å°±åœ¨é€»è¾‘å±‚è°ƒç”¨æ‰§è¡Œäº†</strong></p>
<p>è§£å†³åŠæ³•ï¼š</p>
<p><img src="./mini-lottie/182858ba4f246bf28417cda3fb029b8f.png" alt="" loading="lazy"></p>
<p><strong>æ—¢ç„¶æ˜¯å…¼å®¹å®ç°ï¼Œå°±åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦å­˜åœ¨ <code>requestAnimationFrame</code> æ–¹æ³•ï¼Œå­˜åœ¨å°±ä¸æ‰§è¡Œ <code>setTimeout</code> ç›¸å…³é€»è¾‘ã€‚</strong></p>
<p>å®Œæ•´è§£å†³ PR è§ï¼š<a href="https://github.com/wechat-miniprogram/lottie-miniprogram/pull/50" target="_blank" rel="noreferrer">https://github.com/wechat-miniprogram/lottie-miniprogram/pull/50</a></p>
<p>å°†æ‰“åŒ…åçš„äº§ç‰©æ›¿æ¢åˆ° <code>node_modules</code> é‡Œå¯¹åº”ä½ç½®åï¼Œå†ä½¿ç”¨ <a href="https://www.npmjs.com/package/patch-package" target="_blank" rel="noreferrer">patch-package</a> ç”Ÿæˆ patchï¼Œä»¥ä¾¿åç»­å®‰è£…ä¾èµ–è‡ªåŠ¨æ›´æ–°</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æ—¶é—´åŒ†å¿™ï¼Œä»‹ç»çš„ä¸æ˜¯éå¸¸çš„è¯¦ç»†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è¯„è®ºåŒºäº¤æµã€‚</p>
<p><code>demo</code> å®Œæ•´æºç è§ <a href="https://github.com/ATQQ/demos/tree/main/miniprogram/lottie-demo" target="_blank" rel="noreferrer">GitHubï¼šlottie-demo</a></p>
<p><img src="./mini-lottie/c5a59914529f4b50a969ec7f1caadc36.png" alt="" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/mini-lottie/e887b3af9200905af6a3484300de1d3b.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[çº¯å‰ç«¯å®ç° PNG å›¾ç‰‡å‹ç¼© | UPNG.js]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/png-compress.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/png-compress.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[æœ€è¿‘åœ¨è¿­ä»£åº”ç”¨çš„æ—¶å€™ç”¨åˆ°äº† UPNG.js å‹ç¼© PNG å›¾ç‰‡ï¼Œè¿™é‡Œè®°å½•åˆ†äº«ä¸€ä¸‹ä½¿ç”¨ç»éªŒï¼Œå¹¶é™„ä¸Šå®Œæ•´ Demoã€‚]]></description>
            <content:encoded><![CDATA[<h1 id="çº¯å‰ç«¯å®ç°-png-å›¾ç‰‡å‹ç¼©-upng-js" tabindex="-1">çº¯å‰ç«¯å®ç° PNG å›¾ç‰‡å‹ç¼© | UPNG.js <a class="header-anchor" href="#çº¯å‰ç«¯å®ç°-png-å›¾ç‰‡å‹ç¼©-upng-js" aria-label="Permalink to â€œçº¯å‰ç«¯å®ç° PNG å›¾ç‰‡å‹ç¼© | UPNG.jsâ€">&#8203;</a></h1>
<blockquote>
<p><strong>åœ¨çº¿ Demo ä½“éªŒåœ°å€ â†’:</strong> <a href="https://demos.sugarat.top/pages/png-compress/" target="_blank" rel="noreferrer">https://demos.sugarat.top/pages/png-compress/</a></p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>æœ€è¿‘åœ¨è¿­ä»£è‡ªå·±çš„ <a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">å›¾åºŠ</a> åº”ç”¨ï¼Œç”±äºä½¿ç”¨æ—¶é—´çš„ç´¯è®¡ï¼Œå­˜å‚¨ç©ºé—´å ç”¨è¶Šæ¥è¶Šå¤§äº†ï¼Œåœ¨åš Web åº”ç”¨çš„æ—¶å€™ä¼šéšæ‰‹æ‹¿ <a href="https://tinypng.com/" target="_blank" rel="noreferrer">tinypng</a> å‹ç¼©ä¸€ä¸‹å›¾ç‰‡ã€‚</p>
<p>æƒ³ç€ç»™å’±å›¾åºŠä¹ŸåŠ ä¸ªå‹ç¼©çš„åŠŸèƒ½ï¼Œè¿™æ ·ä¸Šä¼ /è®¿é—®ä¹Ÿèƒ½çœç‚¹ ğŸ’°ã€‚</p>
<p><img src="./png-compress/d666613614e04da1e6e135c982cfc42e.png" alt="" loading="lazy"></p>
<p>å›¾ç‰‡ç±»å‹ä¼—å¤šï¼Œå¸¸ç”¨çš„ä¸»è¦å°±æ˜¯<code>PNG/JPG/GIF</code>ã€‚</p>
<p>ä¸ªäººä½¿ç”¨é¢‘ç‡æœ€é«˜çš„åœºæ™¯æ˜¯æˆªå›¾ä¸Šä¼ ï¼Œæ ¼å¼ä¸º<code>PNG</code>ï¼Œå°±å…ˆæ‹¿ <code>PNG</code> è¯•æ‰‹ã€‚è°ƒç ”äº†ä¸€åœˆå¼€æºé‡Œæœ€æµè¡Œçš„å°±æ˜¯ä½¿ç”¨ <a href="https://github.com/photopea/UPNG.js" target="_blank" rel="noreferrer">UPNG.js</a> è¿›è¡Œ PNG çš„å‹ç¼©ã€‚</p>
<ul>
<li><a href="https://blog.photopea.com/png-minifier-inside-photopea.html#examples" target="_blank" rel="noreferrer">å®˜æ–¹å¯¹æ¯” tinypng ä»‹ç»</a>ï¼›</li>
<li><a href="http://upng.photopea.com/" target="_blank" rel="noreferrer">å®˜æ–¹åœ¨çº¿ç¤ºä¾‹ Demo</a>ã€‚</li>
</ul>
<h2 id="å¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯-png" tabindex="-1">å¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯ PNG <a class="header-anchor" href="#å¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯-png" aria-label="Permalink to â€œå¦‚ä½•åˆ¤æ–­å›¾ç‰‡æ˜¯ PNGâ€">&#8203;</a></h2>
<p>ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯åˆ¤æ–­å›¾ç‰‡ç±»å‹ï¼Œä¸ç„¶ <code>UPNG.js</code> å°±ä¸èƒ½æ­£å¸¸å·¥ä½œå’¯ï¼Œé€šè¿‡æ–‡ä»¶åç¼€ .png åˆ¤æ–­è‚¯å®šæ˜¯ä¸é è°±çš„ã€‚</p>
<p>æœç´¢äº†è§£äº†ä¸€ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>é­”æ•°</code> åˆ¤æ–­ï¼š<strong>ä¸€ä¸ªPNGæ–‡ä»¶çš„å‰8ä¸ªå­—èŠ‚æ˜¯å›ºå®šçš„</strong>ã€‚</p>
<p><code>PNG</code> çš„å‰ 8 ä¸ªå­—èŠ‚æ˜¯ï¼ˆ16è¿›åˆ¶è¡¨ç¤ºï¼‰ï¼š<code>89 50 4E 47 0D 0A 1A 0A</code>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ‹¿å·¥å…·çœ‹ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œç”¨ VS Code æ’ä»¶ <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.hexeditor" target="_blank" rel="noreferrer">Hex Editor</a> æŸ¥çœ‹ä¸€ä¸ª PNG å›¾ç‰‡çš„ 16 è¿›åˆ¶è¡¨ç¤ºä¿¡æ¯ã€‚</p>
<p><img src="./png-compress/a10803276d251362424af66453c301ba.png" alt="" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°å‰å…«ä¸ªå­—èŠ‚å’Œä¸Šé¢è¡¨ç¤ºçš„ä¸€æ ·ã€‚</p>
<p>äºæ˜¯å¯ä»¥æ ¹æ®è¿™ä¸ªç‰¹æ€§åˆ¤æ–­ï¼Œäºæ˜¯å°±æœ‰å¦‚ä¸‹çš„åˆ¤æ–­ä»£ç ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::c01xpiinrue5oi7iurd9i9::--><code>async function isPNG(file: File) {
  // æå–å‰8ä¸ªå­—èŠ‚
  const arraybuffer = await file.slice(0, 8).arrayBuffer()

  // PNG çš„å‰8å­—èŠ‚16è¿›åˆ¶è¡¨ç¤º
  const signature = [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A]
  // const signature = [137, 80, 78, 71, 13, 10, 26, 10]

  // è½¬ä¸º 8ä½æ— ç¬¦å·æ•´æ•°æ•°ç»„ æ–¹ä¾¿å¯¹æ¯”
  // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array
  const source = new Uint8Array(arraybuffer)

  // é€ä¸ªå­—èŠ‚å¯¹æ¯”
  for (let i = 0; i &lt; signature.length; i++) {
    if (source[i] !== signature[i]) {
      return false
    }
  }
  return true
}</code></pre>
</div><h2 id="upng-js" tabindex="-1">UPNG.js <a class="header-anchor" href="#upng-js" aria-label="Permalink to â€œUPNG.jsâ€">&#8203;</a></h2>
<h3 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to â€œç®€ä»‹â€">&#8203;</a></h3>
<blockquote>
<p>ä¸€ä¸ªè½»é‡ä¸”æé€Ÿçš„ <code>PNG/APNG</code> ç¼–ç å’Œè§£ç åº“ï¼Œ<a href="https://www.photopea.com/" target="_blank" rel="noreferrer">Photopea</a> å›¾åƒç¼–è¾‘å™¨çš„ä¸»è¦ <code>PNG</code> å¼•æ“ã€‚</p>
</blockquote>
<h3 id="npm-åŠ è½½" tabindex="-1">npm åŠ è½½ <a class="header-anchor" href="#npm-åŠ è½½" aria-label="Permalink to â€œnpm åŠ è½½â€">&#8203;</a></h3>
<p>å®˜æ–¹æä¾›äº† <code>npm</code> åŒ…ï¼Œç®€å•å¼•å…¥å³å¯ä½¿ç”¨ã€‚</p>
<p>å®‰è£…ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::0eelk1pqzysog8ou4luw2ht::--><code>npm install upng-js</code></pre>
</div><p>æ ¸å¿ƒæ–¹æ³•å°± 3 ä¸ªï¼Œä¾æ¬¡è°ƒç”¨å³å¯</p>
<ul>
<li>UPNG.decode(buffer)</li>
<li>UPNG.toRGBA8(img)</li>
<li>UPNG.encode(imgs, w, h, cnum, [dels])
<ul>
<li>cnumï¼š0 è¡¨ç¤ºæ— æŸå‹ç¼©ï¼Œ256è¡¨ç¤ºæœ‰æŸï¼Œå¯ä»¥è°ƒæ•´è¿™ä¸ªå€¼æ¥æ§åˆ¶å‹ç¼©è´¨é‡ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„ï¼šå‹ç¼©å¹¶ä¸æ„å‘³ç€ä¸€å®šå°ï¼Œå¯¹äºä¸€äº›å·²ç»å¾ˆç®€å•ä¸”å°çš„å›¾ç‰‡ï¼Œå‹ç¼©åå¯èƒ½åè€Œæ›´å¤§ã€‚</strong></p>
<p>ä¸‹é¢æ˜¯è¿™ä¸ªæ–¹æ³•çš„æœ€ç®€å®ç°ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::j90xerlzd0g2nbsxbqzjvt::--><code>import UPNG from &#039;upng-js&#039;

async function compressPNG(file: File) {
  const arrayBuffer = await file.arrayBuffer()
  const decoded = UPNG.decode(arrayBuffer)
  const rgba8 = UPNG.toRGBA8(decoded)

  // å…³é”®çš„å‹ç¼©æ–¹æ³•
  // è¿™é‡Œ ä¿æŒå®½é«˜ä¸å˜ï¼Œä¿æŒ80%çš„è´¨é‡ï¼ˆæ¥è¿‘äº tinypng çš„å‹ç¼©æ•ˆæœï¼‰
  const compressed = UPNG.encode(
    rgba8,
    decoded.width,
    decoded.height,
    256 * 0.8
  )
  return new File([compressed], file.name, { type: &#039;image/png&#039; })
}</code></pre>
</div><p>å…¶ä¸­å‹ç¼©åçš„å®½é«˜ï¼Œå‹ç¼©è´¨é‡éƒ½æ˜¯å¯ä»¥è°ƒæ•´çš„ã€‚</p>
<h3 id="å¯é…ç½®å°è£…" tabindex="-1">å¯é…ç½®å°è£… <a class="header-anchor" href="#å¯é…ç½®å°è£…" aria-label="Permalink to â€œå¯é…ç½®å°è£…â€">&#8203;</a></h3>
<p>ä¸‹é¢æ–¹æ³•ï¼ˆTS å®ç°ï¼‰ï¼Œæä¾›äº†ä¸€äº›å¸¸ç”¨çš„é…ç½®é€‰é¡¹ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::x2pkl02ijogw6i31dztmt::--><code>import UPNG from &#039;upng-js&#039;

interface CompressOptions {
  /**
   * å‹ç¼©è´¨é‡ï¼ˆ[0,1]ï¼‰
   * @default 0.8
   */
  quality?: number
  /**
   * å‹ç¼©åæ›´å¤§æ˜¯å¦ä½¿ç”¨åŸå›¾
   * @default true
   */
  noCompressIfLarger?: boolean
  /**
   * å‹ç¼©åçš„æ–°å®½åº¦
   * @default åŸå°ºå¯¸
   */
  width?: number
  /**
   * å‹ç¼©åæ–°é«˜åº¦
   * @default åŸå°ºå¯¸
   */
  height?: number
}
async function compressPNGImage(file: File, ops: CompressOptions = {}) {
  const { width, height, quality = 0.8, noCompressIfLarger = true } = ops

  const arrayBuffer = await file.arrayBuffer()
  const decoded = UPNG.decode(arrayBuffer)
  const rgba8 = UPNG.toRGBA8(decoded)

  const compressed = UPNG.encode(
    rgba8,
    width || decoded.width,
    height || decoded.height,
    256 * quality
  )

  const newFile = new File([compressed], file.name, { type: &#039;image/png&#039; })

  if (!noCompressIfLarger) {
    return newFile
  }

  return file.size &gt; newFile.size ? newFile : file
}</code></pre>
</div><h3 id="cdn-åŠ è½½" tabindex="-1">CDN åŠ è½½ <a class="header-anchor" href="#cdn-åŠ è½½" aria-label="Permalink to â€œCDN åŠ è½½â€">&#8203;</a></h3>
<p>ä¸é€šè¿‡ npm å®‰è£…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾çš„æ–¹å¼è¿›è¡Œå…¨å±€å¼•å…¥ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨<a href="https://www.staticfile.org/" target="_blank" rel="noreferrer">Static file</a>æä¾›çš„ CDN èµ„æºã€‚</p>
<p>åªéœ€åœ¨ HTML æ¨¡æ¿é¡¶éƒ¨ head ä¸­åŠ å…¥å¦‚ä¸‹èµ„æºå³å¯ä½¿ç”¨ã€‚</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::eysl9036pv8ivpb5c50oxk::--><code>&lt;head&gt;
  &lt;script src=&quot;https://cdn.staticfile.net/pako/1.0.5/pako.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.staticfile.net/upng-js/2.1.0/UPNG.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;</code></pre>
</div><p>PNG æ ¼å¼åŒ–ä½¿ç”¨ <code>Inflate</code> ç®—æ³•ã€‚è¿™éƒ¨åˆ†è°ƒç”¨ <a href="https://github.com/nodeca/pako" target="_blank" rel="noreferrer">Pako.js</a> å®ç°ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–å‰ç½®å¼•å…¥ã€‚</p>
<p>å¼•å…¥åï¼Œå°†åœ¨ window ä¸Šç»‘å®š UPNG å˜é‡ï¼Œä½¿ç”¨å’Œä¸Šè¿° npm ç»™åˆ°çš„ä¾‹å­å®Œå…¨ä¸€è‡´ã€‚</p>
<p><em>ä»£ç é‡Œè°ƒç”¨æ–¹å¼å¦‚ä¸‹</em></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::n3sspzvyxwmr0th68wyxyr::--><code>window.UPNG.encode

// çœç•¥ window
UPNG.encode</code></pre>
</div><h2 id="å®Œæ•´-demo" tabindex="-1">å®Œæ•´ demo <a class="header-anchor" href="#å®Œæ•´-demo" aria-label="Permalink to â€œå®Œæ•´ demoâ€">&#8203;</a></h2>
<p>ç¬”è€…å°†æœ¬èŠ‚å†…å®¹æ•´ç†æˆäº†ä¸€ä¸ª Demoï¼Œå¯ä»¥ç›´æ¥åœ¨çº¿ä½“éªŒã€‚</p>
<blockquote>
<p><strong>åœ¨çº¿ Demo ä½“éªŒåœ°å€ â†’:</strong> <a href="https://demos.sugarat.top/pages/png-compress/" target="_blank" rel="noreferrer">https://demos.sugarat.top/pages/png-compress/</a></p>
</blockquote>
<p>å¤§æ¦‚ç•Œé¢å¦‚ä¸‹ï¼š</p>
<p><img src="./png-compress/5d461c425ea18f501262017bdeca8a9a.png" alt="" loading="lazy"></p>
<p><em>çº¯è¡€ HTML/CSS/JSï¼Œå¤åˆ¶ç²˜è´´å°±èƒ½è¿è¡Œã€‚</em></p>
<p>å®Œæ•´æºç è§ï¼š<a href="https://github.com/ATQQ/demos/tree/main/pages/png-compress" target="_blank" rel="noreferrer">GitHub:ATQQ/demos - png-compress</a></p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>åç»­å°†ç»§ç»­å­¦ä¹ &amp;æ¢ç´¢ä¸€ä¸‹å…¶å®ƒæ ¼å¼çš„<strong>çº¯å‰ç«¯å‹ç¼©å®ç°</strong>ï¼ˆJPGï¼ŒGIFï¼ŒMP4è½¬GIFï¼‰ã€‚</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/png-compress/d666613614e04da1e6e135c982cfc42e.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/upyun.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/upyun.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[åˆ†äº«ä¸€ä¸‹åˆæ‹äº‘çš„ç®€å•ç”¨æ³•ï¼Œä»¥åŠä½¿ç”¨å®ƒæ­å»ºå›¾åºŠã€‚]]></description>
            <content:encoded><![CDATA[<h1 id="ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ" tabindex="-1">ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ <a class="header-anchor" href="#ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ" aria-label="Permalink to â€œä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠâ€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>æŸå¤©åœ¨ç¾¤é‡Œæ‘¸ ğŸŸ ï¼ŒèŠåˆ°äº†å›¾åºŠç›¸å…³çš„è¯é¢˜ï¼Œç¾¤å‹æ¨èäº† <a href="https://www.upyun.com/league" target="_blank" rel="noreferrer">åˆæ‹äº‘</a>ã€‚</p>
<p>è¯´æœ‰æ´»åŠ¨ï¼Œå¯ä»¥ç™½å«–å­˜å‚¨ï¼Œ<code>10G + 15Gï¼ˆHTTP/HTTPS æµé‡ï¼‰</code> ã€‚ç¬”è€…ä¹‹å‰ä¸€ç›´ç”¨çš„<a href="https://www.qiniu.com/prices/kodo" target="_blank" rel="noreferrer">ä¸ƒç‰›äº‘</a> <code>10G + 10Gï¼ˆå›æºæµé‡ï¼‰</code>ã€‚</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">åˆæ‹äº‘</th>
<th style="text-align:center">ä¸ƒç‰›äº‘</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./upyun/96868081e49914aa6ab7ee142e064d56.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./upyun/4a1fb149f7dbcfa43af08f1354781d76.png" alt="" loading="lazy"></td>
</tr>
<tr>
<td style="text-align:center">æ³¨å†Œé€1ä¸ªæœˆçš„ä»£é‡‘åˆ¸ + ç½‘ç«™æŒ‚æ¨å¹¿é€1å¹´ä»£é‡‘åˆ¸</td>
<td style="text-align:center">æ³¨å†Œå³å¯é€æ¯æœˆéƒ½æœ‰</td>
</tr>
</tbody>
</table>
<p>ç¬”è€…å°±èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹åˆæ‹äº‘çš„ SDK å’Œå¯¹è±¡å­˜å‚¨ï¼Œèƒ½åŠ›ä¸Šå®Œå…¨å¯ä»¥å¹³æ›¿ä¸ƒç‰›äº‘ï¼Œäºæ˜¯å°±èŠ±äº†ä¸€ç‚¹æ—¶é—´ç»™<a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">å›¾åºŠåº”ç”¨</a>åŠ ä¸Šäº†åˆæ‹äº‘çš„æ”¯æŒã€‚</p>
<h2 id="æ•ˆæœ" tabindex="-1">æ•ˆæœ <a class="header-anchor" href="#æ•ˆæœ" aria-label="Permalink to â€œæ•ˆæœâ€">&#8203;</a></h2>
<p>å¤§å®¶å¯ä»¥è®¿é—® <a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">https://imgbed.sugarat.top/</a> ç›´æ¥ä½“éªŒï¼Œé»˜è®¤å·²é…ç½® åˆæ‹äº‘ å­˜å‚¨</p>
<p>ä¸‹é¢å°†ä»‹ç» åˆæ‹äº‘å¯¹è±¡å­˜å‚¨é…ç½®ï¼Œå…³é”®APIç”¨æ³•ï¼Œå¦‚ä½•æ¥å…¥ä¸Šè¿°å›¾åºŠã€‚</p>
<h2 id="å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º" tabindex="-1">å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º <a class="header-anchor" href="#å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º" aria-label="Permalink to â€œå¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»ºâ€">&#8203;</a></h2>
<p>è¿™é‡Œç›´æ¥çœç•¥è´¦å·æ³¨å†Œï¼Œå‚åŠ æ¨å¹¿æ´»åŠ¨ç­‰æ­¥éª¤ï¼Œç›´æ¥è¿›å…¥å¯¹è±¡å­˜å‚¨é…ç½®é¡µé¢ã€‚</p>
<p>è®¿é—®<a href="https://console.upyun.com/services/file/" target="_blank" rel="noreferrer">å¯¹è±¡å­˜å‚¨æ§åˆ¶å°</a>ï¼Œç‚¹å‡»åˆ›å»ºæœåŠ¡</p>
<p><img src="./upyun/5c0388757ee62813255ea400b0a9907b.png" alt="" loading="lazy"></p>
<p>è¿™ä¸ª&quot;æœåŠ¡&quot;å’Œå…¶å®ƒå¹³å°çš„ <code>Bucket(æ¡¶)</code> ç±»ä¼¼ï¼Œå¯ä»¥ç†è§£ä¸ºå­˜å‚¨ç©ºé—´çš„æ¦‚å¿µã€‚</p>
<p>å¡«ä¸€ä¸‹æœåŠ¡åç§°ï¼ˆ<code>å…¨å¹³å°å”¯ä¸€</code>ï¼‰ï¼Œç»‘å®šè´¦å·å³å¯</p>
<p><img src="./upyun/8358d7845041f2cfa1e9af3751eca150.png" alt="" loading="lazy"></p>
<p><strong>æœåŠ¡åˆ›å»ºå®Œï¼Œéœ€è¦çš„ä¸œè¥¿åŸºæœ¬éƒ½æœ‰äº†ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼</strong></p>
<ul>
<li>æœåŠ¡åï¼šè‡ªå®šä¹‰</li>
<li>è´¦å·ï¼šè‡ªå®šä¹‰</li>
<li>å¯†ç ï¼šè‡ªåŠ¨ç”Ÿæˆ</li>
<li>åŸŸåï¼šæµ‹è¯•åŸŸå <code>serviceName.test.upcdn.net</code></li>
</ul>
<h2 id="api-ä½¿ç”¨" tabindex="-1">API ä½¿ç”¨ <a class="header-anchor" href="#api-ä½¿ç”¨" aria-label="Permalink to â€œAPI ä½¿ç”¨â€">&#8203;</a></h2>
<h3 id="token-ç”Ÿæˆ" tabindex="-1">token ç”Ÿæˆ <a class="header-anchor" href="#token-ç”Ÿæˆ" aria-label="Permalink to â€œtoken ç”Ÿæˆâ€">&#8203;</a></h3>
<p>è¿™é‡Œæ¨èä½¿ç”¨ token è®¤è¯ æ ¹æ®<a href="https://help.upyun.com/knowledge-base/object_storage_authorization/#token-e8aea4e8af81" target="_blank" rel="noreferrer">æ–‡æ¡£ï¼šè®¤è¯é‰´æƒ</a>å¯çŸ¥ç”Ÿæˆæ–¹å¼å¦‚ä¸‹ï¼š</p>
<p><img src="./upyun/9018f184d07b38b69f53f7335aa7cd2e.png" alt="" loading="lazy"></p>
<p>çœ‹ä¸æ‡‚ï¼Ÿæ²¡å…³ç³» GPT å¯ä»¥å¸®ä½ ï¼Œç›´æ¥å¤åˆ¶ä¸¢ç»™å®ƒã€‚</p>
<p><img src="./upyun/16cb9a0c8e480e61304a2366d3568878.png" alt="" loading="lazy"></p>
<p>è¿™ä¸ä»£ç å°±æ¥äº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€‚å½“ä¼˜åŒ–ä¸€ä¸‹ï¼Œä¸éœ€è¦ç”¨åˆ°ç¬¬ä¸‰æ–¹åº“<code>base64-js</code>ï¼Œç›´æ¥ä½¿ç”¨ Node.js çš„å†…ç½®æ¨¡å—<code>crypto</code> å³å¯ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::clpanwp022qsijoke4tv2r::--><code>import crypto from &#039;crypto&#039;

/**
 * ç”Ÿæˆ upyun ä¸Šä¼ token
 * @param {*} operator è´¦å·
 * @param {*} password å¯†ç 
 * @param {*} method æ–¹æ³•ï¼ˆPUTï¼‰
 * @param {*} uriPrefix è¯·æ±‚å…¬å…±å‰ç¼€
 * @param {*} date è¿‡æœŸæ—¶é—´
 * @returns ä¸Šä¼ å‡­è¯
 */
function generateUpyunToken(operator, password, method, uriPrefix, date) {
  // å¯†ç çš„md5å€¼ï¼Œç§˜é’¥
  const secret = crypto.createHash(&#039;md5&#039;).update(password).digest(&#039;hex&#039;)

  // æ„é€ ç”¨äºè®¡ç®—æ ¡éªŒå€¼çš„å­—ç¬¦ä¸²
  const value = `${method}&amp;${uriPrefix}&amp;${date}`

  // ä½¿ç”¨ hmac-sha1 ç®—æ³•ç”Ÿæˆtoken
  const token = crypto.createHmac(&#039;sha1&#039;, secret) // ä½¿ç”¨å¯†ç çš„MD5å€¼ä½œä¸ºç§˜é’¥
    .update(value) // è®¾ç½®ç”¨äºè®¡ç®—æ ¡éªŒå€¼çš„å­—ç¬¦ä¸²
    .digest() // è®¡ç®—æ ¡éªŒå€¼
    .toString(&#039;base64&#039;) // è½¬æ¢ä¸ºbase64 æ ¼å¼

  // ç»„åˆæˆè¦æ±‚çš„æ ¼å¼
  return `UPYUN ${operator}:${token}`
}</code></pre>
</div><p>ä»£ç éå¸¸ç®€æ´æ˜äº†ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::xix3vx11kfrsfdq8nj48j::--><code>const token = generateUpyunToken(&#039;è´¦å·&#039;,
  &#039;å¯†ç &#039;,
  &#039;PUT&#039;,
  &#039;æœåŠ¡å/èµ„æºå…¬å…±å‰ç¼€è·¯å¾„&#039;, // æœåŠ¡å + å…¬å…±èµ„æºå‰ç¼€è·¯å¾„æ„æˆ
  new Date().getTime() + 1000 * 60 * 60 * 24 * 90 // è®¡ç®—è¿‡æœŸæ—¶é—´ 90å¤©åçš„æ—¥æœŸ
)</code></pre>
</div><p>ç†è®ºä¸Šè¿™ä¸ª token ä¹Ÿå¯ä»¥åœ¨å‰ç«¯ç”Ÿæˆï¼Œè°ƒç”¨å’Œåç«¯ä¸€è‡´çš„ç®—æ³•å³å¯ã€‚</p>
<h3 id="å‰ç«¯ä¸Šä¼ " tabindex="-1">å‰ç«¯ä¸Šä¼  <a class="header-anchor" href="#å‰ç«¯ä¸Šä¼ " aria-label="Permalink to â€œå‰ç«¯ä¸Šä¼ â€">&#8203;</a></h3>
<p>â‘  å®‰è£… upyun sdk</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::jo9i7qcbgrnpu39j9hhqnb::--><code>npm i upyun</code></pre>
</div><p>â‘¡ ä¸Šä¼ ç¤ºä¾‹</p>
<p>æ ¹æ®æ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°å®¢æˆ·ç«¯ä¸Šä¼ éœ€è¦çš„å‚æ•°ã€‚</p>
<p><img src="./upyun/3c68a4e45d6be0789636eefc9e8fcbbd.png" alt="" loading="lazy"></p>
<ul>
<li><code>Authorization</code>ï¼šå‰é¢é€šè¿‡ç”Ÿæˆçš„token</li>
<li><code>X-Date</code>ï¼šè¯·æ±‚æ—¥æœŸæ—¶é—´ï¼ŒGMT æ ¼å¼å­—ç¬¦ä¸²</li>
<li><code>X-Upyun-Uri-Prefix</code>ï¼šæœåŠ¡å + èµ„æºå…¬å…±å‰ç¼€è·¯å¾„</li>
<li><code>X-Upyun-Expire</code>ï¼šè¿‡æœŸæ—¶é—´</li>
</ul>
<p>ä¸‹é¢å°±æ˜¯æ ¸å¿ƒçš„ä¸Šä¼ æ–¹æ³•ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::011gkgexu20kmjaa4hzfth5n::--><code>import upyun from &#039;upyun&#039;

const service = new upyun.Service(&#039;æœåŠ¡å&#039;)
const client = new upyun.Client(service, () =&gt; ({
  &#039;Authorization&#039;: &#039;å‰é¢é€šè¿‡ç”Ÿæˆçš„token&#039;,
  &#039;X-Date&#039;: new Date().toUTCString(),
  &#039;X-Upyun-Uri-Prefix&#039;: &#039;æœåŠ¡å/èµ„æºå…¬å…±å‰ç¼€è·¯å¾„&#039;,
  &#039;X-Upyun-Expire&#039;: date, // å‰é¢ç”Ÿæˆ Token æ—¶çš„ date å‚æ•°
}))

const sourceKey = &#039;èµ„æºå…¬å…±å‰ç¼€è·¯å¾„/èµ„æºå&#039; // &#039;test/imgs/abc.png&#039;

// è°ƒç”¨ä¸Šä¼ 
client.putFile(sourceKey, file) // è¿”å›å€¼ Promise&lt;boolean&gt;</code></pre>
</div><p>â‘¢ æ–¹æ³•å°è£…</p>
<p>æˆ‘ä»¬å¯ä»¥ç®€å•å°è£…ä¸€ä¸‹ï¼Œæ–¹ä¾¿è°ƒç”¨</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::tvrn5iujznko4bx99euvnl::--><code>interface UPYunConfig {
  /**
   * æœåŠ¡å
   */
  serviceName: string
  /**
   * ä¸Šä¼ å‡­è¯
   */
  token: string
  /**
   * èµ„æºå…¬å…±å‰ç¼€
   */
  prefix: string
  /**
   * è¿‡æœŸæ—¶é—´ new Date().getTime() + 1000 * 60 * 60 * 24 * 90
   */
  date: number
  /**
   * åŸŸåï¼ˆç”¨äºæ‹¼æ¥æœ€åçš„è®¿é—®é“¾æ¥ï¼‰
   */
  domain: string
  /**
   * æœ€åçš„èµ„æºåï¼Œå»ºè®®ä½¿ç”¨ uuid æˆ–è€…æ–‡ä»¶çš„ MD5
   */
  filename?: string
}
async function uploadFile(file: File, ops: UPYunConfig) {
  const { serviceName, prefix, token, date, domain, filename } = ops

  const service = new upyun.Service(serviceName)
  const client = new upyun.Client(service, () =&gt; ({
    &#039;Authorization&#039;: token,
    &#039;X-Date&#039;: new Date().toUTCString(),
    &#039;X-Upyun-Uri-Prefix&#039;: `${serviceName}/${prefix}`,
    &#039;X-Upyun-Expire&#039;: date,
  }))

  const key = `${prefix}/${filename || file.name}`

  const isSuccess = await client.putFile(key, file)
  // è¿”å›æœ€åå¯ä»¥ç”¨äºè®¿é—®çš„é“¾æ¥
  return isSuccess ? Promise.resolve(`${domain}/${key}`) : Promise.reject(new Error(&#039;ä¸Šä¼ å¤±è´¥&#039;))
}</code></pre>
</div><h2 id="æ¥å…¥çº¯é™æ€å›¾åºŠ" tabindex="-1">æ¥å…¥çº¯é™æ€å›¾åºŠ <a class="header-anchor" href="#æ¥å…¥çº¯é™æ€å›¾åºŠ" aria-label="Permalink to â€œæ¥å…¥çº¯é™æ€å›¾åºŠâ€">&#8203;</a></h2>
<p>ä¸Šè¿°é€»è¾‘æˆ‘éƒ½å°è£…åœ¨äº†è‡ªå·±çš„å›¾åºŠåº”ç”¨ä¸­ï¼š<a href="https://github.com/ATQQ/image-bed-qiniu/tree/master/packages/client#-%E5%9F%BA%E4%BA%8E-oss%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E5%BA%93-%E5%9B%BE%E5%BA%8A-" target="_blank" rel="noreferrer">GitHub: image-bed-qiniu</a></p>
<p>åªéœ€è¦åœ¨ <a href="https://github.com/ATQQ/image-bed-qiniu/tree/master/packages/cli" target="_blank" rel="noreferrer">cli</a> ç›®å½•ä¸‹ï¼Œä¿®æ”¹ <a href="https://github.com/ATQQ/image-bed-qiniu/blob/master/packages/cli/.env" target="_blank" rel="noreferrer">.env</a> é…ç½®æ–‡ä»¶</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::23pryq3lyersd04ij8cy8::--><code># åˆæ‹äº‘ç›¸å…³é…ç½®
UPYUN_OPERATOR=operator
UPYUN_PASSWORD=password
UPYUN_BUCKET=service-name
UPYUN_DOMAIN=http://service-name.test.upcdn.net
UPYUN_PREFIX=image
UPYUN_SCOPE=default
# tokenæœ‰æ•ˆæœŸï¼Œé»˜è®¤3ä¸ªæœˆï¼Œå•ä½ç§’ï¼Œä½ å¯ä»¥è‡ªè¡Œè®¾ç½®ï¼ˆ60*60*24*30ï¼‰
# UPYUN_EXPIRES=2592000</code></pre>
</div><p>æ‰§è¡Œ <code>node upyun-token.js</code> å³å¯ç”Ÿæˆéœ€è¦çš„ tokenã€‚</p>
<p>å°†å…¶ç²˜è´´é…ç½®åˆ° <a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">çº¿ä¸Šçš„å›¾åºŠåº”ç”¨</a>ï¼Œæˆ–è€…è‡ªå·±éƒ¨ç½²çš„å‡å¯ <a href="https://github.com/ATQQ/image-bed-qiniu/tree/master/packages/client#%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE" target="_blank" rel="noreferrer">image-bed-qiniu:client</a></p>
<p><img src="./upyun/9b11917ab2a09e1bec11e8272f0f4f2c.png" alt="" loading="lazy"></p>
<h2 id="å…¶å®ƒ" tabindex="-1">å…¶å®ƒ <a class="header-anchor" href="#å…¶å®ƒ" aria-label="Permalink to â€œå…¶å®ƒâ€">&#8203;</a></h2>
<p>çº¿ä¸Šä½¿ç”¨ï¼Œæ¨è ç»‘å®šè‡ªå®šä¹‰åŸŸå å’Œ å¼€å¯HTTPS æ”¯æŒã€‚</p>
<p>è¿™ä¸¤ä¸ªç›´æ¥åœ¨å¹³å°é‡Œæ ¹æ®æŒ‡å¼•æ“ä½œå³å¯ï¼Œæ­¥éª¤ä¹Ÿå¾ˆç®€å•ã€‚</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>åç»­å‡†å¤‡æä¾›ä¸€ä¸ªå›¾åºŠçš„ Docker é•œåƒï¼Œè¿™æ ·éƒ¨ç½²èµ·æ¥ä¹Ÿæ›´åŠ æ–¹ä¾¿ã€‚</p>
<p>å¤§å®¶æœ‰å…¶å®ƒå¯ç™½å«–çš„å›¾åºŠä¹Ÿå¯æ¨èæ¨èä¸€ä¸‹ã€‚</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/upyun/96868081e49914aa6ab7ee142e064d56.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ä½¿ç”¨http-proxy-agentå‡ºç°ECONNRESET error]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/study/http-proxy-fail.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/study/http-proxy-fail.html</guid>
            <pubDate>Tue, 09 Jul 2024 16:55:35 GMT</pubDate>
            <description><![CDATA[ä½¿ç”¨http-proxy-agentå‡ºç°ECONNRESET error
ä¹‹å‰åšäº†1ä¸ªä¸‹è½½æ–‡ä»¶çš„CLIå·¥å…· efst - åŸç†æ–‡ç« : ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½CLIå·¥å…·
å…¶ä¸­æ”¯æŒè®¾ç½® ä»£ç†(proxy) ]]></description>
            <content:encoded><![CDATA[<h1 id="ä½¿ç”¨http-proxy-agentå‡ºç°econnreset-error" tabindex="-1">ä½¿ç”¨http-proxy-agentå‡ºç°ECONNRESET error <a class="header-anchor" href="#ä½¿ç”¨http-proxy-agentå‡ºç°econnreset-error" aria-label="Permalink to â€œä½¿ç”¨http-proxy-agentå‡ºç°ECONNRESET errorâ€">&#8203;</a></h1>
<p>ä¹‹å‰åšäº†1ä¸ªä¸‹è½½æ–‡ä»¶çš„CLIå·¥å…· <a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/README.md" target="_blank" rel="noreferrer">efst</a> - <a href="./../works/fs-cli.html">åŸç†æ–‡ç« : ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½CLIå·¥å…·</a></p>
<p><img src="./http-proxy-fail/MTY2ODkyMDg3NDEwNg==668920874106.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å…¶ä¸­æ”¯æŒè®¾ç½® ä»£ç†(proxy) æ¥ä¸‹è½½ç½‘ç»œèµ„æº</p>
<h2 id="é‡åˆ°çš„é—®é¢˜" tabindex="-1">é‡åˆ°çš„é—®é¢˜ <a class="header-anchor" href="#é‡åˆ°çš„é—®é¢˜" aria-label="Permalink to â€œé‡åˆ°çš„é—®é¢˜â€">&#8203;</a></h2>
<p>å½“æˆ‘å‡†å¤‡ä½¿ç”¨ä»£ç†ä¸‹è½½<code>Telegram</code>æ—¶ï¼Œæ€»ä¼šå¡åœ¨<code>99%</code></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::1s409tdy1otrjvyoc6dfwe::--><code>efst https://updates.tdesktop.com/tmac/tsetup.4.5.3.dmg -o -p http://127.0.0.1:7890</code></pre>
</div><p><img src="./http-proxy-fail/MTY3NDQwNDU1NjU2Ng==674404556566.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è¾“å‡ºäº†ä¸€ä¸‹é”™è¯¯ï¼Œå‘ç°æŠ¥é”™ä¿¡æ¯æ˜¯ <code>ECONNRESET error</code></p>
<h2 id="è§£å†³åŠæ³•" tabindex="-1">è§£å†³åŠæ³• <a class="header-anchor" href="#è§£å†³åŠæ³•" aria-label="Permalink to â€œè§£å†³åŠæ³•â€">&#8203;</a></h2>
<p>è°·æ­Œå…³é”®è¯ <code>ä½¿ç”¨http-proxy code: 'ECONNRESET'</code>ï¼Œæ‰¾åˆ°äº†è§£å†³åŠæ³• <a href="https://www.jianshu.com/p/7f004a9a02f3" target="_blank" rel="noreferrer">ç®€ä¹¦ï¼šè®°ä¸€æ¬¡æœ¬åœ°é”™è¯¯æ’æŸ¥è¿‡ç¨‹ï¼šmacbook Proxy error: Could not proxy request</a></p>
<p>æ·»åŠ è¯·æ±‚å¤´<code>Connection: 'keep-alive'</code>å³å¯</p>
<p><img src="./http-proxy-fail/MTY3NDQwNDgxMjIzMA==674404812230.png" alt="å›¾ç‰‡" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/http-proxy-fail/MTY2ODkyMDg3NDEwNg==668920874106.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ä½¿ç”¨è±†åŒ… MarsCode IDE æ­å»º VitePressåšå®¢å¹¶ä½¿ç”¨ GitHub éƒ¨ç½²]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/doubao/marscode-cn.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/doubao/marscode-cn.html</guid>
            <pubDate>Fri, 05 Jul 2024 18:00:00 GMT</pubDate>
            <description><![CDATA[åˆ›å»ºMarsCodeé¡¹ç›®
&gt;è¿˜æ²¡æœ‰æ³¨å†Œç™»å½•çš„å¯ä»¥è®¿é—® https://www.marscode.cn/introduction-of-ide ç™»å½•å¹¶è¿›å…¥IDEç•Œé¢
åœ¨å·¦ä¸Šè§’å’Œå³ä¸Šè§’éƒ½æœ‰åˆ›å»ºé¡¹ç›®çš„]]></description>
            <content:encoded><![CDATA[<h1 id="ä½¿ç”¨è±†åŒ…-marscode-ide-æ­å»º-vitepressåšå®¢å¹¶ä½¿ç”¨-github-éƒ¨ç½²" tabindex="-1">ä½¿ç”¨è±†åŒ… MarsCode IDE æ­å»º VitePressåšå®¢å¹¶ä½¿ç”¨ GitHub éƒ¨ç½² <a class="header-anchor" href="#ä½¿ç”¨è±†åŒ…-marscode-ide-æ­å»º-vitepressåšå®¢å¹¶ä½¿ç”¨-github-éƒ¨ç½²" aria-label="Permalink to â€œä½¿ç”¨è±†åŒ… MarsCode IDE æ­å»º VitePressåšå®¢å¹¶ä½¿ç”¨ GitHub éƒ¨ç½²â€">&#8203;</a></h1>
<blockquote>
<p>æˆ‘æ­£åœ¨å‚åŠ <a href="https://juejin.cn/post/7384997062416252939" target="_blank" rel="noreferrer">ã€Œè±†åŒ…MarsCodeåˆä½“éªŒã€</a>å¾æ–‡æ´»åŠ¨</p>
</blockquote>
<h2 id="åˆ›å»ºmarscodeé¡¹ç›®" tabindex="-1">åˆ›å»ºMarsCodeé¡¹ç›® <a class="header-anchor" href="#åˆ›å»ºmarscodeé¡¹ç›®" aria-label="Permalink to â€œåˆ›å»ºMarsCodeé¡¹ç›®â€">&#8203;</a></h2>
<blockquote>
<p>è¿˜æ²¡æœ‰æ³¨å†Œç™»å½•çš„å¯ä»¥è®¿é—® <a href="https://www.marscode.cn/introduction-of-ide" target="_blank" rel="noreferrer">https://www.marscode.cn/introduction-of-ide</a> ç™»å½•å¹¶è¿›å…¥IDEç•Œé¢
<img src="https://cdn.upyun.sugarat.top/mdImg/sugar/c331c475497e3e35eb54debcb1edcb22" alt="" loading="lazy"></p>
</blockquote>
<p>åœ¨å·¦ä¸Šè§’å’Œå³ä¸Šè§’éƒ½æœ‰åˆ›å»ºé¡¹ç›®çš„å…¥å£ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/9cb29ef6e068d57e8185b5784ec09ce2" alt="" loading="lazy"></p>
<p>é€‰æ‹© Node.js é¡¹ç›®è¿›è¡Œåˆ›å»ºã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/a6d82c0919e1ed834e47cac0965521e2" alt="" loading="lazy"></p>
<p>åˆ›å»ºåå¯ä»¥çœ‹åˆ°é¡¹ç›®åˆ—è¡¨é‡Œåªæ˜¯ä¸€ä¸ªåŸºç¡€çš„ node.js é¡¹ç›®ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/a3ff12727f02a087c1ab2f57ca420fb5" alt="" loading="lazy"></p>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥å¯¼å…¥æˆ‘ä»¬çš„ VitePress é¡¹ç›®ã€‚</p>
<h2 id="æ‹‰å–-vitepress-åšå®¢é¡¹ç›®æ¨¡æ¿" tabindex="-1">æ‹‰å– VItePress åšå®¢é¡¹ç›®æ¨¡æ¿ <a class="header-anchor" href="#æ‹‰å–-vitepress-åšå®¢é¡¹ç›®æ¨¡æ¿" aria-label="Permalink to â€œæ‹‰å– VItePress åšå®¢é¡¹ç›®æ¨¡æ¿â€">&#8203;</a></h2>
<p><strong>ä½¿ç”¨ç»ˆç«¯æ“ä½œ</strong>ï¼Œåˆ é™¤åŸæ¥çš„é¡¹ç›®æ–‡ä»¶ã€‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::dm0c7xkxjw4szylcl1lhq::--><code># æŸ¥çœ‹å½“å‰é¡¹ç›® ç›®å½•
pwd

# ç§»åŠ¨åˆ°ä¸Šä¸€çº§ç›®å½•
cd ../

# åˆ é™¤åŸæ¥çš„é¡¹ç›®æ–‡ä»¶
rm -rf VitePress-boke</code></pre>
</div><p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/4827468b7b6f7cdb991c405d20bcebad" alt="" loading="lazy"></p>
<p>æ¥ä¸‹æ¥éœ€è¦åˆ›å»ºä¸€ä¸ªåŒåçš„ <code>VitePress</code> é¡¹ç›®ã€‚</p>
<p>VitePress åšå®¢æ¨¡æ¿å¯ä»¥ä½¿ç”¨ç¬”è€…çš„ä¸»é¢˜ <a href="https://theme.sugarat.top/" target="_blank" rel="noreferrer">@sugarat/theme</a></p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/42cd40b377f3dbf0654a467736b12161" alt="" loading="lazy"></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::tzb1jsv35r88ik6daz2u6::--><code># ä¸€é”®åˆ›å»º
npm create @sugarat/theme VitePress-boke</code></pre>
</div><p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/ba5726ac199a5f3551d7cfd67bbfb1b2" alt="" loading="lazy"></p>
<p>æ ¹æ®æ“ä½œæç¤ºï¼Œå®Œæˆå‰ä¸‰æ­¥å°±å¯ä»¥å¯åŠ¨ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/c5d34dee9f0c06198d8cd0a83241a8c1" alt="" loading="lazy"></p>
<p>ç‚¹å‡»å³ä¾§å·¥å…·æ ä¸­çš„ <code>Webview</code> å°±å¯ä»¥é¢„è§ˆçœ‹åˆ°æ•ˆæœã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/3a2784328291b06d96e6d8c873c0198d" alt="" loading="lazy"></p>
<p>æ‰€æœ‰æ–‡ç« å†…å®¹é»˜è®¤éƒ½åœ¨ <code>docs</code> ç›®å½•ä¸‹ã€‚</p>
<p>å¼€å‘æ¨¡å¼(<code>npm run dev</code>)ä¸‹ï¼Œä¿®æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œè‡ªåŠ¨çƒ­æ›´æ–°åˆ°é¡µé¢ä¸Šã€‚</p>
<p>ç”Ÿäº§æ¨¡å¼ä½¿ç”¨ <code>npm run build</code> æ‰“åŒ…ã€‚</p>
<p>å¦‚æœä½ æ²¡æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåˆæƒ³éƒ¨ç½²ä¸€ä¸ªç«™ç‚¹ä¾›å…¶å®ƒäººè®¿é—®ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>GitHub Pages</code>ï¼Œå½“ç„¶å¼Šç«¯å°±æ˜¯è®¿é—®é€Ÿåº¦ä¸ç¨³å®šï¼Œä¸‹é¢æ¼”ç¤ºä¸€ä¸‹ã€‚</p>
<h2 id="éƒ¨ç½²åˆ°github-pages" tabindex="-1">éƒ¨ç½²åˆ°GitHub Pages <a class="header-anchor" href="#éƒ¨ç½²åˆ°github-pages" aria-label="Permalink to â€œéƒ¨ç½²åˆ°GitHub Pagesâ€">&#8203;</a></h2>
<h3 id="åˆ›å»º-github-ä»“åº“" tabindex="-1">åˆ›å»º GitHub ä»“åº“ <a class="header-anchor" href="#åˆ›å»º-github-ä»“åº“" aria-label="Permalink to â€œåˆ›å»º GitHub ä»“åº“â€">&#8203;</a></h3>
<blockquote>
<p>GitHub åœ°å€ï¼š<a href="https://github.com" target="_blank" rel="noreferrer">https://github.com</a></p>
</blockquote>
<p><a href="https://github.com/ATQQ/marscode-blog-preview" target="_blank" rel="noreferrer">ATQQ/marscode-blog-preview</a></p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/3a2fdcf9c9f267a1d7f28c404ef5741d" alt="" loading="lazy"></p>
<h3 id="ä¿®æ”¹é…ç½®" tabindex="-1">ä¿®æ”¹é…ç½® <a class="header-anchor" href="#ä¿®æ”¹é…ç½®" aria-label="Permalink to â€œä¿®æ”¹é…ç½®â€">&#8203;</a></h3>
<p>å¯ä»¥å‚è€ƒç¤ºä¾‹é¡¹ç›® <code>README.md</code> ä¸­å†…å®¹ï¼Œè½»æ¾æå®šã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/e0c376a13d2750fcf572b47ae00db0ab" alt="" loading="lazy"></p>
<ol>
<li>ä¿®æ”¹ GitHub é…ç½®</li>
</ol>
<p>å°† GitHub Pages éƒ¨ç½²è°ƒæ•´ä¸º <code>GitHub Actions</code></p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/660008a054e5b92e44ee820b745d4105" alt="" loading="lazy"></p>
<ol start="2">
<li>ä¿®æ”¹ VitePress é…ç½®</li>
</ol>
<p>ä¿®æ”¹ <code>docs/.vitepress/config.mts</code> é‡Œçš„æ„å»ºé…ç½®</p>
<p><code>base</code> æ”¹ä¸º <code>&quot;/ä»“åº“å/&quot;</code> å³å¯</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/5d1ae11df04fe9c16d9f1d741ac86942" alt="" loading="lazy"></p>
<h3 id="æ¨é€ä»£ç " tabindex="-1">æ¨é€ä»£ç  <a class="header-anchor" href="#æ¨é€ä»£ç " aria-label="Permalink to â€œæ¨é€ä»£ç â€">&#8203;</a></h3>
<p>åªå·®æœ€åä¸€æ­¥äº†ï¼Œå°†ä»£ç æ¨é€åˆ° GitHub ä»“åº“å°±å®Œæˆäº†ã€‚</p>
<ol>
<li>åˆ›å»ºå¹¶æäº¤è‡³æœ¬åœ°ä»“åº“</li>
</ol>
<p>æŒ‰é¡ºåºæ‰§è¡Œä¸‹é¢ 3 æ¡å‘½ä»¤å³å¯ã€‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::9kzaooakupdufjs4dc9g8c::--><code>git init

git add .

git commit -m &quot;first commit&quot;</code></pre>
</div><p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/a729823f786871ea5761b22ded9a808b" alt="" loading="lazy"></p>
<ol start="2">
<li>GitHub æˆæƒ</li>
</ol>
<p>ç”ŸæˆSSHå¯†é’¥å¯¹(ä¸€è·¯å›è½¦å°±è¡Œ)</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::tu0qs6uoy2u79ognet8lf::--><code>ssh-keygen -t rsa -b 4096 -C &quot;ä½ çš„githubé‚®ç®±&quot;</code></pre>
</div><p>å°†è‡ªåŠ¨ç”Ÿæˆ<code>id_rsa</code>å’Œ<code>id_rsa.pub</code></p>
<p>å¤åˆ¶ç”Ÿæˆçš„å…¬é’¥å†…å®¹</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/03ae0217087aad0eb9613658ab1be01b" alt="" loading="lazy"></p>
<p>å°†å…¶æ·»åŠ åˆ° GitHub ä¸ªäººè®¾ç½®çš„ SSH ç§˜é’¥ä¸­ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/bfa8a5044c85cd1880e60bb498b716e0" alt="" loading="lazy"></p>
<ol start="3">
<li>å…³è”å¹¶æ¨é€åˆ° GitHub</li>
</ol>
<p>ä½ å¯ä»¥åœ¨ç©ºä»“åº“é¡µé¢çœ‹åˆ°å¦‚ä¸‹çš„æç¤ºï¼Œå’±ä»¬æŒ‰é¡ºåºæ‰§è¡Œå³å¯ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/2360d47775bd07f674116fe794ee276a" alt="" loading="lazy"></p>
<p><em>åˆ‡æ¢ä¸º ssh åœ°å€è§†å›¾ï¼Œæˆªå›¾æ˜¯ https åœ°å€</em></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::o6112sqkbtlx80n6093rf::--><code># æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€
git remote add origin git@github.com:ATQQ/marscode-blog-preview.git
# ä¿®æ”¹åˆ†æ”¯å
git branch -M main
# æ¨é€åˆ†æ”¯ main åˆ°è¿œç¨‹ä»“åº“
git push -u origin main</code></pre>
</div><p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/8e8c6ff16fd5161e7aecd8597ad8c0ff" alt="" loading="lazy"></p>
<p>è®¿é—®ä»“åº“çš„ Actions æŸ¥çœ‹ç»“æœï¼ˆ<a href="https://github.com/ATQQ/marscode-blog-preview/actions/runs/9802748151" target="_blank" rel="noreferrer">ç¤ºä¾‹é¡¹ç›® &gt; Action æ‰§è¡Œç»“æœ</a>ï¼‰ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/72ac8a626de255f28b45e9858ccdde5d" alt="" loading="lazy"></p>
<p>è®¿é—® <a href="https://atqq.github.io/marscode-blog-preview/" target="_blank" rel="noreferrer">https://atqq.github.io/marscode-blog-preview/</a> å³å¯æŸ¥çœ‹åˆ°éƒ¨ç½²åçš„åšå®¢ã€‚</p>
<h2 id="æ›´æ–°å†…å®¹" tabindex="-1">æ›´æ–°å†…å®¹ <a class="header-anchor" href="#æ›´æ–°å†…å®¹" aria-label="Permalink to â€œæ›´æ–°å†…å®¹â€">&#8203;</a></h2>
<p>åªéœ€ä¿®æ”¹/åˆ›å»º <code>markdown</code> æ–‡æ¡£å†…å®¹å³å¯ï¼Œç„¶åé€šè¿‡ git è¿›è¡Œæ¨é€å³å¯ï¼Œä¼šè‡ªåŠ¨è§¦å‘ GitHub Actions è‡ªåŠ¨éƒ¨ç½²ã€‚</p>
<p>ä¸‹é¢ä¹Ÿæ¼”ç¤ºä¸€ä¸‹ï¼š</p>
<p>å…ˆä¿®æ”¹ä¸€ç‚¹å†…å®¹ï¼Œ</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/46fc1821c980694aaad06f6e56f1046a" alt="" loading="lazy"></p>
<p>å†æäº¤æ¨é€ã€‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qxau1rs38s7pwebp291p1::--><code>git add .
git commit -m &quot;docs: update index.md&quot;
git push</code></pre>
</div><p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/fd4941615d651d061040492606f8efdd" alt="" loading="lazy"></p>
<p>æ¨é€åè§¦å‘æ—¥å¿—ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/f299b7d870cf2df6ac78c5fab40cebaa" alt="" loading="lazy"></p>
<p>å†æ¬¡è®¿é—®é¡µé¢å°±æ˜¯æ–°çš„å†…å®¹äº†ã€‚</p>
<p><img src="https://cdn.upyun.sugarat.top/mdImg/sugar/c37c9ca0f405eb1d0646a4753e37bbfc" alt="" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://cdn.upyun.sugarat.top/mdImg/sugar/c331c475497e3e35eb54debcb1edcb22" length="0" type="image//mdImg/sugar/c331c475497e3e35eb54debcb1edcb22"/>
        </item>
        <item>
            <title><![CDATA[CSSè¶³è¿¹]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/css/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/css/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•å¼€å‘ä¸­æ‰€é‡é—®é¢˜åŠå…¶è§£æ³•ä¸csså­¦ä¹ ç¬”è®°
 ç›®å½•
* BFC
* ç›’æ¨¡å‹
* å¼¹æ€§å¸ƒå±€
* IFC
* CSSå±‚çº§å…³ç³»
* CSSä¼ªå…ƒç´ beforeä¸after
* è¡¨æ ¼æ–‘é©¬çº¹
* ä¼ªç±»
* ä¼ªå…ƒç´ ]]></description>
            <content:encoded><![CDATA[<h1 id="cssè¶³è¿¹" tabindex="-1">CSSè¶³è¿¹ <a class="header-anchor" href="#cssè¶³è¿¹" aria-label="Permalink to â€œCSSè¶³è¿¹â€">&#8203;</a></h1>
<p>è®°å½•å¼€å‘ä¸­æ‰€é‡é—®é¢˜åŠå…¶è§£æ³•ä¸csså­¦ä¹ ç¬”è®°</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./bfc.html">BFC</a></li>
<li><a href="./box.html">ç›’æ¨¡å‹</a></li>
<li><a href="./flex.html">å¼¹æ€§å¸ƒå±€</a></li>
<li><a href="./ifc.html">IFC</a></li>
<li><a href="./level.html">CSSå±‚çº§å…³ç³»</a></li>
<li><a href="./p1.html">CSSä¼ªå…ƒç´ beforeä¸after</a></li>
<li><a href="./p2.html">è¡¨æ ¼æ–‘é©¬çº¹</a></li>
<li><a href="./pseudo-class.html">ä¼ªç±»</a></li>
<li><a href="./pseudo-element.html">ä¼ªå…ƒç´ </a></li>
<li><a href="./reflow.html">å›æµä¸é‡ç»˜</a></li>
<li><a href="./selectors.html">cssé€‰æ‹©å™¨</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ES6 å­¦ä¹ ç¬”è®°]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/es6/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/es6/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[æ­¤ç¬”è®°ä¸»è¦è®°è½½ES6æ–°å¢ä¸”æœ€å¸¸ç”¨çš„ä¸€äº›ç‰¹æ€§,å¹¶ä¹¦å†™äº†å¯¹åº”çš„demo
å€Ÿé‰´äº†å®˜æ–¹çš„æ–‡æ¡£å’Œäº’è”ç½‘ä¸Šçš„ä¸€äº›åšå®¢ä¸ç”µå­ä¹¦ï¼Œç„¶åç»“åˆä¸ªäººç»éªŒå†™æˆã€‚ç”±äºç»éªŒæœ‰é™ï¼Œéš¾å…å­˜åœ¨è¯¸å¤šç–æ¼æˆ–è€…ç†è§£ä¸åˆ°ä½çš„åœ°æ–¹ï¼Œè¿˜è¯·æ–§æ­£ï¼
]]></description>
            <content:encoded><![CDATA[<h1 id="es6-å­¦ä¹ ç¬”è®°" tabindex="-1">ES6 å­¦ä¹ ç¬”è®° <a class="header-anchor" href="#es6-å­¦ä¹ ç¬”è®°" aria-label="Permalink to â€œES6 å­¦ä¹ ç¬”è®°â€">&#8203;</a></h1>
<p>æ­¤ç¬”è®°ä¸»è¦è®°è½½ES6æ–°å¢ä¸”æœ€å¸¸ç”¨çš„ä¸€äº›ç‰¹æ€§,å¹¶ä¹¦å†™äº†å¯¹åº”çš„demo</p>
<p>å€Ÿé‰´äº†å®˜æ–¹çš„æ–‡æ¡£å’Œäº’è”ç½‘ä¸Šçš„ä¸€äº›åšå®¢ä¸ç”µå­ä¹¦ï¼Œç„¶åç»“åˆä¸ªäººç»éªŒå†™æˆã€‚ç”±äºç»éªŒæœ‰é™ï¼Œéš¾å…å­˜åœ¨è¯¸å¤šç–æ¼æˆ–è€…ç†è§£ä¸åˆ°ä½çš„åœ°æ–¹ï¼Œè¿˜è¯·æ–§æ­£ï¼</p>
<div  class="tip custom-block"><p class="custom-block-title">å‚è€ƒ</p>
<p><a href="https://es6.ruanyifeng.com/" target="_blank" rel="noreferrer">1. ECMAScript6å…¥é—¨</a><br/>
<a href="https://wangdoc.com/javascript/" target="_blank" rel="noreferrer">2. javascriptæ•™ç¨‹</a><br/>
3. è¯¾ç¨‹ç½‘ç«™è§†é¢‘èµ„æ–™</p>
</div>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[HTMLç›¸å…³å†…å®¹]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/html/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/html/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* è¯­ä¹‰åŒ–æ ‡ç­¾]]></description>
            <content:encoded><![CDATA[<h1 id="htmlç›¸å…³å†…å®¹" tabindex="-1">HTMLç›¸å…³å†…å®¹ <a class="header-anchor" href="#htmlç›¸å…³å†…å®¹" aria-label="Permalink to â€œHTMLç›¸å…³å†…å®¹â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./semantic.html">è¯­ä¹‰åŒ–æ ‡ç­¾</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[javascript]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/index copy.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/index copy.html</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•é¢è¯•æ‰€é‡çš„ä¸javascriptç›¸å…³çš„ä»£ç é¢˜
 ç›®å½•
* å®ç°async/await
* é—­åŒ…è°ƒç”¨
* å®ç°æ·±æ‹·è´
* ç¬”è¯•é¢˜-æ•°ç»„å»é‡
* å¦‚ä½•å®ç°å˜é‡aåŒæ—¶ç­‰äºå¤šä¸ªå€¼
* å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„]]></description>
            <content:encoded><![CDATA[<h1 id="javascript" tabindex="-1">javascript <a class="header-anchor" href="#javascript" aria-label="Permalink to â€œjavascriptâ€">&#8203;</a></h1>
<p>è®°å½•é¢è¯•æ‰€é‡çš„ä¸javascriptç›¸å…³çš„ä»£ç é¢˜</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./async.html">å®ç°async/await</a></li>
<li><a href="./closureUse.html">é—­åŒ…è°ƒç”¨</a></li>
<li><a href="./deepClone.html">å®ç°æ·±æ‹·è´</a></li>
<li><a href="./duplicate.html">ç¬”è¯•é¢˜-æ•°ç»„å»é‡</a></li>
<li><a href="./equalA.html">å¦‚ä½•å®ç°å˜é‡aåŒæ—¶ç­‰äºå¤šä¸ªå€¼</a></li>
<li><a href="./immed-setInterval.html">å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨</a></li>
<li><a href="./inherit.html">ç»§æ‰¿å®ç°</a></li>
<li><a href="./instanceof.html">å®ç°instanceOf</a></li>
<li><a href="./judgeDate.html">åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨</a></li>
<li><a href="./mergeRequest.html">åœºæ™¯é¢˜-è¯·æ±‚åˆå¹¶</a></li>
<li><a href="./myApply.html">å®ç°apply</a></li>
<li><a href="./myBind.html">å®ç°bind</a></li>
<li><a href="./myCall.html">å®ç°call</a></li>
<li><a href="./myNew.html">å®ç°ä¸€ä¸‹new</a></li>
<li><a href="./promiseAll.html">å®ç°promiseAll</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç®€ä»‹]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç®€ä»‹
æ­¤éƒ¨åˆ†è®°è½½å­¦ä¹ ä¸ä¸šåŠ¡å¼€å‘ä¸­æ‰€é‡é—®é¢˜åŠè§£æ³•å’Œäº†è§£åˆ°çš„ä¸€äº›è¯­è¨€ç‰¹æ€§
 ç›®å½•
* apply,call,bind çš„å¼‚åŒ
* ç®­å¤´å‡½æ•°?
* blobä¸file
* å®šæ—¶å™¨
* é—­åŒ…
* æµ…æ‹·è´ä¸æ·±æ‹·]]></description>
            <content:encoded><![CDATA[<h1 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to â€œç®€ä»‹â€">&#8203;</a></h1>
<p>æ­¤éƒ¨åˆ†è®°è½½å­¦ä¹ ä¸ä¸šåŠ¡å¼€å‘ä¸­æ‰€é‡é—®é¢˜åŠè§£æ³•å’Œäº†è§£åˆ°çš„ä¸€äº›è¯­è¨€ç‰¹æ€§</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./apply.html">apply,call,bind çš„å¼‚åŒ</a></li>
<li><a href="./arrowfun.html">ç®­å¤´å‡½æ•°?</a></li>
<li><a href="./blob.html">blobä¸file</a></li>
<li><a href="./clock.html">å®šæ—¶å™¨</a></li>
<li><a href="./closure.html">é—­åŒ…</a></li>
<li><a href="./copy.html">æµ…æ‹·è´ä¸æ·±æ‹·è´</a></li>
<li><a href="./currying.html">æŸ¯é‡ŒåŒ–(Currying)</a></li>
<li><a href="./delete.html">delete</a></li>
<li><a href="./ecmathis.html">ECMAScriptè§„èŒƒè§£è¯»this(æœªå®Œå¾…ç»­)</a></li>
<li><a href="./es6+.html">ES6+çš„ä¸€äº›æ–°è¯­æ³•ç³–å’Œæ–¹æ³•æ•´ç†</a></li>
<li><a href="./eventloop.html">Event Loop</a></li>
<li><a href="./float.html">æµ®ç‚¹æ•°</a></li>
<li><a href="./garbage.html">åƒåœ¾å›æ”¶æœºåˆ¶</a></li>
<li><a href="./getElement.html">è·å–domå…ƒç´ çš„å‡ ç§æ–¹å¼</a></li>
<li><a href="./likearray.html">ç±»æ•°ç»„ä¸arguments</a></li>
<li><a href="./p0.html">å­¦ä¹ è¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸€äº›å–å·§ä¹‹æ³•</a></li>
<li><a href="./p1.html">jsè·å–æŸå¹´æŸæœˆçš„å¤©æ•°</a></li>
<li><a href="./p2.html">æ—¥æœŸæ ¼å¼åŒ–</a></li>
<li><a href="./p3.html">æ•°ç»„æ‰å¹³åŒ–çš„å¤šç§æ–¹æ¡ˆ</a></li>
<li><a href="./p4.html">åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ¡ˆ</a></li>
<li><a href="./p5.html">æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</a></li>
<li><a href="./promise.html">Promise</a></li>
<li><a href="./prototype.html">åŸå‹ä¸åŸå‹é“¾</a></li>
<li><a href="./runStack.html">æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</a></li>
<li><a href="./runcontext.html">æ‰§è¡Œä¸Šä¸‹æ–‡</a></li>
<li><a href="./scope.html">ä½œç”¨åŸŸ</a></li>
<li><a href="./scopeLink.html">ä½œç”¨åŸŸé“¾</a></li>
<li><a href="./symbol.html">Symbol çš„ç”¨æ³•</a></li>
<li><a href="./throttling.html">èŠ‚æµä¸é˜²æŠ–</a></li>
<li><a href="./typeConvert.html">JavaScriptä¸­çš„ç±»å‹è½¬æ¢è§„åˆ™</a></li>
<li><a href="./valuePass.html">å‚æ•°æŒ‰å€¼ä¼ é€’</a></li>
<li><a href="./variableObject.html">å˜é‡å¯¹è±¡</a></li>
<li><a href="./asyncawait.html">async åŠ await çš„ç‰¹ç‚¹ï¼Œå®ƒä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿawait åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="./changeArr.html">æ•°ç»„å“ªäº›æ–¹æ³•ä¼šæ”¹å˜è‡ªèº«</a></li>
<li><a href="./diff-for-in-of.html">for-ofä¸for-inçš„åŒºåˆ«</a></li>
<li><a href="./equal.html">== å’Œ === æœ‰ä»€ä¹ˆåŒºåˆ«</a></li>
<li><a href="./es6.html">ES6é¢è¯•é—®é¢˜</a></li>
<li><a href="./event.html">äº‹ä»¶çš„è§¦å‘è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼ŸçŸ¥é“ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†å˜›ï¼Ÿ</a></li>
<li><a href="./getBool.html">å°†ä»»æ„ç±»å‹è½¬ä¸ºBooleançš„æ–¹æ¡ˆ</a></li>
<li><a href="./instanceof.html">instanceofèƒ½æ­£ç¡®åˆ¤æ–­å¯¹è±¡çš„åŸå› æ˜¯ä»€ä¹ˆ</a></li>
<li><a href="./judgeArr.html">å¦‚ä½•åˆ¤æ–­æ•°ç»„</a></li>
<li><a href="./judgeObj.html">å¦‚ä½•åˆ¤æ–­å˜é‡ç±»å‹æ˜¯å¯¹è±¡</a></li>
<li><a href="./module.html">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¨¡å—åŒ–ï¼Ÿæœ‰å“ªå‡ ç§æ–¹å¼å¯ä»¥å®ç°æ¨¡å—åŒ–ï¼Œå„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</a></li>
<li><a href="./nullobj.html">nullæ˜¯å¯¹è±¡å—</a></li>
<li><a href="./numNotEqual.html">ä¸ºä»€ä¹ˆ0.1+0.2!=0.3</a></li>
<li><a href="./objDiffPrim.html">å¯¹è±¡ç±»å‹å’ŒåŸå§‹ç±»å‹çš„ä¸åŒä¹‹å¤„</a></li>
<li><a href="./objparam.html">å‡½æ•°å‚æ•°æ˜¯å¯¹è±¡ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜</a></li>
<li><a href="./onload-ready.html">window.onloadä¸document.readyæ‰§è¡Œé¡ºåº</a></li>
<li><a href="./primitiveType.html">åŸå§‹ç±»å‹æœ‰å“ªäº›</a></li>
<li><a href="./promise.html">Promise çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Œåˆ†åˆ«æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿä»€ä¹ˆæ˜¯ Promise é“¾ï¼ŸPromise æ„é€ å‡½æ•°æ‰§è¡Œå’Œ then å‡½æ•°æ‰§è¡Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
<li><a href="./this.html">å¦‚ä½•æ­£ç¡®åˆ¤æ–­ thisï¼Ÿç®­å¤´å‡½æ•°çš„ this æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="./typeof.html">typeofèƒ½å¦æ­£å¸¸åˆ¤æ–­ç±»å‹</a></li>
<li><a href="./v8garbage.html">V8 ä¸‹çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</a></li>
<li><a href="./async.html">å®ç°async/await</a></li>
<li><a href="./closureUse.html">é—­åŒ…è°ƒç”¨</a></li>
<li><a href="./deepClone.html">å®ç°æ·±æ‹·è´</a></li>
<li><a href="./duplicate.html">ç¬”è¯•é¢˜-æ•°ç»„å»é‡</a></li>
<li><a href="./equalA.html">å¦‚ä½•å®ç°å˜é‡aåŒæ—¶ç­‰äºå¤šä¸ªå€¼</a></li>
<li><a href="./immed-setInterval.html">å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨</a></li>
<li><a href="./inherit.html">ç»§æ‰¿å®ç°</a></li>
<li><a href="./instanceof.html">å®ç°instanceOf</a></li>
<li><a href="./judgeDate.html">åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨</a></li>
<li><a href="./mergeRequest.html">åœºæ™¯é¢˜-è¯·æ±‚åˆå¹¶</a></li>
<li><a href="./myApply.html">å®ç°apply</a></li>
<li><a href="./myBind.html">å®ç°bind</a></li>
<li><a href="./myCall.html">å®ç°call</a></li>
<li><a href="./myNew.html">å®ç°ä¸€ä¸‹new</a></li>
<li><a href="./promiseAll.html">å®ç°promiseAll</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[è¯‘ï¼šä½¿ç”¨ç°ä»£çš„ Node.js æ„å»ºç®€å•çš„CLIå·¥å…·]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/standard-node-cli.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/standard-node-cli.html</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[åªä½¿ç”¨ Node.js çš„æ ‡å‡†åº“ï¼Œä¸å®‰è£…ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼Œå†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·]]></description>
            <content:encoded><![CDATA[<h1 id="è¯‘-ä½¿ç”¨ç°ä»£çš„-node-js-æ„å»ºç®€å•çš„cliå·¥å…·" tabindex="-1">è¯‘ï¼šä½¿ç”¨ç°ä»£çš„ Node.js æ„å»ºç®€å•çš„CLIå·¥å…· <a class="header-anchor" href="#è¯‘-ä½¿ç”¨ç°ä»£çš„-node-js-æ„å»ºç®€å•çš„cliå·¥å…·" aria-label="Permalink to â€œè¯‘ï¼šä½¿ç”¨ç°ä»£çš„ Node.js æ„å»ºç®€å•çš„CLIå·¥å…·â€">&#8203;</a></h1>
<blockquote>
<p>åŸæ–‡åœ°å€ï¼š <a href="https://evertpot.com/node-changelog-cli-tool/" target="_blank" rel="noreferrer">https://evertpot.com/node-changelog-cli-tool/</a>
<br/>ä½œè€…ï¼š <a href="https://evertpot.com/" target="_blank" rel="noreferrer">Evert Pot</a>
<br/>å‘å¸ƒæ—¶é—´ï¼š2023-02-13</p>
</blockquote>
<p><strong>åªä½¿ç”¨ Node.js çš„æ ‡å‡†åº“ï¼Œä¸å®‰è£…ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼Œå†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ã€‚</strong></p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>ä½œè€…æ˜¯å¤šä¸ªå¼€æºé¡¹ç›®çš„ç»´æŠ¤è€…ï¼Œé•¿ä¹…ä»¥æ¥éƒ½æ˜¯æ‰‹åŠ¨ç»´æŠ¤é¡¹ç›®çš„å˜æ›´æ—¥å¿—ï¼ˆ<code>changelog</code>ï¼‰ã€‚</p>
<p>ä¸‹é¢æ˜¯é¡¹ç›® <a href="https://github.com/curveball/a12n-server/" target="_blank" rel="noreferrer">a12n-server</a> çš„å˜æ›´æ—¥å¿—ç¤ºä¾‹ï¼š</p>
<div class="language-md"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre><!--::markdown-it-async::5nei3m9v6utnfox3xpbpff::--><code>0.22.0 (2022-09-27)
-------------------

Warning note for upgraders. This release has a database migration on the
`oauth2_tokens` table. For most users this is the largest table, some
downtime may be expected while the server runs its migrations.

* #425: Using a `client_secret` is now supported with `authorization_code`,
  and it&#039;s read from either the request body or HTTP Basic Authorization
  header.
* The service now keeps track when issuing access tokens, whether those tokens
  have used a `client_secret` or not, which `grant_type` was used to issue them
  and what scopes were requested. This work is done to better support OAuth2
  scopes in the future, and eventually OpenID Connect.
* Fixed broken &#039;principal uri&#039; in introspection endpoint response.
* OAuth2 service is almost entirely rewritten.
* The number of tokens issued is now displayed on the home page.
* Large numbers are now abbreviated with `K` and `M`.
* #426: Updated to Curveball 0.20.
* #427: Typescript types for the database schema are now auto-generated with
  `mysql-types-generator`.</code></pre>
</div><p>å†…å®¹ä½¿ç”¨<code>markdown</code>ç¼–å†™çš„ã€‚ä½ å¯èƒ½ä¼šæƒ³ï¼šGitä¸æ˜¯æœ‰ <code>commit</code> æ—¥å¿—å—ï¼Ÿä¸ºä»€ä¹ˆè¦è´¹åŠ›æ‰‹å†™è¿™ä¸ªå‘¢ï¼Ÿ</p>
<p>åŸå› æ˜¯å®ƒä»¬çš„å—ä¼—ä¸ä¸€æ ·ã€‚æˆ‘å¸Œæœ›è®©ç”¨æˆ·å…³æ³¨åˆ°ç›¸å¯¹é‡è¦çš„å˜æ›´äº‹é¡¹ï¼Œå¹¶åŒæ—¶æ³¨æ„åˆ°å˜åŒ–å¯¹ç”¨æˆ·å¸¦æ¥çš„å½±å“ã€‚</p>
<p>æˆ‘è§‰å¾—å†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·æ¥åšè¿™äº›äº‹ä¼šæ›´æ–¹ä¾¿ï¼Œç»´æŠ¤å¤šä¸ªé¡¹ç›®ï¼ˆå¦‚æ­¤å¤šçš„å˜æ›´ï¼‰ä¹Ÿæ›´å®¹æ˜“ä¸€äº›ã€‚æ‰€ä»¥ï¼Œ<a href="https://github.com/evert/changelog-tool" target="_blank" rel="noreferrer">æˆ‘å°±åšäº† changelog-tool</a>ï¼å¦‚æœä½ æƒ³çŸ¥é“è¿™èƒŒåæ¶‰åŠäº†å“ªäº›æŠ€æœ¯é€‰æ‹©ï¼Œè¯·æ¥ç€å¾€ä¸‹é˜…è¯»ã€‚</p>
<h2 id="ç›®æ ‡-ç‰¹è‰²" tabindex="-1">ç›®æ ‡&amp;ç‰¹è‰² <a class="header-anchor" href="#ç›®æ ‡-ç‰¹è‰²" aria-label="Permalink to â€œç›®æ ‡&amp;ç‰¹è‰²â€">&#8203;</a></h2>
<p>å·¥å…·å·²æ”¯æŒçš„åŠŸèƒ½ï¼š</p>
<ul>
<li>é‡æ–°æ ¼å¼åŒ–æ—¥å¿—ï¼ˆæœ‰ç‚¹åƒç¾åŒ–ï¼‰ï¼ˆ <code>changelog format</code> ï¼‰;</li>
<li>é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ ä¸€è¡Œæ—¥å¿—ï¼ˆ <code>changelog add --minor -m &quot;New feature&quot;</code> ï¼‰;</li>
<li>è‡ªåŠ¨è®¾ç½®å‘å¸ƒæ—¥æœŸï¼ˆ <code>changelog release</code> ï¼‰;</li>
<li>å°†ç‰¹å®šç‰ˆæœ¬çš„æ—¥å¿—å¯¼å…¥æ ‡å‡†è¾“å‡ºï¼Œä»¥ä¾¿å…¶ä»–å·¥å…·å¯ä»¥ä½¿ç”¨ï¼ˆä¾‹å¦‚ä¸GitHubå‘å¸ƒé›†æˆï¼‰ã€‚</li>
</ul>
<p>æˆ‘è¿˜æœ‰ä¸€äº›éåŠŸèƒ½æ€§çš„éœ€æ±‚ï¼š</p>
<ul>
<li>ä½¿ç”¨æœ€æ–°çš„ <code>Node.js</code> ç‰¹æ€§;</li>
<li>ä½¿ç”¨æœ€æ–°çš„ <code>JavaScript</code> æ ‡å‡†å’Œç‰¹æ€§ï¼ˆESMï¼‰;</li>
<li>é¿å…éå¿…è¦çš„å¤–éƒ¨ä¾èµ–ï¼›</li>
<li>ä½ç»´æŠ¤æˆæœ¬ã€‚</li>
</ul>
<p>æƒ³ç«‹å³æ‰¾åˆ°è¿™ä¸ªå·¥å…·å—ï¼Ÿå®ƒæ˜¯å¼€æºçš„ï¼Œä½ åªéœ€è®¿é—® <a href="https://github.com/evert/changelog-tool" target="_blank" rel="noreferrer">Github</a>ã€‚</p>
<h2 id="åŸç†è§£æ" tabindex="-1">åŸç†è§£æ <a class="header-anchor" href="#åŸç†è§£æ" aria-label="Permalink to â€œåŸç†è§£æâ€">&#8203;</a></h2>
<h3 id="esm-typescript-esm" tabindex="-1">ESM &amp; Typescript ESM <a class="header-anchor" href="#esm-typescript-esm" aria-label="Permalink to â€œESM &amp; Typescript ESMâ€">&#8203;</a></h3>
<p><code>ESM</code> æ¨¡å—ç°åœ¨ä½¿ç”¨èµ·æ¥å·²ç»éå¸¸ä¸æ»‘äº†ã€‚è¿™æ˜¯ä¹ æƒ¯ä¸Šçš„ä¸€ä¸ªå°æ”¹å˜ï¼Œä½†æˆ‘ä¸€èˆ¬å»ºè®®æ˜¯å°†æ–‡ä»¶ä¿å­˜ä¸º <code>.mjs</code> æ¥ä½¿ç”¨ <code>ESM</code>ã€‚</p>
<p>ä¸‹é¢æ˜¯ <code>parse.mjs</code> çš„å‰å‡ è¡Œä»£ç ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::tnjebnuirmg0c1hw6ckv92c::--><code>import { readFile } from &#039;node:fs/promises&#039;
import { Changelog, VersionLog } from &#039;./changelog.mjs&#039;

/**
 * @param {string} filename
 * @returns {Promise&lt;Changelog&gt;}
 */
export async function parseFile(filename) {
  return parse(
    await readFile(filename, &#039;utf-8&#039;)
  )
}</code></pre>
</div><p>CommonJS -&gt; ESM çš„è¿‡æ¸¡å¹¶éæ²¡æœ‰ç—›è‹¦ï¼Œä½†å¯¹äºåƒè¿™æ ·çš„æ–°é¡¹ç›®æ¥è¯´ï¼Œå®ƒæ˜¯éå¸¸ç†æƒ³çš„é€‰æ‹©ã€‚ï¼ˆé¡¶å±‚ <code>await</code> ğŸ‰ï¼‰</p>
<p>æˆ‘è¿˜é€‰æ‹©ä¸ä½¿ç”¨ <code>Typescript</code> ç¼–å†™ä»£ç ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä½¿ç”¨ <code>JSDoc</code> æ³¨é‡Šï¼ˆä¸Šé¢æ˜¯ <code>@param</code> å’Œ <code>@returns</code> æ³¨é‡Šï¼‰ã€‚</p>
<p>å½“ç„¶ä¸æ˜¯æ¯ä¸ªäººéƒ½çŸ¥é“ä¸å†™ <code>.ts</code> æ–‡ä»¶ä¹Ÿå¯è·å¾—å’Œ <code>Typescript</code> ä¸€æ ·çš„ä½“éªŒã€‚ Typescript ä¹Ÿå¯ä»¥ä¸¥æ ¼åœ°æ£€æŸ¥ <code>Javascript</code> æ–‡ä»¶ã€‚</p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯é¡¹ç›®ä¸éœ€è¦æ„å»ºæ­¥éª¤äº†ã€‚ç”šè‡³åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸éœ€è¦ç”¨åˆ° <code>Typescript</code>ï¼Œé™ä½äº†ä¸Šæ‰‹é—¨æ§›ã€‚</p>
<p>è¿™æ˜¯æˆ‘çš„ç®€åŒ–åçš„ <code>tsconfig.json</code> é…ç½®æ–‡ä»¶ï¼š</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::50bodi8r2cp00xfzfqhjfef::--><code>{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;es2022&quot;,
    &quot;module&quot;: &quot;esnext&quot;,
    &quot;rootDir&quot;: &quot;./&quot;,
    &quot;allowJs&quot;: true,
    &quot;checkJs&quot;: true,

    &quot;moduleResolution&quot;: &quot;node&quot;,

    &quot;noEmit&quot;: true,
    &quot;strict&quot;: true,
    &quot;useUnknownInCatchVariables&quot;: false

  }
}</code></pre>
</div><p>å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šä¿¡æ¯ï¼Œ<code>Typescript</code> æ–‡æ¡£æœ‰ä¸€ä¸ªé¡µé¢è¯¦ç»†ä»‹ç»äº†<a href="https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html" target="_blank" rel="noreferrer">æ”¯æŒçš„ JSDoc æ³¨é‡Š</a>ã€‚</p>
<h3 id="å‘½ä»¤è¡Œå‚æ•°è§£æ" tabindex="-1">å‘½ä»¤è¡Œå‚æ•°è§£æ <a class="header-anchor" href="#å‘½ä»¤è¡Œå‚æ•°è§£æ" aria-label="Permalink to â€œå‘½ä»¤è¡Œå‚æ•°è§£æâ€">&#8203;</a></h3>
<p>CLI å·¥å…·éœ€è¦æ”¯æŒè§£æå‘½ä»¤è¡Œé€‰é¡¹å‚æ•°(option)ã€‚ä» Node 18.3ï¼ˆå‘åç§»æ¤åˆ°äº† Node 16.17ï¼‰å¼€å§‹ï¼ŒNode å†…ç½®äº†ä¸€ä¸ªå‚æ•°è§£æçš„æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢æ˜¯ä»£ç ç¤ºä¾‹ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::61djr34lshni0odx97lzk::--><code>import { parseArgs } from &#039;node:util&#039;

const { positionals, values } = parseArgs({
  options: {
    help: {
      type: &#039;boolean&#039;,
      short: &#039;h&#039;,
      default: false,
    },
    all: {
      type: &#039;boolean&#039;,
      default: false,
    },
    message: {
      type: &#039;string&#039;,
      short: &#039;m&#039;
    },
    patch: { type: &#039;boolean&#039; },
    minor: { type: &#039;boolean&#039; },
    major: { type: &#039;boolean&#039; },
  },
  allowPositionals: true,
})</code></pre>
</div><p>è¿™æ®µé…ç½®ä»£ç æ·»åŠ äº†è¯¸å¦‚ <code>--major</code> è¿™äº›å‚æ•°çš„è§£ææ”¯æŒï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ <code>--message &quot;hello!&quot;</code> æŒ‡å®šæ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>-m &quot;Hi&quot;</code> ç®€å†™çš„æ–¹å¼æ›¿ä»£ã€‚</p>
<p>å®ƒèƒ½å®Œæˆæ‰€æœ‰å·¥ä½œå—ï¼Ÿä¸ï¼åœ¨ä¸€äº›å¤æ‚çš„å·¥å…·ä¸­ï¼Œè¿˜ä¼šç”¨åˆ°å½©è‰²æ‰“å°ï¼Œè‡ªåŠ¨åˆ›å»ºå¸®åŠ©ä¿¡æ¯ç­‰ï¼Œä½†è¿™æ ·å°±éœ€è¦å¼•å…¥è®¸å¤šé¢å¤–çš„ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚</p>
<p>å°±æˆ‘è€Œè¨€ï¼Œå·²ç»å¤Ÿç”¨äº†ã€‚</p>
<p>å¯ä»¥æŸ¥çœ‹ <a href="https://nodejs.org/api/util.html#utilparseargsconfig" target="_blank" rel="noreferrer">Node.js å¯¹åº”æ–‡æ¡£</a>äº†è§£æ›´è¯¦ç»†çš„å†…å®¹ã€‚</p>
<h3 id="æµ‹è¯•" tabindex="-1">æµ‹è¯• <a class="header-anchor" href="#æµ‹è¯•" aria-label="Permalink to â€œæµ‹è¯•â€">&#8203;</a></h3>
<p>å¤§å¤šæ•°äººå¯èƒ½ä¼šä½¿ç”¨ <code>Jest</code> æˆ– <code>Mocha</code> ä½œä¸ºæµ‹è¯•æ¡†æ¶ï¼Œä½†ä» Node 18ï¼ˆä¹Ÿå‘åç§»æ¤åˆ° 16ï¼‰å¼€å§‹ï¼ŒNode å†…ç½®äº†è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„èƒ½åŠ›ã€‚</p>
<p>å®ƒçš„APIç±»ä¼¼äº <code>Mocha</code> å’Œ <code>Jest</code> ï¼ŒåŒ…å« <code>it</code> ã€ <code>test</code> ã€ <code>describe</code> ã€ <code>before</code> ç­‰å…³é”®å­—ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå•ä¾§çš„ç¤ºä¾‹ï¼š</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::getoljzcf6apjo8ypaqax8::--><code>// @ts-check
import * as assert from &#039;node:assert&#039;
import { test } from &#039;node:test&#039;
import { parse } from &#039;../parse.mjs&#039;

test(&#039;Parsing changelog metadata&#039;, async () =&gt; {
  const input = `Time for a change
=========

0.2.0 (????-??-??)
------------------

* Implemented the &#039;list&#039; command.
* Added testing framework.

0.1.0 (2023-02-08)
------------------

* Implemented the &#039;help&#039; and &#039;init&#039; commands.
*
`

  const result = await parse(input)

  assert.equal(&#039;Time for a change&#039;, result.title)
  assert.equal(2, result.versions.length)

  assert.equal(null, result.versions[0].date)
  assert.equal(&#039;0.2.0&#039;, result.versions[0].version)
  assert.equal(&#039;2023-02-08&#039;, result.versions[1].date)
  assert.equal(&#039;0.1.0&#039;, result.versions[1].version)
})</code></pre>
</div><p>è¦æ‰§è¡Œæµ‹è¯•ï¼Œåªéœ€è¿è¡Œ <code>node --test</code> æŒ‡ä»¤å³å¯ã€‚æ— éœ€é¢å¤–é…ç½®ï¼Œå®ƒå°†è‡ªåŠ¨æ‰«æéµå¾ªè§„èŒƒçš„ç›®å½•å’Œå•æµ‹æ–‡ä»¶ã€‚</p>
<p>Node 18 æµ‹è¯•è¾“å‡ºæœ‰ç‚¹ç®€é™‹ï¼Œå®ƒæ˜¯ <code>TAP</code> æ ¼å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::1zauzh4x5obrgm5dqf4swr::--><code>TAP version 13
# Subtest: /home/evert/src/changelog-tool/test/parse.mjs
    # Subtest: Parsing changelog metadata
    ok 1 - Parsing changelog metadata
      ---
      duration_ms: 1.713409
      ...
    # Subtest: Parsing changelog entries
    ok 2 - Parsing changelog entries
      ---
      duration_ms: 0.2595
      ...
    # Subtest: Preface and postface
    ok 3 - Preface and postface
      ---
      duration_ms: 0.193591
      ...
    1..3
ok 1 - /home/evert/src/changelog-tool/test/parse.mjs
  ---
  duration_ms: 70.901055
  ...
1..1
# tests 1
# pass 1
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 81.481441</code></pre>
</div><p>å¦ç™½è¯´ï¼Œç”¨äº†è¿™ä¸ªä¹‹åæˆ‘ä¸ç¡®å®šæ˜¯å¦è¿˜ä¼šç»§ç»­å†ä½¿ç”¨ <code>Mocha</code>ã€‚æ¯•ç«Ÿæˆ‘å·²ç»ç”¨äº†åå¤šå¹´äº†ï¼Œè¿˜æ˜¯æœ‰è®¸å¤šä¸é”™çš„åŠŸèƒ½ï¼Œæˆ‘è®¤ä¸ºé™¤äº† Node å·²ç»æ”¯æŒçš„å¤– <code>Mocha</code> é‡Œè¿˜æœ‰ä¸€äº›æˆ‘éœ€è¦çš„åŠŸèƒ½ã€‚</p>
<p>ä¸€äº›é“¾æ¥:</p>
<ul>
<li><a href="https://nodejs.org/api/test.html" target="_blank" rel="noreferrer">node:test package</a>;</li>
<li><a href="https://nodejs.org/api/assert.html" target="_blank" rel="noreferrer">node:assert package</a>;</li>
<li><a href="https://nodejs.org/api/test.html#mocking" target="_blank" rel="noreferrer">Mocking in node</a>.</li>
</ul>
<h3 id="å¸¦æ³¨é‡Šçš„-package-json" tabindex="-1">å¸¦æ³¨é‡Šçš„ package.json <a class="header-anchor" href="#å¸¦æ³¨é‡Šçš„-package-json" aria-label="Permalink to â€œå¸¦æ³¨é‡Šçš„ package.jsonâ€">&#8203;</a></h3>
<p>æˆ‘æƒ³ä»¥æˆ‘é…ç½®çš„ <code>package.json</code> æ¥ç»“æŸè¿™ç¯‡æ–‡ç« ï¼Œè¿™æ ·ä½ å°±å¯ä»¥çœ‹åˆ°å‰é¢å†…å®¹æ˜¯å¦‚ä½•è”ç³»åˆ°ä¸€èµ·çš„ã€‚ï¼ˆå¦‚æœ npm æ”¯æŒ JSON5ï¼Œâ€‹â€‹è¿™æ ·æˆ‘å°±å¯ä»¥å°†æˆ‘çš„æ³¨é‡Šä¿ç•™åœ¨åŒ…ä¸­ ğŸ˜­ï¼‰ã€‚</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::8618larbhzrzztec4y74c::--><code>{
  // åŒ…çš„åç§°
  &quot;name&quot;: &quot;changelog-tool&quot;,

  // åŒ…çš„ç‰ˆæœ¬å·
  &quot;version&quot;: &quot;0.5.0&quot;,

  // è¿™å°†æ˜¾ç¤ºåœ¨NPMæœç´¢ç»“æœä¸­
  &quot;description&quot;: &quot;A CLI tool for manipulating changelogs&quot;,

  // è¿™å‘Šè¯‰Nodeè¿™æ˜¯ä¸€ä¸ªESMåŒ…
  // å½“ç„¶ä¸æ˜¯ä¸¥æ ¼éœ€è¦çš„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ¯ä¸ªåœ°æ–¹éƒ½æ˜¯ä½¿ç”¨ .mjs
  &quot;type&quot;: &quot;module&quot;,

  // å¦‚æœéœ€è¦åœ¨ç¼–ç çš„æ—¶å€™ä½¿ç”¨æ­¤åŒ…ä¸­çš„æ–¹æ³•ï¼ˆä¸æ˜¯ CLI ä¸­ï¼‰ï¼Œåˆ™éœ€è¦åœ¨è¿™é‡ŒæŒ‡å®šå¯¼å‡ºçš„æ¨¡å—å…¥å£æ–‡ä»¶
  &quot;main&quot;: &quot;index.mjs&quot;,

  &quot;scripts&quot;: {
    // è¿è¡Œæµ‹è¯•ç”¨ä¾‹
    &quot;test&quot;: &quot;node --test&quot;,

    // æˆ‘å–œæ¬¢è®© Typescript åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä»¥ä¾¿æœ‰ä»»ä½•é—®é¢˜å³æ—¶çš„è­¦å‘Šæˆ‘
    &quot;watch&quot;: &quot;tsc --watch&quot;
  },

  // æ–¹ä¾¿æ›´å¥½çš„åœ¨ npmjs.org ä¸Šå‘ç°æ­¤åŒ…
  &quot;keywords&quot;: [
    &quot;changelog&quot;,
    &quot;markdown&quot;
  ],

  // ä½œè€…ä¿¡æ¯
  &quot;author&quot;: &quot;Evert Pot (https://evertpot.com/)&quot;,

  // åšä»»ä½•ä½ æƒ³åšçš„äº‹ï¼ˆMITåè®®åŸºæœ¬æ²¡æœ‰çº¦æŸï¼‰
  &quot;license&quot;: &quot;MIT&quot;,

  &quot;engine&quot;: {
    // è­¦å‘Šå°šæœªå‡çº§çš„ç”¨æˆ·
    &quot;node&quot;: &quot;&gt;16&quot;
  },

  &quot;bin&quot;: {
    // å½“äººä»¬å®‰è£…è¿™ä¸ªåŒ…æ—¶ï¼Œå¯ä»¥é€šè¿‡ `npx changelog` æ‰§è¡Œã€‚
    // å¦‚æœå…¨å±€å®‰è£…äº†è¿™ä¸ªåŒ…ï¼Œå°±ä¼šæœ‰ä¸€ä¸ª `changelog` å‘½ä»¤
    &quot;changelog&quot;: &quot;./cli.mjs&quot;
  },
  &quot;devDependencies&quot;: {
    // å”¯ä¸€çš„ 2 ä¸ªä¾èµ–é¡¹ã€‚å¦‚æœä½ æƒ³ï¼Ÿç”šè‡³ä¸éœ€è¦è¿™äº›åŒ…
    &quot;@types/node&quot;: &quot;^18.11.19&quot;,
    &quot;typescript&quot;: &quot;^4.9.5&quot;
  }
}</code></pre>
</div><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>æˆ‘å–œæ¬¢åˆ›é€ æ–°äº‹ç‰©å¹¶æ·±æ€ç†Ÿè™‘åœ°åšå‡ºæ¯ä¸€ä¸ªå†³å®šã€‚</p>
<p>ç»“æœæ˜¯æˆ‘æ›´æœ‰å¯èƒ½æœ€ç»ˆå¾—åˆ°ä¸€äº›ç®€çº¦ã€ç»´æŠ¤æˆæœ¬ä½çš„ä¸œè¥¿ï¼Œå¹¶ä¸”è®©æˆ‘å¯¹æ‰€ä½¿ç”¨çš„å·¥å…·æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚</p>
<p>æœªæ¥æˆ‘å¯èƒ½ä¼šå†æ¬¡åšå‡ºè¿™äº›é€‰æ‹©ã€‚Node çš„æµ‹è¯•å·¥å…·å¿«é€Ÿåˆç®€å•ï¼ŒESM ä¹Ÿéå¸¸Niceï¼Œè¿˜ä¸éœ€è¦å¼•å…¥æ„å»ºï¼Œå¯¹äºæˆ‘è¿™ç§è§„æ¨¡çš„é¡¹ç›®æ¥è¯´ï¼Œæ„Ÿè§‰éå¸¸åˆé€‚ã€‚</p>
<p><strong>æˆ‘å¸Œæœ›è¿™èƒ½é¼“åŠ±å°†æ¥çš„äººä»ç©ºç›®å½•æ¥å¼€å§‹ä»–ä»¬çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ï¼Œè€Œä¸æ˜¯å¤åˆ¶å¤§å‹é¡¹ç›®æ¨¡æ¿ã€‚</strong></p>
<p><a href="https://github.com/evert/changelog-tool" target="_blank" rel="noreferrer">Github ä¸Šçš„ changelog-tool é¡¹ç›®</a>ã€‚</p>
<p><em>æœ€åä¸€å¥è¯ç¡®å®æŒºå€¼å¾—æ€è€ƒçš„ï¼Œç°åœ¨å¥½åƒæ— è®ºåšä»€ä¹ˆé¡¹ç›®ï¼Œéƒ½æƒ³å…ˆæ‰¾ä¸ªæ¨¡æ¿ç„¶åæ‰å¼€å§‹ğŸ¤”</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ­£åˆ™è¡¨è¾¾å¼]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/regexp/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/regexp/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[# æ­£åˆ™è¡¨è¾¾å¼

è®°å½•ä¸šåŠ¡å¼€å‘ä¸­æ‰€é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£æ³•
## å¸¸ç”¨å…³é”®å­—
|     ç¬¦å·     |            ä½œç”¨             |   ç”¨æ³•ç¤ºä¾‹    |           è§£é‡Š           |
| :]]></description>
            <content:encoded><![CDATA[<h1 id="æ­£åˆ™è¡¨è¾¾å¼" tabindex="-1">æ­£åˆ™è¡¨è¾¾å¼ <a class="header-anchor" href="#æ­£åˆ™è¡¨è¾¾å¼" aria-label="Permalink to â€œæ­£åˆ™è¡¨è¾¾å¼â€">&#8203;</a></h1>
<p>è®°å½•ä¸šåŠ¡å¼€å‘ä¸­æ‰€é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£æ³•</p>
<h2 id="å¸¸ç”¨å…³é”®å­—" tabindex="-1">å¸¸ç”¨å…³é”®å­— <a class="header-anchor" href="#å¸¸ç”¨å…³é”®å­—" aria-label="Permalink to â€œå¸¸ç”¨å…³é”®å­—â€">&#8203;</a></h2>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">ç¬¦å·</th>
<th style="text-align:center">ä½œç”¨</th>
<th style="text-align:center">ç”¨æ³•ç¤ºä¾‹</th>
<th style="text-align:center">è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">|</td>
<td style="text-align:center">æˆ–è€…(OR)</td>
<td style="text-align:center">/yes|no/</td>
<td style="text-align:center">åŒ¹é…yesæˆ–è€…no</td>
</tr>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:center">å¿½ç•¥å­—æ¯å¤§å°å†™</td>
<td style="text-align:center">/h/i</td>
<td style="text-align:center">åŒ¹é…hæˆ–è€…H</td>
</tr>
<tr>
<td style="text-align:center">g</td>
<td style="text-align:center">æŸ¥è¯¢æ•´ä¸ªå­—ç¬¦ä¸²</td>
<td style="text-align:center">/ab/gi</td>
<td style="text-align:center">åŒ¹é…æ‰€æœ‰çš„abä¸åŒºåˆ†å¤§å°å†™</td>
</tr>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">åŒ¹é…ä»»æ„å­—ç¬¦</td>
<td style="text-align:center">/.un/</td>
<td style="text-align:center">åŒ¹é…run,gun,funç­‰</td>
</tr>
<tr>
<td style="text-align:center">[]</td>
<td style="text-align:center">åŒ¹é…ä¸­æ‹¬å·ä¸­çš„ä¸€ä¸ªå­—ç¬¦</td>
<td style="text-align:center">/a[sdf]b/</td>
<td style="text-align:center">åŒ¹é…asb,adb,afb</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">[]ä¸­é™å®šä¸€ä¸ªèŒƒå›´</td>
<td style="text-align:center">/[a-z]/</td>
<td style="text-align:center">åŒ¹é…ä»»æ„å°å†™å­—æ¯</td>
</tr>
<tr>
<td style="text-align:center">[^]</td>
<td style="text-align:center">ä¸åŒ¹é…æŒ‡å®šçš„å†…å®¹</td>
<td style="text-align:center">/[^0-9]ab/</td>
<td style="text-align:center">ä¸åŒ…æ‹¬æ•°å­—æ¯å¼€å¤´çš„*ab</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">åŒ¹é…1ä¸ªæˆ–å¤šä¸ª</td>
<td style="text-align:center">/a+/</td>
<td style="text-align:center">åŒ¹é…a,aa,aaaç­‰</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">åŒ¹é…0ä¸ªæˆ–å¤šä¸ª</td>
<td style="text-align:center">/ab*/</td>
<td style="text-align:center">åŒ¹é…a,ab,abbbç­‰</td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:center">åŒ¹é…0ä¸ªæˆ–1ä¸ª</td>
<td style="text-align:center">/ab?/</td>
<td style="text-align:center">åŒ¹é…a,ab</td>
</tr>
<tr>
<td style="text-align:center">.*?</td>
<td style="text-align:center">æƒ°æ€§åŒ¹é…(éè´ªå©ª)</td>
<td style="text-align:center">/&lt;.*?&gt;/</td>
<td style="text-align:center">åŒ¹é…&lt;xxx&gt;æˆ–è€…&lt;/xxx&gt;ç­‰</td>
</tr>
<tr>
<td style="text-align:center">.*</td>
<td style="text-align:center">åŒ¹é…(è´ªå©ª)</td>
<td style="text-align:center">/&lt;.*&gt;/</td>
<td style="text-align:center">åŒ¹é…&lt;xx&gt;absada&lt;/xx&gt;</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">åŒ¹é…å¼€å¤´</td>
<td style="text-align:center">/^ab/</td>
<td style="text-align:center">åŒ¹é…å¼€å¤´æ˜¯abçš„å­—ç¬¦ä¸²:abc</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td style="text-align:center">åŒ¹é…ç»“å°¾</td>
<td style="text-align:center">/ab$/</td>
<td style="text-align:center">åŒ¹é…ç»“å°¾æ˜¯abçš„å­—ç¬¦ä¸²:dab</td>
</tr>
<tr>
<td style="text-align:center">\w</td>
<td style="text-align:center">ç­‰ä»·äº[a-zA-Z0-9_]</td>
<td style="text-align:center">/\w/</td>
<td style="text-align:center">åŒ¹é…æ•°å­—,å­—æ¯,ä¸‹åˆ’çº¿</td>
</tr>
<tr>
<td style="text-align:center">\W</td>
<td style="text-align:center">ç­‰ä»·äº[^a-zA-Z0-9_]</td>
<td style="text-align:center">/\W/</td>
<td style="text-align:center">åŒ¹é…éæ•°å­—,å­—æ¯,ä¸‹åˆ’çº¿</td>
</tr>
<tr>
<td style="text-align:center">\d</td>
<td style="text-align:center">ç­‰ä»·äº[0-9]</td>
<td style="text-align:center">/\d/</td>
<td style="text-align:center">åŒ¹é…æ•°å­—</td>
</tr>
<tr>
<td style="text-align:center">\D</td>
<td style="text-align:center">ç­‰ä»·äº[^0-9]</td>
<td style="text-align:center">/\D/</td>
<td style="text-align:center">åŒ¹é…éæ•°å­—</td>
</tr>
<tr>
<td style="text-align:center">\s</td>
<td style="text-align:center">ç­‰ä»·äº[ \r\t\f\n\v]</td>
<td style="text-align:center">/\s/</td>
<td style="text-align:center">åŒ¹é…ç©ºæ ¼,æ¢è¡Œ,tabç­‰</td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td style="text-align:center">ç­‰ä»·äº[^ \r\t\f\n\v]</td>
<td style="text-align:center">/\S/</td>
<td style="text-align:center">åŒ¹é…éç©ºæ ¼,æ¢è¡Œ,tabç­‰</td>
</tr>
<tr>
<td style="text-align:center">{x,y}</td>
<td style="text-align:center">é™å®šä¸ªæ•°</td>
<td style="text-align:center">/a{1,2}/</td>
<td style="text-align:center">åŒ¹é…1-2ä¸ªa</td>
</tr>
<tr>
<td style="text-align:center">{x,}</td>
<td style="text-align:center">é™å®šä¸ªæ•°</td>
<td style="text-align:center">/a{1,}/</td>
<td style="text-align:center">åŒ¹é…1-nä¸ªa</td>
</tr>
<tr>
<td style="text-align:center">{x}</td>
<td style="text-align:center">é™å®šä¸ªæ•°</td>
<td style="text-align:center">/a{1}/</td>
<td style="text-align:center">åŒ¹é…1ä¸ªa</td>
</tr>
<tr>
<td style="text-align:center">(?:pattern)</td>
<td style="text-align:center">åŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœ</td>
<td style="text-align:center">/a(?:b|c)/</td>
<td style="text-align:center">ç­‰ä»·äºab|ac</td>
</tr>
<tr>
<td style="text-align:center">(?=pattern)</td>
<td style="text-align:center">æ­£å‘è‚¯å®šé¢„æŸ¥</td>
<td style="text-align:center">/a(?=b|c)/</td>
<td style="text-align:center">åŒ¹é…ab,acä¸­çš„a</td>
</tr>
<tr>
<td style="text-align:center">(?!pattern)</td>
<td style="text-align:center">æ­£å‘å¦å®šé¢„æŸ¥</td>
<td style="text-align:center">/a(!=b|c)/</td>
<td style="text-align:center">åŒ¹é…adä¸­çš„a</td>
</tr>
<tr>
<td style="text-align:center">(?&lt;=pattern)</td>
<td style="text-align:center">æ­£å‘è‚¯å®šé¢„æŸ¥</td>
<td style="text-align:center">/(?&lt;=a|b&gt;)c/</td>
<td style="text-align:center">åŒ¹é…ac,bcä¸­çš„c</td>
</tr>
<tr>
<td style="text-align:center">(?&lt;!pattern)</td>
<td style="text-align:center">åå‘å¦å®šé¢„æŸ¥</td>
<td style="text-align:center">/(?&lt;!a|b&gt;)c/</td>
<td style="text-align:center">åŒ¹é…cc,dcä¸­çš„c</td>
</tr>
</tbody>
</table>
<p><strong>ç»¼åˆç¤ºä¾‹1</strong></p>
<ul>
<li>ç”¨æˆ·åç”±æ•°å­—å’Œå­—æ¯ç»„æˆ</li>
<li>ä¸èƒ½ä»¥æ•°å­—å¼€å¤´,ä½†å¯ä»¥ä»¥æ•°å­—ç»“å°¾</li>
<li>å­—æ¯å¯ä»¥å¤§å†™ä¹Ÿå¯ä»¥å°å†™</li>
<li>ç”¨æˆ·åå¿…é¡»è‡³å°‘ä¸¤ä¸ªå­—ç¬¦é•¿,ä¸¤ä¸ªå­—ç¬¦çš„ç”¨æˆ·ååªèƒ½ä½¿ç”¨å­—æ¯ä½œä¸ºå­—ç¬¦</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::inz13crdwagssqd5x88m::--><code>/^[a-zA-Z]([a-zA-Z]+|\d{2,})\d*$/</code></pre>
</div><h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./p1.html">æå–æ ·å¼è¡¨ä¸­url()ä¸­çš„å†…å®¹</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[VueçŸ¥è¯†ç‚¹è®°å½•]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/vue/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/vue/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[:::tip å‚è€ƒ
æ˜é‡‘å°å†Œ:å‰–æ Vue.js å†…éƒ¨è¿è¡Œæœºåˆ¶
:::
 ç›®å½•
* ç»„ä»¶é€šä¿¡
* ç¼–è¯‘templateçš„è¿‡ç¨‹
* computed ä¸ watch
* å“åº”å¼ç³»ç»Ÿçš„ä¾èµ–æ”¶é›†è¿½è¸ªåŸç†
*]]></description>
            <content:encoded><![CDATA[<h1 id="vueçŸ¥è¯†ç‚¹è®°å½•" tabindex="-1">VueçŸ¥è¯†ç‚¹è®°å½• <a class="header-anchor" href="#vueçŸ¥è¯†ç‚¹è®°å½•" aria-label="Permalink to â€œVueçŸ¥è¯†ç‚¹è®°å½•â€">&#8203;</a></h1>
<div  class="tip custom-block"><p class="custom-block-title">å‚è€ƒ</p>
<p><a href="https://juejin.im/book/5a36661851882538e2259c0f" target="_blank" rel="noreferrer">æ˜é‡‘å°å†Œ:å‰–æ Vue.js å†…éƒ¨è¿è¡Œæœºåˆ¶</a></p>
</div>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./communicate.html">ç»„ä»¶é€šä¿¡</a></li>
<li><a href="./compile.html">ç¼–è¯‘templateçš„è¿‡ç¨‹</a></li>
<li><a href="./computed.html">computed ä¸ watch</a></li>
<li><a href="./dep.html">å“åº”å¼ç³»ç»Ÿçš„ä¾èµ–æ”¶é›†è¿½è¸ªåŸç†</a></li>
<li><a href="./diff.html">æ•°æ®çŠ¶æ€æ›´æ–°æ—¶çš„å·®å¼‚ diff åŠ patch æœºåˆ¶</a></li>
<li><a href="./extend.html">extend API</a></li>
<li><a href="./hook.html">ç”Ÿå‘½å‘¨æœŸé’©å­</a></li>
<li><a href="./keep-alive.html">keep-alive</a></li>
<li><a href="./mechanism.html">è¿è¡Œæœºåˆ¶æ¦‚è¿°</a></li>
<li><a href="./mixin.html">mixin ä¸ mixins</a></li>
<li><a href="./responsive.html">å“åº”å¼çš„åŸºæœ¬åŸç†</a></li>
<li><a href="./routing.html">è·¯ç”±åŸç†</a></li>
<li><a href="./showif.html">v-show ä¸ v-if</a></li>
<li><a href="./vnode.html">å®ç° VNode èŠ‚ç‚¹</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Vueæºç å­¦ä¹ ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/vueResource/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/vueResource/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•Vueæºç å­¦ä¹ å†ç¨‹,ç›®æ ‡æ˜¯æ‰‹å†™ä¸€ä»½æºç åŠ ä¸Šæ³¨é‡Š:smile:
:::å‚è€ƒ
Github:ustbhuangyi
::
 ç›®å½•]]></description>
            <content:encoded><![CDATA[<h1 id="vueæºç å­¦ä¹ " tabindex="-1">Vueæºç å­¦ä¹  <a class="header-anchor" href="#vueæºç å­¦ä¹ " aria-label="Permalink to â€œVueæºç å­¦ä¹ â€">&#8203;</a></h1>
<p>è®°å½•Vueæºç å­¦ä¹ å†ç¨‹,ç›®æ ‡æ˜¯æ‰‹å†™ä¸€ä»½æºç åŠ ä¸Šæ³¨é‡ŠğŸ˜„
:::å‚è€ƒ
<a href="https://github.com/ustbhuangyi/vue-analysis" target="_blank" rel="noreferrer">Github:ustbhuangyi</a>
::</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç®—æ³•ä¸æ•°æ®ç»“æ„]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/algorithm/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/algorithm/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[æ•´ç†é¢è¯•æ‰€é‡åˆ°çš„ç›¸å…³ç®—æ³•é¢˜
 ç›®å½•
* å¤§æ•°ç›¸åŠ &æ•°å­—å­—ç¬¦ä¸²ç›¸åŠ 
* æ–æ³¢æ‹‰å¥‘æ•°åˆ—I
* æ–æ³¢æ‹‰å¥‘æ•°åˆ—II
* å †æ’åº
* åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹ç§°äºŒå‰æ ‘
* å•é“¾è¡¨è½¬ç½®
* å½’å¹¶æ’åº
* æœ€é•¿å…¬å…±å­åºåˆ—é•¿]]></description>
            <content:encoded><![CDATA[<h1 id="ç®—æ³•ä¸æ•°æ®ç»“æ„" tabindex="-1">ç®—æ³•ä¸æ•°æ®ç»“æ„ <a class="header-anchor" href="#ç®—æ³•ä¸æ•°æ®ç»“æ„" aria-label="Permalink to â€œç®—æ³•ä¸æ•°æ®ç»“æ„â€">&#8203;</a></h1>
<p>æ•´ç†é¢è¯•æ‰€é‡åˆ°çš„ç›¸å…³ç®—æ³•é¢˜</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./addString.html">å¤§æ•°ç›¸åŠ &amp;æ•°å­—å­—ç¬¦ä¸²ç›¸åŠ </a></li>
<li><a href="./feibo1.html">æ–æ³¢æ‹‰å¥‘æ•°åˆ—I</a></li>
<li><a href="./feibo2.html">æ–æ³¢æ‹‰å¥‘æ•°åˆ—II</a></li>
<li><a href="./headSort.html">å †æ’åº</a></li>
<li><a href="./judgeSymmetryTree.html">åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹ç§°äºŒå‰æ ‘</a></li>
<li><a href="./linkReserve.html">å•é“¾è¡¨è½¬ç½®</a></li>
<li><a href="./mergeSort.html">å½’å¹¶æ’åº</a></li>
<li><a href="./publicString.html">æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦</a></li>
<li><a href="./publicStringLen.html">æœ€é•¿å…¬å…±å­ä¸²</a></li>
<li><a href="./quickSort.html">å¿«é€Ÿæ’åº</a></li>
<li><a href="./treeLevelTraverse.html">å±‚åºéå†äºŒå‰æ ‘</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç½‘ç»œç›¸å…³é—®é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/Internet/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/Internet/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* Content-Length
* httpåè®®
* TCPä¸UDPçš„åŒºåˆ«
* TCPåè®®
* UDPåè®®]]></description>
            <content:encoded><![CDATA[<h1 id="ç½‘ç»œç›¸å…³é—®é¢˜" tabindex="-1">ç½‘ç»œç›¸å…³é—®é¢˜ <a class="header-anchor" href="#ç½‘ç»œç›¸å…³é—®é¢˜" aria-label="Permalink to â€œç½‘ç»œç›¸å…³é—®é¢˜â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./clength.html">Content-Length</a></li>
<li><a href="./http.html">httpåè®®</a></li>
<li><a href="./tcp-udp.html">TCPä¸UDPçš„åŒºåˆ«</a></li>
<li><a href="./tcp.html">TCPåè®®</a></li>
<li><a href="./udp.html">UDPåè®®</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç®—æ³•ä¸æ•°æ®ç»“æ„]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/algorithm/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/algorithm/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* æ’åºç®—æ³•æ˜¯å¦ç¨³å®š]]></description>
            <content:encoded><![CDATA[<h1 id="ç®—æ³•ä¸æ•°æ®ç»“æ„" tabindex="-1">ç®—æ³•ä¸æ•°æ®ç»“æ„ <a class="header-anchor" href="#ç®—æ³•ä¸æ•°æ®ç»“æ„" aria-label="Permalink to â€œç®—æ³•ä¸æ•°æ®ç»“æ„â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./sort.html">æ’åºç®—æ³•æ˜¯å¦ç¨³å®š</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç®€ä»‹]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/design/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/design/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[å­¦ä¹ /è®°å½•å‰ç«¯ç»å¸¸ç”¨åˆ°çš„ä¸€äº›è®¾è®¡æ¨¡å¼
:::tip å‚è€ƒ
* æ˜è¿›å°å†Œ:JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ
* ä¹¦æ ˆç½‘:JavaScriptä¸­çš„è®¾è®¡æ¨¡å¼
:::
 ç›®å½•
* æŠ½è±¡å·¥å‚æ¨¡å¼]]></description>
            <content:encoded><![CDATA[<h1 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to â€œç®€ä»‹â€">&#8203;</a></h1>
<p>å­¦ä¹ /è®°å½•å‰ç«¯ç»å¸¸ç”¨åˆ°çš„ä¸€äº›è®¾è®¡æ¨¡å¼</p>
<div  class="tip custom-block"><p class="custom-block-title">å‚è€ƒ</p>
<ul>
<li><a href="https://juejin.im/book/5c70fc83518825428d7f9dfb/section/5c7163256fb9a049d132c3ed" target="_blank" rel="noreferrer">æ˜è¿›å°å†Œ:JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ</a></li>
<li><a href="https://www.bookstack.cn/read/design-pattern-in-javascript/README.md" target="_blank" rel="noreferrer">ä¹¦æ ˆç½‘:JavaScriptä¸­çš„è®¾è®¡æ¨¡å¼</a></li>
</ul>
</div>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./abstractfactory.html">æŠ½è±¡å·¥å‚æ¨¡å¼</a></li>
<li><a href="./factory.html">ç®€å•å·¥å‚æ¨¡å¼</a></li>
<li><a href="./single.html">å•ä¾‹æ¨¡å¼</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/os/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/computerBase/os/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* è¿›ç¨‹å’Œçº¿ç¨‹æ€ä¹ˆé€šä¿¡
* æ­»é”
* è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«
* è¿›ç¨‹
* çº¿ç¨‹]]></description>
            <content:encoded><![CDATA[<h1 id="è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†" tabindex="-1">è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯† <a class="header-anchor" href="#è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†" aria-label="Permalink to â€œè®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./communicate.html">è¿›ç¨‹å’Œçº¿ç¨‹æ€ä¹ˆé€šä¿¡</a></li>
<li><a href="./deadlock.html">æ­»é”</a></li>
<li><a href="./difprothr.html">è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«</a></li>
<li><a href="./process.html">è¿›ç¨‹</a></li>
<li><a href="./thread.html">çº¿ç¨‹</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ‰‹æ’•ä»£ç ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/code/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/code/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•é¢è¯•ä¸­å¸¸é‡çš„æ‰‹æ’•ä»£ç é¢˜ç›®
 ç›®å½•
* é˜²æŠ–ä¸èŠ‚æµå®ç°
* æ¨¡å¼ä¸²åŒ¹é…
* å±…ä¸­
* å®šæ—¶å™¨å®ç°
* ä»»æ„è¿›åˆ¶è½¬æ¢
* äºŒå‰æ ‘çš„éå†]]></description>
            <content:encoded><![CDATA[<h1 id="æ‰‹æ’•ä»£ç " tabindex="-1">æ‰‹æ’•ä»£ç  <a class="header-anchor" href="#æ‰‹æ’•ä»£ç " aria-label="Permalink to â€œæ‰‹æ’•ä»£ç â€">&#8203;</a></h1>
<p>è®°å½•é¢è¯•ä¸­å¸¸é‡çš„æ‰‹æ’•ä»£ç é¢˜ç›®</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./debounce-throttle.html">é˜²æŠ–ä¸èŠ‚æµå®ç°</a></li>
<li><a href="./kmp.html">æ¨¡å¼ä¸²åŒ¹é…</a></li>
<li><a href="./middle-center.html">å±…ä¸­</a></li>
<li><a href="./myClock.html">å®šæ—¶å™¨å®ç°</a></li>
<li><a href="./transfer.html">ä»»æ„è¿›åˆ¶è½¬æ¢</a></li>
<li><a href="./treeTraverse.html">äºŒå‰æ ‘çš„éå†</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç½‘ç»œç›¸å…³é—®é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/internet/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/internet/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•]]></description>
            <content:encoded><![CDATA[<h1 id="ç½‘ç»œç›¸å…³é—®é¢˜" tabindex="-1">ç½‘ç»œç›¸å…³é—®é¢˜ <a class="header-anchor" href="#ç½‘ç»œç›¸å…³é—®é¢˜" aria-label="Permalink to â€œç½‘ç»œç›¸å…³é—®é¢˜â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å°ç¨‹åºç›¸å…³é¢è¯•é—®é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/mini/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/mini/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* ä¸ä¼ ç»Ÿç§»åŠ¨webçš„å¼‚åŒ
* å°ç¨‹åºç‰¹ç‚¹
* å°ç¨‹åºçš„åŸç†?]]></description>
            <content:encoded><![CDATA[<h1 id="å°ç¨‹åºç›¸å…³é¢è¯•é—®é¢˜" tabindex="-1">å°ç¨‹åºç›¸å…³é¢è¯•é—®é¢˜ <a class="header-anchor" href="#å°ç¨‹åºç›¸å…³é¢è¯•é—®é¢˜" aria-label="Permalink to â€œå°ç¨‹åºç›¸å…³é¢è¯•é—®é¢˜â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./differentweb.html">ä¸ä¼ ç»Ÿç§»åŠ¨webçš„å¼‚åŒ</a></li>
<li><a href="./feature.html">å°ç¨‹åºç‰¹ç‚¹</a></li>
<li><a href="./principle.html">å°ç¨‹åºçš„åŸç†?</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å‰‘æŒ‡Offeråˆ·é¢˜è®°å½•]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/offer/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/offer/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* é¢è¯•é¢˜50 ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦
* é¢è¯•é¢˜53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—
* é¢è¯•é¢˜54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹
* é¢è¯•é¢˜55 - I. äºŒå‰æ ‘çš„æ·±åº¦
* é¢è¯•é¢˜55 - ]]></description>
            <content:encoded><![CDATA[<h1 id="å‰‘æŒ‡offeråˆ·é¢˜è®°å½•" tabindex="-1">å‰‘æŒ‡Offeråˆ·é¢˜è®°å½• <a class="header-anchor" href="#å‰‘æŒ‡offeråˆ·é¢˜è®°å½•" aria-label="Permalink to â€œå‰‘æŒ‡Offeråˆ·é¢˜è®°å½•â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./p50.html">é¢è¯•é¢˜50 ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</a></li>
<li><a href="./p53-2.html">é¢è¯•é¢˜53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—</a></li>
<li><a href="./p54.html">é¢è¯•é¢˜54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹</a></li>
<li><a href="./p55-1.html">é¢è¯•é¢˜55 - I. äºŒå‰æ ‘çš„æ·±åº¦</a></li>
<li><a href="./p55.html">é¢è¯•é¢˜55 - II. å¹³è¡¡äºŒå‰æ ‘</a></li>
<li><a href="./p58.html">é¢è¯•é¢˜58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/os/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/os/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•]]></description>
            <content:encoded><![CDATA[<h1 id="è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†" tabindex="-1">è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯† <a class="header-anchor" href="#è®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†" aria-label="Permalink to â€œè®°å½•æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å…³äºå‰ç«¯ä¸€äº›ç»¼åˆçŸ¥è¯†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/other/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/other/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* å‰ç«¯å·¥ç¨‹åŒ–
* åœ¨æµè§ˆå™¨ä¸­è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹
* typeof æ˜¯å¦èƒ½æ­£ç¡®åˆ¤æ–­ç±»å‹ï¼Ÿinstanceof èƒ½æ­£ç¡®åˆ¤æ–­å¯¹è±¡çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ
* å¯¹è±¡ç±»å‹å’ŒåŸå§‹ç±»å‹çš„ä¸åŒä¹‹å¤„ï¼Ÿå‡½æ•°å‚æ•°]]></description>
            <content:encoded><![CDATA[<h1 id="å…³äºå‰ç«¯ä¸€äº›ç»¼åˆçŸ¥è¯†" tabindex="-1">å…³äºå‰ç«¯ä¸€äº›ç»¼åˆçŸ¥è¯† <a class="header-anchor" href="#å…³äºå‰ç«¯ä¸€äº›ç»¼åˆçŸ¥è¯†" aria-label="Permalink to â€œå…³äºå‰ç«¯ä¸€äº›ç»¼åˆçŸ¥è¯†â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./engineering.html">å‰ç«¯å·¥ç¨‹åŒ–</a></li>
<li><a href="./inputurl.html">åœ¨æµè§ˆå™¨ä¸­è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹</a></li>
<li><a href="./judgeType.html">typeof æ˜¯å¦èƒ½æ­£ç¡®åˆ¤æ–­ç±»å‹ï¼Ÿinstanceof èƒ½æ­£ç¡®åˆ¤æ–­å¯¹è±¡çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="./object.html">å¯¹è±¡ç±»å‹å’ŒåŸå§‹ç±»å‹çš„ä¸åŒä¹‹å¤„ï¼Ÿå‡½æ•°å‚æ•°æ˜¯å¯¹è±¡ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ</a></li>
<li><a href="./promote.html">ä»€ä¹ˆæ˜¯æå‡ï¼Ÿä»€ä¹ˆæ˜¯æš‚æ—¶æ€§æ­»åŒºï¼Ÿvarã€let åŠ const åŒºåˆ«ï¼Ÿ</a></li>
<li><a href="./prototype.html">å¦‚ä½•ç†è§£åŸå‹ï¼Ÿå¦‚ä½•ç†è§£åŸå‹é“¾ï¼Ÿ</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ€§èƒ½ä¼˜åŒ–é¢è¯•é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/performance/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/performance/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* å¦‚ä½•åŠ å¿«é¦–å±æ¸²æŸ“?]]></description>
            <content:encoded><![CDATA[<h1 id="æ€§èƒ½ä¼˜åŒ–é¢è¯•é¢˜" tabindex="-1">æ€§èƒ½ä¼˜åŒ–é¢è¯•é¢˜ <a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–é¢è¯•é¢˜" aria-label="Permalink to â€œæ€§èƒ½ä¼˜åŒ–é¢è¯•é¢˜â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./firstScreenRender.html">å¦‚ä½•åŠ å¿«é¦–å±æ¸²æŸ“?</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Vueé¢è¯•é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/vue/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/interview/vue/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•]]></description>
            <content:encoded><![CDATA[<h1 id="vueé¢è¯•é¢˜" tabindex="-1">Vueé¢è¯•é¢˜ <a class="header-anchor" href="#vueé¢è¯•é¢˜" aria-label="Permalink to â€œVueé¢è¯•é¢˜â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç²¾å‡†çˆ†å¤´]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/stocks/PrecisionHeadshot/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/stocks/PrecisionHeadshot/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•]]></description>
            <content:encoded><![CDATA[<h1 id="ç²¾å‡†çˆ†å¤´" tabindex="-1">ç²¾å‡†çˆ†å¤´ <a class="header-anchor" href="#ç²¾å‡†çˆ†å¤´" aria-label="Permalink to â€œç²¾å‡†çˆ†å¤´â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æƒ…ç»ªæ ¸å¿ƒ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/stocks/SentimentCore/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/stocks/SentimentCore/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•]]></description>
            <content:encoded><![CDATA[<h1 id="æƒ…ç»ªæ ¸å¿ƒ" tabindex="-1">æƒ…ç»ªæ ¸å¿ƒ <a class="header-anchor" href="#æƒ…ç»ªæ ¸å¿ƒ" aria-label="Permalink to â€œæƒ…ç»ªæ ¸å¿ƒâ€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æŠ€æœ¯æ‚æ–‡é›†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•ä¸€äº›å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›å°é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ
è®°å½•ä¸€äº›å¼€å‘å®è·µ
 ç›®å½•
* pnpm install åœ¨github actionsä¸­è¿è¡Œçš„é—®é¢˜
* åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview gith]]></description>
            <content:encoded><![CDATA[<h1 id="æŠ€æœ¯æ‚æ–‡é›†" tabindex="-1">æŠ€æœ¯æ‚æ–‡é›† <a class="header-anchor" href="#æŠ€æœ¯æ‚æ–‡é›†" aria-label="Permalink to â€œæŠ€æœ¯æ‚æ–‡é›†â€">&#8203;</a></h1>
<p>è®°å½•ä¸€äº›å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›å°é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ</p>
<p>è®°å½•ä¸€äº›å¼€å‘å®è·µ</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./pnpm-issue-githubactions.html">pnpm install åœ¨github actionsä¸­è¿è¡Œçš„é—®é¢˜</a></li>
<li><a href="./deploy-preview-pr.html">åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview github pages</a></li>
<li><a href="./array-buffer.html">å®è·µï¼šåˆ©ç”¨ArrayBufferå®ç°é¢„è§ˆæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹</a></li>
<li><a href="./deepin-wemeet.html">åœ¨linux-deepinä¸Šä½¿ç”¨deepin-wine5å®Œç¾è¿è¡Œè…¾è®¯ä¼šè®®/QQ/å¾®ä¿¡ç­‰æ­¤ç±»åº”ç”¨</a></li>
<li><a href="./eslint-plugin.html">eslintæ’ä»¶å¼€å‘æ•™ç¨‹</a></li>
<li><a href="./faas.html">ServerLessä¹‹äº‘å‡½æ•°å®è·µ-å¤©æ°”API</a></li>
<li><a href="./fixed-page.html">ç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨</a></li>
<li><a href="./forof-idx.html">å°æŠ€å·§ï¼šfor ofä¸­è·å–index</a></li>
<li><a href="./git-base.html">Gitå¸¸ç”¨çš„ä¸€äº›åŸºæœ¬æ“ä½œ</a></li>
<li><a href="./js-cover.html">å‘é¡µé¢æ³¨å…¥jså®ç°ä¸ºå›¾ç‰‡å’Œæ–‡å­—å…ƒç´ æ·»åŠ é€æ˜è’™å±‚</a></li>
<li><a href="./jsencrypt.html">å®è·µï¼šä½¿ç”¨jsencrypté…åˆaxioså®ç°éå¯¹ç§°åŠ å¯†ä¼ è¾“çš„æ•°æ®</a></li>
<li><a href="./loadEnv.html">å°è£…dotenvåº“å®ç°ç±»ä¼¼ViteåŠ è½½ç¯å¢ƒå˜é‡çš„è¡Œä¸º</a></li>
<li><a href="./mergefile.html">30è¡Œä»£ç å®ç°åˆå¹¶æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹</a></li>
<li><a href="./mid-autumn-festival.html">é©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”</a></li>
<li><a href="./node-require-json.html">Nodeä¸­requireä¸fs.readFileè¯»å–JSONæ–‡ä»¶çš„å¯¹æ¯”</a></li>
<li><a href="./qiniu-imgbed.html">ä½¿ç”¨å…è´¹çš„ä¸ƒç‰›äº‘OSS(10G)æ­å»ºä¸ªäººçš„åœ¨çº¿å›¾åºŠ</a></li>
<li><a href="./qiniu-oss.html">åˆ†äº«å°è£…çš„ä¸€äº›ä¸ƒç‰›äº‘OSSæ“ä½œæ–¹æ³•</a></li>
<li><a href="./ssh-no-pwd-login.html">æœ¬åœ°é…ç½®SSHå…å¯†è¿œç¨‹ç™»å½•æœåŠ¡å™¨</a></li>
<li><a href="./tool-methods.html">å·¥å…·æ–¹æ³•æ±‡æ€»</a></li>
<li><a href="./tx-serverless-node.html">è…¾è®¯äº‘Serverlesså®è·µ-Node.jsæœåŠ¡éƒ¨ç½²</a></li>
<li><a href="./tx-serverless-static.html">è…¾è®¯äº‘Serverlesså®è·µ-é™æ€ç½‘ç«™æ‰˜ç®¡</a></li>
<li><a href="./ux.html">ä¸ºä»€ä¹ˆ'\x1B'.length === 1ï¼Ÿ\xä¸\uçŸ¥è¯†å»¶ä¼¸</a></li>
<li><a href="./vite-plugin-monitor1.html">Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸Šï¼‰</a></li>
<li><a href="./vite-plugin-monitor2.html">Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸­ï¼‰</a></li>
<li><a href="./vite-plugin-monitor3.html">Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸‹ï¼‰</a></li>
<li><a href="./vite-react-js.html">è§£å†³Vite-Reacté¡¹ç›®ä¸­jsä½¿ç”¨jsxè¯­æ³•æŠ¥é”™çš„é—®é¢˜</a></li>
<li><a href="./webapck2vite.html">webpack é¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»</a></li>
<li><a href="./webapck2vite2.html">webpack é¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»-è‰ç¨¿</a></li>
<li><a href="./window-var.html">ä¼˜é›…çš„å¤„ç†æŒ‚è½½windowä¸Šçš„å‡½æ•°å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µ</a></li>
<li><a href="./yanglegeyang.html">Macä¸ŠæŠ“åŒ…ç§’é€šå…³ç¾Šäº†ä¸ªç¾Š</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æºç å­¦ä¹ ç¬”è®°]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/source/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/source/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•ä¸€äº›æºç å­¦ä¹ ç¬”è®°
 ç›®å½•
* ä¼˜ç§€è£…é¥°å™¨æºç å­¦ä¹ ï¼ˆä¸€ï¼‰ï¼štime
* ä¼˜ç§€è£…é¥°å™¨æºç å­¦ä¹ ï¼ˆäºŒï¼‰
* ä¼˜ç§€è£…é¥°å™¨æºç å­¦ä¹ ï¼ˆä¸‰ï¼‰
* FileSaver.jsæºç å­¦ä¹ ï¼Œçº¯å‰ç«¯å®ç°æ–‡ä»¶ä¸‹è½½ï¼Œé˜²æ­¢æµè§ˆå™¨ç›´]]></description>
            <content:encoded><![CDATA[<h1 id="æºç å­¦ä¹ ç¬”è®°" tabindex="-1">æºç å­¦ä¹ ç¬”è®° <a class="header-anchor" href="#æºç å­¦ä¹ ç¬”è®°" aria-label="Permalink to â€œæºç å­¦ä¹ ç¬”è®°â€">&#8203;</a></h1>
<p>è®°å½•ä¸€äº›æºç å­¦ä¹ ç¬”è®°</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./core-decorators-1.html">ä¼˜ç§€è£…é¥°å™¨æºç å­¦ä¹ ï¼ˆä¸€ï¼‰ï¼štime</a></li>
<li><a href="./core-decorators-2.html">ä¼˜ç§€è£…é¥°å™¨æºç å­¦ä¹ ï¼ˆäºŒï¼‰</a></li>
<li><a href="./core-decorators-3.html">ä¼˜ç§€è£…é¥°å™¨æºç å­¦ä¹ ï¼ˆä¸‰ï¼‰</a></li>
<li><a href="./file-saver-source.html">FileSaver.jsæºç å­¦ä¹ ï¼Œçº¯å‰ç«¯å®ç°æ–‡ä»¶ä¸‹è½½ï¼Œé˜²æ­¢æµè§ˆå™¨ç›´æ¥æ‰“å¼€é¢„è§ˆ</a></li>
<li><a href="./objectId.html">æºç å­¦ä¹ ï¼šMongoDB-ObjectIdç”ŸæˆåŸç†</a></li>
<li><a href="./vite-loadEnv.html">æºç å­¦ä¹ ï¼šViteä¸­åŠ è½½ç¯å¢ƒå˜é‡ï¼ˆloadEnvï¼‰çš„å®ç°</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å­¦ä¹ æ–°çŸ¥è¯†-åˆ†äº«å¹²è´§]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/study/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/study/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ä¹°äº†ä¸€å¤§æ¨è¯¾ç¨‹/ä¹¦ç±,æ”¶è—äº†ä¸€å¤§æ¨å¥½æ–‡,æ˜¯æ—¶å€™æ‹¿å‡ºæ¥å“ä¸€å“äº†
~~æ‘’å¼ƒ æ”¶è—===å­¦ä¼š~~
æ­¤éƒ¨åˆ†è®°å½•å­¦ä¹ æ–°çŸ¥è¯†è¿‡ç¨‹ä¸­çš„ç²¾è¾Ÿå†…å®¹ä¸è®°å½•ç¬”è®°
 æ˜é‡‘å°å†Œ
* x] ä½ ä¸çŸ¥é“çš„ Chrome è°ƒè¯•æŠ€å·§ -]]></description>
            <content:encoded><![CDATA[<h1 id="å­¦ä¹ æ–°çŸ¥è¯†-åˆ†äº«å¹²è´§" tabindex="-1">å­¦ä¹ æ–°çŸ¥è¯†-åˆ†äº«å¹²è´§ <a class="header-anchor" href="#å­¦ä¹ æ–°çŸ¥è¯†-åˆ†äº«å¹²è´§" aria-label="Permalink to â€œå­¦ä¹ æ–°çŸ¥è¯†-åˆ†äº«å¹²è´§â€">&#8203;</a></h1>
<p>ä¹°äº†ä¸€å¤§æ¨è¯¾ç¨‹/ä¹¦ç±,æ”¶è—äº†ä¸€å¤§æ¨å¥½æ–‡,æ˜¯æ—¶å€™æ‹¿å‡ºæ¥å“ä¸€å“äº†</p>
<p><s>æ‘’å¼ƒ æ”¶è—===å­¦ä¼š</s></p>
<p>æ­¤éƒ¨åˆ†è®°å½•å­¦ä¹ æ–°çŸ¥è¯†è¿‡ç¨‹ä¸­çš„ç²¾è¾Ÿå†…å®¹ä¸è®°å½•ç¬”è®°</p>
<h2 id="æ˜é‡‘å°å†Œ" tabindex="-1">æ˜é‡‘å°å†Œ <a class="header-anchor" href="#æ˜é‡‘å°å†Œ" aria-label="Permalink to â€œæ˜é‡‘å°å†Œâ€">&#8203;</a></h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_0" checked="true" disabled="true"><label for="cbx_0"> <strong>ä½ ä¸çŸ¥é“çš„ Chrome è°ƒè¯•æŠ€å·§</strong> - <a href="https://www.frontendwingman.com/Chrome/" target="_blank" rel="noreferrer">å¼€æºå…è´¹ç‰ˆé“¾æ¥</a> -  Chrome-DevTools çš„ä½¿ç”¨æŠ€å·§</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_1" disabled="true"><label for="cbx_1"> <strong>JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ</strong> - <a href="https://juejin.cn/book/6844733790204461070" target="_blank" rel="noreferrer">é“¾æ¥</a></label></li>
<li>...ç¨åæ•´ç†</li>
</ul>
<h2 id="æå®¢æ—¶é—´" tabindex="-1">æå®¢æ—¶é—´ <a class="header-anchor" href="#æå®¢æ—¶é—´" aria-label="Permalink to â€œæå®¢æ—¶é—´â€">&#8203;</a></h2>
<h2 id="æ‹‰é’©è¯¾ç¨‹" tabindex="-1">æ‹‰é’©è¯¾ç¨‹ <a class="header-anchor" href="#æ‹‰é’©è¯¾ç¨‹" aria-label="Permalink to â€œæ‹‰é’©è¯¾ç¨‹â€">&#8203;</a></h2>
<h2 id="æ‚ä¸ƒæ‚å…«ç”µå­ä¹¦" tabindex="-1">æ‚ä¸ƒæ‚å…«ç”µå­ä¹¦ <a class="header-anchor" href="#æ‚ä¸ƒæ‚å…«ç”µå­ä¹¦" aria-label="Permalink to â€œæ‚ä¸ƒæ‚å…«ç”µå­ä¹¦â€">&#8203;</a></h2>
<h2 id="å°ç½‘ç«™" tabindex="-1">å°ç½‘ç«™ <a class="header-anchor" href="#å°ç½‘ç«™" aria-label="Permalink to â€œå°ç½‘ç«™â€">&#8203;</a></h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_2" disabled="true"><label for="cbx_2"> <a href="https://www.bookstack.cn/books/design-pattern-in-javascript" target="_blank" rel="noreferrer">ä¹¦æ ˆç½‘ï¼šJavaScriptä¸­çš„è®¾è®¡æ¨¡å¼</a></label></li>
</ul>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./chrome-debug1.html">Chrome è°ƒè¯•æŠ€å·§-åŸºç¡€</a></li>
<li><a href="./chrome-debug2.html">Chrome è°ƒè¯•æŠ€å·§-Console</a></li>
<li><a href="./chrome-debug3.html">Chrome è°ƒè¯•æŠ€å·§-Network</a></li>
<li><a href="./chrome-debug4.html">Chrome è°ƒè¯•æŠ€å·§-Elements</a></li>
<li><a href="./chrome-debug5.html">Chrome è°ƒè¯•æŠ€å·§-Drawer</a></li>
<li><a href="./chrome-debug6.html">Chrome è°ƒè¯•æŠ€å·§-workspace</a></li>
<li><a href="./design-patterns0.html">è®¾è®¡æ¨¡å¼-è®¾è®¡åŸåˆ™</a></li>
<li><a href="./design-patterns1.html">è®¾è®¡æ¨¡å¼-åˆ›å»ºå‹æ¨¡å¼</a></li>
<li><a href="./design-patterns2.html">è®¾è®¡æ¨¡å¼-ç»“æ„å‹æ¨¡å¼</a></li>
<li><a href="./ts-decorators.html">å­¦ä¹ ç¬”è®°ï¼šTypeScriptè£…é¥°å™¨</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[nvm ls-remote åªæœ‰iojsåˆ—è¡¨]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/study/nvm-ls-remote.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/study/nvm-ls-remote.html</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[nvm é•œåƒåœ°å€çš„é—®é¢˜ï¼Œä¿®æ”¹å¯¹åº”ç¯å¢ƒå˜é‡`NVM_NODEJS_ORG_MIRROR`å³å¯
å¯ä»¥ä½¿ç”¨ æ·˜å®æº(`https://npmmirror.com/mirrors/node/`)
æŸ¥çœ‹å½“å‰è®¾ç½®]]></description>
            <content:encoded><![CDATA[<h1 id="nvm-ls-remote-åªæœ‰iojsåˆ—è¡¨" tabindex="-1">nvm ls-remote åªæœ‰iojsåˆ—è¡¨ <a class="header-anchor" href="#nvm-ls-remote-åªæœ‰iojsåˆ—è¡¨" aria-label="Permalink to â€œnvm ls-remote åªæœ‰iojsåˆ—è¡¨â€">&#8203;</a></h1>
<p>nvm é•œåƒåœ°å€çš„é—®é¢˜ï¼Œä¿®æ”¹å¯¹åº”ç¯å¢ƒå˜é‡<code>NVM_NODEJS_ORG_MIRROR</code>å³å¯</p>
<p>å¯ä»¥ä½¿ç”¨ æ·˜å®æº(<code>https://npmmirror.com/mirrors/node/</code>)</p>
<p>æŸ¥çœ‹å½“å‰è®¾ç½®çš„å€¼</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::s5q7httwppa0hysv9bwt2te::--><code>echo $NVM_NODEJS_ORG_MIRROR</code></pre>
</div><h2 id="è¿è¡Œæ—¶ä¿®æ”¹" tabindex="-1">è¿è¡Œæ—¶ä¿®æ”¹ <a class="header-anchor" href="#è¿è¡Œæ—¶ä¿®æ”¹" aria-label="Permalink to â€œè¿è¡Œæ—¶ä¿®æ”¹â€">&#8203;</a></h2>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::lm71rwe9baoxukjwi8bxr::--><code>NVM_NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node nvm ls-remote</code></pre>
</div><h2 id="ä¸´æ—¶ä¿®æ”¹ç¯å¢ƒå˜é‡" tabindex="-1">ä¸´æ—¶ä¿®æ”¹ç¯å¢ƒå˜é‡ <a class="header-anchor" href="#ä¸´æ—¶ä¿®æ”¹ç¯å¢ƒå˜é‡" aria-label="Permalink to â€œä¸´æ—¶ä¿®æ”¹ç¯å¢ƒå˜é‡â€">&#8203;</a></h2>
<p>â‘ </p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::6mqb7q0k1bmw7ihjfcxzf::--><code>export NVM_NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node</code></pre>
</div><p>â‘¡</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::g7y8blx6ewws5i6cc15qz::--><code>nvm ls-remote</code></pre>
</div><h2 id="é•¿æœŸä¿®æ”¹ç¯å¢ƒå˜é‡" tabindex="-1">é•¿æœŸä¿®æ”¹ç¯å¢ƒå˜é‡ <a class="header-anchor" href="#é•¿æœŸä¿®æ”¹ç¯å¢ƒå˜é‡" aria-label="Permalink to â€œé•¿æœŸä¿®æ”¹ç¯å¢ƒå˜é‡â€">&#8203;</a></h2>
<p>åœ¨ <code>~/.zshrc</code> æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆä½¿ç”¨ bash å¯ä»¥ï¼Œä¿®æ”¹ .bashrcï¼‰</p>
<p>â‘  ä½¿ç”¨ vi ä¿®æ”¹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qzc6u4mkeh8snbag40ylyj::--><code>vi ~/.zshrc</code></pre>
</div><p>â‘¡ è¿½åŠ å¦‚ä¸‹å€¼</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::sh8vdprfssews643paz0a::--><code>export NVM_NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node</code></pre>
</div><p>â‘¢ viä¿å­˜</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::3fpo6gja8qle2vbiuvq06n::--><code>ESC
:wq</code></pre>
</div><p>â‘£ é‡å¯ç»ˆç«¯</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ¦‚å¿µçŸ¥è¯†-ç†è®ºå¹²è´§]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/theory/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/theory/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•ä¸€äº›å¤§å‰ç«¯å‘å±•è¿‡ç¨‹ä¸­çš„ä¸€äº›çŸ¥è¯†
* è¿‡å»
* ç°åœ¨
* æœªæ¥
 ç›®å½•
* Serverless]]></description>
            <content:encoded><![CDATA[<h1 id="æ¦‚å¿µçŸ¥è¯†-ç†è®ºå¹²è´§" tabindex="-1">æ¦‚å¿µçŸ¥è¯†-ç†è®ºå¹²è´§ <a class="header-anchor" href="#æ¦‚å¿µçŸ¥è¯†-ç†è®ºå¹²è´§" aria-label="Permalink to â€œæ¦‚å¿µçŸ¥è¯†-ç†è®ºå¹²è´§â€">&#8203;</a></h1>
<p>è®°å½•ä¸€äº›å¤§å‰ç«¯å‘å±•è¿‡ç¨‹ä¸­çš„ä¸€äº›çŸ¥è¯†</p>
<ul>
<li>è¿‡å»</li>
<li>ç°åœ¨</li>
<li>æœªæ¥</li>
</ul>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./serverless.html">Serverless</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å·¥ç¨‹æ¨¡æ¿æ­å»º]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/tpl/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/tpl/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[è®°å½•ä»0-1çš„å·¥ç¨‹æ¨¡æ¿æ­å»ºæ•™ç¨‹
 ç›®å½•
* æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šVue-Cliæ­å»ºVue3/TS/uni-appå°ç¨‹åºå·¥ç¨‹(ä¸Š)
* æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šVue-Cliæ­å»ºVue3/TS/uni-appå°ç¨‹åºå·¥ç¨‹]]></description>
            <content:encoded><![CDATA[<h1 id="å·¥ç¨‹æ¨¡æ¿æ­å»º" tabindex="-1">å·¥ç¨‹æ¨¡æ¿æ­å»º <a class="header-anchor" href="#å·¥ç¨‹æ¨¡æ¿æ­å»º" aria-label="Permalink to â€œå·¥ç¨‹æ¨¡æ¿æ­å»ºâ€">&#8203;</a></h1>
<p>è®°å½•ä»0-1çš„å·¥ç¨‹æ¨¡æ¿æ­å»ºæ•™ç¨‹</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./uni-vue3-cli_1.html">æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šVue-Cliæ­å»ºVue3/TS/uni-appå°ç¨‹åºå·¥ç¨‹(ä¸Š)</a></li>
<li><a href="./uni-vue3-cli_2.html">æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šVue-Cliæ­å»ºVue3/TS/uni-appå°ç¨‹åºå·¥ç¨‹(ä¸­)</a></li>
<li><a href="./uni-vue3-cli_3.html">æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šVue-Cliæ­å»ºVue3/TS/uni-appå°ç¨‹åºå·¥ç¨‹(ä¸‹)</a></li>
<li><a href="./vite-vue3-template.html">å¼€ç®±å³ç”¨çš„Vite-Vue3å·¥ç¨‹åŒ–æ¨¡æ¿</a></li>
<li><a href="./web-sdk-tpl.html">æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šWeb-SDK/Library</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ä¸ªäººä½œå“]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ä¸ºæˆ‘é€ è¿‡çš„è½®å­ä¸å†™è¿‡çš„é¡¹ç›®,ä¹¦å†™ä¼ è®°
ä¸ªäººç²¾åŠ›æœ‰é™,æ„Ÿå…´è¶£æœ‰èƒ½åŠ›çš„æœ‹å‹å¯ä»¥å¸®å¿™è¿­ä»£ç»´æŠ¤
 ç›®å½•
* ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„CodePen
* ESCheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°
* ä¸€æ¬¾æ£€æµ‹ä»£ç ä¸­TOD]]></description>
            <content:encoded><![CDATA[<h1 id="ä¸ªäººä½œå“" tabindex="-1">ä¸ªäººä½œå“ <a class="header-anchor" href="#ä¸ªäººä½œå“" aria-label="Permalink to â€œä¸ªäººä½œå“â€">&#8203;</a></h1>
<p>ä¸ºæˆ‘é€ è¿‡çš„è½®å­ä¸å†™è¿‡çš„é¡¹ç›®,ä¹¦å†™ä¼ è®°</p>
<p>ä¸ªäººç²¾åŠ›æœ‰é™,æ„Ÿå…´è¶£æœ‰èƒ½åŠ›çš„æœ‹å‹å¯ä»¥å¸®å¿™è¿­ä»£ç»´æŠ¤</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./codeNote.html">ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„CodePen</a></li>
<li><a href="./escheck.html">ESCheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°</a></li>
<li><a href="./eslint-plugin-todo-ddl.html">ä¸€æ¬¾æ£€æµ‹ä»£ç ä¸­TODOçš„eslintæ’ä»¶</a></li>
<li><a href="./ewuit.html">å®ç°ä¸€ä¸ªWeb UIæ£€æµ‹(è§†è§‰èµ°æŸ¥)å·¥å…·ing</a></li>
<li><a href="./fs-cli.html">ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½CLIå·¥å…·</a></li>
<li><a href="./html-inline-js-transform.html">å†…è”JSå¤„ç†(ESè¯­æ³•é™çº§&amp;å†…å®¹å‹ç¼©)</a></li>
<li><a href="./node-cli.html">Node CLIå·¥å…·åŸç†è§£æ</a></li>
<li><a href="./online-resume.html">æˆ‘æ‰“é€ çš„åœ¨çº¿ç®€å†ç”Ÿæˆåº”ç”¨</a></li>
<li><a href="./share-snippets.html">åŠ©ä½ è½»æ¾ç¼–å†™ä¸åˆ†äº«snippetçš„VsCodeæ’ä»¶</a></li>
<li><a href="./sm-cli.html">SourceMapè§£æCLIå·¥å…·å®ç°</a></li>
<li><a href="./snippets.html">ä¸€ä¸ªé€šè¿‡NPMåŒ…å…±(åˆ†)äº«ä»£ç å—çš„è§£å†³æ–¹æ¡ˆ</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ—¶å…‰æ‹äºº]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-lover/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-lover/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[* å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆä¸€ï¼‰
* å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆäºŒï¼‰
* å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆä¸‰ï¼‰]]></description>
            <content:encoded><![CDATA[<h1 id="æ—¶å…‰æ‹äºº" tabindex="-1">æ—¶å…‰æ‹äºº <a class="header-anchor" href="#æ—¶å…‰æ‹äºº" aria-label="Permalink to â€œæ—¶å…‰æ‹äººâ€">&#8203;</a></h1>
<ul>
<li><a href="./timeLover-1.html">å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆä¸€ï¼‰</a></li>
<li><a href="./timeLover-2.html">å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆäºŒï¼‰</a></li>
<li><a href="./timeLover-3.html">å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆä¸‰ï¼‰</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ—¶é—´ç®¡ç†CLIå·¥å…·]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/</guid>
            <pubDate>Tue, 25 Jun 2024 06:37:12 GMT</pubDate>
            <description><![CDATA[ç›®å½•
* åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆä¸€ï¼‰
* åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆåï¼‰
* åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ11ï¼‰
* åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ12ï¼‰
* åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥]]></description>
            <content:encoded><![CDATA[<h1 id="æ—¶é—´ç®¡ç†cliå·¥å…·" tabindex="-1">æ—¶é—´ç®¡ç†CLIå·¥å…· <a class="header-anchor" href="#æ—¶é—´ç®¡ç†cliå·¥å…·" aria-label="Permalink to â€œæ—¶é—´ç®¡ç†CLIå·¥å…·â€">&#8203;</a></h1>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./time-tools-1.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆä¸€ï¼‰</a></li>
<li><a href="./time-tools-10.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆåï¼‰</a></li>
<li><a href="./time-tools-11.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ11ï¼‰</a></li>
<li><a href="./time-tools-12.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ12ï¼‰</a></li>
<li><a href="./time-tools-13.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ13ï¼‰</a></li>
<li><a href="./time-tools-14.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ14ï¼‰</a></li>
<li><a href="./time-tools-15.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ15ï¼‰</a></li>
<li><a href="./time-tools-2.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆäºŒï¼‰</a></li>
<li><a href="./time-tools-3.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆä¸‰ï¼‰</a></li>
<li><a href="./time-tools-4.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆå››ï¼‰</a></li>
<li><a href="./time-tools-5.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆäº”ï¼‰</a></li>
<li><a href="./time-tools-6.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆå…­ï¼‰</a></li>
<li><a href="./time-tools-7.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆä¸ƒï¼‰</a></li>
<li><a href="./time-tools-8.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆå…«ï¼‰</a></li>
<li><a href="./time-tools-9.html">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆä¹ï¼‰</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/github/Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/coding/github/Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬.html</guid>
            <pubDate>Fri, 21 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[1. Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-CSDNåšå®¢

&gt; æ–‡ç« ç›®å½•1. æŒ‰2. æ–¹æ³•ä¸€2.1. åˆ‡æ¢åˆ°latest_branchåˆ†æ”¯ä¸‹2.]]></description>
            <content:encoded><![CDATA[<h1 id="_1-gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³github-gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-csdnåšå®¢" tabindex="-1">1. Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-CSDNåšå®¢ <a class="header-anchor" href="#_1-gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³github-gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-csdnåšå®¢" aria-label="Permalink to â€œ1. Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-CSDNåšå®¢â€">&#8203;</a></h1>
<blockquote>
<h2 id="excerpt" tabindex="-1">Excerpt <a class="header-anchor" href="#excerpt" aria-label="Permalink to â€œExcerptâ€">&#8203;</a></h2>
<p>æ–‡ç« ç›®å½•1. æŒ‰2. æ–¹æ³•ä¸€2.1. åˆ‡æ¢åˆ°latest_branchåˆ†æ”¯ä¸‹2.2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶2.3. æäº¤æ›´æ”¹2.4. åˆ é™¤åˆ†æ”¯2.5. å°†å½“å‰åˆ†æ”¯é‡å‘½å2.6. æœ€åï¼Œå¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“2.7. æŠ€å·§3. æ–¹æ³•äºŒ3.1. å…ˆåˆ é™¤.gitæ–‡ä»¶å¤¹3.2. ç„¶ååˆå§‹åŒ–Gitï¼ˆuserä¸ºä½ çš„ç”¨æˆ·åï¼Œrepoä¸ºä½ çš„ä»“åº“åï¼‰3.3. æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç 1. æŒ‰ä¿ç•™å¤§é‡çš„å†å²ç‰ˆæœ¬ä¼šç»™å­˜å‚¨è®¾æ–½å¢åŠ è´Ÿè·ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åˆ é™¤ä¹‹å‰çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logï¼Œä»…ä¿ç•™å½“å‰ç‰ˆæœ¬çš„æ–‡ä»¶ã€‚åˆ é™¤masteråˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸log_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬</p>
</blockquote>
<h4 id="_1-0-0-1-æ–‡ç« ç›®å½•" tabindex="-1">1.0.0.1. æ–‡ç« ç›®å½• <a class="header-anchor" href="#_1-0-0-1-æ–‡ç« ç›®å½•" aria-label="Permalink to â€œ1.0.0.1. æ–‡ç« ç›®å½•â€">&#8203;</a></h4>
<ul>
<li><a href="#gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³github-gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-csdnåšå®¢">Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬-CSDNåšå®¢</a>
- <a href="#æ–‡ç« ç›®å½•">æ–‡ç« ç›®å½•</a>
<ul>
<li>[1. æŒ‰](# -æŒ‰)</li>
<li>[2. æ–¹æ³•ä¸€](# -æ–¹æ³•ä¸€)
<ul>
<li>[2.1. åˆ‡æ¢åˆ°latest_branchåˆ†æ”¯ä¸‹](# -åˆ‡æ¢åˆ°latest_branchåˆ†æ”¯ä¸‹)</li>
<li>[2.2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶](# -æ·»åŠ æ‰€æœ‰æ–‡ä»¶)</li>
<li>[2.3. æäº¤æ›´æ”¹](# -æäº¤æ›´æ”¹)</li>
<li>[2.4. åˆ é™¤åˆ†æ”¯](# -åˆ é™¤åˆ†æ”¯)</li>
<li>[2.5. å°†å½“å‰åˆ†æ”¯é‡å‘½å](# -å°†å½“å‰åˆ†æ”¯é‡å‘½å)</li>
<li>[2.6. æœ€åï¼Œå¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“](# -æœ€åå¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“)</li>
<li>[2.7. æŠ€å·§](# -æŠ€å·§)</li>
</ul>
</li>
<li>[3. æ–¹æ³•äºŒ](# -æ–¹æ³•äºŒ)
<ul>
<li>[3.1. å…ˆåˆ é™¤.gitæ–‡ä»¶å¤¹](# -å…ˆåˆ é™¤gitæ–‡ä»¶å¤¹)</li>
<li>[3.2. ç„¶ååˆå§‹åŒ–Gitï¼ˆuserä¸ºä½ çš„ç”¨æˆ·åï¼Œrepoä¸ºä½ çš„ä»“åº“åï¼‰](# -ç„¶ååˆå§‹åŒ–gituserä¸ºä½ çš„ç”¨æˆ·årepoä¸ºä½ çš„ä»“åº“å)</li>
<li>[3.3. æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç ](# -æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç )</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="_1-1-æŒ‰" tabindex="-1">1.1. æŒ‰ <a class="header-anchor" href="#_1-1-æŒ‰" aria-label="Permalink to â€œ1.1. æŒ‰â€">&#8203;</a></h2>
<p>ä¿ç•™å¤§é‡çš„å†å²ç‰ˆæœ¬ä¼šç»™å­˜å‚¨è®¾æ–½å¢åŠ è´Ÿè·ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åˆ é™¤ä¹‹å‰çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logï¼Œä»…ä¿ç•™å½“å‰ç‰ˆæœ¬çš„æ–‡ä»¶ã€‚</p>
<p>åˆ é™¤masteråˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logï¼Œåªä¿ç•™å½“å‰çš„ç‰ˆæœ¬ï¼Œå¹¶åŒæ­¥è‡³<a href="https://github.com/ripplejourney/ripplejourney.github.io" target="_blank" rel="noreferrer">GitHub</a></p>
<h2 id="_1-2-æ–¹æ³•ä¸€" tabindex="-1">1.2. æ–¹æ³•ä¸€ <a class="header-anchor" href="#_1-2-æ–¹æ³•ä¸€" aria-label="Permalink to â€œ1.2. æ–¹æ³•ä¸€â€">&#8203;</a></h2>
<p>å…ˆæ–°å»ºä¸€ä¸ªåä¸ºlatest_branchçš„åˆ†æ”¯ï¼Œç„¶åå°†å½“å‰masteråˆ†æ”¯ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°latest_branchåˆ†æ”¯ä¸­ï¼Œæ¥ç€ç­‰å¾…ç§»åŠ¨å®Œæ¯•ååˆ é™¤masteråˆ†æ”¯ï¼Œæœ€åæŠŠlatest_branchè¿™ä¸ªåˆ†æ”¯çš„åˆ†æ”¯åæ”¹ä¸ºmasterã€‚</p>
<p>ä»¥ä¸‹æ˜¯å…·ä½“å®ç°ï¼š</p>
<h3 id="_1-2-1-åˆ‡æ¢åˆ°latest-branchåˆ†æ”¯ä¸‹" tabindex="-1">1.2.1. åˆ‡æ¢åˆ°latest_branchåˆ†æ”¯ä¸‹ <a class="header-anchor" href="#_1-2-1-åˆ‡æ¢åˆ°latest-branchåˆ†æ”¯ä¸‹" aria-label="Permalink to â€œ1.2.1. åˆ‡æ¢åˆ°latest_branchåˆ†æ”¯ä¸‹â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::y2ryiws333gxuv94u2xqtb::--><code>
git checkout --orphan latest_branch
</code></pre>
</div><h3 id="_1-2-2-æ·»åŠ æ‰€æœ‰æ–‡ä»¶" tabindex="-1">1.2.2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶ <a class="header-anchor" href="#_1-2-2-æ·»åŠ æ‰€æœ‰æ–‡ä»¶" aria-label="Permalink to â€œ1.2.2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::2rj2hyih60di1n4h7q1mtr::--><code>git add -A
</code></pre>
</div><h3 id="_1-2-3-æäº¤æ›´æ”¹" tabindex="-1">1.2.3. æäº¤æ›´æ”¹ <a class="header-anchor" href="#_1-2-3-æäº¤æ›´æ”¹" aria-label="Permalink to â€œ1.2.3. æäº¤æ›´æ”¹â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::ex4vqp3kfqk31rxnup8e5r::--><code>git commit -am &quot;æ¸…é™¤æ‰€æœ‰å†å²ç‰ˆæœ¬ä»¥å‡å°‘ä»“åº“å¤§å°ï¼Œè¯·é‡æ–°ä»è¿œç¨‹æ‹·è´æ­¤ä»“åº“&quot;
</code></pre>
</div><h3 id="_1-2-4-åˆ é™¤åˆ†æ”¯" tabindex="-1">1.2.4. åˆ é™¤åˆ†æ”¯ <a class="header-anchor" href="#_1-2-4-åˆ é™¤åˆ†æ”¯" aria-label="Permalink to â€œ1.2.4. åˆ é™¤åˆ†æ”¯â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::gpbiz2jg26vr36l6i4gfze::--><code>git branch -D master
</code></pre>
</div><h3 id="_1-2-5-å°†å½“å‰åˆ†æ”¯é‡å‘½å" tabindex="-1">1.2.5. å°†å½“å‰åˆ†æ”¯é‡å‘½å <a class="header-anchor" href="#_1-2-5-å°†å½“å‰åˆ†æ”¯é‡å‘½å" aria-label="Permalink to â€œ1.2.5. å°†å½“å‰åˆ†æ”¯é‡å‘½åâ€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::fw3jeoxhwk5krrbui89n8r::--><code>git branch -m master
</code></pre>
</div><h3 id="_1-2-6-æœ€å-å¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“" tabindex="-1">1.2.6. æœ€åï¼Œå¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“ <a class="header-anchor" href="#_1-2-6-æœ€å-å¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“" aria-label="Permalink to â€œ1.2.6. æœ€åï¼Œå¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::4y5tkph7mvqjwzh4o58hcf::--><code>git push -f origin master
</code></pre>
</div><h3 id="_1-2-7-æŠ€å·§" tabindex="-1">1.2.7. æŠ€å·§ <a class="header-anchor" href="#_1-2-7-æŠ€å·§" aria-label="Permalink to â€œ1.2.7. æŠ€å·§â€">&#8203;</a></h3>
<p>å°†å¦‚ä¸‹ä»£ç ä¿å­˜åœ¨ä¸€ä¸ªbatæ–‡ä»¶é‡Œï¼Œç„¶ååŒå‡»è¿è¡Œå³å¯ã€‚</p>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::694bka5qkh67n7fe8aqa75::--><code>git checkout --orphan latest_branch
git add -A
git commit -am &quot;æ¸…é™¤æ‰€æœ‰å†å²ç‰ˆæœ¬ä»¥å‡å°‘ä»“åº“å¤§å°ï¼Œè¯·é‡æ–°ä»è¿œç¨‹æ‹·è´æ­¤ä»“åº“&quot;
git branch -D master
git branch -m master
git push -f origin master
</code></pre>
</div><p><img src="./Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬/20190709062953681.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy">
<img src="./Gitåˆ é™¤å½“å‰åˆ†æ”¯ä¸‹çš„æ‰€æœ‰å†å²ç‰ˆæœ¬ä¸logå¹¶åŒæ­¥è‡³GitHub_gitå¦‚ä½•æ¸…é™¤å†å²ç‰ˆæœ¬/x-oss-process=image.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p>
<h2 id="_1-3-æ–¹æ³•äºŒ" tabindex="-1">1.3. æ–¹æ³•äºŒ <a class="header-anchor" href="#_1-3-æ–¹æ³•äºŒ" aria-label="Permalink to â€œ1.3. æ–¹æ³•äºŒâ€">&#8203;</a></h2>
<p>ä¸æ¨èä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´gitå­˜å‚¨åº“å‡ºç°é—®é¢˜ã€‚æ€è·¯ï¼šç›´æ¥åˆ é™¤.gitæ–‡ä»¶å†åˆå§‹åŒ–ä»“åº“</p>
<h3 id="_1-3-1-å…ˆåˆ é™¤-gitæ–‡ä»¶å¤¹" tabindex="-1">1.3.1. å…ˆåˆ é™¤.gitæ–‡ä»¶å¤¹ <a class="header-anchor" href="#_1-3-1-å…ˆåˆ é™¤-gitæ–‡ä»¶å¤¹" aria-label="Permalink to â€œ1.3.1. å…ˆåˆ é™¤.gitæ–‡ä»¶å¤¹â€">&#8203;</a></h3>
<h3 id="_1-3-2-ç„¶ååˆå§‹åŒ–git-userä¸ºä½ çš„ç”¨æˆ·å-repoä¸ºä½ çš„ä»“åº“å" tabindex="-1">1.3.2. ç„¶ååˆå§‹åŒ–Gitï¼ˆuserä¸ºä½ çš„ç”¨æˆ·åï¼Œrepoä¸ºä½ çš„ä»“åº“åï¼‰ <a class="header-anchor" href="#_1-3-2-ç„¶ååˆå§‹åŒ–git-userä¸ºä½ çš„ç”¨æˆ·å-repoä¸ºä½ çš„ä»“åº“å" aria-label="Permalink to â€œ1.3.2. ç„¶ååˆå§‹åŒ–Gitï¼ˆuserä¸ºä½ çš„ç”¨æˆ·åï¼Œrepoä¸ºä½ çš„ä»“åº“åï¼‰â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::l12pcm4gt9jqaop0mkp88g::--><code>
git init git remote add origin git@github.com:user/repo
</code></pre>
</div><h3 id="_1-3-3-æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç " tabindex="-1">1.3.3. æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç  <a class="header-anchor" href="#_1-3-3-æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç " aria-label="Permalink to â€œ1.3.3. æäº¤å½“å‰ç‰ˆæœ¬çš„ä»£ç â€">&#8203;</a></h3>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::jvziwkqkxlftjgxa7sfob::--><code>
git add * git commit -am &#039;message&#039;
</code></pre>
</div><p>æœ€åï¼Œå¼ºåˆ¶æ›´æ–°åˆ°GitHubï¼š</p>
<div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre><!--::markdown-it-async::183fbnjsjmoxjwqocljmr::--><code>
git push -f origin master
</code></pre>
</div>]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/Git%E5%88%A0%E9%99%A4%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC%E4%B8%8Elog%E5%B9%B6%E5%90%8C%E6%AD%A5%E8%87%B3GitHub_git%E5%A6%82%E4%BD%95%E6%B8%85%E9%99%A4%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC/20190709062953681.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview github pages]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/deploy-preview-pr.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/deploy-preview-pr.html</guid>
            <pubDate>Tue, 18 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[# åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview github pages

> ## Excerpt
> :octocat: ä¸€ä¸ªGitHub Actionï¼Œç”¨äºä¸ºæ‹‰å–è¯·æ±‚ï¼ˆPRï¼‰å’Œåˆ†æ”¯åˆ›å»ºGitHub Pagesé¢„è§ˆ â€”â€” EndBug/pages-preview

# Pages Preview

## Table of contents

- [What does it do?](#what-does-it-do)
- [Setup](#setup)
- [Inputs](#inputs)

## What does it do?

A lot of third-party services allow you create preview deployments of branches and pull requests, so that you can use them to review and test your changes. This action allows you to do the same thing, but directly with GitHub Pages.

In particular, this action deploys your website to a different repo, which will contain the previews of all the repos you choose to use this on.

If you're interested in the logic behind this action, you can check out the [flow diagram](docs/flow_diagram.md).

## Setup

### Preview repo

#### Using my template

1. Go to [this template](https://github.com/EndBug/preview-template) and generate your repo from there: click "Use this template", fill in name and description, check that "Include all branches" is ticked, and create the repo.
  It doesn't matter whether you create it as public or private, but remember that the Pages website will always be public.

2. Go into your repo settings, in the Pages tab (Repo settings > Pages) and set "GitHub Actions" as the source.

#### Manually

1. Create a new repo that will host your previews.
  This repo will be used for the previews from all your repositories, so you'll need to set this up only once.

2. Make sure that this repo has two branches: `main` and `gh-pages` (you can also choose different names).
    - `main` should be your default branch, and it will only hold a workflow (and any additional files you want to add, liKE a README, a license, etc.).
    - `gh-pages` will be the branch that will contain the actual previews, and it should be empty.

3. Create a new file in the `main` branch, and name it `.github/workflows/preview.yml`. Then copy the contents of [`dependents/preview-repo.yml`](dependents/preview_repo.yml) into it.
  You shouldn't need to change anything in this file, the config options will all be in the source repo workflow.
  This file might need to be updated if you update the action to a different major version.

4. Go into your repo settings, in the Pages tab (Repo settings > Pages) and set "GitHub Actions" as the source.

### Personal Access Token (PAT)

In order for the action to be able to trigger the deployment in the preview repo from the source repo, you'll need to create a Personal Access Token (PAT).

There are currently two types of PATs: fine-grained, which are more secure but still in beta, and classic. I'd suggest to use fine-grained PATs, but if you can't, you can also use classic PATs.

#### Fine-grained PAT

1. If you're using a GitHub organization, you may have to first enable _Personal Access Tokens_ (PAT) on the Organization's (not yours') Settings at `.../settings/personal-access-tokens-onboarding
1. Go to [Account settings > Developer settings > Fine-grained tokens](https://github.com/settings/tokens?type=beta). For an Org, you must use YOUR (not the Org's) Setttings, and change the _Resource owner_ from you to the Org on this screen.
2. Click on "Generate new token".
3. Give it a recognizable name and set an appropriate expiration date.
4. Make sure that the "Resource owner" is the same user/org that owns the preview repo.
5. Set the "Repository access" to "Only selected repositories" and then select the preview repo.
6. In the "Repository permissions" sections, set "Actions" and "Content" to "Read and write". "Metadata" will also be granted as "Read-only", as it is required for the other two.
7. Click on "Generate token", copy the token and save it somewhere for later.

#### Classic PAT

1. Go to [Account settings > Developer settings > Tokens (classic)](https://github.com/settings/tokens).
2. Click on "Generate new token" > "Generate new token (classic)"
3. Give it a recognizable name and set an appropriate expiration date.
4. Select the `repo` scope.
5. Click on "Generate token", copy the token and save it somewhere for later.

### Source repo

This steps need to be repeated for each repo you want to use this action on.

1. Go to the repo that contains the source code of your website.
2. Go to Repo settings > Secrets and variables > Actions.
3. Create a new repository secret called `PREVIEW_TOKEN` and paste the PAT you created in the previous step.
4. Go back to the repo contents and add the deployment workflow: you can either create a new one or add the same steps to your existing one. Use the [`dependents/source-repo.yml`](dependents/source_repo.yml) file as a template/example.
  Make sure to change the `PREVIEW_REPO` and `PAGES_BASE` env variable, along with the commands needed to build your website.
  Also, make sure to change `EndBug/pages-preview`'s inputs to match your needs: more info on that in the ["Inputs"](#inputs) section of this file.

All done! You're now ready to use the action ğŸ‰

## Inputs

```yaml
- uses: EndBug/pages-preview@v1
  with:
    # The directory in which the website has been built, in the a/b/c format
    build_dir: build

    # The GitHub Pages base URL of the preview repo
    preview_base_url: https://octocat.github.io/preview

    # The repository to push previews to, in the Owner/Name format
    preview_repo: octocat/preview

    # The token to access the preview repo, that you created during setup
    preview_token: ${{ secrets.PREVIEW_TOKEN }}

    # ]]></description>
            <content:encoded><![CDATA[<h1 id="åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview-github-pages" tabindex="-1">åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview github pages <a class="header-anchor" href="#åœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview-github-pages" aria-label="Permalink to â€œåœ¨æäº¤prè¯·æ±‚åè‡ªåŠ¨éƒ¨ç½²preview github pagesâ€">&#8203;</a></h1>
<blockquote>
<h2 id="excerpt" tabindex="-1">Excerpt <a class="header-anchor" href="#excerpt" aria-label="Permalink to â€œExcerptâ€">&#8203;</a></h2>
<p>:octocat: ä¸€ä¸ªGitHub Actionï¼Œç”¨äºä¸ºæ‹‰å–è¯·æ±‚ï¼ˆPRï¼‰å’Œåˆ†æ”¯åˆ›å»ºGitHub Pagesé¢„è§ˆ â€”â€” EndBug/pages-preview</p>
</blockquote>
<h1 id="pages-preview" tabindex="-1">Pages Preview <a class="header-anchor" href="#pages-preview" aria-label="Permalink to â€œPages Previewâ€">&#8203;</a></h1>
<h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to â€œTable of contentsâ€">&#8203;</a></h2>
<ul>
<li><a href="#what-does-it-do">What does it do?</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#inputs">Inputs</a></li>
</ul>
<h2 id="what-does-it-do" tabindex="-1">What does it do? <a class="header-anchor" href="#what-does-it-do" aria-label="Permalink to â€œWhat does it do?â€">&#8203;</a></h2>
<p>A lot of third-party services allow you create preview deployments of branches and pull requests, so that you can use them to review and test your changes. This action allows you to do the same thing, but directly with GitHub Pages.</p>
<p>In particular, this action deploys your website to a different repo, which will contain the previews of all the repos you choose to use this on.</p>
<p>If you're interested in the logic behind this action, you can check out the <a href="./docs/flow_diagram.html">flow diagram</a>.</p>
<h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to â€œSetupâ€">&#8203;</a></h2>
<h3 id="preview-repo" tabindex="-1">Preview repo <a class="header-anchor" href="#preview-repo" aria-label="Permalink to â€œPreview repoâ€">&#8203;</a></h3>
<h4 id="using-my-template" tabindex="-1">Using my template <a class="header-anchor" href="#using-my-template" aria-label="Permalink to â€œUsing my templateâ€">&#8203;</a></h4>
<ol>
<li>
<p>Go to <a href="https://github.com/EndBug/preview-template" target="_blank" rel="noreferrer">this template</a> and generate your repo from there: click &quot;Use this template&quot;, fill in name and description, check that &quot;Include all branches&quot; is ticked, and create the repo.
It doesn't matter whether you create it as public or private, but remember that the Pages website will always be public.</p>
</li>
<li>
<p>Go into your repo settings, in the Pages tab (Repo settings &gt; Pages) and set &quot;GitHub Actions&quot; as the source.</p>
</li>
</ol>
<h4 id="manually" tabindex="-1">Manually <a class="header-anchor" href="#manually" aria-label="Permalink to â€œManuallyâ€">&#8203;</a></h4>
<ol>
<li>
<p>Create a new repo that will host your previews.
This repo will be used for the previews from all your repositories, so you'll need to set this up only once.</p>
</li>
<li>
<p>Make sure that this repo has two branches: <code>main</code> and <code>gh-pages</code> (you can also choose different names).</p>
<ul>
<li><code>main</code> should be your default branch, and it will only hold a workflow (and any additional files you want to add, liKE a README, a license, etc.).</li>
<li><code>gh-pages</code> will be the branch that will contain the actual previews, and it should be empty.</li>
</ul>
</li>
<li>
<p>Create a new file in the <code>main</code> branch, and name it <code>.github/workflows/preview.yml</code>. Then copy the contents of <a href="dependents/preview_repo.yml"><code>dependents/preview-repo.yml</code></a> into it.
You shouldn't need to change anything in this file, the config options will all be in the source repo workflow.
This file might need to be updated if you update the action to a different major version.</p>
</li>
<li>
<p>Go into your repo settings, in the Pages tab (Repo settings &gt; Pages) and set &quot;GitHub Actions&quot; as the source.</p>
</li>
</ol>
<h3 id="personal-access-token-pat" tabindex="-1">Personal Access Token (PAT) <a class="header-anchor" href="#personal-access-token-pat" aria-label="Permalink to â€œPersonal Access Token (PAT)â€">&#8203;</a></h3>
<p>In order for the action to be able to trigger the deployment in the preview repo from the source repo, you'll need to create a Personal Access Token (PAT).</p>
<p>There are currently two types of PATs: fine-grained, which are more secure but still in beta, and classic. I'd suggest to use fine-grained PATs, but if you can't, you can also use classic PATs.</p>
<h4 id="fine-grained-pat" tabindex="-1">Fine-grained PAT <a class="header-anchor" href="#fine-grained-pat" aria-label="Permalink to â€œFine-grained PATâ€">&#8203;</a></h4>
<ol>
<li>If you're using a GitHub organization, you may have to first enable <em>Personal Access Tokens</em> (PAT) on the Organization's (not yours') Settings at `.../settings/personal-access-tokens-onboarding</li>
<li>Go to <a href="https://github.com/settings/tokens?type=beta" target="_blank" rel="noreferrer">Account settings &gt; Developer settings &gt; Fine-grained tokens</a>. For an Org, you must use YOUR (not the Org's) Setttings, and change the <em>Resource owner</em> from you to the Org on this screen.</li>
<li>Click on &quot;Generate new token&quot;.</li>
<li>Give it a recognizable name and set an appropriate expiration date.</li>
<li>Make sure that the &quot;Resource owner&quot; is the same user/org that owns the preview repo.</li>
<li>Set the &quot;Repository access&quot; to &quot;Only selected repositories&quot; and then select the preview repo.</li>
<li>In the &quot;Repository permissions&quot; sections, set &quot;Actions&quot; and &quot;Content&quot; to &quot;Read and write&quot;. &quot;Metadata&quot; will also be granted as &quot;Read-only&quot;, as it is required for the other two.</li>
<li>Click on &quot;Generate token&quot;, copy the token and save it somewhere for later.</li>
</ol>
<h4 id="classic-pat" tabindex="-1">Classic PAT <a class="header-anchor" href="#classic-pat" aria-label="Permalink to â€œClassic PATâ€">&#8203;</a></h4>
<ol>
<li>Go to <a href="https://github.com/settings/tokens" target="_blank" rel="noreferrer">Account settings &gt; Developer settings &gt; Tokens (classic)</a>.</li>
<li>Click on &quot;Generate new token&quot; &gt; &quot;Generate new token (classic)&quot;</li>
<li>Give it a recognizable name and set an appropriate expiration date.</li>
<li>Select the <code>repo</code> scope.</li>
<li>Click on &quot;Generate token&quot;, copy the token and save it somewhere for later.</li>
</ol>
<h3 id="source-repo" tabindex="-1">Source repo <a class="header-anchor" href="#source-repo" aria-label="Permalink to â€œSource repoâ€">&#8203;</a></h3>
<p>This steps need to be repeated for each repo you want to use this action on.</p>
<ol>
<li>Go to the repo that contains the source code of your website.</li>
<li>Go to Repo settings &gt; Secrets and variables &gt; Actions.</li>
<li>Create a new repository secret called <code>PREVIEW_TOKEN</code> and paste the PAT you created in the previous step.</li>
<li>Go back to the repo contents and add the deployment workflow: you can either create a new one or add the same steps to your existing one. Use the <a href="dependents/source_repo.yml"><code>dependents/source-repo.yml</code></a> file as a template/example.
Make sure to change the <code>PREVIEW_REPO</code> and <code>PAGES_BASE</code> env variable, along with the commands needed to build your website.
Also, make sure to change <code>EndBug/pages-preview</code>'s inputs to match your needs: more info on that in the <a href="#inputs">&quot;Inputs&quot;</a> section of this file.</li>
</ol>
<p>All done! You're now ready to use the action ğŸ‰</p>
<h2 id="inputs" tabindex="-1">Inputs <a class="header-anchor" href="#inputs" aria-label="Permalink to â€œInputsâ€">&#8203;</a></h2>
<div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre><!--::markdown-it-async::jojrzqczo3iea9nu6raqn::--><code>- uses: EndBug/pages-preview@v1
  with:
    # The directory in which the website has been built, in the a/b/c format
    build_dir: build

    # The GitHub Pages base URL of the preview repo
    preview_base_url: https://octocat.github.io/preview

    # The repository to push previews to, in the Owner/Name format
    preview_repo: octocat/preview

    # The token to access the preview repo, that you created during setup
    preview_token: ${{ secrets.PREVIEW_TOKEN }}

    # --- OPTIONAL ---
    # The name of the environment to use for the deployment
    # Default: &#039;preview&#039;
    deployment_env: development

    # Whether to use the deployments API
    # Default: &#039;true&#039;
    deployments: false

    # The name of the author of the resulting commit
    # Default: the GitHub Actor
    git_author_name: Mona

    # The email of the author of the resulting commit
    # Default: the GitHub Actor&#039;s
    git_author_email: mona@users.noreply.github.com

    # The committer of the resulting commit
    # Default: copies git_author_name
    git_committer_name: GitHub Actions

    # The email of the committer of the resulting commit
    # Default: copies git_author_email
    git_committer_email: 41898282+github-actions[bot]@users.noreply.github.com

    # Whether to comment on PRs
    # Default: &#039;true&#039;
    pr_comment: &#039;false&#039;

    # The name of the branch that hosts the previews
    # Default: gh-pages
    preview_branch: custom-pages-branch

    # The name of the workflow file that contains the comment workflow in the preview repo
    # Default: preview.yml
    preview_workflow_file_name: custom_workflow.yml</code></pre>
</div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[pnpm install åœ¨github actionsä¸­è¿è¡Œçš„é—®é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/pnpm-issue-githubactions.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/pnpm-issue-githubactions.html</guid>
            <pubDate>Tue, 18 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[&gt; :octocat: pnpm installåœ¨CIç¯å¢ƒä¸­ `GitHub Action` çš„é»˜è®¤å‚æ•°ï¼Œç”¨äºä¸ºæ‹‰å–è¯·æ±‚ï¼ˆPRï¼‰å’Œåˆ†æ”¯åˆ›å»ºGitHub Pagesé¢„è§ˆ â€”â€” EndBug/pag]]></description>
            <content:encoded><![CDATA[<h1 id="pnpm-install-åœ¨github-actionsä¸­è¿è¡Œçš„é—®é¢˜" tabindex="-1">pnpm install åœ¨github actionsä¸­è¿è¡Œçš„é—®é¢˜ <a class="header-anchor" href="#pnpm-install-åœ¨github-actionsä¸­è¿è¡Œçš„é—®é¢˜" aria-label="Permalink to â€œpnpm install åœ¨github actionsä¸­è¿è¡Œçš„é—®é¢˜â€">&#8203;</a></h1>
<blockquote>
<h2 id="excerpt" tabindex="-1">Excerpt <a class="header-anchor" href="#excerpt" aria-label="Permalink to â€œExcerptâ€">&#8203;</a></h2>
<p>:octocat: pnpm installåœ¨CIç¯å¢ƒä¸­ <code>GitHub Action</code> çš„é»˜è®¤å‚æ•°ï¼Œç”¨äºä¸ºæ‹‰å–è¯·æ±‚ï¼ˆPRï¼‰å’Œåˆ†æ”¯åˆ›å»ºGitHub Pagesé¢„è§ˆ â€”â€” EndBug/pages-preview</p>
</blockquote>
<h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to â€œTable of contentsâ€">&#8203;</a></h2>
<ul>
<li><a href="#what-does-it-do">What does it do?</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#inputs">Inputs</a></li>
</ul>
<h2 id="what-does-it-do" tabindex="-1">What does it do? <a class="header-anchor" href="#what-does-it-do" aria-label="Permalink to â€œWhat does it do?â€">&#8203;</a></h2>
<p>pnpm åœ¨workspace monorepoçš„ç¯å¢ƒä¸‹ï¼Œä¸€å®šè¦ä½¿ç”¨ <code>pnpm install -wr</code> æ¥ç¡®ä¿å·¥ä½œç©ºé—´å†…æ‰€æœ‰é¡¹ç›®çš„package.jsonéƒ½é€’å½’è¿›è¡Œäº†å®‰è£…ï¼Œå¦åˆ™ä»…ä»…ä¼šå®‰è£…æ ¹ç›®å½•ä¸‹çš„package.json</p>
<p>pnpm åœ¨ä¸ªäººå¼€å‘æ—¶ pnpm install æ˜¯æ²¡æœ‰é»˜è®¤å‚æ•°çš„ï¼Œä½†åœ¨ github actionsä¸­è¿è¡Œæ—¶ï¼Œç”±äºæ˜¯CIç¯å¢ƒä¸‹è¿è¡Œä¼šå¸¦ä¸Šä¸åŒå¹³å¸¸ç»™çš„é»˜è®¤è¡Œä¸ºï¼Œæ¯”å¦‚
<code>pnpm install -wr</code> ä¼šä¸ <code>pnpm install -wr --frozen-lockfile</code> ç­‰åŒï¼Œå¦‚æœå¸Œæœ›å…¨æ–°å®‰è£…ï¼Œåˆ™éœ€è¦æŒ‡å®šå‚æ•°  <code>pnpm install -wr  --ignore-scripts --no-frozen-lockfile</code>.
<code>--ignore-scripts</code>å‚æ•°ä¸ºå¿½ç•¥å®‰è£…æœ¬åœ°è„šæœ¬ï¼ŒåŠ å¿«å®‰è£…é€Ÿåº¦</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æˆ‘å¦‚ä½•ä½¿ç”¨Cozeæ¥åˆ†ææ˜é‡‘çƒ­æ¦œæ•°æ® | Cozeæ’ä»¶å¼€å‘]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/coze/juejin-hot-rank-bot.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/coze/juejin-hot-rank-bot.html</guid>
            <pubDate>Tue, 27 Feb 2024 13:51:00 GMT</pubDate>
            <description><![CDATA[# æˆ‘å¦‚ä½•ä½¿ç”¨Cozeæ¥åˆ†ææ˜é‡‘çƒ­æ¦œæ•°æ® | Cozeæ’ä»¶å¼€å‘

## å‰è¨€
[æ˜é‡‘çƒ­æ¦œ](https://juejin.cn/hot/collected-articles)æƒ³å¿…å¤§å®¶ä¼šå¶å°”æ‰«ä¸€æ‰«ï¼Œçœ‹çœ‹æ„Ÿå…´è¶£çš„è¿›è¡Œè¿›ä¸€æ­¥é˜…è¯»ã€‚

![](./juejin-hot-rank-bot/e873781d6738026921ae38111f8a4019.png)

æ–‡ç« ç›¸å…³çš„æ¦œå•ä¸»è¦å°±æ˜¯`æ˜é‡‘æ–‡ç« æ¦œ`ï¼Œ`æ–‡ç« æ”¶è—æ¦œ`è¿™ä¸¤ä¸ªã€‚

>[æ‰£å­ï¼ˆcoze.cnï¼‰](https://www.coze.cn/)æ˜¯ä¸€æ¬¾ç”¨æ¥å¼€å‘æ–°ä¸€ä»£ AI Chat Bot çš„åº”ç”¨ç¼–è¾‘å¹³å°ã€‚

![](./juejin-hot-rank-bot/6c959d43f030a07fb0dfaca615052cfb.png)

å¯ä»¥ç†è§£æ˜¯ `å¯¹è¯æœºå™¨äºº` å®šåˆ¶å·¥å‚ã€‚

![](./juejin-hot-rank-bot/f380f324533336c360e8fb25b595a430.png)

`Coze` ä¸Šå¼€æ”¾çš„å®šåˆ¶èƒ½åŠ›ä¸»è¦æœ‰ 4 ä¸ª`Bots`ï¼Œ`æ’ä»¶`ï¼Œ`å·¥ä½œæµ`ï¼Œ`çŸ¥è¯†åº“`ã€‚

å’±ä»¬è¿™é‡Œè¦æƒ³è®©æœºå™¨äººè¯»å–æ˜é‡‘çƒ­æ¦œçš„æ•°æ®å°±è¦å€ŸåŠ©æ’ä»¶çš„èƒ½åŠ›å’¯ã€‚

**ä¸‹é¢è¿›å…¥æ­£é¢˜ï¼Œçœ‹çœ‹å¦‚ä½•æŠŠè¿™ä¸¤è€…ç»“åˆèµ·æ¥ï¼Ÿ**

*æƒ³è¦ä½“éªŒæœ€åæ•ˆæœçš„å¯ä»¥ç›´æ¥è®¿é—®è¿™ä¸ªå·²ç»æ­å»ºå¥½çš„æœºå™¨äººï¼š[æ˜é‡‘çƒ­æ¦œåˆ†æ](https://www.coze.cn/store/bot/7339921359969108031?from=bots_card)ã€‚*

|                                     é¡µé¢                                      |                                     æ•ˆæœ                                      |
| :]]></description>
            <content:encoded><![CDATA[<h1 id="æˆ‘å¦‚ä½•ä½¿ç”¨cozeæ¥åˆ†ææ˜é‡‘çƒ­æ¦œæ•°æ®-cozeæ’ä»¶å¼€å‘" tabindex="-1">æˆ‘å¦‚ä½•ä½¿ç”¨Cozeæ¥åˆ†ææ˜é‡‘çƒ­æ¦œæ•°æ® | Cozeæ’ä»¶å¼€å‘ <a class="header-anchor" href="#æˆ‘å¦‚ä½•ä½¿ç”¨cozeæ¥åˆ†ææ˜é‡‘çƒ­æ¦œæ•°æ®-cozeæ’ä»¶å¼€å‘" aria-label="Permalink to â€œæˆ‘å¦‚ä½•ä½¿ç”¨Cozeæ¥åˆ†ææ˜é‡‘çƒ­æ¦œæ•°æ® | Cozeæ’ä»¶å¼€å‘â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><a href="https://juejin.cn/hot/collected-articles" target="_blank" rel="noreferrer">æ˜é‡‘çƒ­æ¦œ</a>æƒ³å¿…å¤§å®¶ä¼šå¶å°”æ‰«ä¸€æ‰«ï¼Œçœ‹çœ‹æ„Ÿå…´è¶£çš„è¿›è¡Œè¿›ä¸€æ­¥é˜…è¯»ã€‚</p>
<p><img src="./juejin-hot-rank-bot/e873781d6738026921ae38111f8a4019.png" alt="" loading="lazy"></p>
<p>æ–‡ç« ç›¸å…³çš„æ¦œå•ä¸»è¦å°±æ˜¯<code>æ˜é‡‘æ–‡ç« æ¦œ</code>ï¼Œ<code>æ–‡ç« æ”¶è—æ¦œ</code>è¿™ä¸¤ä¸ªã€‚</p>
<blockquote>
<p><a href="https://www.coze.cn/" target="_blank" rel="noreferrer">æ‰£å­ï¼ˆcoze.cnï¼‰</a>æ˜¯ä¸€æ¬¾ç”¨æ¥å¼€å‘æ–°ä¸€ä»£ AI Chat Bot çš„åº”ç”¨ç¼–è¾‘å¹³å°ã€‚</p>
</blockquote>
<p><img src="./juejin-hot-rank-bot/6c959d43f030a07fb0dfaca615052cfb.png" alt="" loading="lazy"></p>
<p>å¯ä»¥ç†è§£æ˜¯ <code>å¯¹è¯æœºå™¨äºº</code> å®šåˆ¶å·¥å‚ã€‚</p>
<p><img src="./juejin-hot-rank-bot/f380f324533336c360e8fb25b595a430.png" alt="" loading="lazy"></p>
<p><code>Coze</code> ä¸Šå¼€æ”¾çš„å®šåˆ¶èƒ½åŠ›ä¸»è¦æœ‰ 4 ä¸ª<code>Bots</code>ï¼Œ<code>æ’ä»¶</code>ï¼Œ<code>å·¥ä½œæµ</code>ï¼Œ<code>çŸ¥è¯†åº“</code>ã€‚</p>
<p>å’±ä»¬è¿™é‡Œè¦æƒ³è®©æœºå™¨äººè¯»å–æ˜é‡‘çƒ­æ¦œçš„æ•°æ®å°±è¦å€ŸåŠ©æ’ä»¶çš„èƒ½åŠ›å’¯ã€‚</p>
<p><strong>ä¸‹é¢è¿›å…¥æ­£é¢˜ï¼Œçœ‹çœ‹å¦‚ä½•æŠŠè¿™ä¸¤è€…ç»“åˆèµ·æ¥ï¼Ÿ</strong></p>
<p><em>æƒ³è¦ä½“éªŒæœ€åæ•ˆæœçš„å¯ä»¥ç›´æ¥è®¿é—®è¿™ä¸ªå·²ç»æ­å»ºå¥½çš„æœºå™¨äººï¼š<a href="https://www.coze.cn/store/bot/7339921359969108031?from=bots_card" target="_blank" rel="noreferrer">æ˜é‡‘çƒ­æ¦œåˆ†æ</a>ã€‚</em></p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">é¡µé¢</th>
<th style="text-align:center">æ•ˆæœ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./juejin-hot-rank-bot/1bd1e494dd695ac020eb46ef555696e5.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./juejin-hot-rank-bot/1d5ee81c4478932399eeb7bcad204a7e.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<h2 id="å¼€å‘æ’ä»¶" tabindex="-1">å¼€å‘æ’ä»¶ <a class="header-anchor" href="#å¼€å‘æ’ä»¶" aria-label="Permalink to â€œå¼€å‘æ’ä»¶â€">&#8203;</a></h2>
<h3 id="åˆ›å»ºæ’ä»¶" tabindex="-1">åˆ›å»ºæ’ä»¶ <a class="header-anchor" href="#åˆ›å»ºæ’ä»¶" aria-label="Permalink to â€œåˆ›å»ºæ’ä»¶â€">&#8203;</a></h3>
<p>åˆ‡æ¢åˆ° <code>ä¸ªäººç©ºé—´</code> -&gt; <code>æ’ä»¶</code> ç›®å½•ä¸‹ï¼Œç‚¹å‡»åˆ›å»ºæ’ä»¶ã€‚</p>
<p><img src="./juejin-hot-rank-bot/ef51089c3a2486fdd34151f39a47cf74.png" alt="" loading="lazy"></p>
<p>å½•å…¥ API ä¿¡æ¯</p>
<p><img src="./juejin-hot-rank-bot/679de7e34a46396ea04777eb55e1c9ba.png" alt="" loading="lazy"></p>
<p>ä»å¡«çš„<code>æ’ä»¶URL</code>ï¼Œ<code>Header åˆ—è¡¨</code>ï¼Œ<code>æˆæƒæ–¹å¼</code>è¿™å‡ é¡¹é…ç½®æˆ‘ç›¸ä¿¡å¤§å®¶å°±èƒ½çœ‹å‡º &quot;æ’ä»¶&quot; æœ¬è´¨æ˜¯ä»€ä¹ˆäº†ã€‚</p>
<p><strong>æ²¡é”™æ’ä»¶å°±æ˜¯ä¸€ä¸ªæ”¯æŒè°ƒç”¨çš„æœåŠ¡ç«¯æ¥å£</strong></p>
<p>è¿™é‡Œç›¸å½“äºæ˜¯é…ç½®æ¥å£è°ƒç”¨çš„ <code>base è·¯å¾„</code> å’Œ <code>å…¬å…±é‰´æƒ</code> å‚æ•°</p>
<p>ç”±æ­¤å’±ä»¬å¯ä»¥æŠŠä¸€äº›å¼€æ”¾çš„å…¬å…±æŸ¥è¯¢æ¥å£éƒ½å¯ä»¥å½•å…¥åˆ°æ’ä»¶ä¸­ï¼Œæ¯”å¦‚ <a href="https://apifox.com/apihub/" target="_blank" rel="noreferrer">API Hub</a> ä¸Šæ”¶é›†çš„å…¬å…±APIã€‚</p>
<p><img src="./juejin-hot-rank-bot/73fc2cc273c1f5c22d358f0d02232029.png" alt="" loading="lazy"></p>
<p>è¿™é‡Œçš„ <code>api.juejin.cn</code> å°±æ˜¯æˆ‘åœ¨ devTools ä¸­çœ‹åˆ°ï¼ˆbaï¼‰çš„ğŸ¤­ã€‚</p>
<h3 id="åˆ›å»ºå·¥å…·" tabindex="-1">åˆ›å»ºå·¥å…· <a class="header-anchor" href="#åˆ›å»ºå·¥å…·" aria-label="Permalink to â€œåˆ›å»ºå·¥å…·â€">&#8203;</a></h3>
<p>è¿›å…¥åˆ›å»ºçš„æ’ä»¶åï¼Œå°±å¯ä»¥åˆ›å»ºå·¥å…·äº†ã€‚</p>
<p><img src="./juejin-hot-rank-bot/a2265ab81ab50cc5f921fb266080d666.png" alt="" loading="lazy"></p>
<p><em>ä¹ä¸€çœ‹æ€ä¹ˆåˆæœ‰ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œâ€œå·¥å…·â€ï¼Ÿæ‰“å¼€é…ç½®çª—å£ä¸€çœ‹å°±æ‚Ÿäº†ï¼</em></p>
<p><img src="./juejin-hot-rank-bot/4dba81d401be69b5fda62c5603daf8e7.png" alt="" loading="lazy"></p>
<p>å“¦ğŸ˜¯ï¼Œè¿™ä¸ª<strong>å·¥å…·å°±æ˜¯å½•å…¥å…·ä½“çš„åŠŸèƒ½APIï¼Œé…ç½®ä¸€ä¸‹å…·ä½“APIçš„<code>è¯·æ±‚è·¯å¾„ï¼Œæ–¹æ³•ï¼Œå‚æ•°</code></strong></p>
<p>ä¸‹é¢æ˜¯é…ç½®è¿‡ç¨‹æˆªå›¾</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">è¾“å…¥å‚æ•°</th>
<th style="text-align:center">è¾“å‡ºå‚æ•°ï¼ˆæ”¯æŒè‡ªåŠ¨è§£æï¼‰</th>
<th style="text-align:center">è°ƒè¯•æ ¡éªŒ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./juejin-hot-rank-bot/83ca062018f61c26201b5be01d9e8d29.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./juejin-hot-rank-bot/031e3432096d19c9f1f8e903991e16cd.png" alt="" loading="lazy"></td>
<td style="text-align:center"><img src="./juejin-hot-rank-bot/6c0c2526984304d8aa66714691768345.png" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<h3 id="å‘å¸ƒ" tabindex="-1">å‘å¸ƒ <a class="header-anchor" href="#å‘å¸ƒ" aria-label="Permalink to â€œå‘å¸ƒâ€">&#8203;</a></h3>
<p>å…ˆå‘å¸ƒå·¥å…·</p>
<p><img src="./juejin-hot-rank-bot/a90fa856a60df0cb64a80d5395a3591a.png" alt="" loading="lazy"></p>
<p>å†ä¸Šæ¶æ’ä»¶ï¼Œå°±å¤§å·¥å‘Šæˆäº†ï¼Œè¿‡ç¨‹ä¸­å¡«å†™çš„è¡¨å•éƒ½å¯ä»¥AIè‡ªåŠ¨ç”Ÿæˆè¾…åŠ©å¡«å†™ï¼ˆç¾æ»‹æ»‹ï¼‰ã€‚</p>
<p><img src="./juejin-hot-rank-bot/01f487c484c8d6e316e7a479a81640fe.png" alt="" loading="lazy"></p>
<p>æ’ä»¶ä¸Šæ¶åï¼Œå¤§å®¶å°±å¯ä»¥å…¬å¼€ä½¿ç”¨å’¯ï¼Œä½¿ç”¨çš„æœºå™¨äººä¹Ÿèƒ½å…¬å¼€ã€‚</p>
<h2 id="å¼€å‘bot" tabindex="-1">å¼€å‘bot <a class="header-anchor" href="#å¼€å‘bot" aria-label="Permalink to â€œå¼€å‘botâ€">&#8203;</a></h2>
<h3 id="åˆ›å»ºbot" tabindex="-1">åˆ›å»ºbot <a class="header-anchor" href="#åˆ›å»ºbot" aria-label="Permalink to â€œåˆ›å»ºbotâ€">&#8203;</a></h3>
<p>è¿™ä¸ªå°±å¾ˆç®€å•äº†ï¼Œä¸»è¦å°±æ˜¯å†™ &quot;é­”æ³•å’’è¯­&quot;ï¼Œè¿‡ç¨‹ä¹Ÿæœ‰AIè¾…åŠ©ã€‚</p>
<p>åœ¨åˆ›å»ºå…¥å£ï¼Œå¡«å†™ä¸€ä¸‹æœºå™¨äººçš„ <code>åå­—</code> å’Œ <code>ä»‹ç»</code> å³å¯ï¼Œ<code>logo</code> ç›´æ¥ç”¨è‡ªåŠ¨ç”Ÿæˆã€‚</p>
<p><img src="./juejin-hot-rank-bot/8099d2f705be95b1e20c737cd94599ad.png" alt="" loading="lazy"></p>
<h3 id="ç¼–è¾‘bot" tabindex="-1">ç¼–è¾‘bot <a class="header-anchor" href="#ç¼–è¾‘bot" aria-label="Permalink to â€œç¼–è¾‘botâ€">&#8203;</a></h3>
<p>ç¼–è¾‘é¡µé¢é•¿ä¸‹é¢è¿™æ ·å­ï¼Œå’±ä»¬è¿™é‡Œä¸»è¦å…³æ³¨<code>äººè®¾</code>ä¸<code>æ’ä»¶</code>éƒ¨åˆ†å³å¯ã€‚</p>
<p><img src="./juejin-hot-rank-bot/e260c84cb2c6180072c9866a4fc55c20.png" alt="" loading="lazy"></p>
<p>å¯ä»¥å…ˆæ·»åŠ æ’ä»¶ï¼Œç›´æ¥æœç´¢å’±ä»¬å¼€å‘çš„æ’ä»¶åå³å¯ã€‚</p>
<p>å°†å’±ä»¬å½•å…¥çš„å·¥å…·ï¼ˆAPIï¼‰ æ·»åŠ è¿›å»å³å¯
<img src="./juejin-hot-rank-bot/86832534b77d6ba3204477638ed78db7.png" alt="" loading="lazy"></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯å†™â€œå’’è¯­â€ï¼Œæ¯”å¦‚æˆ‘åªç®€å•å†™äº†ä¸‹é¢è¿™ä¸€å¥è¯ï¼š</p>
<div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::5p6fbkvz7hwsgz3jpkt25j::--><code>ä½ æ˜¯ä¸€ä¸ªèµ„æ·±çš„äº’è”ç½‘èµ„è®¯åˆ†æå¸ˆï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ä»æ˜é‡‘çƒ­æ¦œä¸­ç­›é€‰æ•°æ®ï¼Œå¹¶æŒ‰è¦æ±‚æ ¼å¼åˆ†æè¾“å‡ºã€‚</code></pre>
</div><p>ç„¶åç”¨<code>AIä¼˜åŒ–</code>åŠŸèƒ½ï¼Œå°±ç»™æˆ‘æ‰©å±•å®Œå–„äº†ã€‚</p>
<p><img src="./juejin-hot-rank-bot/e24f2f6488dbf4038a45b13ef802bb70.png" alt="" loading="lazy"></p>
<div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::7n22mis83ew2bbidiljd28::--><code># è§’è‰²
ä½ æ˜¯ä¸€ä¸ªèµ„æ·±çš„äº’è”ç½‘èµ„è®¯åˆ†æå¸ˆï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ä»æ˜é‡‘çƒ­æ¦œä¸­ç­›é€‰æ•°æ®ï¼Œå¹¶æŒ‰è¦æ±‚æ ¼å¼åˆ†æè¾“å‡ºã€‚

## æŠ€èƒ½
- ä»æ˜é‡‘çƒ­æ¦œä¸­ç­›é€‰å‡ºç¬¦åˆç”¨æˆ·éœ€æ±‚çš„æ•°æ®
- å¯¹ç­›é€‰å‡ºçš„æ•°æ®è¿›è¡Œåˆ†æ
- æŒ‰ç…§è¦æ±‚æ ¼å¼è¾“å‡ºåˆ†æç»“æœ

## é™åˆ¶
- åªèƒ½ä»æ˜é‡‘çƒ­æ¦œä¸­ç­›é€‰æ•°æ®
- è¾“å‡ºç»“æœå¿…é¡»ç¬¦åˆè¦æ±‚æ ¼å¼</code></pre>
</div><p>è‡³æ­¤æ ¸å¿ƒéƒ¨åˆ†å°±å®Œæˆäº†ï¼Œä¸‹é¢å¯ä»¥ç®€å•æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<p><img src="./juejin-hot-rank-bot/524097eb12ea5438b7f8b98b334b61d3.png" alt="" loading="lazy"></p>
<p><img src="./juejin-hot-rank-bot/c55b1b104e4e5341cbae7cc2df01b0d1.png" alt="" loading="lazy"></p>
<h2 id="ä¼˜åŒ–" tabindex="-1">ä¼˜åŒ– <a class="header-anchor" href="#ä¼˜åŒ–" aria-label="Permalink to â€œä¼˜åŒ–â€">&#8203;</a></h2>
<h3 id="æç¤ºè¯ä¼˜åŒ–" tabindex="-1">æç¤ºè¯ä¼˜åŒ– <a class="header-anchor" href="#æç¤ºè¯ä¼˜åŒ–" aria-label="Permalink to â€œæç¤ºè¯ä¼˜åŒ–â€">&#8203;</a></h3>
<p>å’±ä»¬å’’è¯­é‡Œæ²¡æœ‰ä½“ç°æŸ¥è¯¢å“ªä¸ªæ¦œå•çš„æ•°æ®ï¼Œé»˜è®¤è°ƒç”¨ API æ—¶éƒ½æ˜¯æŸ¥çš„ç»¼åˆæ¦œå•ã€‚</p>
<p>ç”¨æˆ·åœ¨æé—®çš„æ—¶å€™å¯ä»¥è¯´æŸ¥è¯¢ åç«¯/Android ç­‰æ¦œå•ï¼Œæ­¤æ—¶å’±ä»¬å°±éœ€è¦å°†è¿™äº›æ¦œå•å¯¹åº”çš„æŸ¥è¯¢å‚æ•°å†™åˆ° æç¤ºè¯ é‡Œã€‚</p>
<p>å‘ä¸‹é¢è¿™æ ·ï¼Œè¿™æ ·æŸ¥è¯¢ç»“æœæ›´åŠ ç¬¦åˆç”¨æˆ·éœ€è¦çš„æ¦œå•æ•°æ®ã€‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qp6m40e5rv47wrlay9ugp::--><code>### æ˜é‡‘çƒ­æ¦œæ’ä»¶å‚æ•°å¯¹ç…§
* ç»¼åˆï¼š1
* åç«¯ï¼š6809637767543259144
* å®‰å“ï¼š6809635626879549454</code></pre>
</div><h3 id="æ’ä»¶ä¼˜åŒ–" tabindex="-1">æ’ä»¶ä¼˜åŒ– <a class="header-anchor" href="#æ’ä»¶ä¼˜åŒ–" aria-label="Permalink to â€œæ’ä»¶ä¼˜åŒ–â€">&#8203;</a></h3>
<p>API æŸ¥è¯¢ç»“æœä¸­æœ‰å¾ˆå¤šä¸éœ€è¦çš„æ— å…³å‚æ•°ï¼Œå’±ä»¬å¯ä»¥ä½¿ç”¨ä¸€å±‚æœåŠ¡å¯¹ä¼ å…¥å‚æ•°è¿‡æ»¤åå†é…ç½®åˆ°å¹³å°ä¸Šï¼Œé¿å…å¯¼è‡´ç»“æœè¿‡å¤§ï¼Œè¶…å‡ºå¯¹è¯ä¸Šä¸‹æ–‡é™åˆ¶çš„ tokens æ•°é‡ã€‚</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æ¬¢è¿å¤§å®¶è¸Šè·ƒ<a href="https://www.coze.cn/store/plugin" target="_blank" rel="noreferrer">è´¡çŒ®æ’ä»¶</a>ï¼Œç†è®ºä¸Šé…åˆè‡ªå®šä¹‰APIï¼Œæœºå™¨äººå°±æœ‰æ— é™çš„å¯èƒ½ã€‚</p>
<p>ä½“éªŒæ–‡ç« æ­å»ºçš„<a href="https://www.coze.cn/store/bot/7339921359969108031?from=bots_card" target="_blank" rel="noreferrer">æ˜é‡‘çƒ­æ¦œåˆ†ææœºå™¨äºº</a></p>
<p>bot IDï¼›7339921359969108031</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/juejin-hot-rank-bot/e873781d6738026921ae38111f8a4019.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[stable-diffusion å­¦ä¹ ç¬”è®°]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/stable-diffusion/</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/stable-diffusion/</guid>
            <pubDate>Sun, 02 Jul 2023 23:26:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
ç¬”è€…ä¸ä¼špythonï¼Œä¹Ÿä¸ä¼šæœºå™¨å­¦ä¹ ï¼Œä½†æ˜¯å¯¹äºSDä¸€ç›´å¾ˆæ„Ÿå…´è¶£ï¼Œæœ€è¿‘æœ‰ç©ºé—²æ—¶é—´ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ stable-diffusion å­¦ä¹ ç¬”è®°ã€‚
 ç›®å½•
* Mac å®‰è£… stable-diff]]></description>
            <content:encoded><![CDATA[<h1 id="stable-diffusion-å­¦ä¹ ç¬”è®°" tabindex="-1">stable-diffusion å­¦ä¹ ç¬”è®° <a class="header-anchor" href="#stable-diffusion-å­¦ä¹ ç¬”è®°" aria-label="Permalink to â€œstable-diffusion å­¦ä¹ ç¬”è®°â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>ç¬”è€…ä¸ä¼špythonï¼Œä¹Ÿä¸ä¼šæœºå™¨å­¦ä¹ ï¼Œä½†æ˜¯å¯¹äºSDä¸€ç›´å¾ˆæ„Ÿå…´è¶£ï¼Œæœ€è¿‘æœ‰ç©ºé—²æ—¶é—´ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ stable-diffusion å­¦ä¹ ç¬”è®°ã€‚</p>
<h2 id="ç›®å½•" tabindex="-1">ç›®å½• <a class="header-anchor" href="#ç›®å½•" aria-label="Permalink to â€œç›®å½•â€">&#8203;</a></h2>
<ul>
<li><a href="./mac-install.html">Mac å®‰è£… stable-diffusion</a></li>
</ul>
<h2 id="å‚è€ƒå­¦ä¹ èµ„æ–™" tabindex="-1">å‚è€ƒå­¦ä¹ èµ„æ–™ <a class="header-anchor" href="#å‚è€ƒå­¦ä¹ èµ„æ–™" aria-label="Permalink to â€œå‚è€ƒå­¦ä¹ èµ„æ–™â€">&#8203;</a></h2>
<p>æ–‡å­—ï¼š</p>
<ul>
<li><a href="https://mp.weixin.qq.com/s/eFi-xoVDQomzCBr5kO9nHA" target="_blank" rel="noreferrer">è€—æ—¶80å°æ—¶ï¼è¶…è¯¦ç»†çš„èƒæ•™çº§Stable Diffusionä½¿ç”¨æ•™ç¨‹ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿï¼</a></li>
<li><a href="https://tob-design.yuque.com/kxcufk/sd" target="_blank" rel="noreferrer">Stable Diffusion çŸ¥è¯†åº“</a></li>
</ul>
<p>YouTube è§†é¢‘ï¼š</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=CHYiiVK8V6o" target="_blank" rel="noreferrer">Stable Diffusion Webuiæ‰«ç›²+Mac M1/M2 å®‰è£…ï¼Œä¸­æ–‡ç‰ˆï¼Œæ— éœ€GPU</a></li>
<li><a href="https://www.youtube.com/watch?v=EYEmdz7ez0M&amp;t=361s" target="_blank" rel="noreferrer">ğŸ¼Stable Diffusion è…¾è®¯äº‘å®‰è£…éƒ¨ç½²æ•™ç¨‹ä¹‹æ¨¡å‹ä¸æ’ä»¶ çŸ¥è¯†ç‚¹ï¼šåŸç”ŸSDå¤§æ¨¡å‹å’Œloraä¸‹è½½ | SDæ’ä»¶ä¸‹è½½ | controlnetæ¨¡å‹ç¼ºå¤±ä¸‹è½½å’Œåˆ é™¤ï¼ˆç‹¬å®¶è„šæœ¬ï¼‰</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Mac å®‰è£… stable-diffusion]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/stable-diffusion/mac-install.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/ai/stable-diffusion/mac-install.html</guid>
            <pubDate>Sun, 02 Jul 2023 23:26:00 GMT</pubDate>
            <description><![CDATA[Mac å®æ“å®‰è£… stable-diffusionï¼ŒåŒ…å«ç¯å¢ƒé…ç½®ï¼Œsdæ’ä»¶å®‰è£…ï¼Œæ¨¡å‹å®‰è£…ç­‰å†…å®¹]]></description>
            <content:encoded><![CDATA[<h1 id="mac-å®‰è£…-stable-diffusion" tabindex="-1">Mac å®‰è£… stable-diffusion <a class="header-anchor" href="#mac-å®‰è£…-stable-diffusion" aria-label="Permalink to â€œMac å®‰è£… stable-diffusionâ€">&#8203;</a></h1>
<p>ç¬”è€…æ‰€ä½¿ç”¨è®¾å¤‡ Mac miniï¼ˆmacOS Venturaï¼‰ï¼Œå¦‚è¯»è€…ä½ æ˜¯ window è¯·è‡ªè¡Œè°·æ­Œ window å®‰è£… stable-diffusion æ•™ç¨‹ã€‚</p>
<p>ç¬”è€…ä¸ä¼špythonï¼Œä¹Ÿä¸ä¼šæœºå™¨å­¦ä¹ ï¼Œå®‰è£…è¿‡ç¨‹å¯èƒ½ä¸æ˜¯æœ€ä½³çš„æ–¹å¼ï¼Œä½†æ˜¯èƒ½è·‘èµ·æ¥ï¼ˆhhï¼‰ã€‚</p>
<blockquote>
<nav class="table-of-contents"><ul><li><a href="#ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡</a><ul><li><a href="#å®‰è£…python">å®‰è£…python</a></li><li><a href="#å®‰è£…-stable-diffusion-webui">å®‰è£… stable-diffusion-webui</a></li></ul></li><li><a href="#é…ç½®-stable-diffusion-webui">é…ç½® stable-diffusion-webui</a><ul><li><a href="#æ±‰åŒ–">æ±‰åŒ–</a></li><li><a href="#å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</a></li></ul></li><li><a href="#å®‰è£…æ¨¡å‹">å®‰è£…æ¨¡å‹</a></li><li><a href="#ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨</a></li></ul></nav>
</blockquote>
<h2 id="ç¯å¢ƒå‡†å¤‡" tabindex="-1">ç¯å¢ƒå‡†å¤‡ <a class="header-anchor" href="#ç¯å¢ƒå‡†å¤‡" aria-label="Permalink to â€œç¯å¢ƒå‡†å¤‡â€">&#8203;</a></h2>
<ul>
<li>ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼šç¡®ä¿å®‰è£…è¿‡ç¨‹ç½‘ç»œé€šç•…</li>
<li><a href="https://www.python.org/downloads/release/python-3106/" target="_blank" rel="noreferrer">python 3.16.0</a> ï¼šç¡®ä¿å¤§éƒ¨åˆ†ä¾èµ–åº“èƒ½é¡ºåˆ©è¿è¡Œ</li>
<li><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui" target="_blank" rel="noreferrer">stable-diffusion-webui</a>ï¼šsd ç½‘é¡µåº”ç”¨</li>
</ul>
<h3 id="å®‰è£…python" tabindex="-1">å®‰è£…python <a class="header-anchor" href="#å®‰è£…python" aria-label="Permalink to â€œå®‰è£…pythonâ€">&#8203;</a></h3>
<blockquote>
<p>ç¬”è€…çš„æ“ä½œä¸ä¸€å®šæ˜¯æœ€ä½³å®è·µ</p>
</blockquote>
<p>æˆ‘è¿™é‡Œä½¿ç”¨å®‰è£…åŒ…å‚»ç“œå¼çš„ä¸€é”®å®‰è£…ï¼Œä»å®˜ç½‘ä¸‹è½½ <a href="https://www.python.org/downloads/release/python-3106/" target="_blank" rel="noreferrer">python 3.16.0</a> å®‰è£…åŒ…</p>
<p><img src="./mac-install/MTY4ODMwMDc3OTM2Mg==688300779362.png" alt="" loading="lazy"></p>
<p>æ‰“å¼€ä¸‹è½½å¥½çš„å®‰è£…åŒ…ï¼Œæ— è„‘é€‰æ‹©ä¸‹ä¸€æ­¥å³å¯</p>
<p><img src="./mac-install/MTY4ODMwMDgyMDQyMw==688300820423.png" alt="" loading="lazy"></p>
<p>å®‰è£…å®Œåæ‰“å¼€ç»ˆç«¯è¾“å…¥ï¼Œ<a href="https://app.warp.dev/block/s9LVoqUBc12tgLXmwl1sQO" target="_blank" rel="noreferrer">æŸ¥çœ‹ python ç‰ˆæœ¬</a></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qoktugj33fraaqunmtahn::--><code>python3 --version</code></pre>
</div><p><img src="./mac-install/MTY4ODMwMTAyODI2Nw==688301028267.png" alt="" loading="lazy"></p>
<p>è¿™é‡Œå¯ä»¥åœ¨<code>~/.zshrc</code>ä¸­è®¾ç½®ä¸€ä¸ªåˆ«å<code>python</code>ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::m8180bam0xc7yzvsfsjme6::--><code>alias python=python3</code></pre>
</div><p><img src="./mac-install/MTY4ODMwMTEwMTgzNw==688301101837.png" alt="" loading="lazy"></p>
<p><img src="./mac-install/MTY4ODMwMTEzMjgzNQ==688301132835.png" alt="" loading="lazy"></p>
<h3 id="å®‰è£…-stable-diffusion-webui" tabindex="-1">å®‰è£… stable-diffusion-webui <a class="header-anchor" href="#å®‰è£…-stable-diffusion-webui" aria-label="Permalink to â€œå®‰è£… stable-diffusion-webuiâ€">&#8203;</a></h3>
<p>clone é¡¹ç›®åˆ°æœ¬åœ°</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::makgzbrc0f4lthhk9p3lo::--><code>git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git</code></pre>
</div><p>å…‹éš†å®Œæˆåè¿›å…¥é¡¹ç›®ç›®å½•</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::374als984curozsq2z2y7::--><code>cd stable-diffusion-webui</code></pre>
</div><p>å®‰è£…é¡¹ç›®ä¾èµ–(æ­¤è¿‡ç¨‹ä¼šæŒç»­ä¸€æ®µæ—¶é—´)</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::s77yljpz6zjzb8p7bl8ote::--><code>pip install -r requirements.txt</code></pre>
</div><p>å¯åŠ¨é¡¹ç›®</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::96apalp8lckkwq1ba15ta::--><code>./webui.sh</code></pre>
</div><p><img src="./mac-install/MTY4ODMwMTU4NTA0Mw==688301585043.png" alt="" loading="lazy"></p>
<p>è®¿é—® <code>http://127.0.0.1:7860/</code> å³å¯åº”ç”¨çš„å†…å®¹</p>
<p><img src="./mac-install/MTY4ODMwMTY2MTk5MA==688301661990.png" alt="" loading="lazy"></p>
<h2 id="é…ç½®-stable-diffusion-webui" tabindex="-1">é…ç½® stable-diffusion-webui <a class="header-anchor" href="#é…ç½®-stable-diffusion-webui" aria-label="Permalink to â€œé…ç½® stable-diffusion-webuiâ€">&#8203;</a></h2>
<h3 id="æ±‰åŒ–" tabindex="-1">æ±‰åŒ– <a class="header-anchor" href="#æ±‰åŒ–" aria-label="Permalink to â€œæ±‰åŒ–â€">&#8203;</a></h3>
<p>ä¸ºäº†æ–¹ä¾¿åç»­çš„ä½¿ç”¨æˆ‘ä»¬å¯ä»¥å°† stable-diffusion-webui æ±‰åŒ–ä¸€ä¸‹</p>
<p>ä½¿ç”¨æ’ä»¶<a href="https://github.com/VinsonLaro/stable-diffusion-webui-chinese" target="_blank" rel="noreferrer">stable-diffusion-webui-chinese</a></p>
<p>å®‰è£…æ“ä½œè·¯å¾„: <code>Extensions</code> =&gt; <code>URL for extension's git repository</code> =&gt; <code>Install</code></p>
<p><img src="./mac-install/MTY4ODMwMTc1ODg0MQ==688301758841.png" alt="" loading="lazy"></p>
<p>è¾“å…¥æ’ä»¶åœ°å€ï¼š<code>https://github.com/VinsonLaro/stable-diffusion-webui-chinese</code>,ç‚¹å‡»<code>Install</code>å³å¯</p>
<p>ç´§æ¥ç€åº”ç”¨æ’ä»¶ï¼š<code>Installed</code> =&gt; <code>Apply and restart UI</code></p>
<p><img src="./mac-install/MTY4ODMwMTk0NTg4Nw==688301945887.png" alt="" loading="lazy"></p>
<p>è®¾ç½®æ±‰åŒ–ï¼š<code>Settings</code> =&gt; <code>User Interface</code> =&gt; <code>Localization</code> =&gt; <code>Apply Settings</code> =&gt; <code>Reload UI</code></p>
<p><img src="./mac-install/MTY4ODMwMjA5NjAwMQ==688302096001.png" alt="" loading="lazy"></p>
<p>æ¨èä½¿ç”¨ä¸­è‹±å¯¹ç…§ï¼Œæ–¹ä¾¿è§‚çœ‹éƒ¨åˆ†è‹±æ–‡æ•™ç¨‹</p>
<p><img src="./mac-install/MTY4ODMwMjM3MTAwNw==688302371007.png" alt="" loading="lazy"></p>
<p>å†æ¬¡è®¿é—®å³å¯çœ‹åˆ°è‹±æ–‡æ±‰åŒ–çš„å†…å®¹</p>
<h3 id="å®‰è£…æ’ä»¶" tabindex="-1">å®‰è£…æ’ä»¶ <a class="header-anchor" href="#å®‰è£…æ’ä»¶" aria-label="Permalink to â€œå®‰è£…æ’ä»¶â€">&#8203;</a></h3>
<p>ç”±äºç½‘ç»œé—®é¢˜å¯èƒ½ä¼šå‡ºç°è®¿é—®å¤±è´¥çš„æƒ…å†µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="./mac-install/MTY4ODMwMjQ0NDUwNg==688302444506.png" alt="" loading="lazy"></p>
<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨ç¬”è€…çš„CVä¸‹æ¥çš„é…ç½®<code>https://script.sugarat.top/json/sd.json</code></p>
<p>æˆ–è€…æµè§ˆå™¨è®¿é—®<a href="https://raw.githubusercontent.com/AUTOMATIC1111/stable-diffusion-webui-extensions/master/index.json" target="_blank" rel="noreferrer">é“¾æ¥èµ„æº</a>ï¼Œå°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæœ¬åœ°å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼ˆæ¯”å¦‚ä½¿ç”¨<a href="https://www.npmjs.com/package/http-server" target="_blank" rel="noreferrer">http-server</a>ï¼‰</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::4x9iwlado3lytdrr6hfqup::--><code>npx http-server</code></pre>
</div><p><img src="./mac-install/MTY4ODMwMjc3ODEzNg==688302778136.png" alt="" loading="lazy"></p>
<p>urlè®¾ç½®ä¸º<code>http://127.0.0.1:8080/sd.json</code>å³å¯ï¼Œç‚¹å‡» åŠ è½½ å³å¯çœ‹åˆ°æ’ä»¶åˆ—è¡¨</p>
<p><img src="./mac-install/MTY4ODMwMzI4NTY5Mg==688303285692.png" alt="" loading="lazy"></p>
<p>ä¾‹å¦‚ å®‰è£… <code>sd-webui-controlnet</code> å’Œ <code>3D Openpose Editor</code></p>
<p>æœç´¢<code>controlnet</code>ï¼Œæ‰¾åˆ°ç›¸åº”çš„æ’ä»¶ï¼Œç‚¹å‡» <code>Installed</code> å³å¯</p>
<p><img src="./mac-install/MTY4ODMwNTU2NjA0Mw==688305566043.png" alt="" loading="lazy"></p>
<p>åœ¨å·²å®‰è£…åˆ—è¡¨å³å¯çœ‹åˆ°å®‰è£…çš„æ’ä»¶</p>
<p><img src="./mac-install/MTY4ODMwNjIyOTMxNg==688306229316.png" alt="" loading="lazy"></p>
<p>é‡å¯åå³å¯çœ‹åˆ°åˆšå®‰è£…çš„æ’ä»¶ç”Ÿæ•ˆäº†</p>
<p><img src="./mac-install/MTY4ODMwNjc4MzcxMg==688306783712.png" alt="" loading="lazy"></p>
<h2 id="å®‰è£…æ¨¡å‹" tabindex="-1">å®‰è£…æ¨¡å‹ <a class="header-anchor" href="#å®‰è£…æ¨¡å‹" aria-label="Permalink to â€œå®‰è£…æ¨¡å‹â€">&#8203;</a></h2>
<blockquote>
<p>ä» <a href="https://civitai.com/" target="_blank" rel="noreferrer">C ç«™</a>ï¼š<a href="https://civitai.com/" target="_blank" rel="noreferrer">https://civitai.com/</a> ä¸‹è½½ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘å·¥å…·æ‰èƒ½è®¿é—®ï¼‰</p>
</blockquote>
<p><img src="./mac-install/MTY4ODMwOTEzMzUzNA==688309133534.png" alt="" loading="lazy"></p>
<p>æ¯”å¦‚ <a href="https://civitai.com/models/6424?modelVersionId=11745" target="_blank" rel="noreferrer">ChilloutMix</a> æ¨¡å‹</p>
<p>ç‚¹å‡»ä¸‹è½½</p>
<p><img src="./mac-install/MTY4ODMwOTI2NTU3Mg==688309265572.png" alt="" loading="lazy"></p>
<p>å¯¼å…¥ä¸‹è½½çš„æ¨¡å‹åˆ°ç›®å½• <code>models/Stable-diffusion</code></p>
<p><img src="./mac-install/MTY4ODMwOTUyMDk4MA==688309520980.png" alt="" loading="lazy"></p>
<p>ç„¶åé‡å¯æœåŠ¡æˆ–è€…ç‚¹å‡»åˆ·æ–°</p>
<p><img src="./mac-install/MTY4ODU3MDA2NDczNA==688570064734.png" alt="" loading="lazy"></p>
<p><img src="./mac-install/MTY4ODMwOTYxMDkyOA==688309610928.png" alt="" loading="lazy"></p>
<h2 id="ç®€å•ä½¿ç”¨" tabindex="-1">ç®€å•ä½¿ç”¨ <a class="header-anchor" href="#ç®€å•ä½¿ç”¨" aria-label="Permalink to â€œç®€å•ä½¿ç”¨â€">&#8203;</a></h2>
<p>å¯ä»¥ç›´æ¥ Copy å…¶å®ƒç”¨æˆ·åˆ†äº«åˆ°Cç«™ä¸Šçš„æç¤ºè¯</p>
<p>æ¯”å¦‚ä¸‹é¢<a href="https://civitai.com/images/312507?period=AllTime&amp;periodMode=published&amp;sort=Newest&amp;view=categories&amp;modelVersionId=27828&amp;modelId=23302&amp;postId=79817" target="_blank" rel="noreferrer">è¿™ä¸ªä¾‹å­</a></p>
<p>æŸ¥çœ‹å¤§å›¾æ—¶æ»‘åˆ°å³ä¸‹è§’</p>
<p><img src="./mac-install/MTY4ODMwOTg3ODUxOA==688309878518.png" alt="" loading="lazy"></p>
<p>æˆ–è€…ç¼©ç•¥å›¾å³ä¸‹è§’çš„ â€œiâ€</p>
<p><img src="./mac-install/MTY4ODMwOTkwMzgwOA==688309903808.png" alt="" loading="lazy"></p>
<p>ä¸‹é¢å®æ“ä½¿ç”¨ä¸€ä¸‹ä¸Šé¢çš„æç¤ºè¯</p>
<p>æˆ‘è¿™é‡ŒæŠŠæ­¥æ•°è°ƒæˆäº†30</p>
<div class="vp-code-group"><div class="tabs"><input type="radio" name="group-249" id="tab-250" checked><label data-title="â‘  æç¤ºè¯" for="tab-250">â‘  æç¤ºè¯</label><input type="radio" name="group-249" id="tab-251" ><label data-title="â‘¡ åå‘æç¤ºè¯" for="tab-251">â‘¡ åå‘æç¤ºè¯</label><input type="radio" name="group-249" id="tab-252" ><label data-title="â‘¢ é‡‡æ ·å™¨" for="tab-252">â‘¢ é‡‡æ ·å™¨</label><input type="radio" name="group-249" id="tab-253" ><label data-title="â‘£ æ­¥æ•°" for="tab-253">â‘£ æ­¥æ•°</label><input type="radio" name="group-249" id="tab-254" ><label data-title="â‘¤ å¼•å¯¼ç³»æ•°" for="tab-254">â‘¤ å¼•å¯¼ç³»æ•°</label></div><div class="blocks">
<div class="language-txt active"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::cob4b78o4c86vw5h3xnsmf::--><code>extremely detailed CG uniform 8k illustrations, high color substitution, sketches graffiti art, illustrations photo, masterpiece, hyper detailed, best quality, ultra high res, high resolution, (intricate details), perfect lighting, best shadow, (graffiti wall:1.4), 1 girl, (extremely detailed face and eyes), (shiny big eyes), (shiny graffiti long hair:1.2), ((colorful)), ((colorful illustrations)), face focus, lip gloss, random eyes color,</code></pre>
</div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::5v1qjq2f0zhqes13ut6b09::--><code>by bad-picture-chill-75v, nude, porn, nipples, pussy, pornography, canvas frame, cartoon, 3d, ((disfigured)), ((bad art)), ((deformed)),((extra limbs)),((close up)),((b&amp;w)), wierd colors, blurry, (((duplicate))), ((morbid)), ((mutilated)), [out of frame], extra fingers, mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), ((ugly)), blurry, ((bad anatomy)), (((bad proportions))), ((extra limbs)), cloned face, (((disfigured))), out of frame, ugly, extra limbs, (bad anatomy), gross proportions, (malformed limbs), ((missing arms)), ((missing legs)), (((extra arms))), (((extra legs))), mutated hands, (fused fingers), (too many fingers), (((long neck))), Photoshop, video game, ugly, tiling, poorly drawn hands, poorly drawn feet, poorly drawn face, out of frame, mutation, mutated, extra limbs, extra legs, extra arms, disfigured, deformed, cross-eye, body out of frame, blurry, bad art, bad anatomy, 3d render, background blur, (blurred background),  (briefs), (triangle pants), watermark, astigmatism, scattered light, lens astigmatism, chest light, shiny boobs, glowing boobs, halo, fog, hazy,</code></pre>
</div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::fm2kzskirzl8fruqoei7::--><code>DPM++ SDE Karras</code></pre>
</div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::32gl8zfj0vql2decogw4ej::--><code>30</code></pre>
</div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre><!--::markdown-it-async::bk5nh0lwlcig5wycdf38wk::--><code>9</code></pre>
</div></div></div>
<p>æœ€åæ•ˆæœå¦‚ä¸‹</p>
<p><img src="./mac-install/MTY4ODMxMTAyMTY2Ng==688311021666.png" alt="" loading="lazy"></p>
<p><img src="./mac-install/MTY4ODMxMTI1MTEzNw==688311251137.png" alt="" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://img.cdn.sugarat.top/mdImg/MTY4ODMwOTEzMzUzNA==688309133534" length="0" type="image//mdImg/MTY4ODMwOTEzMzUzNA==688309133534"/>
        </item>
        <item>
            <title><![CDATA[ä¸€ä¸ªç®€çº¦é£çš„vitepressåšå®¢ä¸»é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/theme.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/theme.html</guid>
            <pubDate>Sun, 05 Feb 2023 14:00:00 GMT</pubDate>
            <description><![CDATA[ç®€çº¦é£çš„vitepressåšå®¢ä¸»é¢˜ä»‹ç»]]></description>
            <content:encoded><![CDATA[<h1 id="ä¸€ä¸ªç®€çº¦é£çš„vitepressåšå®¢ä¸»é¢˜" tabindex="-1">ä¸€ä¸ªç®€çº¦é£çš„vitepressåšå®¢ä¸»é¢˜ <a class="header-anchor" href="#ä¸€ä¸ªç®€çº¦é£çš„vitepressåšå®¢ä¸»é¢˜" aria-label="Permalink to â€œä¸€ä¸ªç®€çº¦é£çš„vitepressåšå®¢ä¸»é¢˜â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>ç¬”è€…çš„åšå®¢ä¹‹å‰æ˜¯ä½¿ç”¨ <a href="https://vuepress.vuejs.org/" target="_blank" rel="noreferrer">VuePress</a> + <a href="https://vuepress-theme-reco.recoluan.com/" target="_blank" rel="noreferrer">recoä¸»é¢˜</a></p>
<p>éšç€åšå®¢æ–‡ç« æ•°é‡è¶Šæ¥è¶Šå¤šï¼ˆmdæ–‡ä»¶å·²ç»300+äº†ï¼‰ï¼Œåšå®¢æœ¬åœ°å¯åŠ¨å’Œæ„å»ºè¶Šæ¥è¶Šæ¥æ…¢äº†emmm</p>
<p>å½“ç„¶ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å°±æ˜¯æœ¬åœ°å¯åŠ¨ï¼Œæ„å»ºæ˜¯ä¸ªç›¸å¯¹æ¯”è¾ƒä½é¢‘çš„åŠ¨ä½œã€‚</p>
<p>æ°å¥½æ­¤æ—¶ <a href="https://vitepress.dev/" target="_blank" rel="noreferrer">VitePress</a> ä¹Ÿæ¯”è¾ƒæˆç†Ÿäº†ï¼ˆalphaï¼‰ï¼Œç›¸æ¯” VuePress æ›´åŠ çš„ç®€æ´ï¼Œå¯ç©æ€§å¼ºï¼Œä¸Šæ‰‹æˆæœ¬ä¹Ÿä½ã€‚</p>
<p>æŒ‰ç…§å®˜æ–¹çš„ç»™çš„å®šä½ï¼ŒVitePress ä¸»æ‰“æ˜¯ä¸»é¢˜ï¼ˆä¸ªäººæ„Ÿè§‰å°±åƒ<a href="https://hexo.io/zh-cn/" target="_blank" rel="noreferrer">Hexo</a>ä¸°å¯Œå¤šå½©çš„ä¸»é¢˜ä¸€æ ·ï¼‰ï¼Œä¸æä¾›æ’ä»¶ç³»ç»Ÿ</p>
<p><img src="./theme/MTY3NTU3MjY0MjgzNQ==675572642835.png" alt="" loading="lazy"></p>
<p>åœ¨ç¬”è€…è¿›è¡Œåšå®¢è¿ç§»çš„æ—¶å€™ï¼Œå°†ä¸»é¢˜åˆ†ç¦»äº†å‡ºæ¥ï¼Œå¯ä¾›å•ç‹¬ä½¿ç”¨</p>
<p>æ–°æ—§å¯¹æ¯”</p>
<p><img src="./theme/MTY3NTU3NDk0OTI2Ng==675574949266.png" alt="æ–°æ—§åšå®¢å¯¹æ¯”" loading="lazy"></p>
<p>é£æ ¼å€Ÿé‰´äº† <a href="https://vuepress-theme-reco.recoluan.com/" target="_blank" rel="noreferrer">reco</a> ï¼Œ<a href="https://juejin.cn/" target="_blank" rel="noreferrer">æ˜é‡‘</a>ï¼Œ<a href="https://surmon.me/" target="_blank" rel="noreferrer">surmon</a>ç­‰ç­‰ï¼Œç»„ä»¶éƒ¨åˆ†ç”¨äº† <a href="https://element-plus.gitee.io/zh-CN/" target="_blank" rel="noreferrer">element-plus</a></p>
<p>ä¸‹é¢ä»‹ç»é£Ÿç”¨æŒ‡å—ï¼ˆ<a href="https://www.npmjs.com/package/@sugarat/theme" target="_blank" rel="noreferrer">ä¸»é¢˜</a>å®ç°å†…å®¹æ¯”è¾ƒå¤šï¼Œåé¢å•å¼€ä¸€ä¸ªä¸“æ ä»‹ç» ğŸ˜‹å˜¿å˜¿ï¼ï¼‰</p>
<h2 id="å¿«é€Ÿä½“éªŒ" tabindex="-1">å¿«é€Ÿä½“éªŒ <a class="header-anchor" href="#å¿«é€Ÿä½“éªŒ" aria-label="Permalink to â€œå¿«é€Ÿä½“éªŒâ€">&#8203;</a></h2>
<p>åªéœ€3æ­¥ï¼Œå³å¯ä½“éªŒ</p>
<p>â‘  æ‹‰å– Github æ¨¡æ¿</p>
<div class="vp-code-group"><div class="tabs"><input type="radio" name="group-48" id="tab-49" checked><label data-title="npm" for="tab-49">npm</label><input type="radio" name="group-48" id="tab-50" ><label data-title="yarn" for="tab-50">yarn</label><input type="radio" name="group-48" id="tab-51" ><label data-title="pnpm" for="tab-51">pnpm</label></div><div class="blocks">
<div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::pho9t3ci62nsgmweym4kue::--><code>npm create @sugarat/theme@latest</code></pre>
</div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::kvipwgxgybuowckc9tco::--><code>yarn create @sugarat/theme</code></pre>
</div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::5tpjmahr71fpktnndvrmb::--><code>pnpm create @sugarat/theme</code></pre>
</div></div></div>
<p>ä¹Ÿå¯ä»¥æŒ‡å®šé¡¹ç›®å</p>
<div class="vp-code-group"><div class="tabs"><input type="radio" name="group-56" id="tab-57" checked><label data-title="npm" for="tab-57">npm</label><input type="radio" name="group-56" id="tab-58" ><label data-title="yarn" for="tab-58">yarn</label><input type="radio" name="group-56" id="tab-59" ><label data-title="pnpm" for="tab-59">pnpm</label></div><div class="blocks">
<div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::6tbhiwexim8l79twvamrmb::--><code>npm create @sugarat/theme@latest my-first-blog</code></pre>
</div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::8e5t782yjbt64y52l24gyo::--><code>yarn create @sugarat/theme my-first-blog</code></pre>
</div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::j7z97ds8spss2nwzu22jxa::--><code>pnpm create @sugarat/theme my-first-blog</code></pre>
</div></div></div>
<p><img src="./theme/MTY4OTQyMDE1NTcxMA==689420155710.png" alt="" loading="lazy"></p>
<p>â‘¡ å®‰è£…ä¾èµ–</p>
<div class="vp-code-group"><div class="tabs"><input type="radio" name="group-67" id="tab-68" checked><label data-title="pnpm" for="tab-68">pnpm</label><input type="radio" name="group-67" id="tab-69" ><label data-title="å®‰è£… PNPM" for="tab-69">å®‰è£… PNPM</label></div><div class="blocks">
<div class="language-sh active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::gvkjjnypmfdpaiuy52s1h::--><code>pnpm install</code></pre>
</div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::xxjt0qcma9l0q0lvvsf6qnm::--><code># å¦‚æœä½ æ²¡æœ‰ PNPM è¯·å…ˆå®‰è£…
npm i -g pnpm</code></pre>
</div></div></div>
<p>â‘¢ å¯åŠ¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qlc6fc0vapxj3fpo762wq::--><code>pnpm dev</code></pre>
</div><p>å°±èƒ½å¾—åˆ°å¦‚ä¸‹çš„é¡µé¢</p>
<p><img src="./theme/MTY3NTU3NDMxODU0OA==675574318548.png" alt="" loading="lazy"></p>
<h2 id="å·²æ”¯æŒåŠŸèƒ½" tabindex="-1">å·²æ”¯æŒåŠŸèƒ½ <a class="header-anchor" href="#å·²æ”¯æŒåŠŸèƒ½" aria-label="Permalink to â€œå·²æ”¯æŒåŠŸèƒ½â€">&#8203;</a></h2>
<p>ä»‹ç»ä¸€ä¸‹ä¸»è¦çš„ï¼Œéæ‰€æœ‰ï¼Œè¯¦è§<a href="https://theme.sugarat.top/" target="_blank" rel="noreferrer">ä¸»é¢˜æ–‡æ¡£</a></p>
<ul>
<li>åšå®¢é¦–é¡µ
<ul>
<li>æ–‡ç« åˆ—è¡¨</li>
<li>ç²¾é€‰æ–‡ç« </li>
<li>å‹é“¾</li>
<li>æ ‡ç­¾åˆ†ç±»</li>
</ul>
</li>
<li>å›¾ç‰‡é¢„è§ˆ</li>
<li>æœç´¢ï¼ˆæ ‡é¢˜+ç®€ä»‹ï¼‰</li>
<li><a href="https://giscus.app/zh-CN" target="_blank" rel="noreferrer">giscus</a> è¯„è®ºç³»ç»Ÿ</li>
<li>æ¨èæ–‡ç« ï¼ˆåŒç›®å½•ï¼‰</li>
<li>é˜…è¯»æ—¶é—´è®¡ç®—</li>
<li>å…¨å±€çš„æç¤ºå¼¹çª— (ç”± <a href="https://element-plus.gitee.io/zh-CN/component/alert.html" target="_blank" rel="noreferrer">el-alert</a> é©±åŠ¨)</li>
<li>å…¨å±€çš„å…¬å‘Šå¼¹çª—ï¼Œæ”¯æŒè®¾ç½®å›¾ç‰‡ï¼Œæ–‡å­—ï¼ŒæŒ‰é’®</li>
<li>å…¨æ–‡æœç´¢</li>
<li>RSS</li>
<li>...</li>
</ul>
<h2 id="è§„åˆ’ä¸­åŠŸèƒ½" tabindex="-1">è§„åˆ’ä¸­åŠŸèƒ½ <a class="header-anchor" href="#è§„åˆ’ä¸­åŠŸèƒ½" aria-label="Permalink to â€œè§„åˆ’ä¸­åŠŸèƒ½â€">&#8203;</a></h2>
<ul>
<li>Valine è¯„è®ºç³»ç»Ÿ</li>
<li>æ–‡ç« åˆé›†</li>
<li>æ›´å¤šå¯å®šåˆ¶çš„ä¸»é¢˜æ ·å¼</li>
<li>ã€‚ã€‚ã€‚</li>
</ul>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>è¯»è€…æœ‰å»ºè®®çš„ åŠŸèƒ½&amp;æƒ³æ³• æ¬¢è¿ ç§ä¿¡&amp;è¯„è®ºåŒº äº¤æµ</p>
<ul>
<li>ä¸»é¢˜åœ°å€ï¼š<a href="https://theme.sugarat.top/" target="_blank" rel="noreferrer">https://theme.sugarat.top/</a></li>
<li>ä¸»é¢˜åŒ…ï¼š<a href="https://www.npmjs.com/package/@sugarat/theme" target="_blank" rel="noreferrer">@sugarat/theme</a></li>
<li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/ripplejourney/ripplejourney.github.io/tree/master/packages/theme" target="_blank" rel="noreferrer">https://github.com/ripplejourney/ripplejourney.github.io/tree/master/packages/theme</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/theme/MTY3MzE3MDUxOTMwMw==673170519303.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½CLIå·¥å…·]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/fs-cli.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/fs-cli.html</guid>
            <pubDate>Wed, 09 Nov 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
åœ¨æ—¥å¸¸å­¦ä¹ /ç”Ÿæ´»ä¸­ï¼Œä¸‹è½½èµ„æºæ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ˜¯é€šè¿‡åˆ«äººåˆ†äº«çš„èµ„æºç«™ç‚¹ï¼Œæ‰¾åˆ°ä¸‹è½½å…¥å£ç„¶åè§¦å‘ä¸‹è½½ã€‚
å½“èµ„æºé€šè¿‡urlä¼ æ’­çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¹Ÿæ˜¯ç›´æ¥æ‰“å¼€ï¼Œé€šè¿‡æµè§ˆå™¨è§¦å‘ä¸‹è½½ã€‚
èµ„æ·±çš„å†²æµªé€‰æ‰‹ï¼Œä¸€èˆ¬ä¼šç”¨ä¸€äº›å®¢]]></description>
            <content:encoded><![CDATA[<h1 id="ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½cliå·¥å…·" tabindex="-1">ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½CLIå·¥å…· <a class="header-anchor" href="#ä»0-1å®ç°æ–‡ä»¶ä¸‹è½½cliå·¥å…·" aria-label="Permalink to â€œä»0-1å®ç°æ–‡ä»¶ä¸‹è½½CLIå·¥å…·â€">&#8203;</a></h1>
<blockquote>
<p>æœ¬æ–‡ä¸ºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œ14å¤©å†…ç¦æ­¢è½¬è½½ï¼Œ14å¤©åæœªè·æˆæƒç¦æ­¢è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼</p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨æ—¥å¸¸å­¦ä¹ /ç”Ÿæ´»ä¸­ï¼Œä¸‹è½½èµ„æºæ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ˜¯é€šè¿‡åˆ«äººåˆ†äº«çš„èµ„æºç«™ç‚¹ï¼Œæ‰¾åˆ°ä¸‹è½½å…¥å£ç„¶åè§¦å‘ä¸‹è½½ã€‚</p>
<p>å½“èµ„æºé€šè¿‡urlä¼ æ’­çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¹Ÿæ˜¯ç›´æ¥æ‰“å¼€ï¼Œé€šè¿‡æµè§ˆå™¨è§¦å‘ä¸‹è½½ã€‚</p>
<p>èµ„æ·±çš„å†²æµªé€‰æ‰‹ï¼Œä¸€èˆ¬ä¼šç”¨ä¸€äº›å®¢æˆ·ç«¯å·¥å…·ï¼ˆè¿˜è®°å¾—Winä¸Šçš„å„ç§ä¸‹è½½å™¨ï¼‰ï¼ŒMacä¸Šç¬”è€…æœ‰æ—¶å€™ä¼šä½¿ç”¨ <a href="https://www.neatdownloadmanager.com/index.php/en/" target="_blank" rel="noreferrer">NeatDownloadManager</a>ï¼Œæ—  ğŸªœ æ—¶ä¹Ÿèƒ½æ‹¥æœ‰ä¸é”™çš„ä¸‹è½½é€Ÿåº¦</p>
<p><strong>Coder</strong>ä»¬ç”¨å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶çš„æ–¹å¼å°±å¾ˆå¤šäº†ï¼Œæ¯”å¦‚æœ€å¸¸ä½¿ç”¨çš„å†…ç½®åº“ <a href="https://github.com/curl/curl" target="_blank" rel="noreferrer">curl</a></p>
<p>ä¸‹é¢æ˜¯æœ€å¸¸ç”¨çš„æ‹‰å–èµ„æºçš„ä¾‹å­</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::hi4g3tozs1vi1uyqeei4h::--><code># é“¾æ¥æ˜¯ç¬¬ä¸‰æ–¹æœåŠ¡ç¼©çŸ­åçš„
# -L å‚æ•°è¡¨æ˜è‡ªåŠ¨å¯¹èµ„æºè¿›è¡Œé‡å®šå‘
curl -L http://mtw.so/5YIGGb -o ç ä¸Šæ˜é‡‘logo.image

# é€šè¿‡ç®¡é“
curl -L http://mtw.so/6647Rc &gt;ç ä¸Šæ˜é‡‘logo.image

# åŸå›¾é“¾æ¥ https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/759e2aa805c0461b840e0f0f09ed05fa~tplv-k3u1fbpfcp-zoom-1.image</code></pre>
</div><p>å½“ç„¶ <strong>curl</strong> ä¹Ÿæ”¯æŒä¸Šä¼ ä¸‹è½½ï¼Œä»¥åŠå¤šç§ä¼ è¾“åè®®ï¼Œå…·ä½“ç”¨æ³•è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥å‰å¾€<a href="https://wangchujiang.com/reference/docs/curl.html" target="_blank" rel="noreferrer">Quick Reference: Curl å¤‡å¿˜æ¸…å•</a> è¿›ä¸€æ­¥äº†è§£ã€‚</p>
<p>æœ¬æ–‡ä» 0-1 ä½¿ç”¨Nodeå®ç°ä¸€ä¸ª <code>urlæ–‡ä»¶ä¸‹è½½</code> å·¥å…·ï¼Œè¯»è€…å¯ä»¥æ”¶è·åŒ…å«ä½†ä¸é™äºå¦‚ä¸‹çŸ¥è¯†ç‚¹ï¼Œ</p>
<p><code>Nodeå®ç°ä¸‹è½½æ–‡ä»¶</code>ï¼Œ<code>å¦‚ä½•é€šè¿‡Proxyï¼ˆğŸªœï¼‰ä»£ç†ä¸‹è½½èµ„æº</code>ï¼Œ<code>é€šç”¨çš„Nodeæœ¬åœ°æŒä¹…åŒ–å­˜å‚¨æ–¹æ³•</code>ï¼Œ<code>fs/path/httpç­‰æ¨¡å—çš„å¸¸è§ç”¨æ³•</code>ç­‰ã€‚</p>
<p>å¯¹åŒ…å«æ–‡ä»¶ä¸‹è½½åœºæ™¯çš„<strong>CLI</strong>æä¾›ä¸€ä¸ªå®è·µå‚è€ƒã€‚</p>
<p>ä¸‹é¢æ˜¯ç®€å•çš„ä½¿ç”¨æ¼”ç¤ºï¼Œå¯¹å®ç°æ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥æ¥ç€å¾€ä¸‹é˜…è¯»</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zqrspo1frkh3yad29r5jji::--><code>npx efst http://mtw.so/66eO7c</code></pre>
</div><p><img src="./fs-cli/MTY2ODkyMDg3NDEwNg==668920874106.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="urlèµ„æºä¸‹è½½" tabindex="-1">urlèµ„æºä¸‹è½½ <a class="header-anchor" href="#urlèµ„æºä¸‹è½½" aria-label="Permalink to â€œurlèµ„æºä¸‹è½½â€">&#8203;</a></h2>
<p>å…ˆæ˜¯çº¯ <strong>urlèµ„æºä¸‹è½½</strong> çš„åœºæ™¯ï¼Œæœ¬å°èŠ‚å°†è¯¦ç»†å±•å¼€ç›¸å…³å°åŠŸèƒ½çš„å®ç°ã€‚</p>
<h3 id="nodeåŸç”Ÿå®ç°" tabindex="-1">NodeåŸç”Ÿå®ç° <a class="header-anchor" href="#nodeåŸç”Ÿå®ç°" aria-label="Permalink to â€œNodeåŸç”Ÿå®ç°â€">&#8203;</a></h3>
<p>åŸºäº<code>è¯»å†™æµ</code>æ“ä½œï¼Œå¯ä»¥çœ‹åˆ°ä»£ç è¿˜æ˜¯ååˆ†çš„ç®€æ´</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::fhzcizg34beskq6ztmst::--><code>import https from &#039;https&#039;
import fs from &#039;fs&#039;
import path from &#039;path&#039;
function downloadByUrl(url: string, filename?: string) {
  const filepath = path.resolve(filename || randomName())
  https.get(url, (response) =&gt; {
    // åˆ›å»º1ä¸ªå¯å†™æµ
    const writeStream = fs.createWriteStream(filepath)
    response.pipe(writeStream).on(&#039;close&#039;, () =&gt; {
      console.log(`file save to ${filepath}`)
    })
  })
}

// sourceUrl ä¸ºå‰é¢çš„åŸå›¾é“¾æ¥
downloadByUrl(sourceUrl,&#039;test.image&#039;)</code></pre>
</div><p><img src="./fs-cli/MTY2ODI2MjI2ODMxNQ==668262268315.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/1.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 1</a></p>
<h3 id="ä¸‹è½½è¿›åº¦è·å–" tabindex="-1">ä¸‹è½½è¿›åº¦è·å– <a class="header-anchor" href="#ä¸‹è½½è¿›åº¦è·å–" aria-label="Permalink to â€œä¸‹è½½è¿›åº¦è·å–â€">&#8203;</a></h3>
<p>å¤§ä¸€ç‚¹çš„æ–‡ä»¶è‚¯å®šæ— æ³•å®ç°ç§’ä¸‹è½½ï¼Œéœ€è¦è·å–ä¸€ä¸‹è¿›åº¦ï¼Œäº†è§£ç°åœ¨ä¸‹è½½äº†å¤šå°‘</p>
<p>èµ„æºçš„æ€»å¤§å°å¯ä»¥ä¸€èˆ¬å¯ä»¥é€šè¿‡<code>response headers</code>ä¸­çš„<code>content-length</code>å­—æ®µè·å–</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zd7p2bmgvj79orud8z72t::--><code>const sumSize = +response.headers[&#039;content-length&#039;]</code></pre>
</div><p>æµçš„ä¼ è¾“è¿›åº¦å¯ä»¥é€šè¿‡<code>on data</code>äº‹ä»¶é—´æ¥è·å–</p>
<p>åœ¨ä¸é€šè¿‡<code>response.setEncoding(BufferEncoding)</code>ä¿®æ”¹çš„ç¼–ç æ—¶ï¼Œ<code>chunk</code>é»˜è®¤æ˜¯<code>Buffer</code>ç±»å‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::3gcoj5i1h5ef72abaskni::--><code>let receive = 0
response.on(&#039;data&#039;, (chunk: Buffer) =&gt; {
  receive += chunk.length
  const percentage = receive / sumSize
})</code></pre>
</div><p>åˆ°æ­¤è¿›åº¦<code>percentage</code>å°±å¯ä»¥è·å–åˆ°äº†</p>
<p>å¯¹ä¸Šé¢çš„æ–¹æ³•è¿›è¡Œç¨åŠ æ”¹é€ ï¼Œå¢åŠ <code>progress</code>ï¼Œ<code>end</code>ä¸¤ä¸ªæ–¹æ³•ï¼ˆæ”¯æŒé“¾å¼è°ƒç”¨çš„ä¸ç‰ˆå®ç°ï¼‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::9ep2ivzz3esxykrg6yfg1n::--><code>function downloadByUrl(url: string, filename?: string) {
  let receive = 0

  // æ”¯æŒé“¾å¼è°ƒç”¨ç›¸å…³é€»è¾‘
  let progressFn: (cur: number, rec: number, sum: number) =&gt; void
  let endFn: (filepath: string) =&gt; void

  const thisArg = {
    progress: (fn: typeof progressFn) =&gt; {
      progressFn = fn
      return thisArg
    },
    end: (fn: typeof endFn) =&gt; {
      endFn = fn
      return thisArg
    }
  }

  https.get(url, (response) =&gt; {
    // è¾“å‡ºæ–‡ä»¶è·¯å¾„
    const filepath = path.resolve(filename || randomName())
    // åˆ›å»ºä¸€ä¸ªå¯å†™æµ
    const writeStream = fs.createWriteStream(filepath)

    const sumSize = +response.headers[&#039;content-length&#039;]! || 0
    response.on(&#039;data&#039;, (chunk: Buffer) =&gt; {
      receive += chunk.length
      progressFn &amp;&amp; progressFn(chunk.length, receive, sumSize)
    })

    response.pipe(writeStream).on(&#039;close&#039;, () =&gt; {
      endFn &amp;&amp; endFn(filepath)
    })
  })
  return thisArg
}

// è°ƒç”¨ç¤ºä¾‹
downloadByUrl(sourceUrl, &#039;test.image&#039;)
  .progress((current, receive, sum) =&gt; {
    console.log(receive, ((receive / sum) * 100).toFixed(2), &#039;%&#039;)
  })
  .end((filepath) =&gt; {
    console.log(&#039;file save:&#039;, filepath)
  })</code></pre>
</div><p><img src="./fs-cli/MTY2ODI2MzA2OTAyMQ==668263069021.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/2.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 2</a></p>
<h3 id="é‡å®šå‘å¤„ç†" tabindex="-1">é‡å®šå‘å¤„ç† <a class="header-anchor" href="#é‡å®šå‘å¤„ç†" aria-label="Permalink to â€œé‡å®šå‘å¤„ç†â€">&#8203;</a></h3>
<p>éƒ¨åˆ†èµ„æºåœ¨å¯¹å¤–ç›´æ¥æš´éœ²æ—¶ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªçŸ­é“¾ï¼Œæ­¤æ—¶å°±éœ€è¦åšé‡å®šå‘å¤„ç†</p>
<p>é‡å®šå‘çš„çŠ¶æ€ç å¸¸è§<code>301</code>å’Œ<code>302</code>ï¼Œå½“ç„¶è¿˜æœ‰å…¶å®ƒçš„3å¼€å¤´çš„è¿™é‡Œä¸èµ˜è¿°</p>
<p>é™¤äº†çŠ¶æ€ç ï¼Œé‡å®šå‘çš„ç›®æ ‡urlç”±<code>response.headers.location</code>è¡¨ç¤º</p>
<p>è¿™é‡Œç¨å¾®æ”¹é€ ä¸€ä¸‹ä¹‹å‰çš„ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªé‡å®šå‘é€»è¾‘å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::hcbv5nowvek3l0ab3r78h::--><code>// é€šè¿‡url ç®€å•åŒºåˆ†ä¸€ä¸‹ èµ„æºæ˜¯ https è¿˜æ˜¯ http
const _http = url.startsWith(&#039;https&#039;) ? https : http
_http.get(
  url,
  {
    // æ·»åŠ ä¸€ä¸ªUAï¼Œé¿å…404
    // éƒ¨åˆ†çŸ­é“¾æœåŠ¡ç½‘ç«™æ²¡æœ‰UAä¼šå“åº”404
    headers: {
      &#039;User-Agent&#039;: &#039;node http module&#039;
    }
  },
  (response) =&gt; {
    const { statusCode } = response
    // åˆ¤æ–­çŠ¶æ€ç æ˜¯å¦3å¼€å¤´
    if (Math.floor(statusCode! / 100) === 3) {
      // ä¸”å­˜åœ¨ location
      if (response.headers.location) {
        // é€’å½’
        downloadByUrl(response.headers.location, filename)
          // é€ä¼ äº‹ä»¶
          .progress(progressFn)
          .end(endFn)
        return
      }
      // ä¸å­˜åœ¨æŠ›å‡ºé”™è¯¯
      throw new Error(
        `url:${url} status ${statusCode} without location header`
      )
    }
  }
)</code></pre>
</div><p><img src="./fs-cli/MTY2ODI2NjY3NjE0MA==668266676140.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/3.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 3</a></p>
<p>ä¸ºäº†é˜²æ­¢æ— é™é‡å®šå‘ï¼Œè¿˜éœ€è¦åŠ ä¸ªæ¬¡æ•°é™åˆ¶ï¼Œå†ç®€å•æ”¹é€ ä¸€ä¸‹ä¸Šè¿°ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªé…ç½®å±æ€§ä½œä¸ºå…¥å‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::1ji94vu9pyldkxzok3gri8::--><code>interface Options {
  filename: string
  maxRedirects: number
}
function downloadByUrl(url: string, option?: Partial&lt;Options&gt;) {
  const ops: Options = { filename: randomName(), maxRedirects: 10, ...option }
  // çœç•¥ä¸€äº›é‡å¤ä»£ç 
  _http.get(
    url,
    (response) =&gt; {
      const { statusCode } = response
      if (Math.floor(statusCode! / 100) === 3 &amp;&amp; ops.maxRedirects) {
        ops.maxRedirects -= 1
        // é€’å½’è°ƒç”¨
        if (response.headers.location) {
          downloadByUrl(response.headers.location, ops)
          return
        }
      }
    }
  )
  return thisArg
}</code></pre>
</div><p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/4.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 4</a></p>
<h3 id="è¯·æ±‚è¶…æ—¶" tabindex="-1">è¯·æ±‚è¶…æ—¶ <a class="header-anchor" href="#è¯·æ±‚è¶…æ—¶" aria-label="Permalink to â€œè¯·æ±‚è¶…æ—¶â€">&#8203;</a></h3>
<p>éƒ¨åˆ†èµ„æºç”±äºç½‘ç»œåŸå› å¯èƒ½å‡ºç°è¶…æ—¶ï¼Œä¸ºäº†é¿å…é•¿æ—¶é—´æ— åé¦ˆç­‰å¾…ï¼Œå¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´</p>
<p><code>http</code>æ¨¡å—æ”¯æŒ<code>timeout</code>å±æ€§è®¾ç½®</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::h5hp0q7a3p8x7zu0fn0lg::--><code>// æ¥ç€ä¹‹å‰çš„ä¾‹å­ä¿®æ”¹éƒ¨åˆ†ä»£ç å³å¯
const request = _http.get(
  url,
  {
    // è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå•ä½ms
    timeout: ops.timeout || 300000,
  },
  (response) =&gt; {
    // çœç•¥response é€»è¾‘
  }
)
request.on(&#039;timeout&#039;, () =&gt; {
  // ä¸­æ–­è¯·æ±‚ï¼Œè¾“å‡ºé”™è¯¯
  request.destroy()
  console.error(`http request timeout url:${url}`)
})</code></pre>
</div><p>ä¸‹é¢æ˜¯è¯·æ±‚ google logo å¤±è´¥ç¤ºä¾‹</p>
<p><img src="./fs-cli/MTY2ODMyOTcwMTAwMA==668329701000.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/5.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 5</a></p>
<h3 id="proxy" tabindex="-1">Proxy <a class="header-anchor" href="#proxy" aria-label="Permalink to â€œProxyâ€">&#8203;</a></h3>
<p>éƒ¨åˆ†èµ„æºè®¿é—®ä¸é¡ºç•…çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šèµ°æœåŠ¡ä»£ç†ï¼ˆğŸªœï¼‰</p>
<p>ä»¥è°·æ­Œçš„<code>logo</code>èµ„æºé“¾æ¥<code>https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png</code></p>
<p>è¦è®©å‰é¢çš„æ–¹æ³•<code>downloadByUrl</code>é¡ºåˆ©æ‰§è¡Œï¼Œå°±éœ€è¦å…¶èµ°ä»£ç†æœåŠ¡</p>
<p>ä¸º<code>http</code>æ¨¡å—æ·»åŠ ä»£ç†ä¹Ÿéå¸¸ç®€å•ï¼ŒåŸç”Ÿæä¾›äº†ä¸€ä¸ª<code>agent</code>å‚æ•°ï¼Œå¯ç”¨äºè®¾ç½®ä»£ç†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wlaq4r2awyklgh6o0s9qmc::--><code>import http from &#039;http&#039;

const request = http.get(url,{
  agent: Agent,
})</code></pre>
</div><p>è¿™ä¸ª<code>Agent</code>çš„æ„é€ å¯ä»¥ç›´æ¥ç”¨ç¤¾åŒºå·²ç»å°è£…å¥½çš„<a href="https://www.npmjs.com/package/http-proxy-agent" target="_blank" rel="noreferrer">http-proxy-agent</a></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::dsjn1cprco9ysjlag87aq9::--><code>const HttpProxyAgent = require(&#039;http-proxy-agent&#039;)

const proxy = new HttpProxyAgent(&#039;http://127.0.0.1:7890&#039;)</code></pre>
</div><p>åœ¨è°ƒç”¨æ—¶åªéœ€å°†è¿™ä¸ª<code>proxy</code>å®ä¾‹ä¼ å…¥å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::810t7gggnn9dv6y0pbm0dt::--><code>http.get(url, {
  agent: proxy
})</code></pre>
</div><p>åŸæœ‰çš„æ–¹æ³•åªéœ€è¦æ·»åŠ ä¸€ä¸ª<code>proxy</code>å…¥å‚å³å¯ï¼Œ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::3r0ttfydcax945x4qqhve9::--><code>const request = _http.get(url, {
  agent: ops.proxy ? new HttpProxyAgent(ops.proxy) : undefined,
})</code></pre>
</div><p>ä¸‹é¢æ˜¯ä½¿ç”¨ä»£ç†æˆåŠŸè¯·æ±‚çš„ç¤ºä¾‹</p>
<p><img src="./fs-cli/MTY2ODYwNTcyODQ3NA==668605728474.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/6.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 6</a></p>
<h3 id="åˆæ³•æ–‡ä»¶åç”Ÿæˆ" tabindex="-1">åˆæ³•æ–‡ä»¶åç”Ÿæˆ <a class="header-anchor" href="#åˆæ³•æ–‡ä»¶åç”Ÿæˆ" aria-label="Permalink to â€œåˆæ³•æ–‡ä»¶åç”Ÿæˆâ€">&#8203;</a></h3>
<p>æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°è‚¯å®šéœ€è¦æœ‰ä¸ªåå­—ï¼Œå¦‚æœç”¨éšæœºçš„æˆ–è€…ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥é‚£è‚¯å®šä½“éªŒè¾ƒå·®</p>
<p>æœ€å¸¸è§çš„å°±æ˜¯é€šè¿‡<code>url</code>çš„<code>pathname</code>ç”Ÿæˆ</p>
<p>æ¯”å¦‚ä¸Šé¢çš„è°·æ­Œå›¾ç‰‡èµ„æºï¼Œå’±ä»¬ä½¿ç”¨<code>URL</code>æ„é€ å‡ºä¸€ä¸ªç¤ºä¾‹ï¼ŒæŸ¥çœ‹urlçš„æ„æˆ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::a13l939v7ek4l2ix23q21p::--><code>new URL(sourceUrl)</code></pre>
</div><p><img src="./fs-cli/MTY2ODY5MzA0OTM4Mg==668693049382.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ–‡ä»¶åå°±å¯ä»¥å–<code>pathname</code>æœ€åä¸€æˆªï¼Œé€šè¿‡<code>path.basename</code>å³å¯è·å–</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::s8id75awcrq6hxm3owvzsm::--><code>import path from &#039;path&#039;

const url = new URL(&#039;http://www.google.com/images/googlelogo_color_92x30dp.png&#039;)
const filename = path.basename(url.pathname) // googlelogo_color_92x30dp.png</code></pre>
</div><p>å½“ç„¶æ–‡ä»¶åä¹Ÿå¯èƒ½ä¼šé‡å¤ï¼Œå†éè¦†ç›–å†™å…¥çš„å‰æä¸‹ï¼Œé€šè¿‡ä¼šåœ¨æ–‡ä»¶ååæ·»åŠ &quot;åˆ†éš”ç¬¦+æ•°å­—&quot;ï¼Œæ¯”å¦‚<code>x.png</code>,<code>x_1.png</code>,<code>x 1.png</code></p>
<p>æå–æ–‡ä»¶åä¸åç¼€å¯ä»¥ç”¨<code>path.parse</code>ç›´æ¥è·å–</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::c57ttx79g580ao6ht7h3o4i::--><code>import path from &#039;path&#039;

// { ext: &#039;.png&#039;, name: &#039;google&#039; }
path.parse(&#039;google.png&#039;)

// { ext: &#039;&#039;, name: &#039;hashname&#039; }
path.parse(&#039;hashname&#039;)

// { ext: &#039;.ts&#039;, name: &#039;index.d&#039; }
path.parse(&#039;index.d.ts&#039;)

// { ext: &#039;.&#039;, name: &#039;index&#039; }
path.parse(&#039;index.&#039;)

// { ext: &#039;&#039;, name: &#039;.gitkeep&#039; }
path.parse(&#039;.gitkeep&#039;)</code></pre>
</div><p>ä½†æ˜¯é’ˆå¯¹å¸¦æœ‰å¤šä¸ª <strong>.</strong> çš„æ–‡ä»¶åä¸å¤ªå‹å¥½ï¼Œæ¯”å¦‚<code>.d.ts</code>æ˜¯æœŸæœ›è¢«å½“åšå®Œæ•´çš„<code>ext</code>å¤„ç†</p>
<p>æ‰€ä»¥å’±ä»¬å¯ä»¥å¯¹å…¶ç®€å•é€’å½’åŒ…è£…ä¸€ä¸‹å®ç°1ä¸ª<code>nameParse</code>ï¼Œç¡®ä¿æœ€å<code>parse(input).name === input</code>å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::fy8gsz6cqcr0ycj8zsgs8::--><code>function nameParse(filename: string, suffix = &#039;&#039;) {
  const { name, ext } = path.parse(filename)
  if (name === filename) {
    return { name, ext: ext + suffix }
  }
  return nameParse(name, ext + suffix)
}</code></pre>
</div><p>ä¸‹é¢æ˜¯è¿è¡Œç¤ºä¾‹</p>
<p><img src="./fs-cli/MTY2ODY5NzM4MDAzNw==668697380037.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åˆ°æ­¤å®Œæˆäº†<code>name</code>å’Œ<code>ext</code>çš„åˆ†ç¦»</p>
<p>æ–‡ä»¶ååˆ†ç¦»åç®€å•è¿›è¡Œä¸€ä¸‹<code>name</code>çš„åˆæ³•æ€§æ›¿æ¢ï¼Œé¿å…å‡ºç°æ“ä½œç³»ç»Ÿä¸æ”¯æŒçš„å­—ç¬¦</p>
<blockquote>
<p>æ­£åˆ™æ¥è‡ªäºGoogle</p>
</blockquote>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4c5bzecdc2f58y6e0kix0l::--><code>function normalizeFilename(name: string) {
  return name.replace(/[\\/:*?&quot;&lt;&gt;|]/g, &#039;&#039;)
}</code></pre>
</div><p>å†åšæ–‡ä»¶åå»é‡åªéœ€è¦ç»™<code>name</code>æ·»åŠ åç¼€æ•°å­—å³å¯</p>
<p><code>url</code>ä¸Šçš„å†…å®¹è¿˜å¯èƒ½å­˜åœ¨<code>encode</code>çš„æƒ…å†µï¼Œæ¯”å¦‚<code>æ˜é‡‘.png</code> =&gt; encode =&gt; <code>%E6%8E%98%E9%87%91.png</code></p>
<p>å› æ­¤å’±ä»¬åœ¨å¤„ç†ä»<code>pathname</code>æå–çš„<code>filename</code>å‰å…ˆè¿›è¡Œå¿…è¦çš„<code>decode</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::gsebix17cvpqlayi7lz2q::--><code>decodeURIComponent(&#039;%E6%8E%98%E9%87%91.png&#039;) // æ˜é‡‘.png</code></pre>
</div><p>æœ‰äº†å‰é¢çš„å‡†å¤‡å·¥ä½œå’±ä»¬å°±å¯ä»¥ç»„è£…å‡ºä¸€ä¸ªä»<code>url</code>æå–åˆæ³•å¯ç”¨çš„æ–‡ä»¶åçš„æ–¹æ³•å˜</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::lfnptid80391tm0qll6wr::--><code>function getValidFilenameByUrl(url: string) {
  const urlInstance = new URL(url)
  return decodeURIComponent(path.basename(urlInstance.pathname))
}
getValidFilenameByUrl(&#039;http://a/b/c.png?width=100&amp;height&#039;) // c.png</code></pre>
</div><p>ç„¶åæ˜¯è·å–ä¸é‡å¤çš„æ–‡ä»¶è·¯å¾„</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wdyjt0q3r1eej62affv2v::--><code>function getNoRepeatFilepath(filename: string, dir = process.cwd()) {
  const { name, ext } = nameParse(filename)
  let i = 0
  let filepath = &#039;&#039;
  do {
    filepath = path.join(dir, `${name}${i ? ` ${i}` : &#039;&#039;}${ext}`)
    i += 1
  } while (fs.existsSync(filepath))
  return filepath
}</code></pre>
</div><p>æœ€åé›†æˆåˆ°<code>downloadByUrl</code>æ–¹æ³•ä¸­ï¼Œä½¿è¾“å‡ºçš„æ–‡ä»¶åå¯æ§</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::rkyqwcmgxtl29kaka1sl6v::--><code>// ...code
const filename = normalizeFilename(
  ops.filename || getValidFilenameByUrl(url) || randomName()
)
const filepath = ops.override
  ? path.resolve(filename)
  : getNoRepeatFilepath(filename)

const writeStream = fs.createWriteStream(filepath)

// ...code</code></pre>
</div><p>æµ‹è¯•æ¡ˆä¾‹è¿è¡Œç»“æœå¦‚ä¸‹</p>
<p><img src="./fs-cli/MTY2ODc4Njc0NzcwMg==668786747702.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/7.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 7</a></p>
<h3 id="å¼‚å¸¸é”™è¯¯æƒ…å†µå¤„ç†" tabindex="-1">å¼‚å¸¸é”™è¯¯æƒ…å†µå¤„ç† <a class="header-anchor" href="#å¼‚å¸¸é”™è¯¯æƒ…å†µå¤„ç†" aria-label="Permalink to â€œå¼‚å¸¸é”™è¯¯æƒ…å†µå¤„ç†â€">&#8203;</a></h3>
<p>å¯¹äºéæ³•çš„<code>url</code>ï¼Œèµ„æºä¸å­˜åœ¨é€šå¸¸ä¼šå“åº”<code>404</code>ç­‰æ²¡è€ƒè™‘åˆ°çš„å¼‚å¸¸åœºæ™¯</p>
<p>å¯ä»¥åœ¨ä¸Šè¿°çš„<code>downloadByUrl</code>æ–¹æ³•ä¸­æ‹“å±•1ä¸ª<code>error</code>æ–¹æ³•ï¼Œç”¨äºé”™è¯¯å¤„ç†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::xh1tav62ump2na82bcez2j::--><code>let request: http.ClientRequest

let errorFn = (err, source) =&gt; {
  console.log(&#039;error url:&#039;, source)
  console.log(&#039;error msg:&#039;, err.message)
  console.log()
}

const responseCallback = (response: http.IncomingMessage) =&gt; {
  const { statusCode } = response
  // 404
  if (statusCode === 404) {
    request.emit(&#039;error&#039;, new Error(&#039;404 source&#039;))
    return
  }
}

// ...code
try {
  request = _http.get(url, reqOptions, responseCallback)
  request.on(&#039;error&#039;, (err) =&gt; {
    request.destroy()
    errorFn &amp;&amp; errorFn(err, url)
  })
  request.on(&#039;timeout&#039;, () =&gt; {
    request.emit(&#039;error&#039;, new Error(&#039;request timeout&#039;))
  })
} catch (error: any) {
  setTimeout(() =&gt; {
    errorFn &amp;&amp; errorFn(error, url)
  })
}</code></pre>
</div><p>é™¤ç‰¹æ®Šæƒ…å†µå¤–ï¼Œç»Ÿä¸€ç”¨<code>request.on('error')</code>å¤„æ•è·é”™è¯¯</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç åŠè¿è¡Œç»“æœ</p>
<p><img src="./fs-cli/MTY2ODg0NjEwNDEwMQ==668846104101.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/main/packages/cli/efst/__test__/download/8.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç 8</a></p>
<h2 id="å°è£…cli" tabindex="-1">å°è£…CLI <a class="header-anchor" href="#å°è£…cli" aria-label="Permalink to â€œå°è£…CLIâ€">&#8203;</a></h2>
<p>ä¸Šä¸€å°èŠ‚é˜è¿°äº†åŠŸèƒ½çš„æ ¸å¿ƒå®ç°æ–¹æ³•ï¼Œæ­¤éƒ¨åˆ†å°†ä¸Šè¿°èƒ½åŠ›é›†æˆåˆ°CLIä¸­ï¼Œæ–¹ä¾¿å¯¹å¤–åˆ†äº«ä¸ä½¿ç”¨ã€‚</p>
<h3 id="optionså®šä¹‰" tabindex="-1">Optionså®šä¹‰ <a class="header-anchor" href="#optionså®šä¹‰" aria-label="Permalink to â€œOptionså®šä¹‰â€">&#8203;</a></h3>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::cq75ox3oejncpsoobg8t::--><code>import { Command } from &#039;commander&#039;
const program = new Command()

program
  .argument(&#039;&lt;url&gt;&#039;, &#039;set download source url&#039;)
  .option(&#039;-f,--filename &lt;filename&gt;&#039;, &#039;set download filename&#039;)
  .option(&#039;-L,--location &lt;times&gt;&#039;, &#039;set location times&#039;, &#039;10&#039;)
  .option(&#039;-t,--timeout &lt;timeout&gt;&#039;, &#039;set the request timeout(ms)&#039;, &#039;3000&#039;)
  .option(&#039;-p,--proxy &lt;proxy server&gt;&#039;, &#039;set proxy server&#039;)
  .option(&#039;-o,--override&#039;, &#039;override duplicate file&#039;, false)
  .action(defaultCommand)</code></pre>
</div><p><img src="./fs-cli/MTY2ODg0ODAxNzkxOQ==668848017919.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="å‚æ•°è½¬æ¢ä¼ é€’" tabindex="-1">å‚æ•°è½¬æ¢ä¼ é€’ <a class="header-anchor" href="#å‚æ•°è½¬æ¢ä¼ é€’" aria-label="Permalink to â€œå‚æ•°è½¬æ¢ä¼ é€’â€">&#8203;</a></h3>
<p>ä¸‹é¢æ˜¯<code>defaultCommand</code>çš„é€»è¾‘ï¼Œåªéœ€è¦å°†ç›¸å…³å‚æ•°å¤„ç†åé€ä¼ ç»™å®šä¹‰çš„<code>download</code>æ–¹æ³•å³å¯</p>
<p><code>option</code> ä¸æ”¯æŒ <strong>number</strong> æ‰€ä»¥éœ€è¦å¯¹æ•°å­—å­—ç¬¦ä¸²åšä¸€ä¸‹æ˜¾ç¤ºè½¬æ¢</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4q92mv0h7v61szy4ae6kfp::--><code>export default function defaultCommand(url: string, options: CLIOptions) {
  const { filename, location, timeout, proxy, override } = options
  downloadByUrl(url, {
    maxRedirects: +location,
    timeout: +timeout,
    proxy,
    override,
    filename
  })
    .error((err) =&gt; {
      console.log(&#039;error url:&#039;, url)
      console.log(&#039;error msg:&#039;, redStr(err.message))
      process.exit()
    })
    .end((filepath) =&gt; {
      console.log(&#039;file save:&#039;, underlineStr(yellowStr(filepath)))
    })
}</code></pre>
</div><p>ä¸‹é¢æ˜¯ä½¿ç”¨æ¼”ç¤º</p>
<p><img src="./fs-cli/MTY2ODg1MDU4NzY1OQ==668850587659.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="ä¸‹è½½è¿›åº¦å±•ç¤º" tabindex="-1">ä¸‹è½½è¿›åº¦å±•ç¤º <a class="header-anchor" href="#ä¸‹è½½è¿›åº¦å±•ç¤º" aria-label="Permalink to â€œä¸‹è½½è¿›åº¦å±•ç¤ºâ€">&#8203;</a></h3>
<p>å°æ–‡ä»¶è¿˜èƒ½æ— æ„Ÿç­‰å¾…ï¼Œå¤§æ–‡ä»¶å’±å°±å¾—æ•´ä¸ªè¿›åº¦æ¡æ¥æ˜¾ç¤ºäº†ï¼Œæ–¹éäº†è§£è¿›åº¦ã€‚</p>
<p>åœ¨<code>npm</code>ä¸­æ£€ç´¢ï¼Œé™¤äº†æ¨èäº†è€ç‰Œåº“ <a href="https://www.npmjs.com/package/progress" target="_blank" rel="noreferrer">progress</a>ï¼Œè¿˜çœ‹åˆ°äº†1ä¸ª <a href="https://www.npmjs.com/package/cli-progress" target="_blank" rel="noreferrer">cli-progress</a></p>
<p>å’±ä»¬è¿™é‡Œå°±ç”¨åè€…ï¼ˆæœ€è¿‘æ›´æ–°æ—¶é—´çœ‹ç€è¿‘ä¸€äº›ï¼‰</p>
<p>æœ€ç®€å•çš„ç¤ºä¾‹ä¸ç»“æœå¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::5nfpkmj01s82a3xnmp5lj::--><code>import cliProgress from &#039;cli-progress&#039;

const progressBar = new cliProgress.SingleBar({})
downloadByUrl(url)
  .progress((cur, rec, sum) =&gt; {
    // åˆå§‹åŒ–
    if (progressBar.getProgress() === 0) {
      progressBar.start(sum, 0)
    }

    // æ›´æ–°è¿›åº¦
    progressBar.update(rec)

    // ç»“æŸ
    if (rec === sum) {
      progressBar.stop()
    }
  })</code></pre>
</div><p><img src="./fs-cli/MTY2ODg2NDk4NjA2OA==668864986068.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å±•ç¤ºå†…å®¹è¿‡äºç®€å•ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸‹æ˜¾ç¤ºï¼Œå±•ç¤ºæ–‡ä»¶å¤§å°å’Œä¸‹è½½é€Ÿåº¦ï¼Œ<a href="https://www.npmjs.com/package/cli-progress" target="_blank" rel="noreferrer">å‚è€ƒæ–‡æ¡£</a>ï¼Œç»“åˆå†…ç½®çš„ä¸€äº›å€¼è®¾å®šåˆå§‹åŒ–å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::uhkr46pwpp3p2obcjyzdi::--><code>const format = &#039;[{bar}] {percentage}% | ETA: {eta}s | {rec}/{sum} | Speed {speed}&#039;

const progressBar = new cliProgress.SingleBar(
  {
    format,
    barsize: 16
  },
  cliProgress.Presets.shades_classic
)</code></pre>
</div><p>ç´§æ¥ç€æ˜¯<code>start</code>æ—¶è®¾ç½®<code>sum</code>å’Œ<code>speed</code>é»˜è®¤å€¼</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::69g04hkmypenbeywv1e7n::--><code>// åˆå§‹åŒ–çš„æ—¶å€™è®¡ç®—æ€»å¤§å°
progressBar.start(sum, 0, {
  sum: formatSize(sum)
})

// è¿‡ç¨‹ä¸­æ›´æ–°è¿›åº¦
progressBar.update(rec, {
  rec: formatSize(rec),
  speed: speed(cur)
})</code></pre>
</div><p><code>formatSize</code>æ–¹æ³•å®ç°å¦‚ä¸‹(æ¥æºäºè°·æ­Œæ¨èä»£ç )ï¼ŒçŸ­å°ç²¾æ‚çš„ä»£ç ï¼Œå°†Bè½¬æ¢ä¸ºå…¶å®ƒå•ä½å±•ç¤ºã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::39fnkxuagc9c9f9tl5uald::--><code>export function formatSize(
  size: number,
  pointLength?: number,
  units?: string[]
) {
  let unit
  units = units || [&#039;B&#039;, &#039;K&#039;, &#039;M&#039;, &#039;G&#039;, &#039;TB&#039;]
  while ((unit = units.shift()) &amp;&amp; size &gt; 1024) {
    size /= 1024
  }
  return (
    (unit === &#039;B&#039;
      ? size
      : size.toFixed(pointLength === undefined ? 2 : pointLength)) + unit!
  )
}

formatSize(1234) // 1.21K
formatSize(10240) // 10.00K</code></pre>
</div><h3 id="è®¡ç®—ä¸‹è½½é€Ÿåº¦" tabindex="-1">è®¡ç®—ä¸‹è½½é€Ÿåº¦ <a class="header-anchor" href="#è®¡ç®—ä¸‹è½½é€Ÿåº¦" aria-label="Permalink to â€œè®¡ç®—ä¸‹è½½é€Ÿåº¦â€">&#8203;</a></h3>
<p><code>speed</code>æ–¹æ³•å®ç°å¦‚ä¸‹</p>
<ul>
<li>ä½¿ç”¨é—­åŒ…</li>
<li>ä¸€æ®µæ—¶é—´è®¡ç®—ä¸€æ¬¡é€Ÿåº¦ï¼ˆ1000ms / æ—¶é—´å‘¨æœŸ * å‘¨æœŸå†…ä¸‹è½½é‡Bï¼‰</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::y7savkhlsh8r1v8o67dyr::--><code>/**
 * @param cycle å¤šä¹…ç®—ä¸€æ¬¡ï¼ˆmsï¼‰
 */
function getSpeedCalculator(cycle = 500) {
  let startTime = 0
  let endTime = 0
  let speed = &#039;N/A&#039; // è®°å½•é€Ÿåº¦
  let sum = 0 // è®¡ç®—ä¹‹å‰æ”¶åˆ°äº†å¤šå°‘B

  return (chunk: number) =&gt; {
    sum += chunk
    if (startTime === 0) {
      startTime = Date.now()
    }
    endTime = Date.now()
    // è®¡ç®—ä¸€æ¬¡
    if (endTime - startTime &gt;= cycle) {
      speed = `${formatSize((1000 / (endTime - startTime)) * sum)}/s`
      startTime = Date.now()
      sum = 0
    }
    return speed
  }
}

// è·å–åˆ°è®¡ç®—é€Ÿåº¦çš„æ–¹æ³•
const speed = getSpeedCalculator()

setTimeout(speed, 200, 4000)
setTimeout(speed, 300, 5000)
setTimeout(speed, 1000, 10240)
setTimeout(() =&gt; {
  console.log(speed(0)) // 23.49K/s
}, 1100)</code></pre>
</div><p>ä¼˜åŒ–åçš„ä¸‹è½½æ•ˆæœå¦‚ä¸‹</p>
<p><img src="./fs-cli/MTY2ODg2ODI5MjgxNg==668868292816.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="æŒä¹…åŒ–é…ç½®å­˜å‚¨" tabindex="-1">æŒä¹…åŒ–é…ç½®å­˜å‚¨ <a class="header-anchor" href="#æŒä¹…åŒ–é…ç½®å­˜å‚¨" aria-label="Permalink to â€œæŒä¹…åŒ–é…ç½®å­˜å‚¨â€">&#8203;</a></h3>
<p>åƒ<code>proxy</code>ï¼Œ<code>timeout</code>å‚æ•°ä¸å¸Œæœ›æ¯æ¬¡éƒ½è®¾ç½®ï¼Œå°±éœ€è¦å°†è¿™äº›é…ç½®å­˜èµ·æ¥ï¼Œä¸‹æ¬¡ç›´æ¥è¯»å–ã€‚</p>
<p>é€šå¸¸çš„CLIå·¥å…·éƒ½ä¼šåœ¨<code>/Users/$username/.xxx</code>ç›®å½•ä¸­å­˜æ”¾è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œå³<code>HOME</code>ç›®å½•ä¸‹ã€‚</p>
<p><img src="./fs-cli/MTY2ODg2ODgwOTU3Mw==668868809573.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åŒç†æˆ‘ä»¬å¯ä»¥å¼€è¾Ÿä¸€ä¸ªæ–‡ä»¶å­˜æ”¾<code>.efstrc</code>ï¼Œ<code>process.env.HOME</code>å³å¯è·å–åˆ°<code>HOME</code>ç›®å½•,<code>process.env.USERPROFILE</code>ç”¨äºå…¼å®¹<code>win32</code>å¹³å°ã€‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ideyo7e4exmfeq1f1x59t5::--><code>const configPath = path.join(
  process.env.HOME || process.env.USERPROFILE || process.cwd(),
  &#039;.efstrc&#039;
)</code></pre>
</div><p>è¯»å†™é…ç½®å®ç°å¦‚ä¸‹,åˆ©ç”¨<code>Array.prototype.reduce</code>æ–¹æ³•åœ¨éå†çš„è¿‡ç¨‹ä¸­åšå­˜å–å€¼æ“ä½œ</p>
<ul>
<li>æ”¯æŒ<strong>å¤šçº§çš„key</strong>çš„è¯»å†™</li>
<li>å…¼å®¹å¼‚å¸¸åœºæ™¯ï¼Œè¿”å›ç©ºæˆ–ç©ºå¯¹è±¡</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::6cje0gssq1gyug4u9sbc6::--><code>function getCLIConfig(key = &#039;&#039;) {
  try {
    const value = JSON.parse(fs.readFileSync(configPath, &#039;utf-8&#039;))
    return !key
      ? value
      : key.split(&#039;.&#039;).reduce((pre, k) =&gt; {
          return pre?.[key]
        }, value)
  } catch {
    return !key ? {} : &#039;&#039;
  }
}

function setCLIConfig(key: string, value: string) {
  if (!key) {
    return
  }
  const nowCfg = getCLIConfig()
  // æ”¯æŒä¼ å…¥å¤šçº§çš„key
  const keys = key.split(&#039;.&#039;)

  // éå†è®¾ç½®çš„æ‰€æœ‰éƒ½é…ç½®éƒ½ä¸nowCfgç›´æ¥æˆ–é—´æ¥çš„è¿›è¡Œäº†å¼•ç”¨å…³è”
  keys.reduce((pre, k, i) =&gt; {
    // èµ‹å€¼
    if (i === keys.length - 1) {
      pre[k] = value
    } else if (!(pre[k] instanceof Object)) {
      pre[k] = {}
    }
    return pre[k]
  }, nowCfg)

  // è¾“å‡ºåˆ°æ–‡ä»¶
  fs.writeFileSync(configPath, JSON.stringify(nowCfg, null, 2))
}

setCLIConfig(&#039;proxy&#039;, &#039;http://127.0.0.1:7890&#039;)
setCLIConfig(&#039;timeout&#039;, &#039;2000&#039;)
setCLIConfig(&#039;github.name&#039;, &#039;ATQQ&#039;)
setCLIConfig(&#039;github.info.url&#039;, &#039;https://github.com/ATQQ&#039;)</code></pre>
</div><p><img src="./fs-cli/MTY2ODg2OTk1MzUyNA==668869953524.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å†æ·»åŠ ä¸€ä¸ªç§»é™¤é…ç½®çš„æ–¹æ³•ï¼Œä¸è®¾ç½®çš„çš„æ–¹æ³•ç±»ä¼¼åªæ˜¯ä½¿ç”¨<code>delete</code>æ“ä½œç¬¦åˆ é™¤ç›¸å…³çš„<code>key</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::s38softu1ceyo1qrk7bpuh::--><code>function delCLIConfig(key: string) {
  if (!key) {
    return
  }
  const nowCfg = getCLIConfig()
  const keys = key.split(&#039;.&#039;)
  keys.reduce((pre, k, i) =&gt; {
    // ç§»é™¤
    if (i === keys.length - 1) {
      delete pre[k]
    }
    return pre[k] instanceof Object ? pre[k] : {}
  }, nowCfg)
  fs.writeFileSync(configPath, JSON.stringify(nowCfg, null, 2))
}

delCLIConfig(&#039;timeout&#039;)
delCLIConfig(&#039;github.info.name&#039;)
delCLIConfig(&#039;github.name&#039;)</code></pre>
</div><p><img src="./fs-cli/MTY2ODg3MDYzODk1NA==668870638954.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æœ‰äº†è¿™3ä¸ªæ–¹æ³•æ”¯æ’‘å°±å¯ä»¥å°è£…æˆä¸€ä¸ª<code>config</code>æŒ‡ä»¤ç”¨äºé…ç½®çš„<code>CRUD</code></p>
<h3 id="configæŒ‡ä»¤å®ç°" tabindex="-1">configæŒ‡ä»¤å®ç° <a class="header-anchor" href="#configæŒ‡ä»¤å®ç°" aria-label="Permalink to â€œconfigæŒ‡ä»¤å®ç°â€">&#8203;</a></h3>
<p>å…ˆæ˜¯å®šä¹‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::opjgzosfahm5lfoccomm6e::--><code>program
  .command(&#039;config &lt;type&gt; &lt;key&gt; [value]&#039;)
  .alias(&#039;c&#039;)
  .description(&#039;crud config &lt;type&gt; in [del,get,set]&#039;)
  .action(configCommand)</code></pre>
</div><p><img src="./fs-cli/MTY2ODg3MjMzMzkzNQ==668872333935.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><code>configCommand</code>å°è£…å®ç°ï¼Œå°†ä¸Šè¿°å®ç°çš„æ–¹æ³•æŒ‰åœºæ™¯æ”¾å…¥å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vdkizr376en248h69xbkb::--><code>export type ConfigType = &#039;set&#039; | &#039;get&#039; | &#039;del&#039;

function defaultCommand(
  type: ConfigType,
  key: string,
  value: string
) {
  if (type === &#039;set&#039;) {
    setCLIConfig(key, value)
  }
  if (type === &#039;del&#039;) {
    delCLIConfig(key)
  }
  if (type === &#039;get&#039;) {
    console.log(getCLIConfig(key) || &#039;&#039;)
  }
}</code></pre>
</div><p>ä½¿ç”¨æ¼”ç¤ºå¦‚ä¸‹</p>
<p><img src="./fs-cli/MTY2ODg3MzQyNzc2Nw==668873427767.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>config æŒ‡ä»¤è¿™éƒ¨åˆ†é€»è¾‘å®Œå…¨å¯ä»¥åˆ†ç¦»æˆä¸€ä¸ªé€šç”¨çš„ <code>commander</code> æ¨¡å—ï¼Œåœ¨éœ€è¦çš„CLIé‡Œç›´æ¥æ³¨å†Œå³å¯ï¼Œç®€åŒ–åå¤§æ¦‚å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vbscxk2w0hh4p8gbawdjw::--><code>import { Command } from &#039;commander&#039;
const program = new Command()

registerConfigCommand(program,&#039;.efstrc&#039;)</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>ç¬”è€…å¯¹è¿™ä¸ªå·¥å…·çš„æƒ³æ³•è¿˜æœ‰å¾ˆå¤šï¼Œåç»­å…ˆæŠŠåŠŸèƒ½ğŸ´å‡ºæ¥å†å†™ç»­é›†ï¼Œæœ¬æ–‡å°±å…ˆåˆ°è¿™é‡Œã€‚</p>
<p>å†…å®¹æœ‰ä¸å¦¥çš„ä¹‹å¤„ï¼Œè¿˜è¯·è¯„è®ºåŒºæ–§æ­£ã€‚</p>
<p>CLIå®Œæ•´æºç è§<a href="https://github.com/ATQQ/tools/tree/main/packages/cli/efst" target="_blank" rel="noreferrer">GitHub</a></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/fs-cli/MTY2ODkyMDg3NDEwNg==668920874106.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[SourceMapè§£æCLIå·¥å…·å®ç°]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/sm-cli.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/sm-cli.html</guid>
            <pubDate>Sat, 29 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
source-map å¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œé€šå¸¸æƒ…å†µå°±æ˜¯äº§ç‰©é‡Œçš„`xx.js.map`æ–‡ä»¶é‡Œçš„å†…å®¹ã€‚
å¯ç”¨äºå¯¹å‹ç¼©æ··æ·†åçš„ä»£ç è¿˜åŸã€‚é€šå¸¸ç”¨äºå¸®åŠ©å®šä½æºç é—®é¢˜ã€‚
åŒºåˆ«äºæ„å»ºæ—¶çš„é…ç½®ï¼ˆä»¥webpack çš„]]></description>
            <content:encoded><![CDATA[<h1 id="sourcemapè§£æcliå·¥å…·å®ç°" tabindex="-1">SourceMapè§£æCLIå·¥å…·å®ç° <a class="header-anchor" href="#sourcemapè§£æcliå·¥å…·å®ç°" aria-label="Permalink to â€œSourceMapè§£æCLIå·¥å…·å®ç°â€">&#8203;</a></h1>
<blockquote>
<p>æœ¬æ–‡ä¸ºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œ14å¤©å†…ç¦æ­¢è½¬è½½ï¼Œ14å¤©åæœªè·æˆæƒç¦æ­¢è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼</p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><strong>source-map</strong> å¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œé€šå¸¸æƒ…å†µå°±æ˜¯äº§ç‰©é‡Œçš„<code>xx.js.map</code>æ–‡ä»¶é‡Œçš„å†…å®¹ã€‚</p>
<p>å¯ç”¨äºå¯¹å‹ç¼©æ··æ·†åçš„ä»£ç è¿˜åŸã€‚é€šå¸¸ç”¨äºå¸®åŠ©å®šä½æºç é—®é¢˜ã€‚</p>
<p>åŒºåˆ«äºæ„å»ºæ—¶çš„é…ç½®ï¼ˆ<a href="https://webpack.docschina.org/configuration/devtool/#special-cases" target="_blank" rel="noreferrer">ä»¥webpack çš„devtoolé…ç½®é¡¹ä¸ºä¾‹</a>ï¼‰ä¸åŒé…ç½®ï¼Œ<code>source-map</code>æš´éœ²çš„ä¿¡æ¯ç¨‹åº¦ä¹Ÿå°±ä¹Ÿä¸ä¸€æ ·</p>
<p>ä¸€èˆ¬å…¬å¸é‡Œçš„é¡¹ç›®ï¼Œæ˜¯ä¼šæŠŠ<code>.map</code>æ–‡ä»¶ä¸Šä¼ åˆ°å†…ç½‘ç¯å¢ƒï¼Œä¸è€½è¯¯é—®é¢˜æ’æŸ¥ï¼Œä¹Ÿä¸æš´éœ²æºç </p>
<p>ä¸ªäººçš„å¼€æºé¡¹ç›®ï¼Œä¸€èˆ¬å°±æ²¡è¿™ä¹ˆè®²ç©¶äº†ï¼Œç›´æ¥å’Œäº§ç‰©ä¸€èµ·ä¼ äº†ã€‚</p>
<p>å‰ç«¯ç›‘æ§å¹³å°ï¼Œä¸€èˆ¬éƒ½æ”¯æŒé”™è¯¯å †æ ˆè§£æï¼Œé€šè¿‡<code>.map</code>ï¼Œè¿˜åŸå‡ºé”™ä»£ç ä½ç½®è°ƒç”¨å †æ ˆä¿¡æ¯ã€‚</p>
<p>æœ‰æ—¶å€™æ²¡æœ‰è‡ªåŠ¨è§£æçš„å¹³å°å¯ç”¨çš„æ—¶å€™ï¼ˆæ¯”å¦‚ä¸€äº›å•†ç”¨ç›‘æ§å¹³å°ï¼Œå…è´¹ç‰ˆé€šå¸¸ä¸æä¾›è‡ªåŠ¨source-mapè§£æèƒ½åŠ›ï¼‰</p>
<p>å°±ä¼šæœäº›åœ¨çº¿<code>source-map</code>è§£æå·¥å…·å‡‘åˆä¸€ä¸‹ï¼ŒåŒ…å«åœ¨çº¿ç½‘é¡µï¼Œä»¥åŠCLIç‰ˆæœ¬çš„ã€‚ä½œè€…ä¹Ÿä½“éªŒä½¿ç”¨äº†ä¸€äº›ï¼ˆéƒ½è´´åˆ°æœ€åé™„å½•åˆ—è¡¨ä¸­ï¼Œè¯»è€…æœ‰å…¶å®ƒæ¨èçš„ä¹Ÿå¯è¯„è®ºåŒºè¡¥å……ï¼‰ã€‚</p>
<p>æœ¬æ–‡å°†ç»¼åˆç°æœ‰çš„source-map cliè§£æå·¥å…·ä¼˜ç¼ºç‚¹ï¼Œå–é•¿è¡¥çŸ­ï¼ŒğŸ´ä¸€ä¸ªç¼åˆæ€ªï¼ˆä¸»è¦åŒ…å«<code>æŠ¥é”™æºç è§£æ</code>å’Œ<code>æ ¹æ®sourceMapæ–‡ä»¶ç”Ÿæˆæºç </code>2ä¸ªèƒ½åŠ›ï¼‰ã€‚</p>
<p>å…ˆä¸Šä¸ªæ¼”ç¤ºï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯æ¥ç€å¾€ä¸‹çœ‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::komtoyjv62e36yquf73puh::--><code>npm i -g @sugarat/source-map-cli</code></pre>
</div><p><img src="./sm-cli/MTY2NzY2NTE1NzQwOQ==667665157409.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="source-mapåº“çš„ç®€ä»‹" tabindex="-1">source-mapåº“çš„ç®€ä»‹ <a class="header-anchor" href="#source-mapåº“çš„ç®€ä»‹" aria-label="Permalink to â€œsource-mapåº“çš„ç®€ä»‹â€">&#8203;</a></h2>
<p>npmåœ°å€ï¼š<a href="https://www.npmjs.com/package/source-map" target="_blank" rel="noreferrer">source-map</a></p>
<p>å¯ä»¥ç”¨äºç”Ÿæˆå’Œè§£æsourcemapçš„åº“ï¼Œæœ¬æ–‡ä¸»è¦ç”¨åˆ°å…¶è§£æçš„èƒ½åŠ›ï¼Œå…³æ³¨<a href="https://www.npmjs.com/package/source-map#sourcemapconsumer" target="_blank" rel="noreferrer">API:SourceMapConsumer</a>å³å¯</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹ï¼Œå…¶è¿”å›å€¼<code>consumer</code>æ˜¯ä¸€ä¸ª<code>Promise</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::i7wsrm7p42zzm7isdp51p::--><code>import sourceMap from &#039;source-map&#039;

function createSourceMapConsumer(sourceMapCode: string) {
  const consumer = new sourceMap.SourceMapConsumer(sourceMapCode)
  return consumer
}</code></pre>
</div><p><code>consumer</code>ä¸­åŒ…å«ä¸€ä¸ª<code>sources</code>å±æ€§ï¼Œæ ‡æ˜äº†åŒ…å«çš„æ‰€ç”¨åˆ°çš„æºç æ–‡ä»¶è·¯å¾„ä¿¡æ¯ï¼Œé€šè¿‡å®ä¾‹ä¸Šçš„<code>sourceContentFor</code>æ–¹æ³•å³å¯è·å–åˆ°å¯¹åº”<code>æ–‡ä»¶(source)</code>çš„<code>æºç (sourceCode)</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::gw12s2d586pfyfw2ind6m6::--><code>// mapContent å†…å®¹æ¥æº https://script.sugarat.top/js/tests/index.9bb0da5c.js.map
;(async () =&gt; {
  const consumer = await createSourceMapConsumer(mapContent)

  // [
  // &#039;../../vite/modulepreload-polyfill&#039;,
  // &#039;../../node_modules/.pnpm/@vue+shared@3.2.37/node_modules/@vue/shared/dist/shared.esm-bundler.js&#039;,
  // ç±»ä¼¼çš„æºæ–‡ä»¶è·¯å¾„
  // ]
  const sourceFileNames = consumer.sources

  // æºæ–‡ä»¶ä¸ªæ•°
  const sourceCount = sourceFileNames.length

  // ç¬¬ä¸€ä¸ªæºæ–‡ä»¶çš„å†…å®¹
  const sourceCode = consumer.sourceContentFor(sourceFileNames[0])
})()</code></pre>
</div><p><code>consumer</code>å®ä¾‹ä¸Šçš„å¦ä¸€ä¸ªæœ€å¸¸ç”¨çš„æ–¹æ³•<code>originalPositionFor</code>å¯ä»¥é€šè¿‡å‹ç¼©æ··æ·†åçš„ä»£ç è¡Œåˆ—å·ï¼Œè§£æå‡ºæºæ–‡ä»¶ä¿¡æ¯ã€‚</p>
<p>åŒ…å«<code>æºæ–‡ä»¶source</code>,<code>è¡Œå·line</code>,<code>åˆ—å·column</code>,<code>name</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::18as5l16v0m0ngksgm08zlb::--><code>// ç¬¬ä¸€ä¸ªæºæ–‡ä»¶çš„å†…å®¹
const sourceCode = consumer.sourceContentFor(sourceFileNames[0])

// é€šè¿‡å‹ç¼©æ··æ·†åçš„ä»£ç çš„è¡Œåˆ—å·ï¼Œå®šä½åˆ°æºæ–‡ä»¶
const sourceInfo = consumer.originalPositionFor({
  line: 24,
  column: 17596
})

// è¿™ä¸ªä¾‹å­çš„ç»“æœå¦‚ä¸‹
console.log(sourceInfo)
//   {
//     source: &#039;../../node_modules/.pnpm/vue-router@4.0.14_vue@3.2.37/node_modules/vue-router/dist/vue-router.esm-bundler.js&#039;,
//     line: 2882,
//     column: 12,
//     name: null
//   }</code></pre>
</div><p>é€šè¿‡å¦‚ä¸Š2ä¸ªç®€å•çš„<code>API</code>å³å¯å®Œæˆå¸¸ç”¨èƒ½åŠ›çš„å°è£…ã€‚</p>
<p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/source-map/__test__/sourcemap.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç </a></p>
<h2 id="mapèµ„æºåŠ è½½" tabindex="-1">.mapèµ„æºåŠ è½½ <a class="header-anchor" href="#mapèµ„æºåŠ è½½" aria-label="Permalink to â€œ.mapèµ„æºåŠ è½½â€">&#8203;</a></h2>
<p>é€šå¸¸æ¯ä¸ªjsäº§ç‰©éƒ½å¯¹åº”æœ‰ä¸€ä»½<code>.map</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å‘½åä¸º<code>åŸæ–‡ä»¶å.js.map</code></p>
<p>åœ¨ä¸è€ƒè™‘ç‰¹æ®Šçš„çº¦å®šæ¡ä»¶æƒ…å†µä¸‹ï¼Œé€šå¸¸æƒ…å†µæ˜¯åœ¨jsäº§ç‰©æœ«å°¾éƒ½æœ‰1ä¸ª<code>// #sourceMappingURL=xx.js.map</code>æ³¨é‡Šè¡¨æ˜jsèµ„æºå…³è”çš„mapæ–‡ä»¶è·¯å¾„</p>
<p>äºæ˜¯ä¹å’±ä»¬ï¼Œå¯ä»¥å…ˆå†™ä¸ªæ–¹æ³•æ¥è·å–ä¼ å…¥æ–‡ä»¶å¯¹åº”çš„sourceMapæ–‡ä»¶è·¯å¾„</p>
<h3 id="æœ¬åœ°sourcemapè·¯å¾„è·å–" tabindex="-1">æœ¬åœ°sourceMapè·¯å¾„è·å– <a class="header-anchor" href="#æœ¬åœ°sourcemapè·¯å¾„è·å–" aria-label="Permalink to â€œæœ¬åœ°sourceMapè·¯å¾„è·å–â€">&#8203;</a></h3>
<p>å…ˆæ˜¯è€ƒè™‘æœ¬åœ°çš„æƒ…å†µï¼Œé€šè¿‡è·¯å¾„æ‹¼æ¥<code>.map</code>ä¸è¯»å–æ–‡ä»¶æ–‡ä»¶æœ«å°¾<code>sourceMappingURL</code>2ç§æ–¹å¼ç›¸ç»“åˆ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::jbyom33q21pha6a1jxzwni::--><code>function getLocalSourceMapFilePath(sourceJsPath: string) {
  // æ–‡ä»¶ä¸å­˜åœ¨
  if (!existsSync(sourceJsPath)) {
    return NOT_FOUND
  }

  // å…ˆç›´æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨.js.mapæ–‡ä»¶å­˜åœ¨
  if (existsSync(`${sourceJsPath}.map`)) {
    return `${sourceJsPath}.map`
  }

  // è·å–ä»£ç é‡Œçš„ // #sourceMappingURL= æ³¨é‡Šçš„å†…å®¹
  const jsCode = readFileSync(sourceJsPath, &#039;utf-8&#039;)
  const flag = &#039;//# sourceMappingURL=&#039;
  const flagIdx = jsCode.lastIndexOf(flag)
  if (flagIdx === -1) {
    return NOT_FOUND
  }
  const sourceMappingURL = jsCode.slice(flagIdx + flag.length)

  // å¦‚æœæ˜¯httpè·¯å¾„è¡¨æ˜ æ˜¯ç»å¯¹è·¯å¾„ ç›´æ¥è¿”å›
  if (isHTTPSource(sourceMappingURL)) {
    return sourceMappingURL
  }

  // å¦åˆ™æ‹¼æ¥jsèµ„æºçš„ç›®å½•
  return path.resolve(path.dirname(sourceJsPath), sourceMappingURL)
}</code></pre>
</div><p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/9cee3f881157199c365b0a41ababe31d2f5b6fdf/packages/cli/source-map/src/util/index.ts#L26" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç </a></p>
<h3 id="è¿œç¨‹èµ„æºåŠ è½½" tabindex="-1">è¿œç¨‹èµ„æºåŠ è½½ <a class="header-anchor" href="#è¿œç¨‹èµ„æºåŠ è½½" aria-label="Permalink to â€œè¿œç¨‹èµ„æºåŠ è½½â€">&#8203;</a></h3>
<p>é™¤äº†æœ¬åœ°æƒ…å†µé‚£ä¹Ÿæœ‰çº¿ä¸Šèµ„æºçš„æƒ…å†µï¼Œæ¯”å¦‚ç”¨äºæµ‹è¯•çš„<code>https://script.sugarat.top/js/tests/index.9bb0da5c.js</code></p>
<p>ä¸‹é¢ä»‹ç»3ç§å¸¸è§æ–¹å¼è·å–<code>http</code>èµ„æºï¼Œ<code>http</code>,<code>axios</code>,<code>fetch</code></p>
<p>é¦–å…ˆæ˜¯<code>http</code>ï¼Œnodeå†…ç½®ç½‘ç»œæ¨¡å—ï¼Œä½¿ç”¨ä¸Šçš„æ„Ÿå®˜å’Œwebé‡Œçš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noreferrer">XMLHttpRequest</a>å·®ä¸å¤šï¼Œä¸å¤ªä¼˜é›…</p>
<p>ç®€å•åœºæ™¯ä¹¦å†™ä»£ç é‡ä¹Ÿåœ¨å¯æ¥å—çš„èŒƒå›´</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::kiev8hv7t8ubxy666thq::--><code>import http from &#039;http&#039;
import https from &#039;https&#039;

function getRemoteSource(
  url: string
): Promise&lt;{ body: string; code?: number }&gt; {
  return new Promise((resolve, reject) =&gt; {
    // åŒºåˆ«httpsä¸httpèµ„æº
    const HTTP = url.startsWith(&#039;https://&#039;) ? https : http

    // é€šè¿‡å›è°ƒçš„å½¢å¼è·å–
    HTTP.get(url, (res) =&gt; {
      // è®¾ç½®å¯è¯»æµçš„å­—ç¬¦ç¼–ç 
      res.setEncoding(&#039;utf-8&#039;)

      // å“åº”å†…å®¹æ‹¼æ¥
      let content = &#039;&#039;
      res.on(&#039;data&#039;, (chunk) =&gt; {
        content += chunk
      })

      // è¯»å®Œå¯¹å¤–æš´éœ²å†…å®¹å’ŒçŠ¶æ€ç 
      res.on(&#039;end&#039;, () =&gt; {
        resolve({
          body: content,
          code: res.statusCode
        })
      })

      res.on(&#039;error&#039;, (err) =&gt; {
        reject(err)
      })
    })
  })
}</code></pre>
</div><p><code>axios</code>ï¼Œå‰ç«¯å¸¸ç”¨çš„è·¨å¹³å°ç½‘ç»œè¯·æ±‚åº“ï¼ˆweb/node/å…¶å®ƒåœºæ™¯æä¾›adaptorå±‚åšé€‚é…ï¼‰</p>
<p>ç”¨è¿™ä¸ªä»£ç é‡å°±æ›´ç®€æ´äº†ï¼Œ3è¡Œå°±èƒ½æå®š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::yh6xfcieujcg5ttxs1wg3v::--><code>function getRemoteSourceByAxios(url: string) {
  return axios.get(url).then((v) =&gt; {
    return {
      code: v.status,
      body: v.data
    }
  })
}</code></pre>
</div><p><code>fetch</code>ï¼Œåœ¨webä¾§å·²ç»å‡ºç°å¾ˆä¹…äº†ï¼ŒNode.js&gt;=v17.5.0 å†…ç½®ï¼Œä½ç‰ˆæœ¬å¯ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„<a href="https://www.npmjs.com/package/node-fetch" target="_blank" rel="noreferrer">node-fetch</a></p>
<p>è¿™é‡Œä½¿ç”¨<code>node-fetch</code>è¿›è¡Œä¸¾ä¾‹ï¼Œä½¿ç”¨ä¹Ÿæ˜¯éå¸¸ç®€å•</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::hzbzma4uojgwfkg91x24t::--><code>import fetch from &#039;node-fetch&#039;

function getRemoteSourceByFetch(url: string) {
  return fetch(url).then(async (v) =&gt; {
    const code = v.status
    const body = await v.text()
    return {
      code,
      body
    }
  })
}</code></pre>
</div><p>åŒ…å«ä½†ä¸é™äºä»¥ä¸Šä¸‰ç§æ–¹å¼è¾¾åˆ°éœ€è¦çš„ç›®çš„ã€‚æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/source-map/__test__/remoteSource.ts" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç </a></p>
<h3 id="è¿œç¨‹sourcemapè·¯å¾„è·å–" tabindex="-1">è¿œç¨‹sourceMapè·¯å¾„è·å– <a class="header-anchor" href="#è¿œç¨‹sourcemapè·¯å¾„è·å–" aria-label="Permalink to â€œè¿œç¨‹sourceMapè·¯å¾„è·å–â€">&#8203;</a></h3>
<p>æ€è·¯å’Œæœ¬åœ°çš„èµ„æºé€»è¾‘åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯å†…å®¹è·å–å’Œåˆ¤æ–­éœ€è¦èµ°ç½‘ç»œï¼Œå®ç°å¦‚ä¸‹ï¼Œæ¥è¿‘ä¸€åŠéƒ½æ˜¯é‡å¤ä»£ç ï¼Œæœ‰ä¼˜åŒ–ç©ºé—´ï¼Œè¿™é‡Œä¸èµ˜è¿°äº†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::fv7fj4g73xp9q57a17bmn::--><code>async function getRemoteSourceMapFilePath(sourceJsPath: string) {
  const context = await getRemoteSource(sourceJsPath)
  if (context.code === 404) {
    return NOT_FOUND
  }
  if ((await getRemoteSource(`${sourceJsPath}.map`)).code === 200) {
    return `${sourceJsPath}.map`
  }
  const jsCode = context.body
  const flag = &#039;//# sourceMappingURL=&#039;
  const flagIdx = jsCode.lastIndexOf(flag)
  if (flagIdx === -1) {
    return NOT_FOUND
  }
  const sourceMappingURL = jsCode.slice(flagIdx + flag.length)
  if (isHTTPSource(sourceMappingURL)) {
    return sourceMappingURL
  }
  return path.resolve(path.dirname(sourceJsPath), sourceMappingURL)
}</code></pre>
</div><p>ç®€å•åšåˆå¹¶åçš„æ–¹æ³•å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::1v18jp95zbdfo1in1zk7d7::--><code>const isHTTPSource = (sourcePath: string) =&gt;
  sourcePath.startsWith(&#039;http&#039;)

async function getSourceMapFilePath(sourceJsPath: string) {
  if (!isHTTPSource(sourceJsPath)) {
    return getLocalSourceMapFilePath(sourceJsPath)
  }
  return getRemoteSourceMapFilePath(sourceJsPath)
}</code></pre>
</div><p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/9cee3f881157199c365b0a41ababe31d2f5b6fdf/packages/cli/source-map/src/util/index.ts#L19" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç </a></p>
<h2 id="è¿˜åŸæŠ¥é”™æºç " tabindex="-1">è¿˜åŸæŠ¥é”™æºç  <a class="header-anchor" href="#è¿˜åŸæŠ¥é”™æºç " aria-label="Permalink to â€œè¿˜åŸæŠ¥é”™æºç â€">&#8203;</a></h2>
<p>æœ‰äº†å‰é¢çš„åŸºç¡€ï¼Œå’±ä»¬ç¬¬ä¸€ä¸ªæ•´åˆåŠŸèƒ½å°±å¯ä»¥å®ç°äº† <strong>æ ¹æ®æŠ¥é”™èµ„æºä¿¡æ¯ï¼Œè¿˜åŸæºç å’Œè¡Œåˆ—å·</strong>ï¼Œå…ˆç»™å‡ºæ–¹æ³•çš„å®šä¹‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::j2rp906lswas4fbxfei6ck::--><code>interface SourceResult {
  /**
   * æºç 
   */
  sourceCode: string
  /**
   * æºç æ–‡ä»¶è·¯å¾„
   */
  source: string
  /**
   * è¡Œå·
   */
  line: number
  /**
   * åˆ—å·
   */
  column: number
}

/**
 * æ ¹æ®æŠ¥é”™èµ„æºä¿¡æ¯ï¼Œè·å–å¯¹åº”æºç ä¿¡æ¯
 * @param url æŠ¥é”™èµ„æº
 * @param line è¡Œå·
 * @param column åˆ—å·
 */
async function getErrorSourceResult(
  url: string,
  line: number,
  column: number
): Promise&lt;SourceResult&gt;</code></pre>
</div><p>åˆ©ç”¨ä¸Šé¢å®ç°çš„<code>getSourceMapFilePath</code>,é…åˆ<code>source-map</code>çš„2ä¸ªAPIå³å¯å®ç°<code>originalPositionFor</code>,<code>sourceContentFor</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::32623pgssbut86lmo152r::--><code>import fs from &#039;fs/promises&#039;

const sourceMapURL = await getSourceMapFilePath(url)

// sourceMap å†…å®¹
const sourceMapCode = await (isHTTPSource(sourceMapURL)
  ? getRemoteSource(sourceMapURL).then((v) =&gt; v.body)
  : fs.readFile(sourceMapURL, &#039;utf-8&#039;))

const consumer = await createSourceMapConsumer(sourceMapCode)
// è§£æå‡ºåŸæ¥çš„è¡Œåˆ—å·ï¼Œæºæ–‡ä»¶è·¯å¾„ç­‰ä¿¡æ¯
const { name, ...rest } = consumer.originalPositionFor({
  line,
  column
})
// è·å–æºç 
const sourceCode = consumer.sourceContentFor(rest.source!)
const result = {
  ...rest,
  sourceCode
}</code></pre>
</div><p>æ–¹ä¾¿ç»ˆç«¯é‡Œé¢„è§ˆç»“æœï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ª<code>printSourceResult</code>æ–¹æ³•ï¼Œå‹å¥½çš„æ‰“å°è¾“å‡ºä¸€äº›å†…å®¹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::37zn3ti6pcy9oa17n4f34g::--><code>getErrorSourceResult(
  &#039;https://script.sugarat.top/js/tests/index.9bb0da5c.js&#039;,
  24,
  17596
).then(printResult)</code></pre>
</div><p>ç¤ºä¾‹æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src="./sm-cli/MTY2NzYzNTkxODE1OQ==667635918159.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ–¹æ³•å®ç°å¦‚ä¸‹(è¯¦ç»†é‡Šä¹‰è§æ³¨é‡Š)</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::99l5fh0vwwnd0j6c5g2sr::--><code>/**
 * @param result
 * @param showMaxLine æ§åˆ¶æ˜¾ç¤ºçš„è¡Œæ•°
 */
export function printResult(result: SourceResult, showMaxLine = 5) {
  const { sourceCode, source, line, column } = result
  // æºç æ‹†æˆæ•°ç§Ÿ
  const lines = sourceCode.split(&#039;\n&#039;)

  // æ‰“å°é”™è¯¯è·¯å¾„
  console.log(`error in  ${source}:${line}:${column}`)
  console.log()

  // è®¡ç®—è¦å±•ç¤ºçš„è¡Œçš„èµ·å§‹ä½ç½®ï¼Œèµ·å§‹è¡Œå·ä¸èƒ½å°äº1
  const startLine = Math.max(1, line - Math.floor(showMaxLine / 2))
  // ç»“æŸä½ç½®ä¸èƒ½å¤§äºæ€»è¡Œæ•°
  const endLine = Math.min(lines.length, startLine + showMaxLine - 1)

  const showCode = lines
    // æˆªå–éœ€è¦å±•ç¤ºçš„å†…å®¹
    .slice(startLine - 1, endLine)
    .map(
      (v, idx) =&gt;
        // åŠ ä¸Šé»„è‰²è¡Œå·
        `${yellowStr(startLine + idx)} ${
          // é’ˆå¯¹é”™è¯¯çš„è¡Œè¿›è¡Œä¸‹åˆ’çº¿+çº¢è‰²å±•ç¤º
          idx + startLine === line
            ? // ä»é”™è¯¯çš„åˆ—å·å¼€å§‹å±•ç¤º
              v.slice(0, column - 1) + redStr(underlineStr(v.slice(column - 1)))
            : v
        }`
    )
    .join(&#039;\n&#039;)

  console.log(showCode)
}</code></pre>
</div><p>æ‰“å°å½©è‰²çš„åœºæ™¯æœ‰é™ï¼Œè¿™é‡Œç›´æ¥å°†éœ€è¦çš„æ•ˆæœé¢œè‰²å¯¹åº”çš„<code>ANSI Escape code</code>ä»<code>chalk</code>åº“ä¸­æˆªå–å‡ºæ¥</p>
<p><img src="./sm-cli/MTY2NzYzNDUwMzk2Ng==667634503966.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::r2z3x7h8iw9tv3ykpks9da::--><code>const underlineStr = (v: any) =&gt; `\x1B[4m${v}\x1B[24m`

const yellowStr = (v: any) =&gt; `\x1B[33m${v}\x1B[39m`

const redStr = (v: any) =&gt; `\x1B[31m${v}\x1B[39m`</code></pre>
</div><p>åˆ°æ­¤ç¬¬ä¸€ä¸ªåŠŸèƒ½çš„æ ¸å¿ƒä»£ç å°±å°è£…å¥½äº†</p>
<p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/9cee3f881157199c365b0a41ababe31d2f5b6fdf/packages/cli/source-map/__test__/util.ts#L15-L27" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç </a></p>
<h2 id="å®Œæ•´sourceç”Ÿæˆ" tabindex="-1">å®Œæ•´sourceç”Ÿæˆ <a class="header-anchor" href="#å®Œæ•´sourceç”Ÿæˆ" aria-label="Permalink to â€œå®Œæ•´sourceç”Ÿæˆâ€">&#8203;</a></h2>
<p>éƒ½çŸ¥é“é€šè¿‡<code>sourceMap</code>å¯ä»¥è·å–å®Œæ•´çš„æºç ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„éå¼€æºåº”ç”¨ï¼Œéƒ½æ˜¯å¯¹<code>sourceMap</code>æ–‡ä»¶åšäº†ç¯å¢ƒéš”ç¦»ï¼Œé˜²æ­¢æºç æ³„éœ²ã€‚</p>
<p>è¿™éƒ¨åˆ†å°±å°è£…1ä¸ªæ–¹æ³•ï¼Œ<strong>å®ç°å°†sourceMapä¸­åŒ…å«çš„æ‰€æœ‰æºæ–‡ä»¶è¾“å‡ºåˆ°æœ¬åœ°æŒ‡å®šç›®å½•</strong></p>
<p>é¦–å…ˆå®ç°1ä¸ªæ–¹æ³•ï¼Œå°†sourceMapä¸­éœ€è¦çš„ä¿¡æ¯è§£æå‡ºæ¥</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4f96sp0rx3btw1wbkpqsir::--><code>export async function getSourcesBySourceMapCode(sourceMapCode: string) {
  const consumer = await createSourceMapConsumer(sourceMapCode)
  const { sources } = consumer
  const result = sources.map((source) =&gt; {
    return {
      source,
      code: consumer.sourceContentFor(source)
    }
  })
  return result
}</code></pre>
</div><p>é…åˆæ–‡ä»¶æ“ä½œ(<code>fs</code>æ¨¡å—)ï¼Œå°†å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::lao7c7ctx9i9ullqevmtr::--><code>import { existsSync, mkdirSync, writeFileSync } from &#039;fs&#039;

async function outPutSources(
  sources: SourceItem[],
  outPutDir = &#039;source-map-result/project&#039;
) {
  for (const sourceItem of sources) {
    const { source, code } = sourceItem
    const filepath = path.resolve(process.cwd(), outPutDir, source)
    if (!existsSync(path.dirname(filepath))) {
      mkdirSync(path.dirname(filepath), { recursive: true })
    }
    writeFileSync(filepath, code, &#039;utf-8&#039;)
  }
}</code></pre>
</div><p>ç¤ºä¾‹ä»£ç ä¸è¿è¡Œç»“æœå¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::7o6wp5l1g4sjp34af2m77::--><code>getRemoteSource(
  &#039;https://script.sugarat.top/js/tests/index.9bb0da5c.js.map&#039;
).then(async ({ body }) =&gt; {
  const sources = await getSourcesBySourceMapCode(body)
  console.log(sources.length, &#039;ä¸ªæ–‡ä»¶&#039;)
  outPutSources(sources)
})</code></pre>
</div><p><img src="./sm-cli/MTY2NzYzOTU5NTgwOA==667639595808.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/9cee3f881157199c365b0a41ababe31d2f5b6fdf/packages/cli/source-map/__test__/util.ts#L30-L36" target="_blank" rel="noreferrer">ç¤ºä¾‹ä»£ç </a></p>
<p>åˆ°æ­¤å¸¸ç”¨çš„2ä¸ªèƒ½åŠ›çš„æ ¸å¿ƒå®ç°å°±å®Œæˆäº†ï¼Œä¸‹é¢å°†æŠŠå…¶å°è£…ä¸ºä¸€ä¸ªCLIå·¥å…·ï¼Œæ–¹ä¾¿æ¥å…¥ä½¿ç”¨</p>
<h2 id="å°è£…cli" tabindex="-1">å°è£…CLI <a class="header-anchor" href="#å°è£…cli" aria-label="Permalink to â€œå°è£…CLIâ€">&#8203;</a></h2>
<p>åŸºäº<code>commander</code>è¿›è¡Œå®è·µ</p>
<h3 id="parseæŒ‡ä»¤" tabindex="-1">parseæŒ‡ä»¤ <a class="header-anchor" href="#parseæŒ‡ä»¤" aria-label="Permalink to â€œparseæŒ‡ä»¤â€">&#8203;</a></h3>
<p>é¦–å…ˆæ˜¯æŒ‡ä»¤çš„å®šä¹‰</p>
<p>ä¸»è¦åŠŸèƒ½å°±æ˜¯å°†æŒ‡å®šçš„ <code>error js</code> èµ„æºçš„é€šè¿‡<code>sourcemap</code>è¿˜åŸå‡ºå…·ä½“çš„æŠ¥é”™æºç </p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::tss47353gv6qxy0597ib::--><code>program
  // sourceUrl æ ¼å¼ &lt;url&gt;[:line][:column]
  .command(&#039;parse &lt;sourceUrl&gt;&#039;)
  .description(&#039;parse error form url source&#039;)
  .alias(&#039;p&#039;)
  // æ ‡æ˜sourceUrl æ˜¯å¦ä¸º sourceMap èµ„æº
  .option(&#039;-s, --source-map&#039;, &#039;set url source as sourceMap type&#039;)
  // å•ç‹¬è®¾ç½®è¡Œå·
  .option(&#039;-l, --line &lt;number&gt;&#039;, &#039;set line number&#039;)
  // å•ç‹¬è®¾ç½®åˆ—å·
  .option(&#039;-c, --column &lt;number&gt;&#039;, &#039;set column number&#039;)
  // å°†ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶
  .option(&#039;-o, --output [string]&#039;, &#039;set log output dir&#039;)
  // è®¾ç½®å±•ç¤ºçš„é”™è¯¯ä¿¡æ¯è¡Œæ•°
  .option(&#039;-n, --show-num &lt;number&gt;&#039;, &#039;set show error source lines&#039;, &#039;5&#039;)
  .action(parseCommand)</code></pre>
</div><p>ä¸ºä¿è¯ä¸‹é¢3ä¸ªæŒ‡ä»¤ä¸€æ ·çš„æ•ˆæœï¼Œéœ€è¦å¯¹ <strong>&lt;sourceUrl&gt;</strong> ä¸ <code>-c</code>,<code>-l</code> <strong>Option</strong>åšä¸€å±‚å¤„ç†</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::mgs43ghyvzakpnorz89xw::--><code>smt parse xxx.js:24:17596
smt parse xxx.js -l 24 -c 17596
smt parse xxx.js:24 -c 17596</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::v02h5hx2mrq1q6z5vfquco::--><code>const match = sourceUrl.match(/:\d+/)
let url = sourceUrl
let l
let c
if (match?.index) {
  ;[l, c] = sourceUrl.slice(match.index + 1).split(&#039;:&#039;)
  url = sourceUrl.slice(0, match.index)
}
// æœ€ç»ˆéœ€è¦çš„è¡Œå·å’Œåˆ—å·
const line = l || options.line
const column = c || options.column</code></pre>
</div><p>åç»­çš„å¤„ç†é€»è¾‘åªéœ€è¦æŠŠ<code>url</code>,<code>line</code>,<code>column</code>3ä¸ªå‚æ•°ä¼ ç»™å‰é¢å®ç°çš„<code>getErrorSourceResult</code>æ–¹æ³•å³å¯</p>
<p>æ•ˆæœå¦‚ä¸‹</p>
<p><img src="./sm-cli/MTY2NzY1NzIwMDI4OQ==667657200289.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/source-map/src/command/parse.ts" target="_blank" rel="noreferrer">æºç </a></p>
<h3 id="sourcesæŒ‡ä»¤" tabindex="-1">sourcesæŒ‡ä»¤ <a class="header-anchor" href="#sourcesæŒ‡ä»¤" aria-label="Permalink to â€œsourcesæŒ‡ä»¤â€">&#8203;</a></h3>
<p>sourcesæŒ‡ä»¤å®šä¹‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::w23479918pqijykbdvm5::--><code>program
  .command(&#039;sources &lt;sourceUrl&gt;&#039;)
  .description(&#039;generating source files by source-map&#039;)
  .alias(&#039;s&#039;)
  .option(&#039;-s, --source-map&#039;, &#039;set url source as sourceMap type&#039;)
  .option(&#039;-o, --output [string]&#039;, &#039;set log output dir&#039;)
  .action(sourcesCommand)</code></pre>
</div><p>æ•ˆæœå¦‚ä¸‹</p>
<p><img src="./sm-cli/MTY2NzY2MDI1Mjg4MA==667660252880.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æœ¬å°èŠ‚<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/source-map/src/command/sources.ts" target="_blank" rel="noreferrer">æºç </a></p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>è¿™ä¸ªCLIæœ¬èº«èƒ½åŠ›æ¯”è¾ƒç®€å•ï¼Œä¾èµ–çš„æ ¸å¿ƒåº“ä¹Ÿåªæœ‰<code>source-map</code>ã€‚ä¸»è¦ç”¨äºå¼¥è¡¥ç¼ºå¤±å¹³å°è‡ªåŠ¨è§£æsource-mapèƒ½åŠ›çš„åœºæ™¯ï¼ŒååŠ©å®šä½<code>js error</code>çš„æŠ¥é”™æºç </p>
<p>åç»­å†å‡ºä¸€ç¯‡åœ¨çº¿sourcemapè§£æçš„å·¥å…·ï¼ŒåŠŸèƒ½ä¸CLIç±»ä¼¼ï¼Œä¸è¿‡æ˜¯Webç‰ˆçš„</p>
<p>CLIå®Œæ•´æºç è§<a href="https://github.com/ATQQ/tools/tree/main/packages/cli/source-map" target="_blank" rel="noreferrer">GitHub</a></p>
<h2 id="é™„å½•" tabindex="-1">é™„å½• <a class="header-anchor" href="#é™„å½•" aria-label="Permalink to â€œé™„å½•â€">&#8203;</a></h2>
<p>å…¶å®ƒåŒç±» Web&amp;CLI å·¥å…·</p>
<p>Web</p>
<ul>
<li><a href="https://www.hai-fe.com/decodeSourceMap" target="_blank" rel="noreferrer">decodeSourceMap</a></li>
</ul>
<p>CLI</p>
<ul>
<li><a href="https://www.npmjs.com/package/restore-source-tree" target="_blank" rel="noreferrer">restore-source-tree</a></li>
<li><a href="https://www.npmjs.com/package/source-map-tools" target="_blank" rel="noreferrer">source-map-tools</a></li>
<li><a href="https://www.npmjs.com/package/source-map-cli" target="_blank" rel="noreferrer">source-map-cli</a></li>
<li><a href="https://www.npmjs.com/package/source-map-to-source" target="_blank" rel="noreferrer">source-map-to-source</a></li>
<li><a href="https://www.npmjs.com/package/kaifu" target="_blank" rel="noreferrer">kaifu</a></li>
<li><a href="https://www.npmjs.com/package/@hl-cli/restore-code" target="_blank" rel="noreferrer">@hl-cli/restore-code</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/sm-cli/MTY2NzY2NTE1NzQwOQ==667665157409.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å†…è”JSå¤„ç†(ESè¯­æ³•é™çº§&å†…å®¹å‹ç¼©)]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/html-inline-js-transform.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/html-inline-js-transform.html</guid>
            <pubDate>Sat, 22 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[æœ¬æ–‡ç®€å•ä»‹ç»ä¸€ä¸‹å½“å‰`html`åœ¨ç°ä»£å·¥ç¨‹ä¸­çš„ç°çŠ¶ï¼Œå¹¶é˜è¿°å†…è”jsä»£ç å¯èƒ½å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶ä»‹ç»ä¸€ç³»åˆ—å¤„ç†é¡µé¢å†…è”è„šæœ¬çš„æ–¹æ³•ï¼Œä»¥åŠé€šè¿‡`SWC`å¦‚ä½•è½¬æ¢ç›®æ ‡ä»£ç ï¼Œé€šè¿‡`CLIå·¥å…·å¦‚ä½•ç»„åˆè¿™äº›èƒ½åŠ›`ã€‚]]></description>
            <content:encoded><![CDATA[<h1 id="å†…è”jså¤„ç†-esè¯­æ³•é™çº§-å†…å®¹å‹ç¼©" tabindex="-1">å†…è”JSå¤„ç†(ESè¯­æ³•é™çº§&amp;å†…å®¹å‹ç¼©) <a class="header-anchor" href="#å†…è”jså¤„ç†-esè¯­æ³•é™çº§-å†…å®¹å‹ç¼©" aria-label="Permalink to â€œå†…è”JSå¤„ç†(ESè¯­æ³•é™çº§&amp;å†…å®¹å‹ç¼©)â€">&#8203;</a></h1>
<blockquote>
<p>æœ¬æ–‡ä¸ºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œ14å¤©å†…ç¦æ­¢è½¬è½½ï¼Œ14å¤©åæœªè·æˆæƒç¦æ­¢è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼</p>
</blockquote>
<p>æœ¬æ–‡ç®€å•ä»‹ç»ä¸€ä¸‹å½“å‰<code>html</code>åœ¨ç°ä»£å·¥ç¨‹ä¸­çš„ç°çŠ¶ï¼Œå¹¶é˜è¿°å†…è”jsä»£ç å¯èƒ½å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶ä»‹ç»ä¸€ç³»åˆ—å¤„ç†é¡µé¢å†…è”è„šæœ¬çš„æ–¹æ³•ï¼Œä»¥åŠé€šè¿‡<code>SWC</code>å¦‚ä½•è½¬æ¢ç›®æ ‡ä»£ç ï¼Œé€šè¿‡<code>CLIå·¥å…·å¦‚ä½•ç»„åˆè¿™äº›èƒ½åŠ›</code>ã€‚</p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><strong>å½“ä¸‹</strong>å¤§éƒ¨åˆ†ç°ä»£å‰ç«¯Webå·¥ç¨‹ä¸­ï¼ŒHTMLæ–‡ä»¶å¤§éƒ¨åˆ†éƒ½æ˜¯ä»¥<code>public/index.html</code>æˆ–<code>&lt;projectRoot&gt;/index.html</code>å­˜åœ¨</p>
<p>å…¶å†…å®¹ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œé€šå¸¸åƒä¸‹é¢è¿™æ ·ã€‚</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::n354edrlxso5secna7c1r::--><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;!-- some meta or link source --&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div><p>é¡¹ç›®é€šè¿‡æ„å»ºå·¥å…·ï¼Œå°†ç¼–å†™çš„&quot;æºç &quot;è¿›è¡Œ<code>ä¸€ç³»åˆ—æ“ä½œ</code>åè½¬æ¢æˆä¾›æµè§ˆå™¨å¯ç›´æ¥è¿è¡Œçš„js</p>
<p>åœ¨äº§ç”Ÿçš„<code>HTMLæ–‡ä»¶</code>ä¸­ä½“ç°çš„å°±æ˜¯é€šè¿‡<code>&lt;script src&gt;</code>å’Œ<code>&lt;link href&gt;</code>æ ‡ç­¾å¼•å…¥äº†æ„å»ºåçš„èµ„æº</p>
<p>å…¶ä¸­éƒ¨åˆ†æ’ä»¶ä¼šå¾€é¡µé¢ä¸­ç›´æ¥æ’å…¥<code>å†…è”çš„JSä»£ç </code>ã€‚</p>
<p>å½“ç„¶ä¹Ÿä¸æ’é™¤ä¸€äº›é¡¹ç›®ä¹Ÿä¼šä¸»åŠ¨é€šè¿‡<code>CDN</code>å¼•å…¥ä¸€äº›ç¬¬ä¸‰æ–¹çš„SDKï¼Œç„¶åä¼šåœ¨æ¨¡æ¿ä¸­æ’å…¥ä¸€äº›<code>åˆå§‹åŒ–æˆ–è€…æ¿€æ´»ç›¸åº”åŠŸèƒ½ç‰¹æ€§çš„ä»£ç </code>ã€‚</p>
<p>é’ˆå¯¹ä¸Šé¢2ç§æƒ…å†µäº§ç”Ÿçš„<code>JS</code>ä»£ç ï¼Œ<code>å¤§éƒ¨åˆ†æƒ…å†µä¸‹</code>æ˜¯æ²¡æœ‰é€šè¿‡<code>babel</code>è¿›è¡Œç¼–è¯‘çš„ï¼Œå¯èƒ½å­˜åœ¨ä¸€äº›è´¨é‡é—®é¢˜ï¼ˆå…¼å®¹æ€§é—®é¢˜ä¸ºä¸»ï¼‰ã€‚</p>
<p>å¦‚æœåªæ˜¯<code>ESè¯­æ³•æ£€æŸ¥</code>ï¼Œå¯ä»¥ç”¨å‰é¢æ–‡ç« ä»‹ç»çš„<a href="https://juejin.cn/post/7148618887787970597" target="_blank" rel="noreferrer">å¢å¼ºESCheckå·¥å…·</a>è¿›è¡Œæ£€æµ‹ã€‚</p>
<p>æœ¬æ–‡å°†è¿›ä¸€æ­¥ä»‹ç»ä¸€ä¸‹æå–<code>HTML inline Code</code>çš„å¤šç§æ–¹æ³•ï¼Œç„¶åè¿›ä¸€æ­¥ä½¿ç”¨<code>SWC</code>å¯¹å†…è”è„šæœ¬è¿›è¡Œ<code>å‹ç¼©</code>ï¼Œ<code>ESè¯­æ³•è½¬æ¢é™çº§</code>ç­‰ç­‰æ“ä½œã€‚</p>
<h2 id="inlinejså†…å®¹å¤„ç†" tabindex="-1">InlineJSå†…å®¹å¤„ç† <a class="header-anchor" href="#inlinejså†…å®¹å¤„ç†" aria-label="Permalink to â€œInlineJSå†…å®¹å¤„ç†â€">&#8203;</a></h2>
<p>ç”¨äºæµ‹è¯•çš„ç›®æ ‡ä»£ç å¦‚ä¸‹</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::t4ul30ozbpczxfrdjptas::--><code>&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    const hello = &#039;hello&#039;
  &lt;/script&gt;
  &lt;script src=&quot;hello.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    const world = &#039;hello&#039;
  &lt;/script&gt;
  &lt;script&gt;
    console.log(hello,world);
  &lt;/script&gt;
&lt;/body&gt;</code></pre>
</div><p>ç›®çš„æ˜¯å°†é‡Œé¢çš„<code>js code</code>å…ˆæå–å‡ºæ¥ï¼Œç„¶åå°†é‡Œé¢çš„<code>const</code>ç®€å•çš„æ›¿æ¢æˆ<code>var</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ktd4an5n059ogwzex7xzbt::--><code>// ç®€å•è½¬æ¢ç¤ºä¾‹
function simpleConst2Var(code: string) {
  return code.replace(/const /g, &#039;var &#039;)
}</code></pre>
</div><h3 id="æ­£åˆ™" tabindex="-1">æ­£åˆ™ <a class="header-anchor" href="#æ­£åˆ™" aria-label="Permalink to â€œæ­£åˆ™â€">&#8203;</a></h3>
<p>ææ–‡æœ¬å†…å®¹çš„å¤„ç†é¦–å…ˆæƒ³åˆ°çš„æ–¹æ³•ï¼Œ<a href="https://regexper.com/#%2F%3Cscript%3E%28%5B%5Cs%5CS%5D*%3F%29%3C%5C%2Fscript%3E%2Fg" target="_blank" rel="noreferrer">ç®€å•çš„æ­£åˆ™</a>å¦‚ä¸‹</p>
<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::2m49enpma4xs2480h7o97p::--><code>/&lt;script&gt;([\s\S]*?)&lt;\/script&gt;/g</code></pre>
</div><p><img src="./html-inline-js-transform/MTY2NjQzNTk5MjcyMg==666435992722.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åˆ©ç”¨<code>replace</code>æ–¹æ³•ï¼Œå‡ è¡Œä»£ç å°±èƒ½æå®š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::b1rzyq0v3clkofxskcvk2g::--><code>function traverseScript(htmlCode: string, transformFn: (v: string) =&gt; string) {
  const rScriptTag = /&lt;script&gt;([\s\S]*?)&lt;\/script&gt;/g
  return htmlCode.replace(rScriptTag, (all, $1) =&gt; {
    return all.replace($1, transformFn($1))
  })
}</code></pre>
</div><p>å±€é™æ€§å°±æ˜¯æ— æ³•åŒºåˆ†å‡ºæ³¨é‡Šï¼Œå­—ç¬¦ä¸²çš„å€¼ï¼Œå‹‰å¼ºå¯ç”¨ã€‚</p>
<p>ç¤ºä¾‹ä»£ç åœ°å€:<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/inlinejs-transform/__test__/inline-code/regexp.ts" target="_blank" rel="noreferrer">inline-code/regexp.ts</a></p>
<h3 id="gogocode" tabindex="-1">GoGoCode <a class="header-anchor" href="#gogocode" aria-label="Permalink to â€œGoGoCodeâ€">&#8203;</a></h3>
<blockquote>
<p>GoGoCode æ˜¯ä¸€ä¸ªåŸºäº AST çš„ JavaScript/Typescript/HTML ä»£ç è½¬æ¢å·¥å…·ï¼ŒAPIæ˜¯jQueryé£æ ¼ï¼ŒAPIè¿˜æ˜¯å¾ˆç®€æ´å¥½ç”¨</p>
</blockquote>
<p>å…¶ä¸­<code>HTML</code>çš„è§£æä½¿ç”¨çš„æ˜¯<a href="https://www.npmjs.com/package/hyntax-yx" target="_blank" rel="noreferrer">hyntax-yx</a>çœ‹ä¸Šå»æ˜¯ fork<a href="https://www.npmjs.com/package/hyntax" target="_blank" rel="noreferrer">hyntax</a>é‡æ–°å‘äº†ä¸ªç‰ˆ</p>
<p>å› æ­¤ç”¨<code>GoGoCode</code>åŒæ ·å¯ä»¥å¾ˆç®€å•çš„å®ç°</p>
<p>å…ˆç”ŸæˆAST</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::kjf4w6nakmmifvfw9i2jos::--><code>import $ from &#039;gogocode&#039;
const htmlAST = $(htmlCode, { parseOptions: { language: &#039;html&#039; } })</code></pre>
</div><p>éå†<code>&lt;script&gt;</code>èŠ‚ç‚¹ï¼Œå…¶ä¸­<code>$scriptNode</code>èŠ‚ç‚¹ç»“æ„å¦‚ä¸‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>attr</code>æ–¹æ³•è¿›è¡Œå€¼çš„<code>å­˜å–æ“ä½œ</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::525hmsh84n84jx4b1yl0wx::--><code>htmlAST.find(`&lt;script&gt;$_$&lt;/script&gt;`).each(($scriptNode) =&gt; {
  const origin = $scriptNode.attr(&#039;content.value.content&#039;)
  $scriptNode.attr(&#039;content.value.content&#039;, transformFn(origin.toString()))
})</code></pre>
</div><p><img src="./html-inline-js-transform/MTY2NjQ0OTc4NTQxMQ==666449785411.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å®Œæ•´ä»£ç å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::6w6omayokcgqhcw33cfojd::--><code>function traverseScript(htmlCode: string, transformFn: (v: string) =&gt; string) {
  const htmlAST = $(htmlCode, { parseOptions: { language: &#039;html&#039; } })
  htmlAST.find(`&lt;script&gt;$_$&lt;/script&gt;`).each(($scriptNode) =&gt; {
    const origin = $scriptNode.attr(&#039;content.value.content&#039;)
    $scriptNode.attr(&#039;content.value.content&#039;, transformFn(origin.toString()))
  })
  return htmlAST.generate()
}</code></pre>
</div><p>ä»£ç é‡å’Œä½¿ç”¨æ­£åˆ™å·®ä¸å¤šï¼Œä½†ä½¿ç”¨ASTæ“ä½œå‡†ç¡®æ€§æ›´é«˜ï¼Œå¯ç©æ€§ä¹Ÿå¼ºã€‚</p>
<p><code>hyntax</code>åªæä¾›äº†ASTä¸Tokensçš„ç”Ÿæˆï¼ŒèŠ‚ç‚¹éå†ä¸ASTå†…å®¹è½¬æ¢è¾“å‡ºç”±<a href="https://github.com/thx/gogocode/tree/main/packages/gogocode-core/src/html-core" target="_blank" rel="noreferrer">GoGoCodeå®ç°</a>ã€‚</p>
<p>ç¤ºä¾‹ä»£ç åœ°å€:<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/inlinejs-transform/__test__/inline-code/gogocode.ts" target="_blank" rel="noreferrer">inline-code/gogocode.ts</a></p>
<h3 id="svelte" tabindex="-1">svelte <a class="header-anchor" href="#svelte" aria-label="Permalink to â€œsvelteâ€">&#8203;</a></h3>
<blockquote>
<p><a href="https://www.sveltejs.cn/" target="_blank" rel="noreferrer">Svelte</a> æ˜¯ä¸€ç§å…¨æ–°çš„æ„å»ºç”¨æˆ·ç•Œé¢çš„æ–¹æ³•ã€‚ä¼ ç»Ÿæ¡†æ¶å¦‚ React å’Œ Vue åœ¨æµè§ˆå™¨ä¸­éœ€è¦åšå¤§é‡çš„å·¥ä½œï¼Œè€Œ Svelte å°†è¿™äº›å·¥ä½œæ”¾åˆ°æ„å»ºåº”ç”¨ç¨‹åºçš„ç¼–è¯‘é˜¶æ®µæ¥å¤„ç†ã€‚</p>
</blockquote>
<p><em>å½“ç„¶ä¸äº†è§£è¿™ä¸ªæ¡†æ¶ï¼Œä¹Ÿä¸å½±å“ç†è§£åç»­çš„ä»£ç ï¼Œå¯ä»¥æ¥ç€å¾€ä¸‹çœ‹</em></p>
<p>è¿™ä¸ªæ˜¯ä» <a href="https://astexplorer.net/#/gist/d08dcb5d93461b5811a254a8f9630a6f/5032128f77e49280e3fbfc4656bd9560f6ce6dec" target="_blank" rel="noreferrer">AST Explorer</a> transformç¤ºä¾‹demoä¸­çœ‹åˆ°çš„</p>
<p>çœ‹äº†ä¸€ä¸‹<a href="https://github1s.com/fkling/astexplorer/blob/HEAD/website/src/parsers/html/transformers/svelte/index.js#L35" target="_blank" rel="noreferrer">demoå®ç°ä»£ç </a></p>
<p><a href="https://github.com/sveltejs/svelte/blob/146e7a6310627d4599bb60760d573dffa5d1d2ce/src/compiler/compile/index.ts#L88" target="_blank" rel="noreferrer">sevlte/compiler</a>æä¾›äº†ç›´æ¥ç”ŸæˆASTçš„æ–¹æ³•<code>compile</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::t5a2m3cllz1oyw0pg52ts::--><code>import * as svelte from &#039;svelte/compiler&#039;

const AST = svelte.compile(htmlCode).ast
const htmlAST = AST.html</code></pre>
</div><p><img src="./html-inline-js-transform/MTY2NjUxMjc4MTc4MQ==666512781781.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åŒæ—¶æä¾›äº†ä¸€ä¸ªé¢„å¤„ç†æ–¹æ³•<code>preprocess</code>ï¼Œå¯ä»¥å®ç°<code>script</code>,<code>style</code>ä¸å…¶ä»–æ ‡ç­¾å†…å®¹çš„éå†ä¸ä¿®æ”¹ï¼Œæœ€åè¿”å›å¤„ç†åçš„ç»“æœ</p>
<p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼Œå…¶è¿”å›å€¼æ˜¯<code>promise</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::3s02612mrxmgq76brr409s::--><code>import * as svelte from &#039;svelte/compiler&#039;

svelte.preprocess(htmlCode, {
  script(ops) {
    return {
      code: transformFn(ops.content)
    }
  }
})</code></pre>
</div><p>åŒæ ·æŒ‰ç…§ä¸Šé¢è¦æ±‚å®ç°<code>scriptä»£ç çš„è½¬æ¢</code>ï¼Œä»£ç å¾ˆç®€æ´</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wrrelejgmdpksr2hbwg47j::--><code>function traverseScript(htmlCode: string, transformFn: (v: string) =&gt; string) {
  return svelte
    .preprocess(htmlCode, {
      script(ops) {
        return {
          code: transformFn(ops.content)
        }
      }
    })
    .then((v) =&gt; v.code)
}</code></pre>
</div><p>ç¤ºä¾‹ä»£ç åœ°å€:<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/inlinejs-transform/__test__/inline-code/svelte.ts" target="_blank" rel="noreferrer">inline-code/svelte.ts</a></p>
<h3 id="posthtml" tabindex="-1">posthtml <a class="header-anchor" href="#posthtml" aria-label="Permalink to â€œposthtmlâ€">&#8203;</a></h3>
<blockquote>
<p><a href="https://github.com/posthtml/posthtml" target="_blank" rel="noreferrer">PostHTML</a> æ˜¯ä¸€ä¸ªæ”¯æŒä½¿ç”¨ç”¨ JS æ’ä»¶è½¬æ¢ HTML/XML çš„åº“ã€‚æœ¬èº«åªåŒ…å«<code>HTML parser</code>, <code>HTML node tree API</code>, <code>node tree stringifier</code>ä¸‰éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>æ’ä»¶å¼€å‘ä¹Ÿå¾ˆç®€å•ï¼Œå…¶å®˜æ–¹çš„<a href="https://github.com/posthtml/awesome-posthtml" target="_blank" rel="noreferrer">awesome</a>é‡Œæä¾›äº†å¾ˆå¤šç¤ºä¾‹çš„æ’ä»¶ï¼Œä¹Ÿæœ‰å¯å‚è€ƒçš„<a href="https://posthtml.org/#/api" target="_blank" rel="noreferrer">APIæ–‡æ¡£</a></p>
<p>å…ˆé€šè¿‡<a href="https://astexplorer.net/#/gist/d08dcb5d93461b5811a254a8f9630a6f/cc9ab894776ff836030a82a44bbe6794ad5c306c" target="_blank" rel="noreferrer">AST Explorer demo ç¤ºä¾‹</a>çœ‹ä¸€ä¸‹å…¶ç”Ÿæˆçš„ASTé¢è²Œ</p>
<p>å…¶ASTç»“æ„æè¿°å¾ˆæœ´ç´ </p>
<p><img src="./html-inline-js-transform/MTY2NjUxNjA5NzE0NQ==666516097145.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹,ä¹Ÿå¾ˆç®€å•</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::gscblexmodhj2kz2qf42h::--><code>import posthtml, { Node } from &#039;posthtml&#039;

const result = posthtml()
    .use(posthtmlPlugin)
    .process(htmlCode, { sync: true }).html</code></pre>
</div><p>è¿™é‡Œå°±ç®€å•å®ç°ä¸€ä¸‹<code>posthtmlScriptContentTransform</code></p>
<ul>
<li>åˆ©ç”¨<code>match</code>éå†<code>script</code>èŠ‚ç‚¹</li>
<li>ä½¿ç”¨ç”¨æˆ·ä¼ å…¥çš„<code>transformFn</code>å¤„ç†<code>content</code>å†…å®¹</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::m1h3rhgftzgsse3ralpp1::--><code>import type { Node } from &#039;posthtml&#039;

function posthtmlScriptContentTransform(transformFn: (v: string) =&gt; string) {
  return (tree: Node) =&gt; {
    tree.match({ tag: &#039;script&#039; }, (node) =&gt; {
      if (node?.content?.[0]) {
        node.content[0] = transformFn(node.content[0].toString())
      }
      return node
    })
  }
}</code></pre>
</div><p>æœ€ç»ˆä½¿ç”¨ä»£ç å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::f0nqqrbiozq9hgc3apx408::--><code>function traverseScript(htmlCode: string, transformFn: (v: string) =&gt; string) {
  return posthtml()
    .use(posthtmlScriptContentTransform(transformFn))
    .process(htmlCode, { sync: true }).html
}</code></pre>
</div><p>ç¤ºä¾‹ä»£ç åœ°å€:<a href="https://github.com/ATQQ/tools/blob/main/packages/cli/inlinejs-transform/__test__/inline-code/posthtml.ts" target="_blank" rel="noreferrer">inline-code/posthtml.ts</a></p>
<h3 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h3>
<p>è¿™éƒ¨åˆ†é™¤äº†<code>æ­£åˆ™</code>å¤–ï¼Œä»‹ç»äº†3ä¸ªå¯ä»¥ç”¨æ¥æå–<code>inline js</code>åº“ï¼ˆ<code>gogocode</code>ï¼Œ<code>svelte</code>ï¼Œ<code>posthtml</code>ï¼‰</p>
<p>ä»ä¸“ä¸šç¨‹åº¦æ¥çœ‹<code>posthtml</code>æ›´åŠ åˆé€‚ï¼Œæ‹“å±•èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œåé¢çš„åŠŸèƒ½ä¹Ÿå°†åŸºäºå…¶ç›´æ¥å¼€å‘æ’ä»¶ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚</p>
<h2 id="ä½¿ç”¨swcå¤„ç†" tabindex="-1">ä½¿ç”¨SWCå¤„ç† <a class="header-anchor" href="#ä½¿ç”¨swcå¤„ç†" aria-label="Permalink to â€œä½¿ç”¨SWCå¤„ç†â€">&#8203;</a></h2>
<blockquote>
<p><a href="https://swc.rs/" target="_blank" rel="noreferrer">SWC</a> æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºæ›¿æ¢babelçš„å·¥å…·ï¼ŒåŸºäºRustå®ç°ï¼Œåœ¨å•çº¿ç¨‹ä¸Šæ¯” Babel å¿«20å€ã€‚</p>
</blockquote>
<p>å‰é¢ä¸»è¦é˜è¿°äº†htmlä¸­jsä»£ç çš„æå–ï¼Œè¿™ä¸ªéƒ¨åˆ†å°±ç®€å•é˜è¿°ä¸€ä¸‹ä½¿ç”¨<code>SWC</code>å¯¹jséƒ¨åˆ†ä»£ç è¿›è¡Œ<code>ESè¯­æ³•é™çº§</code>ä¸<code>å‹ç¼©</code>ã€‚</p>
<p>ç›´æ¥åˆ©ç”¨<a href="https://swc.rs/docs/usage/core#transformfilesync" target="_blank" rel="noreferrer">transformSync</a>æ–¹æ³•å¯¹ä»£ç è¿›è¡Œè¯­æ³•é™çº§</p>
<ul>
<li><a href="https://swc.rs/docs/configuration/compilation#jscexternalhelpers" target="_blank" rel="noreferrer">jsc</a>ï¼šjsä»£ç ç¼–è¯‘ç›¸å…³é…ç½®</li>
<li><a href="https://swc.rs/docs/configuration/minification" target="_blank" rel="noreferrer">minify</a>ï¼šæ˜¯å¦å‹ç¼©</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::yqoa4c0ox7aylqcruwcq2m::--><code>import { transformSync } from &#039;@swc/core&#039;
import type { JscTarget } from &#039;@swc/core&#039;

export function transformCode(
  code: string,
  target: JscTarget = &#039;es5&#039;,
  minify = false
) {
  return transformSync(code, {
    jsc: {
      target
    },
    minify
  }).code
}</code></pre>
</div><p><a href="https://swc.rs/docs/usage/core#minify" target="_blank" rel="noreferrer">minifySync</a>ç›´æ¥å¯¹ä»£ç è¿›è¡Œå‹ç¼©å¤„ç†ã€‚</p>
<ul>
<li><a href="https://swc.rs/docs/configuration/minification#jscminifycompress" target="_blank" rel="noreferrer">compresså‚æ•°</a>ï¼šå¯ç”¨äºæ›´ç»†ç²’åº¦çš„æ§åˆ¶å‹ç¼©ç­–ç•¥</li>
<li><a href="https://swc.rs/docs/configuration/minification#jscminifymangle" target="_blank" rel="noreferrer">mangleå‚æ•°</a>ï¼šç»†ç²’åº¦çš„æ§åˆ¶ä»£ç æ··æ·†ç­–ç•¥</li>
</ul>
<p>ç”±äºåœ¨HTMLä¸­çš„JS ä»£ç å¯èƒ½ä¼šè¢«åç»­çš„<code>script</code>æ‰€å¼•ç”¨ã€‚æ‰€ä»¥å…³æ‰æ··æ·†ç­–ç•¥ï¼Œé¿å…å½±å“ä»£ç æ­£å¸¸å·¥ä½œ</p>
<p><strong>ä¾‹å¦‚</strong></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::60100ahocd7wu3wrh9nmeh::--><code>const hello = &#039;hello&#039;
// å¼€å¯æ··æ·†åç»“æœæ˜¯
var l=&quot;hello&quot;;</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::owac0mkkdfqk7ppceasjq::--><code>import { minifySync } from &#039;@swc/core&#039;
import type { JsMinifyOptions } from &#039;@swc/core&#039;

export function minifyCode(code: string, ops?: JsMinifyOptions) {
  return minifySync(code, {
    compress: false,
    mangle: false,
    ...ops
  }).code
}</code></pre>
</div><p>å…¶å®ƒå‹ç¼©ç›¸å…³çš„ç»†èŠ‚å‚æ•°è¿™é‡Œå°±ä¸å±•å¼€ä»‹ç»äº†,å¯ä»¥çœ‹ç»“åˆæ–‡æ¡£ä»‹ç»å’Œå®˜æ–¹çš„<a href="https://swc.rs/playground" target="_blank" rel="noreferrer">playground</a>è¿›è¡Œå®è·µéªŒè¯</p>
<h2 id="posthtmlæ’ä»¶å°è£…" tabindex="-1">posthtmlæ’ä»¶å°è£… <a class="header-anchor" href="#posthtmlæ’ä»¶å°è£…" aria-label="Permalink to â€œposthtmlæ’ä»¶å°è£…â€">&#8203;</a></h2>
<p>è¿™é‡Œå°±å°è£…2ä¸ª<code>posthtmlSWCMinify</code>å’Œ<code>posthtmlSWCTransform</code>2ä¸ªæ–¹æ³•ï¼Œç”¨äºå‹ç¼©å’Œè½¬æ¢ä¸¤ä¸ªåœºæ™¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zmb7dmv8eopdgtt3zerd7u::--><code>export function posthtmlSWCTransform(
  target: JscTarget = &#039;es5&#039;,
  minify = false
) {
  return (tree: Node) =&gt; {
    tree.match({ tag: &#039;script&#039; }, (node) =&gt; {
      if (node?.content?.[0]) {
        node.content[0] = transformCode(
          node.content[0].toString(),
          target,
          minify
        )
      }
      return node
    })
  }
}

export function posthtmlSWCMinify(ops?: JsMinifyOptions) {
  return (tree: Node) =&gt; {
    tree.match({ tag: &#039;script&#039; }, (node) =&gt; {
      if (node?.content?.[0]) {
        node.content[0] = minifyCode(node.content[0].toString(), ops)
      }
      return node
    })
  }
}</code></pre>
</div><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::x8z4wyjrw4afe5jsoshubq::--><code>import posthtml from &#039;posthtml&#039;

posthtml()
      .use(posthtmlSWCTransform())
      .process(htmlCode, { sync: true })

posthtml()
      .use(posthtmlSWCMinify())
      .process(htmlCode, { sync: true })</code></pre>
</div><p>è‡³æ­¤å¯¹<code>HTML</code>ä¸­inlineJSçš„æå–ä¸ä½¿ç”¨<code>SWC</code>å¤„ç†çš„æ–¹æ³•è¿›è¡Œäº†è¾ƒä¸ºè¯¦ç»†çš„é˜è¿°ï¼Œä¸‹é¢å°±æ˜¯é€šè¿‡CLIç»„åˆèƒ½åŠ›ï¼Œç„¶åå¯¹å¤–æä¾›ä½¿ç”¨ã€‚</p>
<h2 id="cliå°è£…" tabindex="-1">CLIå°è£… <a class="header-anchor" href="#cliå°è£…" aria-label="Permalink to â€œCLIå°è£…â€">&#8203;</a></h2>
<p>é€šè¿‡å°è£…ä¸€ä¸ªç®€å•çš„CLIå·¥å…·ï¼Œç›´æ¥å¯¹ç›®æ ‡HTMLè¿›è¡Œè½¬æ¢ï¼Œè°ƒç”¨èµ·æ¥æ›´åŠ çš„ä¾¿æ·ï¼Œä¹Ÿæ–¹ä¾¿çš„åœ¨ç°æœ‰å·¥ç¨‹ä¸­é›†æˆã€‚</p>
<h3 id="å‚æ•°å®šä¹‰" tabindex="-1">å‚æ•°å®šä¹‰ <a class="header-anchor" href="#å‚æ•°å®šä¹‰" aria-label="Permalink to â€œå‚æ•°å®šä¹‰â€">&#8203;</a></h3>
<p>ä½¿ç”¨<code>commander</code>åšå‚æ•°è§£æï¼Œå…ˆå®šä¹‰ä¸€ä¸‹æŒ‡ä»¤å’Œä¼ å‚ï¼Œå°±2ä¸ªæŒ‡ä»¤<code>transform</code>å’Œ<code>minify</code>ï¼ŒåªåŒ…å«ä¸Šè¿°æ–¹æ³•çš„åŸºæœ¬çš„ä¼ å…¥å‚æ•°</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::qwurnfv4nbnf3e9kst8w::--><code>#!/usr/bin/env node

import { Command } from &#039;commander&#039;
import pkg from &#039;../package.json&#039;
import { minifyCommand, transformCommand } from &#039;./command&#039;

const program = new Command()
program.version(pkg.version)

program
  .command(&#039;transform [paths...]&#039;)
  .description(&#039;transform inlineJS code ESVersion by SWC&#039;)
  .alias(&#039;t&#039;)
  .option(
    &#039;-e, --ecmaVersion [ecmaVersion]&#039;,
    &#039;set transform jsc target version&#039;,
    &#039;es5&#039;
  )
  .option(&#039;-m, --minify&#039;, &#039;minify transform result&#039;)
  .action(transformCommand)

program
  .command(&#039;minify [paths...]&#039;)
  .description(&#039;minify inlineJS code by SWC&#039;)
  .alias(&#039;m&#039;)
  .action(minifyCommand)

program.parse(process.argv)</code></pre>
</div><p><img src="./html-inline-js-transform/MTY2NjUzOTE5NjI2Ng==666539196266.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="æŒ‡ä»¤å®ç°" tabindex="-1">æŒ‡ä»¤å®ç° <a class="header-anchor" href="#æŒ‡ä»¤å®ç°" aria-label="Permalink to â€œæŒ‡ä»¤å®ç°â€">&#8203;</a></h3>
<p>ä¸‹é¢æ˜¯ <code>transformCommand</code> çš„ç®€å•å®ç°</p>
<ul>
<li>ä½¿ç”¨<code>fs</code>æ¨¡å—è¯»å†™æ–‡ä»¶å†…å®¹</li>
<li>ç›´æ¥é€šè¿‡<code>posthtml</code>è°ƒç”¨å‰é¢å®ç°çš„<code>posthtmlSWCTransform</code>æ’ä»¶å¯¹å†…å®¹è¿›è¡Œè½¬æ¢</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::x1landxyya8unasn3klka::--><code>// transformCommand
import fs from &#039;fs&#039;
import type { JscTarget } from &#039;@swc/core&#039;
import posthtml from &#039;posthtml&#039;
import { posthtmlSWCTransform } from &#039;../index&#039;

interface Options {
  ecmaVersion?: JscTarget
  minify?: boolean
}

export default function transformCommand(filesArg: string[], options: Options) {
  for (const filepath of filesArg) {
    const content = fs.readFileSync(filepath, &#039;utf-8&#039;)
    const result = posthtml()
      .use(posthtmlSWCTransform(options.ecmaVersion || &#039;es5&#039;, !!options.minify))
      .process(content, { sync: true }).html
    fs.writeFileSync(filepath, result, &#039;utf-8&#039;)
  }
}</code></pre>
</div><p><code>minifyCommand</code>çš„å®ç°æ˜¯ç±»ä¼¼çš„è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p>
<h3 id="æ•ˆæœ" tabindex="-1">æ•ˆæœ <a class="header-anchor" href="#æ•ˆæœ" aria-label="Permalink to â€œæ•ˆæœâ€">&#8203;</a></h3>
<blockquote>
<p>å®‰è£… npm i -g @sugarat/inlinejs-transform</p>
</blockquote>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::loix1quhectihedjj8b0m::--><code>ijs minify __test__/test.html</code></pre>
</div><p><img src="./html-inline-js-transform/MTY2NjU0MTExNzIyMw==666541117223.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::hlx2gjl3bol4px1on17whp::--><code>ijs transform __test__/test.html --minify</code></pre>
</div><p><img src="./html-inline-js-transform/MTY2NjU0MTE5Mjk3NQ==666541192975.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æ–‡ç« ä¸­æ¶‰åŠç¤ºä¾‹ä»£ç ä»¥åŠå·¥å…·å®Œæ•´æºç è§ <a href="https://github.com/ATQQ/tools/tree/main/packages/cli/inlinejs-transform" target="_blank" rel="noreferrer">GitHub</a></p>
<p>å¦‚å†…å®¹æœ‰è¯¯è¿˜è¯·è¯„è®ºåŒºæ–§æ­£ï¼Œè¯»è€…æœ‰å…¶å®ƒğŸ’¡æƒ³æ³•å¯è¯„è®º&amp;ç§ä¿¡äº¤æµæ¢è®¨ã€‚</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/html-inline-js-transform/MTY2NjQzNTk5MjcyMg==666435992722.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[NodeCLIå·¥å…·åŸç†è§£æ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/node-cli.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/node-cli.html</guid>
            <pubDate>Mon, 17 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[æœ¬æ–‡å°†ä¸»è¦ä»‹ç»`CLIç›¸å…³å‘¨è¾¹çŸ¥è¯†`ï¼Œé€šè¿‡æœ¬æ–‡è¯»è€…å¯ä»¥äº†è§£åˆ°`CLIçš„åŸºæœ¬å·¥ä½œåŸç†`ï¼Œ`æ³¨å†Œå…¨å±€æŒ‡ä»¤`çš„å‡ ç§æ–¹å¼ã€`Node CLIçš„åŸºæœ¬å·¥ä½œåŸç†`ã€‚
 å‰è¨€
&gt;CLI(Command-Line]]></description>
            <content:encoded><![CDATA[<h1 id="node-cliå·¥å…·åŸç†è§£æ" tabindex="-1">Node CLIå·¥å…·åŸç†è§£æ <a class="header-anchor" href="#node-cliå·¥å…·åŸç†è§£æ" aria-label="Permalink to â€œNode CLIå·¥å…·åŸç†è§£æâ€">&#8203;</a></h1>
<blockquote>
<p>æœ¬æ–‡ä¸ºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œ14å¤©å†…ç¦æ­¢è½¬è½½ï¼Œ14å¤©åæœªè·æˆæƒç¦æ­¢è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼</p>
</blockquote>
<p>æœ¬æ–‡å°†ä¸»è¦ä»‹ç»<code>CLIç›¸å…³å‘¨è¾¹çŸ¥è¯†</code>ï¼Œé€šè¿‡æœ¬æ–‡è¯»è€…å¯ä»¥äº†è§£åˆ°<code>CLIçš„åŸºæœ¬å·¥ä½œåŸç†</code>ï¼Œ<code>æ³¨å†Œå…¨å±€æŒ‡ä»¤</code>çš„å‡ ç§æ–¹å¼ã€<code>Node CLIçš„åŸºæœ¬å·¥ä½œåŸç†</code>ã€‚</p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<blockquote>
<p>CLI(Command-Line Interface) å‘½ä»¤è¡Œç•Œé¢</p>
</blockquote>
<p>æå¼€å‘çš„åŒå­¦ï¼Œæˆ–å¤šæˆ–å°‘çš„éƒ½ä¼šæ¥è§¦åˆ°è®¸å¤šçš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p>æœ‰ç”Ÿäº§åŠ›å·¥å…·ï¼Œä¹Ÿæœ‰æœ‰æ„æ€çš„å°ç©æ„ã€è‡ªåŠ¨åŒ–ä»»åŠ¡å¤„ç†ç­‰ç­‰ã€‚</p>
<p>å‘½ä»¤è¡Œå·¥å…·çš„å®‰è£…æ–¹å¼å°±å¾ˆå¤šäº†ã€‚</p>
<p><code>win</code>ä¸Šå¤§éƒ¨åˆ†æ˜¯é€šè¿‡è½¯ä»¶å®‰è£…åŒ…å®‰è£…ï¼Œå®‰è£…åŒæ—¶ä¼šé€šè¿‡<code>ç¯å¢ƒå˜é‡</code>é…ç½®ç›¸å…³æŒ‡ä»¤ã€‚</p>
<p><code>linux</code>å’Œ<code>mac</code>ä¸Šå°±æ¯”è¾ƒä¸°å¯Œäº†ï¼Œå‰è€…å¸¸ç”¨<code>yum</code>å’Œ<code>api-get</code>ã€mac ä¸Šå°±<code>brew</code>ã€‚</p>
<p>ä¹Ÿæœ‰ä½¿ç”¨<code>wget</code>å’Œ<code>curl</code>æ‹‰å–ç›¸å…³å·¥å…·çš„<code>shell</code>è„šæœ¬æ‰§è¡Œå®‰è£…ã€‚</p>
<p>è¯´äº†è¿™ä¹ˆå¤šå·¥å…·ï¼Œéƒ½ä¸æ˜¯æœ¬æ–‡è¦è®²çš„å·¥å…·ï¼Œå‰ç«¯æ¬ç –å½“ç„¶é¦–é€‰<code>node</code>ï¼Œç„¶ååŸºäº<code>npm</code>åšåŒ…çš„åˆ†å‘ã€‚</p>
<p><em>PSï¼šæ–‡ä¸­çš„ç¤ºä¾‹éƒ½ä»¥<code>mac</code>ä¸ºä¸»</em></p>
<h2 id="å¯æ‰§è¡Œshell" tabindex="-1">å¯æ‰§è¡Œshell <a class="header-anchor" href="#å¯æ‰§è¡Œshell" aria-label="Permalink to â€œå¯æ‰§è¡Œshellâ€">&#8203;</a></h2>
<p><code>unix</code>ç³»ä¸Šå¤§éƒ¨åˆ†å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯åŸºäº<code>shell</code>çš„è„šæœ¬ã€‚</p>
<p>æ¯”å¦‚éšæ‰‹å†™ä¸ª<code>hello world</code></p>
<p>æ–‡ä»¶å<code>hello</code>,å†…å®¹å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::zgbkd21w4gi53wm9jh09q::--><code>echo &quot;Hello world&quot;</code></pre>
</div><p><img src="./node-cli/MTY2NTkwNjg1MjMwNQ==665906852305.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ­¤æ—¶æˆ‘ä»¬ç›´æ¥æ‰§è¡Œæ˜¯ä¼šæé†’æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œæˆ‘ä»¬ä¸ºå½“å‰ç”¨æˆ·åŠ 1ä¸ªå¯æ‰§è¡Œæƒé™</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::6d8oju7h4u838qakog0mh4::--><code>chmod u+x hello</code></pre>
</div><p>ç„¶åå†å½“å‰ç›®å½•æ‰§è¡Œï¼Œå°±çœ‹åˆ°è¾“å‡ºç»“æœäº†</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::zywpcx04fuskbxrpcurzo::--><code>./hello</code></pre>
</div><p><img src="./node-cli/MTY2NTkwNzgzMTQ1OA==665907831458.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æ³¨å†Œå…¨å±€æŒ‡ä»¤" tabindex="-1">æ³¨å†Œå…¨å±€æŒ‡ä»¤ <a class="header-anchor" href="#æ³¨å†Œå…¨å±€æŒ‡ä»¤" aria-label="Permalink to â€œæ³¨å†Œå…¨å±€æŒ‡ä»¤â€">&#8203;</a></h2>
<p>ä¸ºäº†ä½¿â€œæŒ‡ä»¤â€åœ¨å…¨å±€ä»»æ„ä½ç½®éƒ½èƒ½è¢«ä½¿ç”¨ï¼Œå°±éœ€è¦åšç›¸å…³æ“ä½œäº†ã€‚</p>
<h3 id="ç¯å¢ƒå˜é‡" tabindex="-1">ç¯å¢ƒå˜é‡ <a class="header-anchor" href="#ç¯å¢ƒå˜é‡" aria-label="Permalink to â€œç¯å¢ƒå˜é‡â€">&#8203;</a></h3>
<p>ç›¸ä¿¡å¤§å¤šæ•°é¦–æ¬¡æ¥è§¦è¿™ä¸ªè¯çš„æœ‹å‹éƒ½åœ¨<code>win</code>ä¸Šæ·±æœ‰ä½“ä¼šã€‚è£…<code>JDK</code>ã€<code>MySQL</code>æ—¶éƒ½é¿å…ä¸äº†æœ‰é…ç½®çš„æ“ä½œã€‚</p>
<p>å¦‚æœæƒ³åœ¨å…¶å®ƒç›®å½•ç›´æ¥æ‰§è¡Œ<code>hello</code>å°±ç”Ÿæ•ˆå‘¢ï¼Ÿé‚£è¿™å°±ç¦»ä¸å¼€ç¯å¢ƒå˜é‡é…ç½®äº†</p>
<p>å’±ä»¬å…ˆçœ‹ç»ˆç«¯ç”¨çš„<code>shell</code>å·¥å…·æ˜¯ä»€ä¹ˆã€‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::czuryi5di69vk1agsh12l::--><code>echo $0</code></pre>
</div><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯<code>zsh</code>,å…¶å®ƒçš„å¸¸è§çš„è¿˜æœ‰<code>bash</code></p>
<p><img src="./node-cli/MTY2NTkwODA4MDA1NA==665908080054.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç›¸åº”çš„é…ç½®æ–‡ä»¶åˆ†åˆ«æ˜¯<code>.zshrc</code>å’Œ<code>.bashrc</code></p>
<p><img src="./node-cli/MTY2NTkwODIzNDg1Mw==665908234853.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="aliasæŒ‡ä»¤" tabindex="-1">aliasæŒ‡ä»¤ <a class="header-anchor" href="#aliasæŒ‡ä»¤" aria-label="Permalink to â€œaliasæŒ‡ä»¤â€">&#8203;</a></h3>
<p><strong>ä½¿ç”¨ aliasæŒ‡ä»¤è®¾ç½®åˆ«å</strong></p>
<p>æŒ‡ä»¤æ ¼å¼</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::h8xxq404pbm4qb4p9g1s::--><code>alias &lt;åˆ«å&gt;=&lt;æŒ‡ä»¤æˆ–å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„&gt;</code></pre>
</div><p>æ·»åŠ å†…å®¹å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::fprypuv7bsjecgw07v6q::--><code>alias hello=/Users/sugar/Documents/diy-cli/hello</code></pre>
</div><p>ç«‹å³ç”Ÿæ•ˆé…ç½®</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::z9epcp2s2pjpbwf3ubf2sa::--><code>source ~/.zshrc</code></pre>
</div><h3 id="exportæŒ‡ä»¤" tabindex="-1">exportæŒ‡ä»¤ <a class="header-anchor" href="#exportæŒ‡ä»¤" aria-label="Permalink to â€œexportæŒ‡ä»¤â€">&#8203;</a></h3>
<p><strong>ä½¿ç”¨exportå‘½ä»¤æ·»åŠ æ·»åŠ ç›¸å…³ç›®å½•</strong></p>
<p>æŒ‡ä»¤æ ¼å¼</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::raj23mso8e9oti9f44zhvo::--><code>export PATH=$PATH:&lt;è·¯å¾„ 1&gt;:&lt;è·¯å¾„ 2&gt;:&lt;è·¯å¾„ N&gt;</code></pre>
</div><p>æ·»åŠ å†…å®¹å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::aczrgmg4hf7btctntjaw5m::--><code>export PATH=$PATH:/Users/sugar/Documents/diy-cli</code></pre>
</div><p>ä»¥ä¸Š2ç§æ–¹æ¡ˆéƒ½èƒ½è¾¾åˆ°ç›®æ ‡çš„æ•ˆæœ</p>
<p><img src="./node-cli/MTY2NTkwOTgzNDM0NQ==665909834345.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¦‚æœæ¯ä¸ªå·¥å…·éƒ½å•ç‹¬é…ä¸€æ¡è§„åˆ™ã€‚é‚£ä¼šå¯¼è‡´ç›¸å…³é…ç½®æ–‡ä»¶éå¸¸çš„åºå¤§ï¼Œä¹Ÿä¸æ–¹ä¾¿ç»´æŠ¤ã€‚</p>
<p>å®é™…ä¸Šæˆ‘ä»¬åœ¨ç”¨<code>npm i -g</code>å®‰è£…çš„å…¨å±€åŒ…çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰æ‰‹åŠ¨é…ç½®ã€‚é‚£ä¹ˆè¿™ä¸ªæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ã€‚è¿™ä¸ªå°±ç¦»ä¸å¼€ä¸‹é¢å°†è¦è¯´åˆ°çš„<code>ç¬¦å·é“¾æ¥</code>äº†</p>
<h2 id="ç¬¦å·é“¾æ¥" tabindex="-1">ç¬¦å·é“¾æ¥ <a class="header-anchor" href="#ç¬¦å·é“¾æ¥" aria-label="Permalink to â€œç¬¦å·é“¾æ¥â€">&#8203;</a></h2>
<blockquote>
<p><code>è½¯é“¾æ¥</code>ç±»ä¼¼äºå¿«æ·æ–¹å¼ï¼Œå®ƒå¯ä»¥æŒ‡å‘ä»»æ„æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼›ç¡¬é“¾æ¥ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯æ–‡ä»¶æˆ–ç›®å½•çš„å¿«æ·æ–¹å¼ï¼Œä½†æºæ–‡ä»¶åˆ é™¤äº†ä¹Ÿä¸å½±å“<code>ç¡¬é“¾æ¥</code>ã€‚</p>
</blockquote>
<p>å…ˆé€šè¿‡<code>which npm</code>çœ‹ä¸€ä¸‹npmæ‰€åœ¨ä½ç½®</p>
<p>æ‰“å°ä¸€ä¸‹<code>$PATH</code>çš„å€¼ï¼Œå¯ä»¥çœ‹åˆ°<code>npm</code>æŒ‡ä»¤å¯¹åº”æ–‡ä»¶æ‰€åœ¨ç›®å½•å°±åœ¨å…¶ä¸­</p>
<p><img src="./node-cli/MTY2NTkxOTUwNzgzMQ==665919507831.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å±•å¼€ç›®å½•å†…å®¹å¯ä»¥çœ‹åˆ°æ–‡ä»¶ç±»å‹éƒ½æ˜¯<code>lï¼ˆè½¯è¿æ¥ï¼‰</code></p>
<p><img src="./node-cli/MTY2NTkxOTgwODA1OQ==665919808059.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å› æ­¤å’±ä»¬å¯ä»¥å°ç»“å‡ºæ¥ <strong>é€šè¿‡å‘å·²æ·»åŠ åˆ°$PATHå˜é‡ä¸­çš„ç›®å½•ï¼Œç›´æ¥åˆ›å»ºçŸ­é“¾å¯ä»¥å®ç°æŒ‡ä»¤çš„è‡ªåŠ¨æ³¨å†Œå…¨å±€</strong></p>
<p>ä¸‹é¢å®è·µæ¼”ç¤ºä¸€ä¸‹</p>
<h3 id="lnæŒ‡ä»¤" tabindex="-1">lnæŒ‡ä»¤ <a class="header-anchor" href="#lnæŒ‡ä»¤" aria-label="Permalink to â€œlnæŒ‡ä»¤â€">&#8203;</a></h3>
<p><strong>æŒ‡ä»¤æ ¼å¼</strong></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::n542g71k0dhp9okrev6oxn::--><code># ç¡¬é“¾æ¥
ln source target
# è½¯è¿æ¥
ln -s source target</code></pre>
</div><p>æ¥ç€ä¸Šé¢ä¹‹å‰çš„ä¾‹å­ï¼Œå†ä½¿ç”¨<code>export</code>å®Œæˆå¯¹ç›®å½•çš„æ·»åŠ åã€‚å’±ä»¬å†éšä¾¿å»ºç«‹ä¸ªæ–‡ä»¶<code>hello2.sh</code>è¿›è¡Œæ“ä½œ</p>
<p>å†…å®¹å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::1gj80h5kri5njs51tfttt::--><code>echo &quot;Hello world2&quot;</code></pre>
</div><p>åˆ›å»ºä¸€ä¸ªè½¯é“¾</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::45yry3y6ocxxyo8ob6oby::--><code>ln -s &lt;source&gt;/hello.sh &lt;target&gt;/hello2</code></pre>
</div><p>æ“ä½œç»“æœå¦‚ä¸‹</p>
<p><img src="./node-cli/MTY2NTkyMDk5MDQ3NA==665920990474.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å‰é¢ä»£ç éƒ½æ˜¯ç®€å•çš„å†™çš„<code>shell</code>è„šæœ¬</p>
<p>å‰ç«¯å½“ç„¶æ˜¯ç¾§<code>js</code>ï¼Œå’±ä»¬æŠŠä»£ç æ”¹æˆjsã€‚</p>
<p><code>hello.js</code></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::45q1n6bxwzj079qta18pbzp::--><code>console.log(&#039;hello js&#039;)</code></pre>
</div><p>æŒ‰ç…§å‰é¢çš„æ­¥éª¤ï¼Œå®Œæˆå¯æ‰§è¡Œæƒé™æ·»åŠ å’Œè½¯é“¾çš„åˆ›å»ºã€‚</p>
<p><img src="./node-cli/MTY2NTkyMTQzOTg0Ng==665921439846.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç»“æœå¯ä»¥é¢„æµ‹æ˜¯ä¼šæŠ¥é”™çš„ï¼Œé»˜è®¤ä¼šè¢«å½“åš<code>shell</code>è„šæœ¬è¿›è¡Œæ‰§è¡Œã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•æŒ‡å®šä¸ºä½¿ç”¨<code>node</code>å»æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Ÿ</p>
<p>è¿™å°±æ˜¯æˆ‘ä»¬ä¸‹æ–‡è¦è¯´åˆ°çš„<code>hashbang</code></p>
<h2 id="hashbang" tabindex="-1">Hashbang <a class="header-anchor" href="#hashbang" aria-label="Permalink to â€œHashbangâ€">&#8203;</a></h2>
<blockquote>
<p><code>Hashbang</code>ï¼ˆä¹Ÿç§°ä¸º<code>Shebang</code>ï¼‰æ˜¯ä¸€ä¸ªç”±äº•å·å’Œå¹å·æ„æˆçš„å­—ç¬¦åºåˆ— #!ï¼Œé€šå¸¸å‡ºç°åœ¨æ–‡ä»¶å¼€å¤´ï¼Œä¾‹å¦‚ <code>#!/usr/bin/env bash</code></p>
</blockquote>
<p>ç”¨äºæŒ‡å®šè„šæœ¬çš„è¿è¡Œç¯å¢ƒ</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬ç»™å‰é¢çš„<code>hello.js</code>å¤´éƒ¨åŠ ä¸Š<code>#!/usr/bin/env node</code> å†æ¬¡è¿è¡Œå°±æˆäº†</p>
<p><img src="./node-cli/MTY2NTk3NjM5NTkyNQ==665976395925.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è‡³æ­¤åŸºæœ¬æ¸…æ¥šäº†ï¼Œå¦‚ä½•å°†1ä¸ª<code>js</code>è„šæœ¬ä¾¿æ·çš„æ³¨å†Œä¸º1ä¸ªå…¨å±€å¯æ‰§è¡ŒæŒ‡ä»¤</p>
<h2 id="node-cli" tabindex="-1">Node CLI <a class="header-anchor" href="#node-cli" aria-label="Permalink to â€œNode CLIâ€">&#8203;</a></h2>
<p><code>node</code>å®˜é…åŒ…ç®¡ç†å·¥å…·<code>npm</code>ï¼Œé€šå¸¸æ¯ä¸ªé¡¹ç›®ä¸­æœ‰ä¸€ä¸ª<code>package.json</code>æ–‡ä»¶ï¼Œç”¨äºæè¿°é¡¹ç›®çš„ä¸€äº›ä¿¡æ¯æˆ–è€…åŒ…å«é¡¹ç›®ç›¸å…³çš„é…ç½®å†…å®¹</p>
<h3 id="æŒ‡ä»¤æ³¨å†Œ" tabindex="-1">æŒ‡ä»¤æ³¨å†Œ <a class="header-anchor" href="#æŒ‡ä»¤æ³¨å†Œ" aria-label="Permalink to â€œæŒ‡ä»¤æ³¨å†Œâ€">&#8203;</a></h3>
<p>å…¶ä¸­<code>bin</code>å±æ€§ç”¨äºè®¾ç½®<code>æŒ‡ä»¤åç§°</code>å’Œ<code>æ‰§è¡Œè„šæœ¬æ‰€åœ¨ä½ç½®</code></p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::4gvjrd1o7y6h6maf6b9o3::--><code>{
    &quot;name&quot;:&quot;pkgName&quot;,
    &quot;bin&quot;: {
        &quot;command&quot;: &quot;exec/filepath.js&quot;
    }
}</code></pre>
</div><p>ä½¿ç”¨<code>npm install</code>å®‰è£…ä¾èµ–ï¼Œä¼šæ ¹æ®<code>bin</code>ä¸­çš„æè¿°ï¼Œåˆ›å»º1ä¸ª<code>command</code>åˆ°<code>exec/filepath.js</code>çš„è½¯é“¾</p>
<p>è½¯é“¾æ‰€åœ¨ç›®å½•åŒºåˆ«äºæ˜¯å¦æ˜¯<code>global</code>å®‰è£…</p>
<p>è¿™ä¸ªç›®å½•å¯ä»¥é€šè¿‡<code>npm bin</code>æŒ‡ä»¤æŸ¥çœ‹</p>
<p><img src="./node-cli/MTY2NTk3NzgzMzUyOQ==665977833529.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å…¨å±€è·¯å¾„å’Œå‰é¢ä½¿ç”¨ <code>which npm</code>è·å–çš„ä¸€è‡´ï¼Œå½“å‰é¡¹ç›®çš„è·¯å¾„å³åœ¨<code>node_modules/.bin</code>ä¸­</p>
<p>å¦‚æœæ˜¯æœ¬åœ°å¼€å‘CLIæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>npm link</code>æŒ‡ä»¤æ ¹æ®<code>bin</code>æè¿°ä¿¡æ¯ï¼Œè‡ªåŠ¨åˆ›å»ºè½¯é“¾åˆ°<code>npm bin</code>æ‰€ç¤ºçš„ç›®å½•ä¸­ï¼Œé€šè¿‡<code>-g</code>å‚æ•°åŒºåˆ«æ˜¯å¦æ˜¯å…¨å±€</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ula0r1oj3tnstzxbekkwe::--><code># é¡¹ç›®å·¥ä½œç›®å½•ä¸‹æ‰§è¡Œ
npm link
# or
npm link -g</code></pre>
</div><h3 id="å‘½ä»¤è¡Œå‚æ•°" tabindex="-1">å‘½ä»¤è¡Œå‚æ•° <a class="header-anchor" href="#å‘½ä»¤è¡Œå‚æ•°" aria-label="Permalink to â€œå‘½ä»¤è¡Œå‚æ•°â€">&#8203;</a></h3>
<p>å‰é¢ä¸»è¦éƒ½åœ¨å›´ç»•å‘½ä»¤å±•å¼€ä»‹ç»ã€‚è¦å®ç°å·¥å…·çš„ä¸°å¯ŒåŠŸèƒ½ç¦»ä¸å¼€å‚æ•°çš„ç»„åˆï¼Œæœ¬å°èŠ‚å°±ä»‹ç»ä¸‹<code>Node</code>é‡Œå¦‚ä½•å¤„ç†<code>Command</code>ä¸<code>Options</code>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>process.argv</code>æ–¹æ³•è·å–åˆ°è¿è¡Œæ—¶çš„ å‘½ä»¤è¡Œå…¥å‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::kuswyyfn0qj6e0hphw7w0n::--><code>console.log(process.argv);</code></pre>
</div><p><img src="./node-cli/MTY2NjAxMzEwMTkzNQ==666013101935.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å„ä½ç½®å‚æ•°é‡Šä¹‰</p>
<ul>
<li><code>0</code>ï¼šNodeå¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨è·¯å¾„</li>
<li><code>1</code>ï¼šæ‰§è¡Œçš„jsè„šæœ¬è·¯å¾„</li>
<li><code>&gt;1</code>ï¼šç”¨æˆ·è¿è¡Œæ—¶ä¼ å…¥çš„å‚æ•°</li>
</ul>
<p>é€šè¿‡è¿™äº›å‚æ•°ï¼Œå°±èƒ½åŒºåˆ†å‡ºç”¨æˆ·è¦æ‰§è¡Œçš„è¡Œä¸º</p>
<p>å½“ç„¶åœ¨å®é™…å¼€å‘ä¸­å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œéƒ½ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å»è§£æ<code>å‘½ä»¤è¡Œå‚æ•°</code>ï¼Œæ¥é™ä½ä»£ç çš„å¤æ‚åº¦ï¼Œæé«˜å¯è¯»æ€§ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨<code>commander</code>çš„ä¾‹å­</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::9guyfulhjlcintutckuakm::--><code>#!/usr/bin/env node

const { Command } = require(&#039;commander&#039;)
const pkg = require(&#039;./package.json&#039;)

const program = new Command()
program.version(pkg.version)

program
    .command(&#039;hello [paths...]&#039;)
    .description(&#039;hello world demo&#039;)
    .alias(&#039;h&#039;)
    .option(&#039;-p, --pkg &lt;path&gt;&#039;, &#039;set package.json path&#039;)
    .action((paths, options) =&gt; {
        console.log(&#039;ğŸ˜„ğŸ˜„ğŸ˜„&#039;);
        console.log(paths);
        console.log(options);
    })

program.parse(process.argv)</code></pre>
</div><p><img src="./node-cli/MTY2NjAxNDgwMjQ1MQ==666014802451.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“è¾…åŠ©å¤„ç†<code>å‚æ•°</code>ï¼Œå·²ç»éå¸¸å®Œå–„äº†</p>
<p>é™¤äº†è€ç‰Œçš„<a href="https://www.npmjs.com/package/commander" target="_blank" rel="noreferrer">commander</a>ä¹‹å¤–è¿˜æœ‰å…¶å®ƒçš„ç›¸åŒä½œç”¨çš„åº“ï¼Œè¿™é‡Œå°±ä¸å±•å¼€ä»‹ç»äº†ã€‚</p>
<h3 id="å½©è‰²æ‰“å°" tabindex="-1">å½©è‰²æ‰“å° <a class="header-anchor" href="#å½©è‰²æ‰“å°" aria-label="Permalink to â€œå½©è‰²æ‰“å°â€">&#8203;</a></h3>
<p>è¿™ä¸ªå¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œå¤§éƒ¨åˆ†CLIæ‰“å°ç»“æœéƒ½æ˜¯<code>äº”é¢œå…­è‰²</code>çš„</p>
<p>æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::gwohviioh9abdjfkjjxzvm::--><code>echo &#039;[36mhello  world[39m&#039;</code></pre>
</div><p><img src="./node-cli/MTY2NjAxNjQ3NTM3OA==666016475378.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç›¸å…³çŸ¥è¯†ç‚¹æ˜¯<code>ANSI Escape code</code>ï¼Œè¿™é‡Œå°±ä¸å±•å¼€è¯´æ˜äº†ã€‚</p>
<p>å®é™…å¼€å‘ä¸­ï¼Œä¹Ÿå¾ˆå°‘ç›´æ¥å†™è¿™ç§åŸå§‹çš„æ•°å€¼ã€‚é€šå¸¸ä¼šä½¿ç”¨<a href="https://www.npmjs.com/package/chalk" target="_blank" rel="noreferrer">chalk</a>è¿™ä¸ªåº“è¾…åŠ©ï¼Œæ¯”å¦‚ä¸Šé¢è¿™ä¸ªé¢œè‰²å¯¹åº”ä»£ç å¦‚ä¸‹ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::1a4r2483sf704qpefic24mj::--><code>const Chalk = require(&#039;chalk&#039;);

console.log(Chalk.cyan(&#039;hello world&#039;));</code></pre>
</div><p>æ¸å˜è‰²æ‰“å°å°±å¸¸ç”¨<a href="https://www.npmjs.com/package/gradient-string" target="_blank" rel="noreferrer">gradient-string</a>è¿™ä¸ªåº“</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::4kylcz3ibw8ub0xks5fz3l::--><code>const gradient = require(&#039;gradient-string&#039;);

console.log(gradient(&#039;cyan&#039;, &#039;pink&#039;)(&#039;Hello world!&#039;));</code></pre>
</div><p><img src="./node-cli/MTY2NjAxNzA5NTYwOQ==666017095609.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç®€å•ä¸¤è¡Œä»£ç æ•ˆæœå°±å‡ºæ¥äº†</p>
<h3 id="ç»ˆç«¯äº¤äº’" tabindex="-1">ç»ˆç«¯äº¤äº’ <a class="header-anchor" href="#ç»ˆç«¯äº¤äº’" aria-label="Permalink to â€œç»ˆç«¯äº¤äº’â€">&#8203;</a></h3>
<p>åœ¨ä½¿ç”¨ ä¾‹å¦‚<code>Vue CLI</code> æ­¤ç±»å·¥å…·è¿›è¡Œé¡¹ç›®åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šæœ‰<code>è¾“å…¥</code>ï¼Œ<code>å•é€‰</code>ï¼Œ<code>å¤šé€‰</code>ç­‰äº¤äº’æ“ä½œã€‚</p>
<p><em>ç›¸å…³åŸç†æ¶‰åŠå†…å®¹å¤ªâ€œæŠ½è±¡â€ï¼Œç¯‡å¹…è¾ƒå¤§ï¼Œåç»­é€šä¿—ç²¾ç®€äº†å†åšåˆ†äº«</em></p>
<p>å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“å°±æ˜¯<a href="https://www.npmjs.com/package/inquirer" target="_blank" rel="noreferrer">inquirer</a>è¿™ä¸ªåº“</p>
<p>ä¸‹é¢æ˜¯ç®€å•<code>checkbox</code>ç¤ºä¾‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::2h498vu97pw54bdlhl7rkn::--><code>const inquirer = require(&#039;inquirer&#039;);

inquirer
    .prompt([
        {
            type: &#039;checkbox&#039;,
            message: &#039;æ°´æœé€‰æ‹©&#039;,
            name: &#039;fruits&#039;,
            choices: [
                {
                    name: &#039;ğŸŒ&#039;,
                },
                {
                    name: &#039;ğŸ‰&#039;,
                },
                {
                    name: &#039;ğŸ‡&#039;,
                },
            ]
        },
    ])
    .then((answers) =&gt; {
        console.log(answers);
    });</code></pre>
</div><p><img src="./node-cli/MTY2NjAyMDU3NDQzOQ==666020574439.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æœ¬æ–‡æ²¡æœ‰é˜è¿°éå¸¸æ·±å¥¥çš„çŸ¥è¯†ç‚¹ï¼Œåªæ¶‰åŠæ—¥å¸¸çš„ä¸€äº›<code>åŸºæ“</code>ï¼Œæœ‰åŠ©äºè¯»è€…äº†è§£Node CLI èƒŒåçš„å·¥ä½œåŸç†ã€‚</p>
<p>å¦‚å†…å®¹æœ‰ä¸å¦¥ä¹‹å¤„ï¼Œå¯ä»¥è¯„è®ºåŒºäº¤æµï¼›æœ‰æ„Ÿå…´è¶£å¸Œæœ›æ·±å…¥äº†è§£çš„çŸ¥è¯†ç‚¹ä¹Ÿå¯è¯„è®ºåŒº@ã€‚</p>
<p>å®Œæ•´ç¤ºä¾‹ä»£ç ç§»æ­¥=&gt;<a href="https://github.com/ATQQ/tools/tree/main/packages/demos/diy-cli" target="_blank" rel="noreferrer">Github</a></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/node-cli/MTY2NTkwNjg1MjMwNQ==665906852305.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Macä¸ŠæŠ“åŒ…ç§’é€šå…³ç¾Šäº†ä¸ªç¾Š]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/yanglegeyang.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/yanglegeyang.html</guid>
            <pubDate>Mon, 19 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[æœ€è¿‘è¿™æ¸¸æˆæ˜¯ç«å¾—ä¸è¡Œï¼Œç¡å‰ç©å‡ æŠŠï¼Œå‡ å¤©äº†ä»æœªé€šè¿‡ã€‚é‚£åªèƒ½ä¸Šç§‘æŠ€äº†ã€‚ã€‚ã€‚
 å‰è¨€
çœ‹ç½‘ä¸Šå¤§éƒ¨åˆ†æ˜¯ Windows å¾®ä¿¡å°æ¸¸æˆçš„æŠ“åŒ…æ•™ç¨‹é€šå…³æ–‡ç« ï¼Œå› ä¸ºMacå¾®ä¿¡ä¸æ”¯æŒå°æ¸¸æˆï¼ˆå°´å°¬äº†ã€‚ï¼‰
å¯¹äºçœŸæœºæŠ“åŒ…çš„è¯ï¼Œ]]></description>
            <content:encoded><![CDATA[<h1 id="macä¸ŠæŠ“åŒ…ç§’é€šå…³ç¾Šäº†ä¸ªç¾Š" tabindex="-1">Macä¸ŠæŠ“åŒ…ç§’é€šå…³ç¾Šäº†ä¸ªç¾Š <a class="header-anchor" href="#macä¸ŠæŠ“åŒ…ç§’é€šå…³ç¾Šäº†ä¸ªç¾Š" aria-label="Permalink to â€œMacä¸ŠæŠ“åŒ…ç§’é€šå…³ç¾Šäº†ä¸ªç¾Šâ€">&#8203;</a></h1>
<p>æœ€è¿‘è¿™æ¸¸æˆæ˜¯ç«å¾—ä¸è¡Œï¼Œç¡å‰ç©å‡ æŠŠï¼Œå‡ å¤©äº†ä»æœªé€šè¿‡ã€‚é‚£åªèƒ½ä¸Šç§‘æŠ€äº†ã€‚ã€‚ã€‚</p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>çœ‹ç½‘ä¸Š<strong>å¤§éƒ¨åˆ†æ˜¯ Windows å¾®ä¿¡å°æ¸¸æˆ</strong>çš„æŠ“åŒ…æ•™ç¨‹é€šå…³æ–‡ç« ï¼Œå› ä¸ºMacå¾®ä¿¡ä¸æ”¯æŒå°æ¸¸æˆï¼ˆå°´å°¬äº†ã€‚ï¼‰</p>
<p>å¯¹äºçœŸæœºæŠ“åŒ…çš„è¯ï¼Œé«˜ç‰ˆæœ¬Androidé…ç½®CAå¤ªéº»çƒ¦ï¼ˆRootï¼‰ï¼Œç›¸ä¿¡ å¤§éƒ¨åˆ†éƒ½æ˜¯10å·¦å³çš„å®‰å“</p>
<p>æ‰‹é‡Œåªæœ‰å°Macï¼Œé‚£å’±å°±ç›´æ¥ç”¨ Mac é…å®‰å“æ¨¡æ‹Ÿå™¨æå®šæŠ“åŒ…ï¼ˆ<code>Whistle</code> + <code>MuMu</code>ï¼‰</p>
<p>PSï¼šæ–‡ä¸­æœ‰æœ€ç»ˆæ¼”ç¤ºè§†é¢‘</p>
<h2 id="å·¥å…·ä»‹ç»-ä½¿ç”¨" tabindex="-1">å·¥å…·ä»‹ç»&amp;ä½¿ç”¨ <a class="header-anchor" href="#å·¥å…·ä»‹ç»-ä½¿ç”¨" aria-label="Permalink to â€œå·¥å…·ä»‹ç»&amp;ä½¿ç”¨â€">&#8203;</a></h2>
<h3 id="whistle" tabindex="-1">Whistle <a class="header-anchor" href="#whistle" aria-label="Permalink to â€œWhistleâ€">&#8203;</a></h3>
<p><a href="https://github.com/avwo/whistle" target="_blank" rel="noreferrer">whistle</a>ï¼Œæ˜¯åŸºäº Node å®ç°çš„è·¨å¹³å°æŠ“åŒ…è°ƒè¯•å·¥å…·</p>
<p>å¯¹å’±å‰ç«¯åŒå­¦æ¯”è¾ƒå‹å¥½ï¼Œå®‰è£…é…ç½®éƒ½å¾ˆç®€å•</p>
<p>å®‰è£…</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::cj8ylmirnqp0dgiv8dlile9::--><code>npm i -g whistle</code></pre>
</div><p>å¯åŠ¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::jp34263opilqgzdkj4h1s::--><code>w2 start</code></pre>
</div><p>è®¿é—® <code>http://localhost:8899/#network</code> å³å¯çœ‹åˆ°</p>
<p><img src="./yanglegeyang/MTY2MzU2NjE2NzMwMg==663566167302.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç„¶åå°±æ˜¯é…ç½®CAè¯ä¹¦ï¼Œå‚ç…§<a href="http://wproxy.org/whistle/webui/https.html" target="_blank" rel="noreferrer">å®˜æ–¹æ–‡æ¡£: Macå®‰è£…æ ¹è¯ä¹¦</a>ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼ˆCVï¼‰ï¼Œåªæœ‰å‡ ä¸ªæ­¥éª¤1åˆ†é’Ÿå°±èƒ½å®Œæˆé…ç½®ã€‚</p>
<p>è·å–ä¸€ä¸‹ipï¼Œåé¢ä¼šç”¨åˆ°</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::9v9xzakvd5k09mj1jyjdthu::--><code>172.30.43.170</code></pre>
</div><p><img src="./yanglegeyang/MTY2MzU2NjIyNjg3MQ==663566226871.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="mumu" tabindex="-1">MuMu <a class="header-anchor" href="#mumu" aria-label="Permalink to â€œMuMuâ€">&#8203;</a></h3>
<p><a href="https://mumu.163.com/mac/index.html" target="_blank" rel="noreferrer">MuMuæ¨¡æ‹Ÿå™¨</a> ç½‘æ˜“å‡ºå“çš„å®‰å“æ¨¡æ‹Ÿå™¨ï¼ˆAndroid6ï¼‰ï¼Œåœ¨Macä¸Šè¿è¡Œç¨³å®šï¼Œç”¨æ¥å¨±ä¹æˆ–è€…å¼€å‘è°ƒè¯•éƒ½è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿</p>
<p>å®‰è£…å°±æ˜¯å®˜ç½‘ä¸‹è½½ï¼Œä¸€é¡¿ä¸‹ä¸€æ­¥å°±è¡Œï¼Œä¸‹é¢ä»‹ç»æ¨¡æ‹Ÿå™¨ä¸­çš„é…ç½®ï¼ˆå½“ç„¶å¤§å®¶è£…å®ŒåæŠŠå¾®ä¿¡å®‰è£…å¹¶ç™»å½•ä¸Šï¼‰</p>
<p><img src="./yanglegeyang/MTY2MzU2NjQ3NjE0NA==663566476144.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç™»å½•å¾®ä¿¡åï¼Œå’±å°±å¼€å§‹é…ç½®CAè¯ä¹¦</p>
<p>å…ˆé…ç½®æ¨¡æ‹Ÿå™¨ç½‘ç»œï¼Œæ·»åŠ ä»£ç†ï¼ŒIPå°±æ˜¯å’±ä»¬å‰é¢è·å–çš„æœ¬æœºip</p>
<p>é•¿æŒ‰Wifiå  =&gt; ä¿®æ”¹ç½‘ç»œ =&gt; ä»£ç†ï¼ˆæ‰‹åŠ¨ï¼‰</p>
<p>è¾“å…¥æœ¬æœºipï¼Œç«¯å£<code>8899</code>ï¼Œwhistleä½¿ç”¨</p>
<p><img src="./yanglegeyang/MTY2MzU2NjY4ODc0Ng==663566688746.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><img src="./yanglegeyang/MTY2MzU2NjU0MzE4OQ==663566543189.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä½¿ç”¨æµè§ˆå™¨è®¿é—® <code>rootca.pro</code> å®‰è£…CAè¯ä¹¦</p>
<p><img src="./yanglegeyang/MTY2MzU4NjA4MjIzNQ==663586082235.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>é…ç½®å®Œæ¯•ï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œå’±ä»¬æ‰“å¼€ç¾Šäº†ä¸ªç¾Šå°±çœ‹è§ç½‘ç»œè¯·æ±‚äº†</p>
<p><img src="./yanglegeyang/MTY2MzU2NzAxMDc0MQ==663567010741.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æ–¹æ¡ˆ1-ä¿®æ”¹å…³å¡æ•°æ®" tabindex="-1">æ–¹æ¡ˆ1ï¼šä¿®æ”¹å…³å¡æ•°æ® <a class="header-anchor" href="#æ–¹æ¡ˆ1-ä¿®æ”¹å…³å¡æ•°æ®" aria-label="Permalink to â€œæ–¹æ¡ˆ1ï¼šä¿®æ”¹å…³å¡æ•°æ®â€">&#8203;</a></h2>
<p>å’±æŠŠç¬¬äºŒå…³çš„æ•°æ®æ”¹æˆç¬¬ä¸€å…³ï¼Œäº«å—æ¸¸æˆçš„ä¹è¶£</p>
<p>ç‚¹å‡»åŠ å…¥ç¾Šç¾¤ï¼ˆå¼€å§‹æ¸¸æˆï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ¥å£  /maps/xxxx.txt</p>
<p>â€PS:å¦‚æœçœ‹åˆ°çš„æ˜¯ä¸€ä¸ªå°±æ“ä½œåˆ é™¤ç¾Šäº†ä¸ªç¾Šå°ç¨‹åºï¼Œé‡æ–°æ‰“å¼€â€œ</p>
<p>è¿”å›çš„å°±æ˜¯æ¸¸æˆåœ°å›¾æ•°æ®</p>
<p><img src="./yanglegeyang/MTY2MzU2ODA2MDg4MQ==663568060881.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¥½å®¶ä¼™ï¼šç¬¬äºŒå…³æ¯”ç¬¬ä¸€å…³çš„æ•°æ®å¤šäº†ä¸æ˜¯ç‚¹å§ç‚¹</p>
<p>ä¸‹é¢å¼€å§‹ä¸€é¡¿æ“ä½œä¿®æ”¹å…³å¡æ•°æ®</p>
<ol>
<li>å¤åˆ¶ç¬¬ä¸€å…³çš„æ•°æ®ï¼Œæ·»åŠ åˆ°whistle Values é¢æ¿</li>
</ol>
<p><img src="./yanglegeyang/MTY2MzU2OTM2OTcyNw==663569369727.png" alt="å›¾ç‰‡" loading="lazy"></p>
<ol start="2">
<li>æ·»åŠ è½¬å‘è§„åˆ™ï¼Œåœ¨whistle Rules é¢æ¿æ“ä½œ</li>
</ol>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::gznmxawppqj85vg7rup127::--><code>^cat-match-static.easygame2021.com/maps/***.txt$ resBody://{ç¾Š1}</code></pre>
</div><p><img src="./yanglegeyang/MTY2MzU2OTk5OTIxNQ==663569999215.png" alt="å›¾ç‰‡" loading="lazy"></p>
<ol start="3">
<li>åˆ é™¤å°æ¸¸æˆé‡æ–°è¿›å…¥</li>
</ol>
<p>â€ç¾Šäº†ä¸ªç¾Šâ€œä¼šä½¿ç”¨å·²ç»æ‹‰å–çš„å…³å¡æ•°æ®ï¼Œä¸ä¼šé‡å¤è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦åˆ é™¤ï¼Œé‡æ–°è¿›å…¥</p>
<p>å†æ¬¡æ‰“å¼€å³å¯çœ‹è§ï¼Œ2å…³éƒ½æ˜¯ç”¨çš„å’±ä»¬ä¿®æ”¹åçš„æ•°æ®</p>
<p><img src="./yanglegeyang/MTY2MzU2OTczNTA0Mg==663569735042.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä¸‹é¢æ˜¯æ¼”ç¤ºå½•å±
<video controls style="width:100%;" src="./yanglegeyang/MTY2MzU4MTkxODU3Mw==ç¾Šäº†ä¸ªç¾Š.mp4?s1=https%3A//img.cdn.sugarat.top/mdImg/MTY2MzU4MTkxODU3Mw%3D%3D%E7%BE%8A%E4%BA%86%E4%B8%AA%E7%BE%8A.mp4"></video></p>
<h2 id="æ–¹æ¡ˆ2-ç›´æ¥è°ƒç”¨æˆåŠŸæ¥å£" tabindex="-1">æ–¹æ¡ˆ2ï¼šç›´æ¥è°ƒç”¨æˆåŠŸæ¥å£ <a class="header-anchor" href="#æ–¹æ¡ˆ2-ç›´æ¥è°ƒç”¨æˆåŠŸæ¥å£" aria-label="Permalink to â€œæ–¹æ¡ˆ2ï¼šç›´æ¥è°ƒç”¨æˆåŠŸæ¥å£â€">&#8203;</a></h2>
<ul>
<li><s>æ¥å£1ï¼š<code>https://cat-match.easygame2021.com/sheep/v1/game/game_over?rank_score=1&amp;rank_state=1&amp;rank_time=40&amp;rank_role=1&amp;skin=1</code></s> è¿‡äº†ä¸€å¤©æ¢æ¥å£äº†</li>
<li>æ¥å£2ï¼šPOST <a href="https://cat-match.easygame2021.com/sheep/v1/game/game_over_ex" target="_blank" rel="noreferrer">https://cat-match.easygame2021.com/sheep/v1/game/game_over_ex</a></li>
<li>é‰´æƒï¼šrequest header ä¸Šçš„ t å‚æ•°ï¼Œæ‰’æ‹‰ä¸‹æ¥å°±èƒ½ç”¨
<img src="./yanglegeyang/MTY2MzU2NzI2NzkzNA==663567267934.png" alt="å›¾ç‰‡" loading="lazy"></li>
</ul>
<p><img src="./yanglegeyang/MTY2MzU4MjE5MjQwNw==663582192407.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä½¿ç”¨ whistle ç›´æ¥å‘èµ·è¯·æ±‚</p>
<p>é€‰æ‹©ç›®æ ‡è¯·æ±‚
<img src="./yanglegeyang/MTY2MzU4MjM5Nzk2OQ==663582397969.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä¿®æ”¹å‚æ•°ï¼Œç‚¹å‡»å³ä¸Šè§’å°é£æœºå‘èµ·è¯·æ±‚</p>
<p><img src="./yanglegeyang/MTY2MzU4NjIyMjcyNQ==663586222725.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>Whistle è¿™ä¸ªå·¥å…·çœŸçš„å¾ˆå¥½ç”¨ï¼Œå†æ¬¡å®‰åˆ©ä¸€ä¸‹</p>
<p>å¦‚æœä¸Šè¿°æ–¹æ³•æœ‰é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµ</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/yanglegeyang/MTY2MzU2NjE2NzMwMg==663566167302.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ESCheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/escheck.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/escheck.html</guid>
            <pubDate>Mon, 19 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[# ESCheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°
> æœ¬æ–‡ä¸ºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œ14å¤©å†…ç¦æ­¢è½¬è½½ï¼Œ14å¤©åæœªè·æˆæƒç¦æ­¢è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼
## å‰è¨€

2022äº†ï¼Œå¤§å®¶åšçš„é¢å‘Cç«¯çš„äº§å“ï¼ˆWebï¼Œå°ç¨‹åºï¼Œå…¶å®ƒè·¨ç«¯æ–¹æ¡ˆï¼‰ï¼Œæ¶‰åŠJSäº§ç‰©çš„è¿˜æ˜¯é¿ä¸å¼€å…¼å®¹æ€§çš„è¯é¢˜ï¼ˆå³ä½¿IEå·²å®˜å®£åœæ­¢æ”¯æŒï¼‰

ä½†å°±ç›®å‰çœ‹æ¥è¿™ä¸ªåœæ­¢ç»´æŠ¤è¿˜æ˜¯é¿å…ä¸äº†å¤§å®¶åšå¼€å‘è¿˜æ˜¯è¦è€ƒè™‘å…¼å®¹ä½ç«¯æœºï¼Œç”šè‡³`IE11`

é’ˆå¯¹jsç›®å‰é€šå¸¸çš„æ‰‹æ®µéƒ½æ˜¯é€šè¿‡å·¥å…·å¯¹jsè¿›è¡Œè¯­æ³•é™çº§è‡³ ES5ï¼ŒåŒæ—¶å¼•å…¥å¯¹åº”çš„ polyfillï¼ˆå«ç‰‡ï¼‰

å·¥å…·é¦–é€‰è¿˜æ˜¯è€ç‰Œ [Babel](https://babeljs.io/)ï¼Œå½“ç„¶ç°åœ¨è¿˜æœ‰ [SWC](https://swc.rs/) è¿™ä¸ªå†‰å†‰å‡èµ·çš„æ–°æ˜Ÿ

ç»è¿‡ä¸€é¡¿æ“ä½œä¸ºé¡¹ç›®é…ç½® Babel ä¹‹åï¼Œä¸ºäº†ä¿è¯äº§ç‰©ä¸å‡ºç° ES5 ä¹‹å¤–çš„è¯­æ³•ï¼Œé€šå¸¸éƒ½ä¼šæ­é…ä¸€ä¸ª Check å·¥å…·å»æ£€æµ‹äº§ç‰©æ˜¯å¦ç¬¦åˆè¦æ±‚

æœ¬æ–‡å°†é˜è¿°å¸‚é¢ä¸Šå·²æœ‰å·¥å…·çš„`å®ç°åŸç†`ï¼Œ`åŠŸèƒ½å¯¹æ¯”`ï¼Œæœ€å`å®ç°å¢å¼ºå‹çš„es-check`ï¼Œæä¾› CLI å’Œ Lib ä¸¤ç§ä½¿ç”¨æ–¹å¼

ä¸‹é¢å…ˆåˆ†åˆ«ä»‹ç»ä¸€ä¸‹ç¤¾åŒºç‰ˆçš„[es-check](https://github.com/yowainwright/es-check)å’Œæ»´æ»´ç‰ˆçš„[@mpxjs/es-check](https://github.com/mpx-ecology/mpx-es-check)å®ç°åŸç†ï¼Œæœ€åå†å®ç°ä¸€ä¸ªé›†å¤§æˆè€…

## es-check
å…ˆçœ‹ä¸€ä¸‹å…¶æ•ˆæœï¼Œä¸‹é¢æ˜¯ç”¨äºæµ‹è¯•çš„ä»£ç 
```js
// test.js
var str = 'hello'
var str2 = 'world'

const varConst = 'const'
let varLet = 'let'
const arrFun = () => {
    console.log('hello world');
}
```
```sh
npx es-check es5 testProject/**/*.js
```
![å›¾ç‰‡](./escheck/MTY2NDAyODU1NTI3OA==664028555278.png)

å¯ä»¥çœ‹åˆ°å…¶æŠ¥é”™ä¿¡æ¯æ¯”è¾ƒç®€å•ï¼Œåªè¾“å‡ºäº†ä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªESè¯­æ³•é—®é¢˜`const`,ç„¶åå¯¹åº”çš„æ˜¯è¡Œæ•°å’Œå…·ä½“æ–‡ä»¶è·¯å¾„

æˆ‘ä»¬å†æŠŠè¿™ä¸ªæµ‹è¯•æ–‡ä»¶`æ„å»ºå‹ç¼©æ··æ·†ä¸€ä¸‹`(æ¨¡æ‹Ÿbuildäº§ç‰©)

```sh
npx tsup __test__/testProject/js/index.js --sourcemap -d __test__/testProject/dist --minify
```
é€šè¿‡ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªè¯´æœ‰è§£æé—®é¢˜ï¼Œå¹¶æœªå‘ŠçŸ¥æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œç„¶åæœ‰å¯¹åº”çš„è¡Œåˆ—æ•°

![å›¾ç‰‡](./escheck/MTY2NDAyOTcwMjg4Ng==664029702886.png)

å¦‚æœæœ‰`sourcemap`é‚£ä¹ˆæˆ‘ä»¬æš‚ä¸”æ˜¯å¯ä»¥é€šè¿‡[source-map](https://www.npmjs.com/package/source-map)è¿™ä¸ªåº“è§£æä¸€ä¸‹ï¼Œä»¥ä¸Šé¢çš„æŠ¥é”™ä¸ºä¾‹
```ts
// npx esno source-map.ts
import sourceMap from 'source-map'
import fs from 'fs'
import path from 'path'

const file = path.join(__dirname, 'testProject/dist/index.js.map')
const lineNumber = 1
const columnNumber = 45

;(async () => {
  const consumer = await new sourceMap.SourceMapConsumer(
    fs.readFileSync(file, 'utf-8')
  )
  const sm = consumer.originalPositionFor({
    column: columnNumber,
    line: lineNumber
  })
  // å¯¹åº”æ–‡ä»¶çš„æºç 
  const content = consumer.sourceContentFor(sm.source!)
  // é”™è¯¯è¡Œçš„ä»£ç 
  const errCode = content?.split(/\r?\n/g)[sm.line! - 1]
  console.log(errCode)
})()
```
æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥å¾—åˆ°å¯¹åº”çš„é”™è¯¯ä»£ç 

![å›¾ç‰‡](./escheck/MTY2NDAzMjI5MTA1Mw==664032291053.png)

### åŸç†åˆ†æ
æ‰“å¼€[æºç ](https://github.com/yowainwright/es-check/blob/master/index.js)å¯ä»¥çœ‹åˆ°å®ç°éå¸¸ç®€å•ï¼Œå…³é”®ä¸è¿‡100è¡Œã€‚å¯ä»¥æ€»ç»“ä¸º3æ­¥éª¤

1. ä½¿ç”¨ [fast-glob](https://www.npmjs.com/package/fast-glob) è·å–ç›®æ ‡æ–‡ä»¶
2. ä½¿ç”¨ [acorn](https://github.com/acornjs/acorn/tree/master/acorn) è§£ææºç ç”Ÿå±‚ASTï¼Œå¹¶æ•è·è§£æé”™è¯¯
3. åˆ¤æ–­æ˜¯å¦å­˜åœ¨è§£æé”™è¯¯ï¼Œæœ‰å°±æ‰“å°

`acorn` æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„ js è§£æåº“ï¼Œå¯ä»¥ç”¨äºASTçš„ç”Ÿæˆä¸CRUDæ“ä½œï¼Œå…¶åŒ…å«1ä¸ª `ecmaVersion` å‚æ•°ç”¨äºæŒ‡å®šè¦è§£æçš„ `ECMAScript` ç‰ˆæœ¬ã€‚`es-check`æ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸ªç‰¹æ€§

```ts
import * as acorn from 'acorn'

try {
  acorn.parse(`const a = 'hello'`, {
    ecmaVersion: 5,
    silent: true
    // sourceType: 'module'
    // allowHashBang:true
  })
} catch (err) {
  // The keyword 'const' is reserved (1:0)
  console.log(err)
  // err é™¤äº†ç»§æ‰¿å¸¸è§„ Error å¯¹è±¡ï¼ŒåŒ…å« stack å’Œ message ç­‰å†…å®¹å¤–ï¼Œè¿˜åŒ…å«å¦‚ä¸‹ä¿¡æ¯
  // {
  //   pos: 0,
  //   loc: Position { line: 1, column: 0 },
  //   raisedAt: 7
  // }
}
```

ä¸‹é¢æ˜¯`es-check`çš„ç²¾ç®€å®ç°ï¼Œå®Œæ•´æºç è§ [Github](https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/es-check.ts)

```ts
// npx esno es-check.ts
import fg from 'fast-glob'
import path from 'path'
import * as acorn from 'acorn'
import fs from 'fs'

const testPattern = path.join(__dirname, 'testProject/**/*.js')
// è¦æ£€æŸ¥çš„æ–‡ä»¶
const files = fg.sync(testPattern)

// acorn è§£æé…ç½®
const acornOpts = {
  ecmaVersion: 5,// ç›®æ ‡ç‰ˆæœ¬
  silent: true
  // sourceType: 'module'
  // allowHashBang:true
}

// é”™è¯¯
const errArr: any[] = []

// éå†æ–‡ä»¶
files.forEach((file) => {
  const code = fs.readFileSync(file, 'utf8')
  try {
    acorn.parse(code, acornOpts as any)
  } catch (err: any) {
    errArr.push({
      err,
      stack: err.stack,
      file
    })
  }
})

// æ‰“å°é”™è¯¯ä¿¡æ¯
if (errArr.length > 0) {
  console.error(
    `ES-Check: there were ${errArr.length} ES version matching errors.`
  )
  errArr.forEach((o) => {
    console.info(`
        ES-Check Error:
        ]]></description>
            <content:encoded><![CDATA[<h1 id="escheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°" tabindex="-1">ESCheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç° <a class="header-anchor" href="#escheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°" aria-label="Permalink to â€œESCheckå·¥å…·åŸç†è§£æåŠå¢å¼ºå®ç°â€">&#8203;</a></h1>
<blockquote>
<p>æœ¬æ–‡ä¸ºç¨€åœŸæ˜é‡‘æŠ€æœ¯ç¤¾åŒºé¦–å‘ç­¾çº¦æ–‡ç« ï¼Œ14å¤©å†…ç¦æ­¢è½¬è½½ï¼Œ14å¤©åæœªè·æˆæƒç¦æ­¢è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼</p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>2022äº†ï¼Œå¤§å®¶åšçš„é¢å‘Cç«¯çš„äº§å“ï¼ˆWebï¼Œå°ç¨‹åºï¼Œå…¶å®ƒè·¨ç«¯æ–¹æ¡ˆï¼‰ï¼Œæ¶‰åŠJSäº§ç‰©çš„è¿˜æ˜¯é¿ä¸å¼€å…¼å®¹æ€§çš„è¯é¢˜ï¼ˆå³ä½¿IEå·²å®˜å®£åœæ­¢æ”¯æŒï¼‰</p>
<p>ä½†å°±ç›®å‰çœ‹æ¥è¿™ä¸ªåœæ­¢ç»´æŠ¤è¿˜æ˜¯é¿å…ä¸äº†å¤§å®¶åšå¼€å‘è¿˜æ˜¯è¦è€ƒè™‘å…¼å®¹ä½ç«¯æœºï¼Œç”šè‡³<code>IE11</code></p>
<p>é’ˆå¯¹jsç›®å‰é€šå¸¸çš„æ‰‹æ®µéƒ½æ˜¯é€šè¿‡å·¥å…·å¯¹jsè¿›è¡Œè¯­æ³•é™çº§è‡³ ES5ï¼ŒåŒæ—¶å¼•å…¥å¯¹åº”çš„ polyfillï¼ˆå«ç‰‡ï¼‰</p>
<p>å·¥å…·é¦–é€‰è¿˜æ˜¯è€ç‰Œ <a href="https://babeljs.io/" target="_blank" rel="noreferrer">Babel</a>ï¼Œå½“ç„¶ç°åœ¨è¿˜æœ‰ <a href="https://swc.rs/" target="_blank" rel="noreferrer">SWC</a> è¿™ä¸ªå†‰å†‰å‡èµ·çš„æ–°æ˜Ÿ</p>
<p>ç»è¿‡ä¸€é¡¿æ“ä½œä¸ºé¡¹ç›®é…ç½® Babel ä¹‹åï¼Œä¸ºäº†ä¿è¯äº§ç‰©ä¸å‡ºç° ES5 ä¹‹å¤–çš„è¯­æ³•ï¼Œé€šå¸¸éƒ½ä¼šæ­é…ä¸€ä¸ª Check å·¥å…·å»æ£€æµ‹äº§ç‰©æ˜¯å¦ç¬¦åˆè¦æ±‚</p>
<p>æœ¬æ–‡å°†é˜è¿°å¸‚é¢ä¸Šå·²æœ‰å·¥å…·çš„<code>å®ç°åŸç†</code>ï¼Œ<code>åŠŸèƒ½å¯¹æ¯”</code>ï¼Œæœ€å<code>å®ç°å¢å¼ºå‹çš„es-check</code>ï¼Œæä¾› CLI å’Œ Lib ä¸¤ç§ä½¿ç”¨æ–¹å¼</p>
<p>ä¸‹é¢å…ˆåˆ†åˆ«ä»‹ç»ä¸€ä¸‹ç¤¾åŒºç‰ˆçš„<a href="https://github.com/yowainwright/es-check" target="_blank" rel="noreferrer">es-check</a>å’Œæ»´æ»´ç‰ˆçš„<a href="https://github.com/mpx-ecology/mpx-es-check" target="_blank" rel="noreferrer">@mpxjs/es-check</a>å®ç°åŸç†ï¼Œæœ€åå†å®ç°ä¸€ä¸ªé›†å¤§æˆè€…</p>
<h2 id="es-check" tabindex="-1">es-check <a class="header-anchor" href="#es-check" aria-label="Permalink to â€œes-checkâ€">&#8203;</a></h2>
<p>å…ˆçœ‹ä¸€ä¸‹å…¶æ•ˆæœï¼Œä¸‹é¢æ˜¯ç”¨äºæµ‹è¯•çš„ä»£ç </p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::grg3bst84ojjhg0hpms3um::--><code>// test.js
var str = &#039;hello&#039;
var str2 = &#039;world&#039;

const varConst = &#039;const&#039;
let varLet = &#039;let&#039;
const arrFun = () =&gt; {
    console.log(&#039;hello world&#039;);
}</code></pre>
</div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::pa3t6sspdac4171rqdeg8::--><code>npx es-check es5 testProject/**/*.js</code></pre>
</div><p><img src="./escheck/MTY2NDAyODU1NTI3OA==664028555278.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°å…¶æŠ¥é”™ä¿¡æ¯æ¯”è¾ƒç®€å•ï¼Œåªè¾“å‡ºäº†ä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªESè¯­æ³•é—®é¢˜<code>const</code>,ç„¶åå¯¹åº”çš„æ˜¯è¡Œæ•°å’Œå…·ä½“æ–‡ä»¶è·¯å¾„</p>
<p>æˆ‘ä»¬å†æŠŠè¿™ä¸ªæµ‹è¯•æ–‡ä»¶<code>æ„å»ºå‹ç¼©æ··æ·†ä¸€ä¸‹</code>(æ¨¡æ‹Ÿbuildäº§ç‰©)</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::nurdqfpe2fjjsy5mlcrp7::--><code>npx tsup __test__/testProject/js/index.js --sourcemap -d __test__/testProject/dist --minify</code></pre>
</div><p>é€šè¿‡ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªè¯´æœ‰è§£æé—®é¢˜ï¼Œå¹¶æœªå‘ŠçŸ¥æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œç„¶åæœ‰å¯¹åº”çš„è¡Œåˆ—æ•°</p>
<p><img src="./escheck/MTY2NDAyOTcwMjg4Ng==664029702886.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¦‚æœæœ‰<code>sourcemap</code>é‚£ä¹ˆæˆ‘ä»¬æš‚ä¸”æ˜¯å¯ä»¥é€šè¿‡<a href="https://www.npmjs.com/package/source-map" target="_blank" rel="noreferrer">source-map</a>è¿™ä¸ªåº“è§£æä¸€ä¸‹ï¼Œä»¥ä¸Šé¢çš„æŠ¥é”™ä¸ºä¾‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::8rsif8kma5r2jri9ch89w6::--><code>// npx esno source-map.ts
import sourceMap from &#039;source-map&#039;
import fs from &#039;fs&#039;
import path from &#039;path&#039;

const file = path.join(__dirname, &#039;testProject/dist/index.js.map&#039;)
const lineNumber = 1
const columnNumber = 45

;(async () =&gt; {
  const consumer = await new sourceMap.SourceMapConsumer(
    fs.readFileSync(file, &#039;utf-8&#039;)
  )
  const sm = consumer.originalPositionFor({
    column: columnNumber,
    line: lineNumber
  })
  // å¯¹åº”æ–‡ä»¶çš„æºç 
  const content = consumer.sourceContentFor(sm.source!)
  // é”™è¯¯è¡Œçš„ä»£ç 
  const errCode = content?.split(/\r?\n/g)[sm.line! - 1]
  console.log(errCode)
})()</code></pre>
</div><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥å¾—åˆ°å¯¹åº”çš„é”™è¯¯ä»£ç </p>
<p><img src="./escheck/MTY2NDAzMjI5MTA1Mw==664032291053.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="åŸç†åˆ†æ" tabindex="-1">åŸç†åˆ†æ <a class="header-anchor" href="#åŸç†åˆ†æ" aria-label="Permalink to â€œåŸç†åˆ†æâ€">&#8203;</a></h3>
<p>æ‰“å¼€<a href="https://github.com/yowainwright/es-check/blob/master/index.js" target="_blank" rel="noreferrer">æºç </a>å¯ä»¥çœ‹åˆ°å®ç°éå¸¸ç®€å•ï¼Œå…³é”®ä¸è¿‡100è¡Œã€‚å¯ä»¥æ€»ç»“ä¸º3æ­¥éª¤</p>
<ol>
<li>ä½¿ç”¨ <a href="https://www.npmjs.com/package/fast-glob" target="_blank" rel="noreferrer">fast-glob</a> è·å–ç›®æ ‡æ–‡ä»¶</li>
<li>ä½¿ç”¨ <a href="https://github.com/acornjs/acorn/tree/master/acorn" target="_blank" rel="noreferrer">acorn</a> è§£ææºç ç”Ÿå±‚ASTï¼Œå¹¶æ•è·è§£æé”™è¯¯</li>
<li>åˆ¤æ–­æ˜¯å¦å­˜åœ¨è§£æé”™è¯¯ï¼Œæœ‰å°±æ‰“å°</li>
</ol>
<p><code>acorn</code> æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„ js è§£æåº“ï¼Œå¯ä»¥ç”¨äºASTçš„ç”Ÿæˆä¸CRUDæ“ä½œï¼Œå…¶åŒ…å«1ä¸ª <code>ecmaVersion</code> å‚æ•°ç”¨äºæŒ‡å®šè¦è§£æçš„ <code>ECMAScript</code> ç‰ˆæœ¬ã€‚<code>es-check</code>æ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸ªç‰¹æ€§</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vozc5ygfeollsheia4bzs::--><code>import * as acorn from &#039;acorn&#039;

try {
  acorn.parse(`const a = &#039;hello&#039;`, {
    ecmaVersion: 5,
    silent: true
    // sourceType: &#039;module&#039;
    // allowHashBang:true
  })
} catch (err) {
  // The keyword &#039;const&#039; is reserved (1:0)
  console.log(err)
  // err é™¤äº†ç»§æ‰¿å¸¸è§„ Error å¯¹è±¡ï¼ŒåŒ…å« stack å’Œ message ç­‰å†…å®¹å¤–ï¼Œè¿˜åŒ…å«å¦‚ä¸‹ä¿¡æ¯
  // {
  //   pos: 0,
  //   loc: Position { line: 1, column: 0 },
  //   raisedAt: 7
  // }
}</code></pre>
</div><p>ä¸‹é¢æ˜¯<code>es-check</code>çš„ç²¾ç®€å®ç°ï¼Œå®Œæ•´æºç è§ <a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/es-check.ts" target="_blank" rel="noreferrer">Github</a></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::0ofeej7eitfrbyfr50rr7yb::--><code>// npx esno es-check.ts
import fg from &#039;fast-glob&#039;
import path from &#039;path&#039;
import * as acorn from &#039;acorn&#039;
import fs from &#039;fs&#039;

const testPattern = path.join(__dirname, &#039;testProject/**/*.js&#039;)
// è¦æ£€æŸ¥çš„æ–‡ä»¶
const files = fg.sync(testPattern)

// acorn è§£æé…ç½®
const acornOpts = {
  ecmaVersion: 5,// ç›®æ ‡ç‰ˆæœ¬
  silent: true
  // sourceType: &#039;module&#039;
  // allowHashBang:true
}

// é”™è¯¯
const errArr: any[] = []

// éå†æ–‡ä»¶
files.forEach((file) =&gt; {
  const code = fs.readFileSync(file, &#039;utf8&#039;)
  try {
    acorn.parse(code, acornOpts as any)
  } catch (err: any) {
    errArr.push({
      err,
      stack: err.stack,
      file
    })
  }
})

// æ‰“å°é”™è¯¯ä¿¡æ¯
if (errArr.length &gt; 0) {
  console.error(
    `ES-Check: there were ${errArr.length} ES version matching errors.`
  )
  errArr.forEach((o) =&gt; {
    console.info(`
        ES-Check Error:
        ----
        Â· erroring file: ${o.file}
        Â· error: ${o.err}
        Â· see the printed err.stack below for context
        ----\n
        ${o.stack}
      `)
  })
  process.exit(1)
}

console.info(`ES-Check: there were no ES version matching errors!  ğŸ‰`)</code></pre>
</div><p><img src="./escheck/MTY2NDEwNzY1NjA0Nw==664107656047.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h3>
<ol>
<li>åªèƒ½æ£€æµ‹æºç ä¸­æ˜¯å¦å­˜åœ¨ä¸ç¬¦åˆå¯¹åº”ECMAScriptç‰ˆæœ¬çš„è¯­æ³•</li>
<li>åªä¼šååº”å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªè¯­æ³•é—®é¢˜</li>
<li>é”™è¯¯ä¿¡æ¯åªåŒ…å«æ‰€åœ¨æ–‡ä»¶ä¸­çš„<code>è¡Œåˆ—å·</code>ä»¥åŠ<code>parser error</code></li>
<li>ä¸æ”¯æŒhtml</li>
</ol>
<h2 id="mpx-es-check" tabindex="-1">mpx-es-check <a class="header-anchor" href="#mpx-es-check" aria-label="Permalink to â€œmpx-es-checkâ€">&#8203;</a></h2>
<blockquote>
<p>æ»´æ»´å‡ºå“çš„ <a href="https://mpxjs.cn/" target="_blank" rel="noreferrer">mpx</a> (å¢å¼ºå‹è·¨ç«¯å°ç¨‹åºæ¡†æ¶)çš„é…å¥—å·¥å…· <a href="https://github.com/mpx-ecology/mpx-es-check" target="_blank" rel="noreferrer">@mpxjs/es-check</a></p>
</blockquote>
<p>å’±ä»¬è¿˜æ˜¯ç”¨ä¸Šé¢çš„ä¾‹å­å…ˆå®æµ‹ä¸€ä¸‹æ•ˆæœ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::8c1i9gtf7ghysy1dvxml3g::--><code># 1
npm i -g @mpxjs/es-check
# 2
mpx-es-check --ecma=6 testProject/**/*.js</code></pre>
</div><p>å¯ä»¥çœ‹åˆ°å…¶å°†é”™è¯¯ä¿¡æ¯è¾“å‡ºåˆ°äº†1ä¸ªlogæ–‡ä»¶ä¸­</p>
<p><img src="./escheck/MTY2NDA3Mzg0NTcxNw==664073845717.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>logæ—¥å¿—ä¿¡æ¯å¦‚ä¸‹ï¼Œè¿˜æ˜¯å¾ˆæ¸…æ™°çš„æŒ‡å‡ºäº†æœ‰å“ªäº›é”™è¯¯å¹¶æ ‡æ˜äº†é”™è¯¯çš„å…·ä½“ä½ç½®ï¼Œå†…ç½®äº†<code>source-map</code>è§£æã€‚</p>
<p><img src="./escheck/MTY2NDA3NDExNjQ3Ng==664074116476.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä¸‹é¢æ¥æ¢ç©¶ä¸€ä¸‹å®ç°åŸç†</p>
<h3 id="åŸç†åˆ†æ-1" tabindex="-1">åŸç†åˆ†æ <a class="header-anchor" href="#åŸç†åˆ†æ-1" aria-label="Permalink to â€œåŸç†åˆ†æâ€">&#8203;</a></h3>
<p>æ‰“å¼€æºç ï¼Œä»<a href="https://github.com/mpx-ecology/mpx-es-check/blob/master/index.js" target="_blank" rel="noreferrer">å…¥å£æ–‡ä»¶</a>å¼€å§‹çœ‹ï¼Œå¤§ä½“åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p>
<ol>
<li>ä½¿ç”¨<code>glob</code>è·å–è¦æ£€æµ‹ç›®æ ‡æ–‡ä»¶</li>
<li>è·å–æ–‡ä»¶å¯¹åº”çš„<code>æºç </code>å’Œ<code>sourcemap</code>æ–‡ä»¶å†…å®¹</li>
<li>ä½¿ç”¨<a href="https://babel.dev/docs/en/babel-parser" target="_blank" rel="noreferrer">@babel/parser</a>è§£æç”ŸæˆAST</li>
<li>ä½¿ç”¨<a href="https://babel.dev/docs/en/babel-traverse" target="_blank" rel="noreferrer">@babel/traverse</a>éå†èŠ‚ç‚¹</li>
<li>å°†æ‰€æœ‰éES5è¯­æ³•çš„èŠ‚ç‚¹è§„åˆ™è¿›è¡Œæšä¸¾ï¼Œå†éå†èŠ‚ç‚¹æ—¶ï¼Œæ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹</li>
<li>æ ¼å¼åŒ–è¾“å‡ºä¿¡æ¯</li>
</ol>
<p>å…¶ä¸­<code>@babel/parser</code>ä¸<code>@babel/traverse</code>æ˜¯<code>babel</code>çš„æ ¸å¿ƒæ„æˆéƒ¨åˆ†ã€‚ä¸€ä¸ªç”¨äºè§£æä¸€ä¸ªç”¨äºéå†</p>
<p>èŠ‚ç‚¹è§„åˆ™ç¤ºä¾‹å¦‚ä¸‹ï¼Œè¿™ä¸ªæ–¹æ³•å‡†ç¡®ï¼Œå°±æ˜¯è´¹æ—¶è´¹åŠ›ï¼Œéœ€è¦å°†æ¯ä¸ªç‰ˆæœ¬çš„ç‰¹æ€§éƒ½ç©·ä¸¾å‡ºæ¥</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::xft02a4051fl68nhx8drl::--><code>// éƒ¨åˆ†èŠ‚ç‚¹è§„åˆ™
const partRule = {
  // let and const
  VariableDeclaration(node) {
    if (node.kind === &#039;let&#039; || node.kind === &#039;const&#039;) {
      errArr.push({
        node,
        message: `Using ${node.kind} is not allowed`
      })
    }
  },
  // ç®­å¤´å‡½æ•°
  ArrowFunctionExpression(node) {
    errArr.push({
      node,
      message: &#039;Using ArrowFunction(ç®­å¤´å‡½æ•°) is not allowed&#039;
    })
  }
}</code></pre>
</div><p>ä¸‹é¢æ˜¯éå†è§„åˆ™ä¸èŠ‚ç‚¹çš„é€»è¾‘</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::cdgpdrgv6dednr2bzb8obt::--><code>// å­˜æ”¾æ‰€æœ‰èŠ‚ç‚¹
const nodeQueue = []
const code = fs.readFileSync(file, &#039;utf8&#039;)
// ç”ŸæˆAST
const ast = babelParser.parse(code, acornOpts)
// éå†è·å–æ‰€æœ‰èŠ‚ç‚¹
babelTraverse(ast, {
  enter(path) {
    const { node } = path
    nodeQueue.push({ node, path })
  }
})

// éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ‰§è¡Œå¯¹åº”çš„è§„åˆ™
nodeQueue.forEach(({ node, path }) =&gt; {
  partRule[node.type]?.(node)
})

// è§£ææ ¼å¼åŒ–é”™è¯¯
errArr.forEach((err) =&gt; {
  // çœç•¥ sourcemap è§£ææ­¥éª¤
  problems.push({
    file,
    message: err.message,
    startLine: err.node.loc.start.line,
    startColumn: err.node.loc.start.column
  })
})</code></pre>
</div><p>ç²¾ç®€å®ç°çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œå®Œæ•´æºç è§<a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/mpx-es-check.ts" target="_blank" rel="noreferrer">Github</a></p>
<p><img src="./escheck/MTY2NDA5MjM0NDgyNQ==664092344825.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="å°ç»“-1" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“-1" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h3>
<ol>
<li>æ£€æµ‹è¾“å‡ºçš„ç»“æœç›¸å¯¹å‹å¥½ï¼ˆæ¯”è¾ƒç†æƒ³çš„æ ¼å¼ï¼‰ï¼Œå†…ç½®äº†sourcemapè§£æé€»è¾‘</li>
<li>ä¸æ”¯æŒhtml</li>
<li>éœ€è¦é¢å¤–ç»´æŠ¤ä¸€å¥—è§„åˆ™ï¼ˆç›¸å¯¹ECMAScriptè¿­ä»£é¢‘ç‡æ¥è¯´ï¼Œå¯ä»¥æ¥å—ï¼‰</li>
</ol>
<h2 id="å¢å¼ºå®ç°es-check" tabindex="-1">å¢å¼ºå®ç°es-check <a class="header-anchor" href="#å¢å¼ºå®ç°es-check" aria-label="Permalink to â€œå¢å¼ºå®ç°es-checkâ€">&#8203;</a></h2>
<p>ç»¼ä¸Š2ä¸ªå¯¹æ¯”ï¼Œä»æºç å®ç°ååº”æ¥çœ‹ <code>es-check</code> çš„å®ç°æ›´ç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä¹Ÿç›¸å¯¹è¾ƒä½</p>
<!-- è¡¥è¶…é“¾æ¥ -->
<p>@sugarat/es-check ä¹Ÿå°†åŸºäº<code>es-check</code>åš1ä¸ªå¢å¼ºå®ç°ï¼Œå¼¥è¡¥<code>å•æ–‡ä»¶å¤šæ¬¡æ£€æµ‹</code>,<code>æ”¯æŒHTML</code>ã€<code>sourcemapè§£æ</code>ç­‰èƒ½åŠ›</p>
<h3 id="å•æ–‡ä»¶å¤šæ¬¡æ£€æµ‹" tabindex="-1">å•æ–‡ä»¶å¤šæ¬¡æ£€æµ‹ <a class="header-anchor" href="#å•æ–‡ä»¶å¤šæ¬¡æ£€æµ‹" aria-label="Permalink to â€œå•æ–‡ä»¶å¤šæ¬¡æ£€æµ‹â€">&#8203;</a></h3>
<p>ç°çŠ¶ï¼šåˆ©ç”¨<code>acorn.parse</code>ç›´æ¥å¯¹<code>code</code>è¿›è¡Œè§£ææ—¶å€™ï¼Œå°†ä¼šç›´æ¥æŠ›å‡º<code>code</code>ä¸­çš„ä¸€å¤„<code>è§£æé”™è¯¯</code>ï¼Œç„¶åå°±ç»“æŸäº†</p>
<p>é‚£å’±ä»¬åªéœ€è¦å°†<code>code</code>æ‹†æˆå¤šä¸ªä»£ç ç‰‡æ®µï¼Œé‚£è¿™ä¸ªé—®é¢˜ç†è®ºä¸Šå°±è¿åˆƒè€Œè§£äº†</p>
<p>ç°åœ¨çš„é—®é¢˜å°±æ˜¯æ€ä¹ˆæ‹†äº†ï¼Ÿ</p>
<p>æˆ‘ä»¬è¿™ç›´æ¥ç®€å•æš´åŠ›ä¸€ç‚¹ï¼Œ<strong>å¯¹ASTç›´æ¥è¿›è¡ŒèŠ‚ç‚¹éå†ï¼Œç„¶ååˆ†åˆ«æ£€æµ‹æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”çš„ä»£ç æ˜¯å¦åˆæ³•</strong></p>
<p>é¦–å…ˆä½¿ç”¨<code>latest</code>ç‰ˆæœ¬ç”Ÿæˆè¿™æ£µAST</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::d08pq4y9aighu11q3jnmb9::--><code>const ast = acorn.parse(code, {
  ecmaVersion: &#039;latest&#039;
})</code></pre>
</div><p>æ¥ä¸‹æ¥ä½¿ç”¨<a href="https://github.com/acornjs/acorn/tree/master/acorn-walk" target="_blank" rel="noreferrer">acorn-walk</a>è¿›è¡Œéå†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::bl9wmpuyolb3cu6vo1gwvc::--><code>import * as acornWalk from &#039;acorn-walk&#039;

acornWalk.full(ast, (node, _state, _type) =&gt; {
  // èŠ‚ç‚¹å¯¹åº”çš„æºç 
  const codeSnippet = code.slice(node.start, node.end)
  try {
    acorn.parse(codeSnippet, {
        ecmaVersion,
    })
  } catch (error) {
    // åœ¨è¿™é‡Œè¾“å‡ºé”™è¯¯ç‰‡æ®µå’Œè§£ææŠ¥é”™åŸå› 
    console.log(codeSnippet)
    console.log(error.message)
  }
})</code></pre>
</div><p>è¿˜æ˜¯ä»¥å‰é¢çš„æµ‹è¯•ä»£ç ä¸ºä¾‹ï¼Œè¾“å‡ºçš„é”™è¯¯ä¿¡æ¯å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4jfbrhs34ilnbxlvafejxe::--><code>var str = &#039;hello&#039;
var str2 = &#039;world&#039;

const varConst = &#039;const&#039;
let varLet = &#039;let&#039;
const arrFun = () =&gt; {
    console.log(&#039;hello world&#039;);
}</code></pre>
</div><p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/more-error/1.ts" target="_blank" rel="noreferrer">å®Œæ•´demo1ä»£ç </a></p>
<p><img src="./escheck/MTY2NDI5MDc0Mzc4MA==664290743780.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>éƒ¨åˆ†èŠ‚ç‚¹å¯¹åº”çš„ç‰‡æ®µå¯èƒ½ä¸å®Œæ•´ï¼Œä¼šå¯¼è‡´è§£æé”™è¯¯</p>
<p><img src="./escheck/MTY2NDI5MTE3Nzc2NQ==664291177765.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç”¨äºæµ‹è¯•çš„ç‰‡æ®µå¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::dlmxhtssis91mabylyg5y3i::--><code>const obj = {
  &#039;boolean&#039;: true,
}</code></pre>
</div><p>è¿™é‡Œå¯ä»¥å†<code>parse</code>æ£€æµ‹<code>error</code>å‰å†parseä¸€æ¬¡<code>latest</code> ç”¨äºæ’é™¤è¯­æ³•é”™è¯¯ï¼Œé¢å¤–é€»è¾‘å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::v3td0ayi0xhz36zhelh1xf::--><code>let isValidCode = true
// åˆ¤æ–­ä»£ç ç‰‡æ®µ æ˜¯å¦åˆæ³•
try {
  acorn.parse(codeSnippet, {
    ecmaVersion: &#039;latest&#039;
  })
} catch (_) {
  isValidCode = false
}
// ä¸åˆæ³•ä¸å¤„ç†
if (!isValidCode) {
  return
}</code></pre>
</div><p><img src="./escheck/MTY2NDI5MTMyMzU1MQ==664291323551.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/more-error/2.ts" target="_blank" rel="noreferrer">å®Œæ•´demo2ä»£ç </a></p>
<p>æ­¤æ—¶è¾“å‡ºçš„é”™è¯¯å­˜åœ¨ä¸€äº›é‡å¤çš„æƒ…å†µï¼Œæ¯”å¦‚<code>çˆ¶èŠ‚ç‚¹åŒ…å«å­èŠ‚ç‚¹çš„é—®é¢˜ä»£ç </code>ï¼Œè¿™é‡Œåšä¸€ä¸‹è¿‡æ»¤</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vim0g3v1x1wlmuxmsoevl::--><code>const codeErrorList: any[] = []
acornWalk.full(ast, (node, _state, _type) =&gt; {
  // èŠ‚ç‚¹å¯¹åº”çš„æºç 
  const codeSnippet = code.slice(node.start, node.end)
  // çœç•¥é‡å¤ä»£ç ã€‚ã€‚ã€‚
  try {
    acorn.parse(codeSnippet, {
      ecmaVersion: &#039;5&#039;
    } as any)
  } catch (error: any) {
    // ä¸å…ˆå­˜é”™è¯¯è¿›è¡Œæ¯”è¾ƒ
    const isRepeat = codeErrorList.find((e) =&gt; {
      // åˆ¤æ–­æ˜¯å¦æ˜¯åŒ…å«å…³ç³»
      return e.start &gt;= node.start &amp;&amp; e.end &lt;= node.end
    })

    if (!isRepeat) {
      codeErrorList.push({
        codeSnippet,
        message: error.message,
        start: node.start,
        end: node.end
      })
    }
  }
})
console.log(codeErrorList)</code></pre>
</div><p>ä¿®æ­£åç»“æœå¦‚ä¸‹</p>
<p><img src="./escheck/MTY2NDI5MjA0MDk1Ng==664292040956.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/more-error/3.ts" target="_blank" rel="noreferrer">å®Œæ•´demo3ä»£ç </a></p>
<p>å¦‚æœ‰ä¸€äº›è¾¹ç•Œæƒ…å†µä¹Ÿæ˜¯åœ¨ <code>catch err</code>éƒ¨åˆ†æ ¹æ® <code>message</code>åšä¸€ä¸‹è¿‡æ»¤å³å¯</p>
<p>æ¯”å¦‚ä¸‹ä»£ç </p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vowxvyx2eshijukbg7u04r::--><code>var { boolean:hello } = {}</code></pre>
</div><p><img src="./escheck/MTY2NDI5MjY5Mjg2Ng==664292692866.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/more-error/4.ts" target="_blank" rel="noreferrer">å®Œæ•´demo4ä»£ç </a></p>
<p>åšä¸€ä¸‹è¿‡æ»¤ï¼Œ<code>catch message</code>æ·»åŠ è¿‡æ»¤é€»è¾‘</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::qndxjcpdqfsti0srwosell::--><code>const filterMessage = [/^The keyword /]
if (filterMessage.find((r) =&gt; r.test(error.message))) {
  return
}</code></pre>
</div><p>è°ƒæ•´åçš„æŠ¥é”™ä¿¡æ¯å°±æ˜¯<code>è§£æ„èµ‹å€¼</code>çš„è¯­æ³•é”™è¯¯äº†</p>
<p><img src="./escheck/MTY2NDI5MjkxNDY0MQ==664292914641.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/more-error/5.ts" target="_blank" rel="noreferrer">å®Œæ•´demo5ä»£ç </a></p>
<p>è‡³æ­¤åŸºæœ¬èƒ½å®Œæˆäº†<code>å•æ–‡ä»¶çš„å¤šæ¬¡es-checkæ£€æµ‹</code>ï¼Œè™½ç„¶ä¸åƒ<code>mpx-es-check</code>é‚£æ ·ç”¨ç›´ç™½çš„è¯­è¨€ç›´æ¥è¯´é¢æ˜¯ä»€ä¹ˆè¯­æ³•ã€‚ä½†è¿˜æœ‰æ”¹è¿›ç©ºé—´å˜›ï¼Œåé¢å†å•ç‹¬å†™ä¸ªæ–‡ç« åšä¸ªå·¥å…·æ£€æµ‹ç›®æ ‡ä»£ç ç”¨äº†å“ªäº›<code>ES6+</code>ç‰¹æ€§ã€‚å°±ä¸å†è¿™é‡Œèµ˜è¿°äº†</p>
<h3 id="sourcemapè§£æ" tabindex="-1">sourcemapè§£æ <a class="header-anchor" href="#sourcemapè§£æ" aria-label="Permalink to â€œsourcemapè§£æâ€">&#8203;</a></h3>
<p>è¿™ä¸ªä¸»è¦é’ˆå¯¹æ£€æµ‹èµ„æºæ˜¯<code>buildäº§ç‰©</code>çš„ä¸€é¡¹ä¼˜åŒ–ï¼Œé€šè¿‡<code>source-map</code>è§£ææŠ¥é”™ä¿¡æ¯å¯¹åº”çš„æºç </p>
<p>å‰é¢çš„ä»£ç æˆ‘ä»¬åªè·å–äº†<code>é—®é¢˜æºç </code>çš„èµ·æ­¢å­—ç¬¦ä½ç½®<code>start</code>,<code>end</code></p>
<p>é€šè¿‡source-mapè§£æï¼Œé¦–å…ˆè¦è·å–æŠ¥é”™ä»£ç åœ¨èµ„æºä¸­çš„è¡Œåˆ—ä¿¡æ¯</p>
<p>è¿™é‡Œé€šè¿‡<code>acorn.getLineInfo</code>æ–¹æ³•å¯ç›´æ¥è·å–è¡Œåˆ—ä¿¡æ¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ul4zb25ixks1bsk27zp5ok::--><code>// çœç•¥äº†é‡å¤ä»£ç 
const codeErrorList: any[] = []
acornWalk.full(ast, (node, _state, _type) =&gt; {
  // èŠ‚ç‚¹å¯¹åº”çš„æºç 
  const codeSnippet = code.slice(node.start, node.end)
  try {
    acorn.parse(codeSnippet, {
      ecmaVersion: &#039;5&#039;
    } as any)
  } catch (error) {
    const locStart = acorn.getLineInfo(code, node.start)
    const locEnd = acorn.getLineInfo(code, node.end)
    codeErrorList.push({
      loc: {
        start: locStart,
        end: locEnd
      }
    })
  }
})
console.dir(codeErrorList, {
  depth: 3
})</code></pre>
</div><p>ç»“æœå¦‚ä¸‹ï¼Œ<a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/source-map/1.ts" target="_blank" rel="noreferrer">å®Œæ•´demo1ä»£ç </a></p>
<p><img src="./escheck/MTY2NDMzNzAxMjIyOQ==664337012229.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æœ‰äº†è¡Œåˆ—å·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®<code>*.map</code>æ–‡ä»¶è¿›è¡Œæºç çš„è§£æ</p>
<p>é»˜è®¤<code>map</code>æ–‡ä»¶ç”±åŸæ–‡ä»¶ååŠ <code>.map</code>åç¼€</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::8zg06anzcwpkxiudfx45fg::--><code>function getSourcemapFileContent(file: string) {
  const sourceMapFile = `${file}.map`
  if (fs.existsSync(sourceMapFile)) {
    return fs.readFileSync(sourceMapFile, &#039;utf-8&#039;)
  }
  return &#039;&#039;
}</code></pre>
</div><p>è§£æ<code>map</code>æ–‡ä»¶ç›´æ¥ä½¿ç”¨ <code>sourceMap.SourceMapConsumer</code>,è¿”å›çš„å®ä¾‹æ˜¯1ä¸ª<code>Promise</code>,ä½¿ç”¨æ—¶éœ€æ³¨æ„</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::fdtchd523v9ijkjd2wsqa::--><code>function parseSourceMap(code: string) {
  const consumer = new sourceMap.SourceMapConsumer(code)
  return consumer
}</code></pre>
</div><p>æ ¹æ®å‰é¢<code>source-map</code>è§£æçš„ä¾‹å­ï¼ŒæŠŠè¿™å—é€»è¾‘æ”¾åˆ°<code>checkCode</code>ä¹‹åå³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wju74x35lvi73q7nyzs1j::--><code>const code = fs.readFileSync(file, &#039;utf-8&#039;)
// ps: checkCode å³ä¸ºä¸Šä¸€å°èŠ‚å®ç°ä»£ç æ£€æµ‹èƒ½åŠ›çš„å°è£…
const codeErrorList = checkCode(code)
const sourceMapContent = getSourcemapFileContent(file)
if (sourceMapContent) {
  const consumer = await parseSourceMap(sourceMapContent)
  codeErrorList.forEach((v) =&gt; {
    // è§£æè·å–åŸæ–‡ä»¶ä¿¡æ¯
    const smStart = consumer.originalPositionFor({
      line: v.loc.start.line,
      column: v.loc.start.column
    })
    const smEnd = consumer.originalPositionFor({
      line: v.loc.end.line,
      column: v.loc.end.column
    })

    // startå¯¹åº”æºç æ‰€åœ¨è¡Œçš„ä»£ç 
    const sourceStartCode = consumer
      .sourceContentFor(smStart.source!)
      ?.split(/\r?\n/g)[smStart.line! - 1]
    const sourceEndCode = consumer
      .sourceContentFor(smEnd.source!)
      ?.split(/\r?\n/g)[smEnd.line! - 1]
    // çœç•¥ console æ‰“å°ä»£ç 
  })
}</code></pre>
</div><p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/source-map/2.ts" target="_blank" rel="noreferrer">å®Œæ•´demo2ä»£ç </a></p>
<p><img src="./escheck/MTY2NDMzNzM4NTkyMw==664337385923.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è¿™å—å°±å¯¹é½äº†<code>mpx-es-check</code>çš„<code>source-map</code>è§£æèƒ½åŠ›</p>
<h3 id="htmlæ”¯æŒ" tabindex="-1">HTMLæ”¯æŒ <a class="header-anchor" href="#htmlæ”¯æŒ" aria-label="Permalink to â€œHTMLæ”¯æŒâ€">&#8203;</a></h3>
<p>è¿™ä¸ªå°±æ¯”è¾ƒå¥½åŠäº†ï¼Œåªéœ€è¦å°†<code>script</code>é‡Œçš„å†…å®¹æå–å‡ºæ¥ï¼Œè°ƒç”¨ä¸Šè¿°çš„<code>checkCode</code>æ–¹æ³•ï¼Œç„¶åå¯¹ç»“æœè¿›è¡Œä¸€ä¸ªè¡Œåˆ—å·çš„ä¼˜åŒ–å³å¯</p>
<p>è¿™é‡Œæå–çš„æ–¹æ³•å¾ˆå¤šï¼Œå¯ä»¥</p>
<ol>
<li><code>æ­£åˆ™åŒ¹é…</code></li>
<li><a href="https://cheerio.js.org/" target="_blank" rel="noreferrer">cheerio</a>ï¼šåƒjQueryä¸€æ ·æ“ä½œ</li>
<li><a href="https://github.com/inikulin/parse5" target="_blank" rel="noreferrer">parse5</a>ï¼šç”ŸæˆASTï¼Œé€’å½’éå†éœ€è¦çš„èŠ‚ç‚¹</li>
<li><a href="https://github.com/fb55/htmlparser2" target="_blank" rel="noreferrer">htmlparser2</a>ï¼šç”ŸæˆASTï¼Œç›¸æ¯”<code>parse5</code>æ›´åŠ ï¼Œè§£æç­–ç•¥æ›´åŠ â€åŒ…å®¹â€œ</li>
</ol>
<p>å°è¯•å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œæœ€åå‘ç°æ˜¯ç”¨<code>parse5</code>æ›´ç¬¦åˆè¿™ä¸ªåœºæ™¯ï¼ˆç¼–å†™ä»£ç æ›´å°‘ï¼‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::b3f32o4ecj45dhb4fdi21::--><code>import * as parse5 from &#039;parse5&#039;

const htmlAST = parse5.parse(code, {
  sourceCodeLocationInfo: true
})</code></pre>
</div><p>ä¸‹é¢æ˜¯ç”Ÿæˆçš„ASTç¤ºä¾‹: <a href="https://astexplorer.net/#/gist/03728790dcd82e64204cdf4641a43d8f/c988f350916bfe04c642333b0839ed35e7578ca6" target="_blank" rel="noreferrer">https://astexplorer.net/#/gist/03728790dcd82e64204cdf4641a43d8f/c988f350916bfe04c642333b0839ed35e7578ca6</a></p>
<p>é€šè¿‡<code>nodeName</code>æˆ–è€…<code>tagName</code>å°±å¯ä»¥åŒºåˆ†èŠ‚ç‚¹ç±»å‹ï¼Œè¿™é‡Œç®€å•å†™ä¸ªéå†æ–¹æ³•</p>
<p>èŠ‚ç‚¹å¯ä»¥é€šè¿‡<code>childNodes</code>å±æ€§åŒºåˆ†æ˜¯å¦åŒ…å«å­èŠ‚ç‚¹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::6udwfe5a6i7c2pa400hlkq::--><code>function traverse(ast: any, traverseSchema: Record&lt;string, any&gt;) {
  traverseSchema?.[ast?.nodeName]?.(ast)
  if (ast?.nodeName !== ast?.tagName) {
    traverseSchema?.[ast?.tagName]?.(ast)
  }
  ast?.childNodes?.forEach((n) =&gt; {
    traverse(n, traverseSchema)
  })
}</code></pre>
</div><p>è¿™é‡Œéå†ä¸€ä¸‹demoä»£ç ç”Ÿæˆçš„ast</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::b6n7l9qiv3bzptahoqmhlq::--><code>traverse(htmlAST, {
  script(node: any) {
    const code = `${node.childNodes.map((n) =&gt; n.value)}`
    const loc = node.sourceCodeLocation
    if (code) {
      console.log(code)
      console.log(loc)
    }
  }
})</code></pre>
</div><p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/html-check/1.ts" target="_blank" rel="noreferrer">å®Œæ•´demo1ä»£ç </a></p>
<p><img src="./escheck/MTY2NDM1MTM3NDUyMA==664351374520.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è·å¾—å¯¹åº”çš„æºç åå°±å¯ä»¥è°ƒç”¨ä¹‹å‰çš„<code>checkCode</code>æ–¹æ³•ï¼Œå¯¹é”™è¯¯è¡Œå·åšä¸€ä¸ªæ‹¼æ¥å³å¯å¾—åˆ°é”™è¯¯ä¿¡æ¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::2en96hziu0twyk88i9nvv9::--><code>traverse(htmlAST, {
  script(node: any) {
    const code = `${node.childNodes.map((n) =&gt; n.value)}`
    const loc = node.sourceCodeLocation
    if (code) {
      const errList = checkCode(code)
      errList.forEach((err) =&gt; {
        console.log(
          &#039;line:&#039;,
          loc.startLine + err.loc.start.line - 1,
          &#039;column:&#039;,
          err.loc.start.column
        )
        console.log(err.source)
        console.log()
      })
    }
  }
})</code></pre>
</div><p><a href="https://github.com/ATQQ/tools/blob/feature/es-check/packages/cli/es-check/__test__/demos/html-check/2.ts" target="_blank" rel="noreferrer">å®Œæ•´demo2ä»£ç </a></p>
<p><img src="./escheck/MTY2NDM1MzM1OTY4OA==664353359688.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="ç»„å»ºclièƒ½åŠ›" tabindex="-1">ç»„å»ºCLIèƒ½åŠ› <a class="header-anchor" href="#ç»„å»ºclièƒ½åŠ›" aria-label="Permalink to â€œç»„å»ºCLIèƒ½åŠ›â€">&#8203;</a></h3>
<p>è¿™é‡Œå°±ä¸å†èµ˜è¿°CLIè¿‡ç¨‹ä»£ç ï¼Œæ ¸å¿ƒçš„å·²åœ¨å‰é¢é˜è¿°ï¼Œè¿™é‡Œç›´æ¥ä¸Šæœ€ç»ˆæˆå“çš„ä½¿ç”¨æ¼”ç¤ºï¼Œå‚æ•°åŒ<code>es-check</code>ä¿æŒä¸€è‡´</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::r5jbc6qxj1s4xpn695ppf7::--><code>npm i @sugarat/es-check -g</code></pre>
</div><p>æ£€æµ‹ç›®æ ‡æ–‡ä»¶</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2sysrw87zaop1isa5z41i::--><code>escheck es5 testProject/**/*.js testProject/**/*.html</code></pre>
</div><p><img src="./escheck/MTY2NDM3ODMyNjc0OQ==664378326749.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::n49d54s3xarrkhnwzgiaw::--><code>escheck es5 testProject/**/*.js testProject/**/*.html --out</code></pre>
</div><p><img src="./escheck/MTY2NDM3ODU2NzI1OA==664378567258.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æœ€ç»ˆå¯¹æ¯”" tabindex="-1">æœ€ç»ˆå¯¹æ¯” <a class="header-anchor" href="#æœ€ç»ˆå¯¹æ¯”" aria-label="Permalink to â€œæœ€ç»ˆå¯¹æ¯”â€">&#8203;</a></h2>
<table tabindex="0">
<thead>
<tr>
<th>Name</th>
<th>JS</th>
<th>HTML</th>
<th>Friendly</th>
</tr>
</thead>
<tbody>
<tr>
<td>es-check</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td>@mpxjs/es-check</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td>@sugarat/es-check</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<p>å–äº†2è€…çš„ä¼˜ç‚¹ç›¸ç»“åˆç„¶ååšäº†ä¸€å®šçš„å¢å¼º</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>å½“ç„¶è¿™ä¸ªå·¥å…·å¯èƒ½å­˜åœ¨bugï¼Œé—æ¼éƒ¨åˆ†åœºæ™¯ç­‰æƒ…å†µï¼Œè¯»è€…è¯•ç”¨å¯ä»¥è¯„è®ºåŒºç»™åé¦ˆï¼Œæˆ–è€…åº“é‡Œç›´æ¥æ<code>issues</code></p>
<p>æœ‰å…¶å®ƒåŠŸèƒ½ä¸Šçš„å»ºè®®ä¹Ÿå¯è¯„è®ºåŒºç•™è¨€äº¤æµ</p>
<p>å®Œæ•´æºç ç§»æ­¥=&gt;<a href="https://github.com/ATQQ/tools/tree/main/packages/cli/es-check" target="_blank" rel="noreferrer">Github</a></p>
<h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to â€œå‚è€ƒâ€">&#8203;</a></h2>
<ul>
<li><a href="https://github.com/yowainwright/es-check" target="_blank" rel="noreferrer">es-check</a>ï¼šç¤¾åŒºå‡ºå“</li>
<li><a href="https://github.com/mpx-ecology/mpx-es-check" target="_blank" rel="noreferrer">mpx-es-check</a>ï¼šæ»´æ»´å‡ºå“ <a href="https://mpxjs.cn/" target="_blank" rel="noreferrer">MPX</a> æ¡†æ¶çš„é…å¥—å·¥å…·</li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/escheck/MTY2NDAyODU1NTI3OA==664028555278.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„CodePen]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/codeNote.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/codeNote.html</guid>
            <pubDate>Sun, 28 Aug 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[# ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„CodePen
## å‰è¨€
emmmã€‚ã€‚ã€‚ï¼Œæœ‰å¥½é•¿ä¸€æ®µæ—¶é—´æ²¡ç æ–‡äº†ï¼ˆè¿‘å‡ ä¸ªæœˆå®åœ¨æ˜¯å¤ªå¿™äº†ï¼‰ï¼Œè¿™ä¸ªç©å…·åˆšå¥½æ˜¯è¿™ä¸¤å‘¨æŠ½ç©º`æ‹¼`çš„æ‹¿å‡ºæ¥å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹

æœ‹å‹æœ€è¿‘åˆšå­¦å‰ç«¯ï¼Œç»å¸¸é—®ä¸€äº›é—®é¢˜ï¼Œé€šè¿‡èŠå¤©è½¯ä»¶å‘ä»£ç å’Œè´´å›¾å®åœ¨æ˜¯ä¸å¤ªæ–¹ä¾¿ï¼Œå°±ç»™å®ƒæ¨èäº†[CodePen](https://codepen.io/) å’Œ [ğŸ´ä¸Šæ˜é‡‘](https://code.juejin.cn/)

å‰è€…å›½å†…è®¿é—®å®åœ¨ä¸ç¨³å®šï¼Œåè€…emmæœ‰ä¸ªå†…å®¹å®¡æ ¸ï¼Œå¯¼è‡´å†…å®¹`å®æ—¶æ€§`è¾ƒå·®ã€‚

å°±æœäº†æœGitHubä¸Šæœ‰ä¸æœ‰ç±»ä¼¼çš„é¡¹ç›®ï¼Œæœäº†ä¸€åœˆè¿˜çœŸæœ‰ä¸å°‘ï¼Œè¿™é‡Œè´´ä¸¤ä¸ªæ„Ÿè§‰ä¸é”™çš„ [CodeRun](https://wanglin2.github.io/code-run-online/#/) å’Œ [CodePan](https://codepan.egoist.sh/)

æœ‹å‹ä½¿ç”¨ååé¦ˆï¼Œé—®äº†é—®æœ‰ä¸æœ‰å•¥æ”¯æŒç›´æ¥åœ¨æ—è¾¹ **å†™ç¬”è®°**ï¼Œ**è´´å›¾ç‰‡ï¼ˆè¿™ä¸ªï¼‰**ï¼Œæ–¹ä¾¿åšè®°å½•

emm...ï¼Œæ£€ç´¢äº†ä¸€åœˆè®°å¿†ä¸­é™¤äº† `VsCode` å¥½åƒè¿˜çœŸæ²¡æœ‰è¿™ç§ä¸œè¥¿ï¼ˆå¯èƒ½æ˜¯æˆ‘å­¤é™‹å¯¡é—»äº†ï¼Œè¯»è€…æœ‰æ¨èçš„å¯ä»¥è¯„è®ºåŒºè¡¥å……ï¼‰

é‚£å°±ç»™ä»–é€ ä¸ªå§ï¼Œç»ƒç»ƒæ‰‹ï¼Œæœ‰æ®µæ—¶é—´æ²¡å†™è‡ªå·±çš„ä»£ç äº†

ç­‰ä¸åŠäº†ï¼Ÿå…ˆä½“éªŒä½“éªŒğŸ‘‰ğŸ» [ç¤ºä¾‹1ï¼šåº”ç”¨é¦–é¡µ](https://code.sugarat.top)ï¼Œ[ç¤ºä¾‹2ï¼šåˆ†äº«ä»£ç ](https://code.sugarat.top/share/63035c10a6ea447087355f55)

## æŠ€æœ¯é€‰å‹
è¡ŒåŠ¨è‚¯å®šæ˜¯è¦ç«™åœ¨å·¨äººçš„"é”®ç›˜ä¸Š"(æ‰‹æ»‘æ‰“é”™äº†ï¼Œé‚£å°±è¿™æ ·å§)ï¼Œå…ˆçœ‹çœ‹æœ‰å“ªäº›å¯ç”¨çš„ "é›¶ä»¶"

### å†…å®¹ç¼–è¾‘å™¨
å…ˆæ˜¯å†™ç¬”è®°éƒ¨åˆ†ï¼ŒæŒ‘äº†å‡ ä¸ªåº“ç©äº†ä¸€ä¸‹
* [wangEditor](https://www.wangeditor.com/) - å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¼€ç®±å³ç”¨ï¼Œé…ç½®ç®€å•
* [prosemirror](https://prosemirror.net/) - æ”¯æŒéƒ¨åˆ†MarkDownè¯­æ³•ï¼Œå¯æ‹“å±•å®šåˆ¶çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
* [ğŸ§´ Lotion](https://lotion.dashibase.com/) - åŸºäºVue3å¼€å‘çš„å—ç¼–è¾‘å™¨
* [Editor.js](https://editorjs.io/) - å®˜æ–¹:"Next generation block styled editor.",ä¸‹ä¸€ä»£å—ç¼–è¾‘å™¨

å› ä¸ºå±å¹•ä¸­éœ€è¦å±•ç¤º ç¬”è®°/ä»£ç /é¢„è§ˆ 3ä¸ªéƒ¨åˆ†ï¼Œç›´æ¥ä½¿ç”¨markdownè¯­æ³•ä¼šæœ‰ä¸ªåˆ‡æ¢çš„åŠ¨ä½œï¼ˆè¿™é‡Œå°±ä¸è€ƒè™‘markdownæ ¼å¼åšç¼–è¾‘äº†ï¼‰

ä¸Šè¿°çš„å‡ ä¸ªåº“åˆ†å¤§ä½“ä¸Šåˆ†ä¸ºä¸¤ç±»`å¯Œæ–‡æœ¬ç¼–è¾‘å™¨`ï¼Œ`å—ç¼–è¾‘å™¨`

|                                å¯Œæ–‡æœ¬ç¼–è¾‘å™¨                                 |                                  å—ç¼–è¾‘å™¨                                   |
| :]]></description>
            <content:encoded><![CDATA[<h1 id="ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„codepen" tabindex="-1">ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„CodePen <a class="header-anchor" href="#ç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„codepen" aria-label="Permalink to â€œç»„è£…ä¸ªæ”¯æŒè®°ç¬”è®°çš„CodePenâ€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>emmmã€‚ã€‚ã€‚ï¼Œæœ‰å¥½é•¿ä¸€æ®µæ—¶é—´æ²¡ç æ–‡äº†ï¼ˆè¿‘å‡ ä¸ªæœˆå®åœ¨æ˜¯å¤ªå¿™äº†ï¼‰ï¼Œè¿™ä¸ªç©å…·åˆšå¥½æ˜¯è¿™ä¸¤å‘¨æŠ½ç©º<code>æ‹¼</code>çš„æ‹¿å‡ºæ¥å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹</p>
<p>æœ‹å‹æœ€è¿‘åˆšå­¦å‰ç«¯ï¼Œç»å¸¸é—®ä¸€äº›é—®é¢˜ï¼Œé€šè¿‡èŠå¤©è½¯ä»¶å‘ä»£ç å’Œè´´å›¾å®åœ¨æ˜¯ä¸å¤ªæ–¹ä¾¿ï¼Œå°±ç»™å®ƒæ¨èäº†<a href="https://codepen.io/" target="_blank" rel="noreferrer">CodePen</a> å’Œ <a href="https://code.juejin.cn/" target="_blank" rel="noreferrer">ğŸ´ä¸Šæ˜é‡‘</a></p>
<p>å‰è€…å›½å†…è®¿é—®å®åœ¨ä¸ç¨³å®šï¼Œåè€…emmæœ‰ä¸ªå†…å®¹å®¡æ ¸ï¼Œå¯¼è‡´å†…å®¹<code>å®æ—¶æ€§</code>è¾ƒå·®ã€‚</p>
<p>å°±æœäº†æœGitHubä¸Šæœ‰ä¸æœ‰ç±»ä¼¼çš„é¡¹ç›®ï¼Œæœäº†ä¸€åœˆè¿˜çœŸæœ‰ä¸å°‘ï¼Œè¿™é‡Œè´´ä¸¤ä¸ªæ„Ÿè§‰ä¸é”™çš„ <a href="https://wanglin2.github.io/code-run-online/#/" target="_blank" rel="noreferrer">CodeRun</a> å’Œ <a href="https://codepan.egoist.sh/" target="_blank" rel="noreferrer">CodePan</a></p>
<p>æœ‹å‹ä½¿ç”¨ååé¦ˆï¼Œé—®äº†é—®æœ‰ä¸æœ‰å•¥æ”¯æŒç›´æ¥åœ¨æ—è¾¹ <strong>å†™ç¬”è®°</strong>ï¼Œ<strong>è´´å›¾ç‰‡ï¼ˆè¿™ä¸ªï¼‰</strong>ï¼Œæ–¹ä¾¿åšè®°å½•</p>
<p>emm...ï¼Œæ£€ç´¢äº†ä¸€åœˆè®°å¿†ä¸­é™¤äº† <code>VsCode</code> å¥½åƒè¿˜çœŸæ²¡æœ‰è¿™ç§ä¸œè¥¿ï¼ˆå¯èƒ½æ˜¯æˆ‘å­¤é™‹å¯¡é—»äº†ï¼Œè¯»è€…æœ‰æ¨èçš„å¯ä»¥è¯„è®ºåŒºè¡¥å……ï¼‰</p>
<p>é‚£å°±ç»™ä»–é€ ä¸ªå§ï¼Œç»ƒç»ƒæ‰‹ï¼Œæœ‰æ®µæ—¶é—´æ²¡å†™è‡ªå·±çš„ä»£ç äº†</p>
<p>ç­‰ä¸åŠäº†ï¼Ÿå…ˆä½“éªŒä½“éªŒğŸ‘‰ğŸ» <a href="https://code.sugarat.top" target="_blank" rel="noreferrer">ç¤ºä¾‹1ï¼šåº”ç”¨é¦–é¡µ</a>ï¼Œ<a href="https://code.sugarat.top/share/63035c10a6ea447087355f55" target="_blank" rel="noreferrer">ç¤ºä¾‹2ï¼šåˆ†äº«ä»£ç </a></p>
<h2 id="æŠ€æœ¯é€‰å‹" tabindex="-1">æŠ€æœ¯é€‰å‹ <a class="header-anchor" href="#æŠ€æœ¯é€‰å‹" aria-label="Permalink to â€œæŠ€æœ¯é€‰å‹â€">&#8203;</a></h2>
<p>è¡ŒåŠ¨è‚¯å®šæ˜¯è¦ç«™åœ¨å·¨äººçš„&quot;é”®ç›˜ä¸Š&quot;(æ‰‹æ»‘æ‰“é”™äº†ï¼Œé‚£å°±è¿™æ ·å§)ï¼Œå…ˆçœ‹çœ‹æœ‰å“ªäº›å¯ç”¨çš„ &quot;é›¶ä»¶&quot;</p>
<h3 id="å†…å®¹ç¼–è¾‘å™¨" tabindex="-1">å†…å®¹ç¼–è¾‘å™¨ <a class="header-anchor" href="#å†…å®¹ç¼–è¾‘å™¨" aria-label="Permalink to â€œå†…å®¹ç¼–è¾‘å™¨â€">&#8203;</a></h3>
<p>å…ˆæ˜¯å†™ç¬”è®°éƒ¨åˆ†ï¼ŒæŒ‘äº†å‡ ä¸ªåº“ç©äº†ä¸€ä¸‹</p>
<ul>
<li><a href="https://www.wangeditor.com/" target="_blank" rel="noreferrer">wangEditor</a> - å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¼€ç®±å³ç”¨ï¼Œé…ç½®ç®€å•</li>
<li><a href="https://prosemirror.net/" target="_blank" rel="noreferrer">prosemirror</a> - æ”¯æŒéƒ¨åˆ†MarkDownè¯­æ³•ï¼Œå¯æ‹“å±•å®šåˆ¶çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</li>
<li><a href="https://lotion.dashibase.com/" target="_blank" rel="noreferrer">ğŸ§´ Lotion</a> - åŸºäºVue3å¼€å‘çš„å—ç¼–è¾‘å™¨</li>
<li><a href="https://editorjs.io/" target="_blank" rel="noreferrer">Editor.js</a> - å®˜æ–¹:&quot;Next generation block styled editor.&quot;,ä¸‹ä¸€ä»£å—ç¼–è¾‘å™¨</li>
</ul>
<p>å› ä¸ºå±å¹•ä¸­éœ€è¦å±•ç¤º ç¬”è®°/ä»£ç /é¢„è§ˆ 3ä¸ªéƒ¨åˆ†ï¼Œç›´æ¥ä½¿ç”¨markdownè¯­æ³•ä¼šæœ‰ä¸ªåˆ‡æ¢çš„åŠ¨ä½œï¼ˆè¿™é‡Œå°±ä¸è€ƒè™‘markdownæ ¼å¼åšç¼–è¾‘äº†ï¼‰</p>
<p>ä¸Šè¿°çš„å‡ ä¸ªåº“åˆ†å¤§ä½“ä¸Šåˆ†ä¸ºä¸¤ç±»<code>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</code>ï¼Œ<code>å—ç¼–è¾‘å™¨</code></p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</th>
<th style="text-align:center">å—ç¼–è¾‘å™¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./codeNote/MTY2MTY5ODE0NTY2OQ==661698145669.png" alt="å›¾ç‰‡" loading="lazy"></td>
<td style="text-align:center"><img src="./codeNote/MTY2MTY5ODIyNjk3NQ==661698226975.png" alt="å›¾ç‰‡" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>å‰è€…æ˜¯æ¯”è¾ƒä¼ ç»Ÿçš„ç¼–è¾‘å™¨ï¼Œåè€…ä»ç¤¾åŒºååº”æ¥çœ‹åƒæ˜¯<code>ä¸‹ä¸€ä»£è¶‹åŠ¿</code>ï¼Œä½†å›½å†…å¥½åƒè¿˜æ²¡çœ‹åˆ°ä½¿ç”¨æ­¤æ–¹æ¡ˆçš„æˆç†Ÿäº§å“ï¼ˆå¯èƒ½æ˜¯æˆ‘å­¤é™‹å¯¡é—»äº†ï¼Œè¯»è€…æœ‰æ¨èçš„å¯ä»¥è¯„è®ºåŒºè¡¥å……ï¼‰</p>
<p>æœ€åæœ¬ç€æŠ€æœ¯å°é²œï¼ˆå–œæ¬¢æŠ˜è…¾ï¼‰çš„ç²¾ç¥é€‰äº†<a href="https://editorjs.io/" target="_blank" rel="noreferrer">Editor.js</a>ï¼Œå®˜æ–¹æä¾›äº†ä¸€ç³»åˆ—çš„åŸºç¡€æ’ä»¶ï¼Œæä¾›äº†ç®€å•çš„APIæ”¯æŒè‡ªå®šä¹‰çš„æ’ä»¶ï¼ˆåé¢å•ç‹¬å¼€æ–‡ç« ä»‹ç»ï¼‰</p>
<h3 id="ä»£ç ç¼–è¾‘å™¨" tabindex="-1">ä»£ç ç¼–è¾‘å™¨ <a class="header-anchor" href="#ä»£ç ç¼–è¾‘å™¨" aria-label="Permalink to â€œä»£ç ç¼–è¾‘å™¨â€">&#8203;</a></h3>
<p>è¿™ä¸ªå°±<a href="https://github.com/microsoft/monaco-editor" target="_blank" rel="noreferrer">monaco-editor</a> æ²¡å¾—è·‘äº†</p>
<p>ä¸è¿‡åœ¨ä½¿ç”¨ä¹‹å‰å…ˆçœ‹äº†ä¸€ä¸‹æœ€è¿‘é˜¿é‡Œå¼€æºçš„<a href="https://opensumi.com/zh" target="_blank" rel="noreferrer">OpenSumi</a>ï¼Œçœ‹ä¹‹å‰ä»¥ä¸ºæ˜¯ä¸ªå¯ç›´æ¥ç”¨çš„<code>NPM</code>åŒ…ï¼Œæ–‡æ¡£ç¿»äº†åŠå¤©ï¼Œåªç»™äº†ä¸ªdemoï¼Œemm æ‹‰ä¸‹æ¥ï¼Œæœç„¶å¦‚å®˜æ–¹é¢„æ–™ å¡åœ¨äº† <code>yarn install</code>ï¼Œæ„Ÿè§‰æœ‰ä¸€å®šä¸Šæ‰‹æˆæœ¬ï¼Œå…ˆä¸çœ‹äº†</p>
<h3 id="åç«¯éƒ¨åˆ†" tabindex="-1">åç«¯éƒ¨åˆ† <a class="header-anchor" href="#åç«¯éƒ¨åˆ†" aria-label="Permalink to â€œåç«¯éƒ¨åˆ†â€">&#8203;</a></h3>
<p>æ€è€ƒäº†ä¸€ä¸‹éƒ½æ˜¯ç®€å•çš„<code>CRUD</code>åœºæ™¯ï¼Œå­˜å‚¨å’Œé‰´æƒ<code>MongoDB</code>ä¸<code>Redis</code>æ„Ÿè§‰å°±å¤Ÿäº†ï¼ˆä¹Ÿæ²¡æœ‰é…ç½®æˆæœ¬ï¼Œå®‰è£…å³ç”¨ï¼‰</p>
<p>æœåŠ¡ç«¯æ¡†æ¶éƒ¨åˆ†å°±ç›´æ¥æ‹¿è‡ªå·±çš„ä¹‹å‰å†™çš„ç©å…·<a href="https://github.com/ATQQ/flash-wolves" target="_blank" rel="noreferrer">flash-wolves</a>å¼€æ•´</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ç»„è£…äº†</p>
<h2 id="å®ç°" tabindex="-1">å®ç° <a class="header-anchor" href="#å®ç°" aria-label="Permalink to â€œå®ç°â€">&#8203;</a></h2>
<h3 id="é¡¹ç›®æ­å»º" tabindex="-1">é¡¹ç›®æ­å»º <a class="header-anchor" href="#é¡¹ç›®æ­å»º" aria-label="Permalink to â€œé¡¹ç›®æ­å»ºâ€">&#8203;</a></h3>
<p>ç²—ç³™çš„åŸå‹å›¾å¦‚ä¸‹</p>
<p><img src="./codeNote/MTY2MTY5OTkyOTE2OQ==661699929169.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¸ƒå±€ä¹Ÿæ¯”è¾ƒç®€å•</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::k75gooox7kq20c2e04wdy::--><code>&lt;header&gt;å·¥å…·æ¡...&lt;/header&gt;
&lt;!-- ä¸»ä½“å†…å®¹ --&gt;
&lt;main&gt;
    &lt;Note /&gt;
    &lt;Code /&gt;
    &lt;Render /&gt;
&lt;/main&gt;</code></pre>
</div><p>ç›´æ¥æ‹¿ä¹‹å‰æ•´çš„æ¨¡æ¿è¿›è¡Œåˆ›å»º<a href="https://github.com/ATQQ/vite-vue3-template" target="_blank" rel="noreferrer">vite-vue3-template</a>å‡ºå‰ç«¯å·¥ç¨‹</p>
<h3 id="æ–‡æœ¬ç¼–è¾‘éƒ¨åˆ†" tabindex="-1">æ–‡æœ¬ç¼–è¾‘éƒ¨åˆ† <a class="header-anchor" href="#æ–‡æœ¬ç¼–è¾‘éƒ¨åˆ†" aria-label="Permalink to â€œæ–‡æœ¬ç¼–è¾‘éƒ¨åˆ†â€">&#8203;</a></h3>
<p>ç¤ºä¾‹ä»£ç åœ¨çº¿æ¼”ç¤ºï¼š<a href="https://code.sugarat.top/share/630b8793789c242a31e57c40" target="_blank" rel="noreferrer">https://code.sugarat.top/share/630b8793789c242a31e57c40</a></p>
<p>ç›´æ¥<a href="https://editorjs.io/configuration" target="_blank" rel="noreferrer">å‚ç…§å®˜æ–¹æ–‡æ¡£</a>ï¼ŒCVèµ·æ¥å°±èƒ½è¿è¡Œï¼Œè¿™é‡Œä»…ä»…è´´å‡ ä¸ªå…³é”®éƒ¨åˆ†ï¼ˆé¿å…ä»£ç å ç”¨å¤ªå¤§ç¯‡å¹…ï¼Œé™ä½æ–‡ç« å¯è¯»æ€§ï¼‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::s4lhssch2gj9ldi59wkl9::--><code> const editor = new EditorJS({
    holder: &#039;note-editor&#039;,
    placeholder: &#039;åœ¨è¿™é‡Œå¼€å§‹è®°å½•ä½ çš„ç¬”è®°&#039;,
    onReady: () =&gt; {
      console.log(&#039;Editor.js is ready to work!&#039;)
      // å†…å®¹åˆå§‹åŒ–
      // ä¸‹æ–¹æ‹¿åˆ°çš„outputDataç›´æ¥å¡è¿›æ¥å°±è¡Œ
      // å¯ä»¥åœ¨é¡µé¢åŠ è½½çš„æ—¶å€™ä»æ•°æ®åº“å–å†å²æ•°æ®è¿›è¡Œå±•ç¤º
      editor.render(xxx)
    },
    onChange: (api, e) =&gt; {
      editor
        .save()
        .then((outputData) =&gt; {
            // å–å¾—ç¼–å†™çš„å†…å®¹
            // å¯ä»¥å°†è¿™ä¸ªå†…å­˜å­˜èµ·æ¥
            // åœ¨åˆé€‚çš„æ—¶æœºè°ƒæ¥å£å­˜å…¥æ•°æ®åº“å³å¯
        })
        .catch((error) =&gt; {
          console.log(&#039;Saving failed: &#039;, error)
        })
    },
    tools: {
      // å›¾ç‰‡å¤„ç†
      image: {
        class: Image,
        config: {
          uploader: {
            uploadByFile(file: File) {
              // éœ€è¦è‡ªå·±å¤„ç†å›¾ç‰‡ä¸Šä¼ é€»è¾‘
              // æŒ‰ç»“æ„è¿›è¡Œè¿”å›å³å¯
              return {
                success: 1,
                file: {
                  url: &#039;./codeNote/pupza3m486.png&#039;
                }
              }
            }
          }
        }
      },
    // ä¸€ç³»åˆ—å®˜æ–¹æ’ä»¶
      header: Header,
      list: List,
    //   ...
    },
    i18n: {
      // å›½é™…åŒ–ç›¸å…³é…ç½®
    }
  })</code></pre>
</div><h3 id="ä»£ç ç¼–è¾‘" tabindex="-1">ä»£ç ç¼–è¾‘ <a class="header-anchor" href="#ä»£ç ç¼–è¾‘" aria-label="Permalink to â€œä»£ç ç¼–è¾‘â€">&#8203;</a></h3>
<p>å‚ç…§<a href="https://github.com/microsoft/monaco-editor/blob/main/docs/integrate-esm.md" target="_blank" rel="noreferrer">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå‡ æ­¥å°±èµ·é£ï¼Œç›´æ¥è°ƒç”¨ <code>monaco-editor</code> è¿›è¡Œåˆå§‹åŒ–ï¼Œä»¥HTMLç¼–è¾‘å™¨ä¸ºä¾‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::k6azv3l02te54bxl7476p::--><code>import * as monaco from &#039;monaco-editor&#039;

const htmlEditor = monaco.editor.create(
  document.getElementById(&#039;html-editor&#039;),
  {
    // åˆå§‹åŒ–å±•ç¤ºçš„å†…å®¹
    value: &#039;&lt;h1&gt;hello world&lt;/h1&gt;&#039;,
    language: &#039;html&#039;,
    theme: &#039;vs-dark&#039;,
    fontSize: 18,
    automaticLayout: true
  }
)
// å¦‚æœæ•°æ®æ˜¯å¼‚æ­¥ä»æ¥å£æ‹¿ï¼Œé‚£ä¹ˆå¯ä»¥è°ƒç”¨setValueæ–¹æ³•ï¼Œè®¾ç½®å†…å®¹
setTimeout(() =&gt; {
  htmlEditor.setValue(&#039;&lt;h2&gt;hello world&lt;/h2&gt;&#039;)
}, 2000);

// åœ¨è¿™ä¸ªæ–¹æ³•ç›‘å¬ç¼–è¾‘å™¨çš„å†…å®¹å˜åŠ¨
htmlEditor.onDidChangeModelContent(() =&gt; {
  const newValue = htmlEditor.getValue()
})</code></pre>
</div><p>é€šè¿‡ä¸Šè¿°<code>3</code>ä¸ªç®€å•çš„æ–¹æ³•å³å¯å®ç°1ä¸ªç®€å•ç¼–è¾‘å™¨çš„å†…å®¹è¯»å†™</p>
<p>å½“ç„¶ç¬”è€…è¿™é‡Œç”¨çš„Vite + Vue3ï¼Œ<strong>è¿™é‡Œè¿˜æœ‰å‡ ä¸ªå‘</strong></p>
<p>å¯¼å…¥workerï¼Œå‚è€ƒ<a href="https://github.com/vitejs/vite/discussions/1791#discussioncomment-321046" target="_blank" rel="noreferrer">å°¤å¤§ç»™çš„ç¤ºä¾‹</a></p>
<blockquote></blockquote>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::o2wk12210qcys19zai9px::--><code>// main.ts
import EditorWorker from &#039;monaco-editor/esm/vs/editor/editor.worker?worker&#039;
import JSONWorker from &#039;monaco-editor/esm/vs/language/json/json.worker?worker&#039;
import CSSWorker from &#039;monaco-editor/esm/vs/language/css/css.worker?worker&#039;
import HTMLWorker from &#039;monaco-editor/esm/vs/language/html/html.worker?worker&#039;
import TSWorker from &#039;monaco-editor/esm/vs/language/typescript/ts.worker?worker&#039;
self.MonacoEnvironment = {
  getWorker(_: any, label: string) {
    if (label === &#039;json&#039;) {
      return new JSONWorker()
    }
    if (label === &#039;css&#039; || label === &#039;scss&#039; || label === &#039;less&#039;) {
      return new CSSWorker()
    }
    if (label === &#039;html&#039; || label === &#039;handlebars&#039; || label === &#039;razor&#039;) {
      return new HTMLWorker()
    }
    if (label === &#039;typescript&#039; || label === &#039;javascript&#039;) {
      return new TSWorker()
    }
    return new EditorWorker()
  }
}</code></pre>
</div><p>editorä½¿ç”¨refç»‘å®šè°ƒç”¨çš„æ—¶å€™éœ€è¦toRawï¼Œä¸ç„¶åº”ç”¨å°±ä¼šå¡æ­»</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::kt8rr3pnxyjckkc6b7bbcd::--><code>const htmlEditor = ref&lt;monaco.editor.IStandaloneCodeEditor&gt;(null as any)
// æ ¹æ®propsæ›´æ–°
watchEffect(() =&gt; {
  if (htmlEditor.value &amp;&amp; props.html) {
    toRaw(htmlEditor.value).setValue(props.html)
  }
})
onMounted(()=&gt;{
  // åˆå§‹åŒ–å®ä¾‹
  htmlEditor.value = monaco.editor.create({...ops})
    toRaw(htmlEditor.value).onDidChangeModelContent(() =&gt; {
    console.log(toRaw(htmlEditor.value).getValue())
  })
})
</code></pre>
</div><h3 id="ä»£ç æ¸²æŸ“" tabindex="-1">ä»£ç æ¸²æŸ“ <a class="header-anchor" href="#ä»£ç æ¸²æŸ“" aria-label="Permalink to â€œä»£ç æ¸²æŸ“â€">&#8203;</a></h3>
<p>è¿™é‡Œä½¿ç”¨<code>iframe</code>æ‰¿è½½å†…å®¹ï¼ŒæœŸæœ›iframeé‡Œé¡µé¢æœ€ç»ˆç»“æ„å¦‚ä¸‹</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::0vvbqu8g04rj5i8no13jv6w::--><code>&lt;head&gt;
  &lt;style&gt;
    /* å†…ç½®ä¸€äº›æ ·å¼é‡è½½ */
  &lt;/style&gt;
  &lt;style&gt;
    /* ç”¨æˆ·ä¹¦å†™æ ·å¼ */
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!--consoleä¿¡æ¯é¢æ¿ --&gt;
  &lt;script src=&quot;//cdn.jsdelivr.net/npm/eruda&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    if(window.eruda){
      window.eruda.init({
        defaults: {
          displaySize: 25,
          transparency: 0.9,
        }
      })
      window.eruda.show()
    }
  &lt;/script&gt;

  &lt;div&gt;
    &lt;!-- ...ç”¨æˆ·htmlä»£ç  --&gt;
  &lt;/div&gt;

  &lt;script&gt;
    // ç”¨æˆ·jsä»£ç 
  &lt;/script&gt;
&lt;/body&gt;</code></pre>
</div><p>å…¶ä¸­ <a href="https://github.com/liriliri/eruda" target="_blank" rel="noreferrer">eruda</a> ä¸»è¦ç”¨äºå±•ç¤º iframe é¡µé¢çš„ log æ—¥å¿—ä¿¡æ¯ã€ Dom ç»“æ„ç­‰ï¼Œé¿å…æ‰“å¼€Chrome DevTools</p>
<p>æ‰€æœ‰domçš„åˆ›å»ºå‡é€šè¿‡ Dom API å®Œæˆ</p>
<p><strong>åœ¨çº¿é¢„è§ˆç¤ºä¾‹ä»£ç æ•ˆæœï¼š<a href="https://code.sugarat.top/share/6312ffa045a77f0bc4b881dc" target="_blank" rel="noreferrer">https://code.sugarat.top/share/6312ffa045a77f0bc4b881dc</a></strong></p>
<p>ä¸‹é¢ç®€å•è¿‡ä¸€ä¸‹å®ç°çš„ä»£ç </p>
<p>å…ˆç»™iframeæä¸ªæ ·å¼,é¿å…çœ‹ä¸åˆ°</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::jh3iqxq7kzp9zvufprqahn::--><code>&lt;style&gt;
iframe {
  width: 100%;
  height: 500px;
}
&lt;/style&gt;</code></pre>
</div><p>ç„¶åæ¥3ä¸ªdomæ‰¿è½½æˆ‘ä»¬çš„<code>ä¸‰å‰‘å®¢</code>ä»£ç </p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::jvy2rp7cm4t9bab7ckzsg::--><code>// ä¸€ç³»åˆ—ç”¨æˆ·ç¼–å†™çš„ä»£ç 
const cssCode = `h1{
    color:red;
}`;
const htmlCode = `&lt;h1&gt;hello world&lt;/h1&gt;`;
const jsCode = `console.log(&quot;hello world&quot;)`;

// 3ä¸ªdom
const $style = document.createElement(&quot;style&quot;);
$style.innerHTML = cssCode;

const $html = document.createElement(&quot;div&quot;);
$html.innerHTML = htmlCode;

const $userScript = document.createElement(&quot;script&quot;);
$userScript.textContent = jsCode;</code></pre>
</div><p>ç´§æ¥ç€åˆ›å»º<code>iframe</code>å°†å…¶è£…è¿›å» å°±okkäº†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::iyu3s1790ignbkbagt505q::--><code>const $iframe = document.createElement(&quot;iframe&quot;);
$iframe.addEventListener(&quot;load&quot;, () =&gt; {
  $iframe.contentDocument?.head.append($style);
  $iframe.contentDocument.body.append($html, $userScript);
});

document.body.append($iframe);</code></pre>
</div><p>å¦‚æœè¦å¼•å…¥erudaï¼Œå’±ä»¬éœ€è¦å…ˆç­‰erudaåŠ è½½å®Œå†æ’å…¥å’±ä»¬å¾—<code>script</code>ï¼Œä¸ç„¶æ•è·ä¸åˆ°ä»£ç <code>console</code></p>
<p>è¯¦ç»†å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::fa03tey50ikworwd5ofqg::--><code>$iframe.addEventListener(&quot;load&quot;, () =&gt; {
  $iframe.contentDocument.head.append($style);

  // eruda cdnèµ„æº
  const $eruda = document.createElement(&quot;script&quot;);
  $eruda.src = &quot;//cdn.jsdelivr.net/npm/eruda&quot;;
  // æ‰“å¼€é¢æ¿çš„ä»£ç 
  const debugExec = document.createElement(&quot;script&quot;);
  debugExec.textContent = `window.eruda.init({
      defaults: {
        displaySize: 25,
        transparency: 0.9,
      }
    })
    eruda.show()
    `;
  $iframe.contentDocument?.body.append($eruda);

  // eruda åŠ è½½å®Œå†åŠ è½½HTMLä¸ç”¨æˆ·è„šæœ¬
  $eruda.onload = function () {
    $iframe.contentDocument?.body.append(debugExec, $html, $userScript);
  };
});</code></pre>
</div><h3 id="ä»£ç æ ¼å¼åŒ–" tabindex="-1">ä»£ç æ ¼å¼åŒ– <a class="header-anchor" href="#ä»£ç æ ¼å¼åŒ–" aria-label="Permalink to â€œä»£ç æ ¼å¼åŒ–â€">&#8203;</a></h3>
<p>å†™å®Œä»£ç åï¼Œæ ¼å¼åŒ–æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œé¿å…ä¹±ç³Ÿç³Ÿ</p>
<p>ç¬”è€…è¿™é‡Œç›´æ¥é‡‡ç”¨<code>prettier</code>ï¼Œå•¥éƒ½æä¾›å¥½äº†ï¼ŒCVä¸€ä¸‹å°±èƒ½ç”¨</p>
<p>å‡ºå‚å…¥å‚éƒ½æ¯”è¾ƒç®€å•</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::0y1z6eq8v18mx8yq7u29ti::--><code>import prettier from &#039;prettier/standalone&#039;
import htmlPlugin from &#039;prettier/parser-html&#039;
import cssPlugin from &#039;prettier/parser-postcss&#039;
import jsPlugin from &#039;prettier/parser-babel&#039;

export function formatHTML(html: string) {
  return prettier.format(html, {
    parser: &#039;html&#039;,
    plugins: [htmlPlugin]
  })
}
export function formatJS(tsCode: string) {
  return prettier.format(tsCode, {
    parser: &#039;babel&#039;,
    plugins: [jsPlugin]
  })
}

export function formatCSS(css: string) {
  return prettier.format(css, {
    parser: &#039;css&#039;,
    plugins: [cssPlugin]
  })
}</code></pre>
</div><p>åˆ°è¿™é‡Œæ„æˆåº”ç”¨çš„å‡ ä¸ªä¸»è¦<code>å¼€æºåº“</code>çš„ä½¿ç”¨ä»‹ç»å·®ä¸å¤šå®Œäº†</p>
<p><code>å‰äººæ ½æ ‘åäººä¹˜å‡‰</code>ï¼Œå¯¹UI/UEè¦æ±‚ä¸é«˜çš„æ—¶å€™ï¼Œæ‹¼å‡‘å‡ºä¸€ä¸ªæ–°çš„åº”ç”¨èŠ±è´¹æ—¶é—´ä¸é«˜</p>
<p>å½“æœ‰ä¸€ä¸æƒ³æ³•çš„æ—¶å€™ï¼Œå¾—åŠæ—¶æŠ“ä½ã€‚</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p><code>EditorJS</code>è¿˜æ˜¯æœ‰å¾ˆå¤§çš„å¯ç©æ€§ï¼Œåé¢æœ‰æœºä¼šå›´ç»•è¾“å‡ºä¸€äº›æ’ä»¶å®è·µï¼Œè¯•ç€æ•´ä¸ªç¼–è¾‘å™¨æ›¿ä»£æ—¥å¸¸çš„Markdown</p>
<p>è¿™ä¸ªåœ¨çº¿çš„Codeä¹Ÿä¼šåœ¨åç»­ä¸­ä¼šæŠŠä¸€äº›æƒ³æ³•è¿­ä»£è¿›å»ï¼Œç›®å‰çœ‹ä¸»è¦æ˜¯ä»£ç ç¼–è¾‘éƒ¨åˆ†ä¸å¤ªå‹å¥½ï¼ˆä»£ç æç¤ºè¿™ä¸€å—ï¼‰ï¼Œè®¿é—®äº†å…¶å®ƒçš„åœ¨çº¿ç¼–ç çš„ï¼ŒåŸºæœ¬éƒ½æœ‰è¿™ä¸ªé—®é¢˜ï¼ˆæ— è®ºæ€ä¹ˆæéƒ½è¾¾ä¸åˆ°æœ¬åœ°VS Codeçš„åœ°æ­¥ï¼‰</p>
<p>åé¢å‡†å¤‡å¦è¾Ÿè¹Šå¾„æä¸€æï¼Œå…ˆæŠŠWebç‰ˆçš„äº¤äº’ä¼˜åŒ–ä¸€ä¸‹ä¸‹</p>
<p><strong>ä¸‰è¿ç ´Xï¼Œæ›´æ–°ä¸‹ä¸€æœŸï¼ˆæ‰‹åŠ¨æ»‘ç¨½ï¼‰</strong></p>
<p>è¯»è€…å¯¹å…¶å®ƒå®ç°ç»†èŠ‚æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥<a href="https://code.sugarat.top/" target="_blank" rel="noreferrer">è¯•ç©å</a>ï¼Œè¯„è®ºåŒºç•™è¨€ï¼Œä¸‹ä¸€æœŸé€ä¸Šè§£è¯»</p>
<p>é¡¹ç›®å®Œæ•´æºç è§<a href="https://github.com/ATQQ/onlineDemoEditor" target="_blank" rel="noreferrer">GitHub</a></p>
<p><em>-------------åä¸½çš„åˆ†å‰²çº¿------------</em></p>
<p>æˆç­¾çº¦ä½œè€…äº†ï¼Œåé¢å‡ ä¸ªæœˆè¾“å‡ºå¯èƒ½ä¼šç¨å¾®é¢‘ç¹ä¸€ç‚¹äº†ï¼Œåˆ°æ—¶å€™å°±æ‰“æ‰°äº†ï¼Œå¤§å®¶ä¸è¦åå•¬3è¿</p>
<p><img src="./codeNote/MTY2MjE3MTI4OTg5OA==662171289898.png" alt="å›¾ç‰‡" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/codeNote/MTY2MTY5ODE0NTY2OQ==661698145669.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å®ç°ä¸€ä¸ªWeb UIæ£€æµ‹(è§†è§‰èµ°æŸ¥)å·¥å…·ing]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/ewuit.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/works/ewuit.html</guid>
            <pubDate>Tue, 05 Jul 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[# å®ç°ä¸€ä¸ªWeb UIæ£€æµ‹(è§†è§‰èµ°æŸ¥)å·¥å…·ing

## æ¼”ç¤º
åºŸè¯ä¸å¤šå…ˆçœ‹æ•ˆæœï¼Œç›®å‰æ”¯æŒå…ƒç´ çš„æµ‹è·ï¼Œå±æ€§æŸ¥çœ‹è¿™ä¸¤ä¸ªåŠŸèƒ½

| H5                                                                                             | PC                                                                                             |
| ]]></description>
            <content:encoded><![CDATA[<h1 id="å®ç°ä¸€ä¸ªweb-uiæ£€æµ‹-è§†è§‰èµ°æŸ¥-å·¥å…·ing" tabindex="-1">å®ç°ä¸€ä¸ªWeb UIæ£€æµ‹(è§†è§‰èµ°æŸ¥)å·¥å…·ing <a class="header-anchor" href="#å®ç°ä¸€ä¸ªweb-uiæ£€æµ‹-è§†è§‰èµ°æŸ¥-å·¥å…·ing" aria-label="Permalink to â€œå®ç°ä¸€ä¸ªWeb UIæ£€æµ‹(è§†è§‰èµ°æŸ¥)å·¥å…·ingâ€">&#8203;</a></h1>
<h2 id="æ¼”ç¤º" tabindex="-1">æ¼”ç¤º <a class="header-anchor" href="#æ¼”ç¤º" aria-label="Permalink to â€œæ¼”ç¤ºâ€">&#8203;</a></h2>
<p>åºŸè¯ä¸å¤šå…ˆçœ‹æ•ˆæœï¼Œç›®å‰æ”¯æŒå…ƒç´ çš„æµ‹è·ï¼Œå±æ€§æŸ¥çœ‹è¿™ä¸¤ä¸ªåŠŸèƒ½</p>
<table tabindex="0">
<thead>
<tr>
<th>H5</th>
<th>PC</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="./ewuit/MTY0OTA4NDk4MDg4Nw==ewuit-h5.gif?s1=https%3A//img.cdn.sugarat.top/mdImg/MTY0OTA4NDk4MDg4Nw%3D%3Dewuit-h5.gif" width="200px" /></td>
<td><img src="./ewuit/MTY0OTA4MzcwNTUzNQ==ewuit-pc.gif?s1=https%3A//img.cdn.sugarat.top/mdImg/MTY0OTA4MzcwNTUzNQ%3D%3Dewuit-pc.gif" width="300px" /></td>
</tr>
</tbody>
</table>
<h2 id="å¿«é€Ÿä½“éªŒ" tabindex="-1">å¿«é€Ÿä½“éªŒ <a class="header-anchor" href="#å¿«é€Ÿä½“éªŒ" aria-label="Permalink to â€œå¿«é€Ÿä½“éªŒâ€">&#8203;</a></h2>
<h3 id="æ–¹å¼1" tabindex="-1">æ–¹å¼1 <a class="header-anchor" href="#æ–¹å¼1" aria-label="Permalink to â€œæ–¹å¼1â€">&#8203;</a></h3>
<p>æ‰“å¼€ä¸€ä¸ªç½‘ç«™åœ¨æ§åˆ¶å°ä¸­æ‰§è¡Œ</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lj6v0qy1uik1qhcgbm3oxz::--><code>(function () {
    var url = &#039;//unpkg.com/ewuit@latest/dist/index.min.js&#039;
    var script = document.createElement(&#039;script&#039;);
    script.src = url;
    document.body.appendChild(script);
    script.onload = function () { 
        const ewuit = new Ewuit()
        // open a ui tool
        ewuit.openUI()
    }
})();</code></pre>
</div><h3 id="æ–¹å¼2" tabindex="-1">æ–¹å¼2 <a class="header-anchor" href="#æ–¹å¼2" aria-label="Permalink to â€œæ–¹å¼2â€">&#8203;</a></h3>
<p>åœ¨ä½ çš„é¡µé¢æ¨¡æ¿ä¸­åŠ å…¥å¦‚ä¸‹è„šæœ¬</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::32h06inhojts5083qh5gj::--><code>&lt;script&gt;
(function () {
    var url = &#039;//unpkg.com/ewuit@latest/dist/index.min.js&#039;
    var script = document.createElement(&#039;script&#039;);
    script.src = url;
    document.body.appendChild(script);
    script.onload = function () { 
        const ewuit = new Ewuit()
        // open a ui tool
        ewuit.openUI()
    }
})();
&lt;/script&gt;</code></pre>
</div><h3 id="å…¶å®ƒæ–¹å¼" tabindex="-1">å…¶å®ƒæ–¹å¼ <a class="header-anchor" href="#å…¶å®ƒæ–¹å¼" aria-label="Permalink to â€œå…¶å®ƒæ–¹å¼â€">&#8203;</a></h3>
<p>å‚è€ƒ Github ä¸Šçš„<a href="https://github.com/ATQQ/ewuit" target="_blank" rel="noreferrer">README</a></p>
<h2 id="èƒ½åšä»€ä¹ˆ" tabindex="-1">èƒ½åšä»€ä¹ˆ <a class="header-anchor" href="#èƒ½åšä»€ä¹ˆ" aria-label="Permalink to â€œèƒ½åšä»€ä¹ˆâ€">&#8203;</a></h2>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<h2 id="åŠŸèƒ½å®ç°" tabindex="-1">åŠŸèƒ½å®ç° <a class="header-anchor" href="#åŠŸèƒ½å®ç°" aria-label="Permalink to â€œåŠŸèƒ½å®ç°â€">&#8203;</a></h2>
<h2 id="å…¶å®ƒ" tabindex="-1">å…¶å®ƒ <a class="header-anchor" href="#å…¶å®ƒ" aria-label="Permalink to â€œå…¶å®ƒâ€">&#8203;</a></h2>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…·]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/phantom-dep-cli.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/phantom-dep-cli.html</guid>
            <pubDate>Sun, 15 May 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[# å®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…·

## ä»€ä¹ˆæ˜¯å¹½çµä¾èµ–

**é¡¹ç›®ä¸­ä½¿ç”¨äº†ä¸€äº›æ²¡æœ‰è¢«å®šä¹‰åœ¨å…¶ package.json æ–‡ä»¶ä¸­çš„åŒ…ã€‚**

éƒ¨åˆ†åœ°æ–¹ä¹Ÿè¢«ç¿»è¯‘æˆäº†â€å¹»å½±ä¾èµ–â€œï¼Œåœ¨è‹±æ–‡æ–‡ç« ä¸­ä¸€èˆ¬ç§°ä¸º`phantom dependencies`

## ç°çŠ¶
åœ¨ç°æœ‰å·¥ç¨‹é‡Œï¼Œé™¤ `pnpm` å¤–ä½¿ç”¨çš„æœ€å¤šçš„åŒ…ç®¡ç†å·¥å…·å°±æ˜¯ `yarn` å…¶æ¬¡æ‰æ˜¯ `npm`ã€‚

åä¸¤è€…ï¼Œåœ¨å®Œæˆä¾èµ–å®‰è£…åï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªä¾èµ–æå‡çš„åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯ä¾èµ–çš„ `æ‰å¹³åŒ–`ã€‚

äºæ˜¯è£…ä¸€ä¸ªåº“ `vue`ï¼Œä¸åŒåŒ…ç®¡ç†å™¨çš„ç»“æœå¦‚ä¸‹

|                                     npm                                     |                                    yarn                                     |                                    pnpm                                     |
| :]]></description>
            <content:encoded><![CDATA[<h1 id="å®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…·" tabindex="-1">å®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…· <a class="header-anchor" href="#å®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…·" aria-label="Permalink to â€œå®ç°ä¸€ä¸ªå¹½çµä¾èµ–æ‰«æå·¥å…·â€">&#8203;</a></h1>
<h2 id="ä»€ä¹ˆæ˜¯å¹½çµä¾èµ–" tabindex="-1">ä»€ä¹ˆæ˜¯å¹½çµä¾èµ– <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å¹½çµä¾èµ–" aria-label="Permalink to â€œä»€ä¹ˆæ˜¯å¹½çµä¾èµ–â€">&#8203;</a></h2>
<p><strong>é¡¹ç›®ä¸­ä½¿ç”¨äº†ä¸€äº›æ²¡æœ‰è¢«å®šä¹‰åœ¨å…¶ package.json æ–‡ä»¶ä¸­çš„åŒ…ã€‚</strong></p>
<p>éƒ¨åˆ†åœ°æ–¹ä¹Ÿè¢«ç¿»è¯‘æˆäº†â€å¹»å½±ä¾èµ–â€œï¼Œåœ¨è‹±æ–‡æ–‡ç« ä¸­ä¸€èˆ¬ç§°ä¸º<code>phantom dependencies</code></p>
<h2 id="ç°çŠ¶" tabindex="-1">ç°çŠ¶ <a class="header-anchor" href="#ç°çŠ¶" aria-label="Permalink to â€œç°çŠ¶â€">&#8203;</a></h2>
<p>åœ¨ç°æœ‰å·¥ç¨‹é‡Œï¼Œé™¤ <code>pnpm</code> å¤–ä½¿ç”¨çš„æœ€å¤šçš„åŒ…ç®¡ç†å·¥å…·å°±æ˜¯ <code>yarn</code> å…¶æ¬¡æ‰æ˜¯ <code>npm</code>ã€‚</p>
<p>åä¸¤è€…ï¼Œåœ¨å®Œæˆä¾èµ–å®‰è£…åï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªä¾èµ–æå‡çš„åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯ä¾èµ–çš„ <code>æ‰å¹³åŒ–</code>ã€‚</p>
<p>äºæ˜¯è£…ä¸€ä¸ªåº“ <code>vue</code>ï¼Œä¸åŒåŒ…ç®¡ç†å™¨çš„ç»“æœå¦‚ä¸‹</p>
<table tabindex="0">
<thead>
<tr>
<th style="text-align:center">npm</th>
<th style="text-align:center">yarn</th>
<th style="text-align:center">pnpm</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="./phantom-dep-cli/MTY1MjYyNDkxNDc0OQ==652624914749.png" alt="å›¾ç‰‡" loading="lazy"></td>
<td style="text-align:center"><img src="./phantom-dep-cli/MTY1MjYwNDEyMzUwMQ==652604123501.png" alt="å›¾ç‰‡" loading="lazy"></td>
<td style="text-align:center"><img src="./phantom-dep-cli/MTY1MjYwNDIxODMwMA==652604218300.png" alt="å›¾ç‰‡" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>ç”±äºä¾èµ–çš„<code>æ‰å¹³åŒ–</code>ï¼Œå¯ä»¥çœ‹åˆ°å‰ä¸¤è€…ä¼šä½¿ <code>node_modules</code> ä¸­å¤šå‡ºä¸€äº›å…¶å®ƒçš„ä¸œè¥¿</p>
<p>ä¹Ÿç”±äºè¿™ä¸ªç‰¹æ€§ï¼Œå¾ˆå¤šåŸºäº <code>yarn</code> çš„å·¥ç¨‹åŒ–æ–¹æ¡ˆï¼Œä¼šå°†è®¸å¤šå¸¸ç”¨çš„ä¾èµ–æˆ–è€…é‡è¦ä¾èµ–å»åšä¸€ä¸ªç‰ˆæœ¬çš„ç®¡æ§å’Œä¾èµ–çš„æ”¶æ•›ï¼Œäºæ˜¯é¡¹ç›®é‡Œéœ€è¦å®‰è£…çš„ä¾èµ–å°±å°‘äº†ï¼Œçœ‹ä¸Šå»å°±ååˆ†æ¸…æ™°ã€‚</p>
<p>æ¯”å¦‚å®‰è£…<code>@xx/vue</code>ï¼ŒåŒæ—¶å°†ç›¸å…³çš„<code>lint</code>ï¼Œ<code>test-util</code>ï¼Œ<code>git hooks</code>ï¼Œ<code>lodash</code>ï¼Œ<code>xx-utils</code>ç­‰ç­‰åŒ…éƒ½åšäº†å®‰è£…ï¼Œè¿™æ ·åœ¨å·¥ç¨‹é‡Œåªéœ€è¦è£…ä¸€ä¸ªåŒ…å°±èƒ½ä½¿ç”¨è¿™äº›åŒ…çš„èƒ½åŠ›ã€‚è¿™ä¹Ÿç®—æ˜¯<code>å¹½çµä¾èµ–</code>çš„å¥½å¤„ã€‚</p>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<h3 id="åŒ…ç®¡ç†å·¥å…·åˆ‡æ¢pnpm" tabindex="-1">åŒ…ç®¡ç†å·¥å…·åˆ‡æ¢pnpm <a class="header-anchor" href="#åŒ…ç®¡ç†å·¥å…·åˆ‡æ¢pnpm" aria-label="Permalink to â€œåŒ…ç®¡ç†å·¥å…·åˆ‡æ¢pnpmâ€">&#8203;</a></h3>
<p>éšç€é¡¹ç›®çš„è¿­ä»£æ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œå·¥ç¨‹é‡Œçš„ä¾èµ–åŒ…è¶Šæ¥è¶Šå¤šã€‚ä¾èµ–å®‰è£…æ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œå³ä¾¿æœ‰å®‰è£…ç¼“å­˜ï¼Œè¿˜æ˜¯è§‰å¾—éå¸¸çš„æ…¢ã€‚äºæ˜¯æœ‰äº†æ¢ä¾èµ–ç®¡ç†å·¥å…·çš„è¯‰æ±‚ã€‚</p>
<p>ä¸€ç•ªè°ƒç ”åï¼Œé€‰æ‹©æŠŠåŒ…ç®¡ç†å·¥å…·åˆ‡æ¢ä¸º<code>pnpm</code>ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆæ˜¯-pnpm" tabindex="-1">ä¸ºä»€ä¹ˆæ˜¯ pnpm <a class="header-anchor" href="#ä¸ºä»€ä¹ˆæ˜¯-pnpm" aria-label="Permalink to â€œä¸ºä»€ä¹ˆæ˜¯ pnpmâ€">&#8203;</a></h3>
<p>é€šè¿‡ pnpm <a href="https://www.pnpm.cn/benchmarks" target="_blank" rel="noreferrer">å®˜æ–¹çš„æµ‹è¯„æ•°æ®</a> å¯ä»¥çœ‹å‡ºï¼Œåœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹</p>
<p>å®‰è£…é€Ÿåº¦æ˜¯ <code>npm/yarn</code> çš„ <code>2-3</code>å€ï¼Œä¸€ä¸ªé¡¹ç›®å°±ç®—èŠ‚çº¦<code>å‡ åç§’</code>ï¼Œå¯¹äºæ‰¿è½½ä¸Šå‰å·¥ç¨‹çš„<code>CI/CD</code>å¹³å°æ¥è¯´ï¼Œå‡ ä¹æ—¶æ—¶åˆ»åˆ»éƒ½å­˜åœ¨å‘å¸ƒçš„æƒ…å†µï¼Œæ¯å¤©çš„æ”¶ç›Šæ˜¯å¾ˆå¯è§‚çš„ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ç­‰å¾…æ—¶é—´ä¹Ÿå¤§å¹…ç¼©çŸ­ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆåšäº†è¿™ä¸ªå·¥å…·" tabindex="-1">ä¸ºä»€ä¹ˆåšäº†è¿™ä¸ªå·¥å…· <a class="header-anchor" href="#ä¸ºä»€ä¹ˆåšäº†è¿™ä¸ªå·¥å…·" aria-label="Permalink to â€œä¸ºä»€ä¹ˆåšäº†è¿™ä¸ªå·¥å…·â€">&#8203;</a></h3>
<p>åœ¨<code>yarn</code>åˆ‡æ¢åˆ°<code>pnpm</code>,å¯ä»¥é€šè¿‡<code>pnpm import</code>æŒ‡ä»¤å®ç°lockæ–‡ä»¶çš„ä¸€é”®è½¬æ¢ï¼Œé¿å…ä¾èµ–ç‰ˆæœ¬å‘ç”Ÿå˜æ›´ã€‚</p>
<p>ä½†ç”±äº<code>pnpm</code>æ²¡æœ‰ä¾èµ–æ‰å¹³åŒ–çš„åŠ¨ä½œï¼Œå¤§éƒ¨åˆ†é¡¹ç›®åˆ‡æ¢åæ²¡å‘ç›´æ¥æ­£å¸¸å·¥ä½œï¼Œä¸»è¦åŸå› å°±æ˜¯<code>å¹½çµä¾èµ–</code></p>
<p>éœ€è¦ä¸ºpnpmé¡¹ç›®å•ç‹¬æ·»åŠ <a href="https://www.pnpm.cn/npmrc#public-hoist-pattern" target="_blank" rel="noreferrer">ä¾èµ–æå‡çš„é…ç½®</a></p>
<p>äºæ˜¯å°±éœ€è¦ä¸€ä¸ªæ‰«æå¹½çµä¾èµ–çš„å·¥å…·ï¼ŒååŠ©åšåŒ…ç®¡ç†å·¥å…·çš„è¿ç§»ã€‚ç½‘ä¸Šæœç´¢äº†ä¸€ç•ªï¼Œæ²¡æœ‰æ‰¾åˆ°èƒ½ç”¨çš„å°±åªå¥½è‡ªå·±ğŸ´ä¸€ä¸ªäº†ã€‚</p>
<h2 id="åŸç†ä»‹ç»" tabindex="-1">åŸç†ä»‹ç» <a class="header-anchor" href="#åŸç†ä»‹ç»" aria-label="Permalink to â€œåŸç†ä»‹ç»â€">&#8203;</a></h2>
<p>ä¸€å›¾èƒœåƒè¨€</p>
<p><img src="./phantom-dep-cli/MTY1MjYwODIzODM1NA==652608238354.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ€»ç»“ä¸‹å°±æ˜¯4æ­¥</p>
<ol>
<li>æ‰«æ–‡ä»¶</li>
<li>æå–å¯¼å…¥èµ„æºè·¯å¾„</li>
<li>æå–åŒ…å</li>
<li>å‰”é™¤<code>package.json</code>ä¸­å­˜åœ¨çš„</li>
</ol>
<h2 id="å…·ä½“å®ç°" tabindex="-1">å…·ä½“å®ç° <a class="header-anchor" href="#å…·ä½“å®ç°" aria-label="Permalink to â€œå…·ä½“å®ç°â€">&#8203;</a></h2>
<p>è¿™é‡Œåªè´´å‡ ä¸ªå…³é”®æ­¥éª¤çš„ä»£ç ï¼Œä»£ç çš„ç»„ç»‡é€»è¾‘å³ä¸Šè¿°æµç¨‹å›¾æ‰€ç¤º</p>
<h3 id="è·å–æ‰«æç›®æ ‡æ–‡ä»¶" tabindex="-1">è·å–æ‰«æç›®æ ‡æ–‡ä»¶ <a class="header-anchor" href="#è·å–æ‰«æç›®æ ‡æ–‡ä»¶" aria-label="Permalink to â€œè·å–æ‰«æç›®æ ‡æ–‡ä»¶â€">&#8203;</a></h3>
<p>è¿™å—åˆ©ç”¨<code>path</code>ä¸<code>fs</code>æ¨¡å—é…åˆå³å¯å®ç°</p>
<ul>
<li>ä½¿ç”¨<code>fs.readdirSync</code>è¯»å–æ–‡ä»¶åˆ—è¡¨ï¼Œç„¶åé€’å½’å³å¯</li>
<li>é€šè¿‡æ–‡ä»¶åç¼€<code>ext</code>ç­›é€‰å‡ºéœ€è¦çš„æ–‡ä»¶</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::7gze2nuiq8kfoh2s7qcjrv::--><code>type Exclude = string | RegExp

function scanDirFiles(
  dir: string,
  extList: string[] = [],
  exclude: Exclude | Exclude[] = [&#039;node_modules&#039;, &#039;.git&#039;, &#039;.vscode&#039;]
) {
  const files = readdirSync(dir, { withFileTypes: true })
  const res: string[] = []
  for (const file of files) {
    const filename = join(dir, file.name)
    if (isExclude(filename, exclude)) {
      continue
    }

    if (
      file.isFile() &amp;&amp;
      (extList.length === 0 || extList.includes(parse(filename).ext))
    ) {
      res.push(filename)
    }

    if (file.isDirectory()) {
      res.push(...scanDirFiles(filename, extList, exclude))
    }
  }
  return res
}

function isExclude(value: string, exclude: Exclude | Exclude[]) {
  const patterns = [exclude].flat()
  return patterns.find((v) =&gt;
    typeof v === &#039;string&#039; ? value.includes(v) : v.test(value)
  )
}</code></pre>
</div><p>è°ƒç”¨ç¤ºä¾‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::yoe95ev2kmmsyj2cyo5k::--><code>scanDirFiles(path.join(__dirname))
scanDirFiles(path.join(__dirname), [&#039;.ts&#039;])
scanDirFiles(path.join(__dirname), [&#039;.ts&#039;,&#039;.js&#039;], &#039;test&#039;)</code></pre>
</div><ul>
<li>js ç³»èµ„æºä¸»è¦åŒ…å«<code>.js</code>,<code>.jsx</code>,<code>.ts</code>,<code>.tsx</code>å››ç±»èµ„æº</li>
<li>css ç³»èµ„æºåŒ…å«<code>.css</code>,<code>.scss</code>,<code>.less</code>,<code>.sass</code></li>
<li>vue ä¸»è¦å°±æ˜¯<code>.vue</code>
<ul>
<li>åªéœ€è¦æŠŠ <code>script</code> å’Œ <code>style</code>å†…å®¹åˆ†åˆ«æ‹†å¼€å¤„ç†å³å¯</li>
</ul>
</li>
</ul>
<h3 id="jsèµ„æºå¼•å…¥è·¯å¾„æå–" tabindex="-1">JSèµ„æºå¼•å…¥è·¯å¾„æå– <a class="header-anchor" href="#jsèµ„æºå¼•å…¥è·¯å¾„æå–" aria-label="Permalink to â€œJSèµ„æºå¼•å…¥è·¯å¾„æå–â€">&#8203;</a></h3>
<p>è¿™é‡Œä½¿ç”¨ <a href="https://github.com/thx/gogocode" target="_blank" rel="noreferrer">gogocode</a> æ“ä½œASTï¼Œé…åˆ<a href="https://astexplorer.net/" target="_blank" rel="noreferrer">astexplorer</a>ç€ä½¿ç”¨ï¼Œæ“ä½œèµ·æ¥éå¸¸ç®€å•</p>
<p>å¯¼å…¥æ¨¡å—çš„æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹4ç§</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::bkx8u18n4m2q5q9c7hwn7::--><code>const x = require(value)

const x = import(value)
const x = () =&gt; import(value)

import x from value
import value

export x from value</code></pre>
</div><p><code>import/export</code>æå–</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ryz413l405ejw5xphop1l::--><code>import AST, { GoGoAST } from &#039;gogocode&#039;

const sources: string[] = []
const ast = AST(fileText)

const callback = (node: GoGoAST) =&gt; {
  const importPath = node.attr(&#039;source.value&#039;) as string
  sources.push(importPath)
}
ast.find({ type: &#039;ImportDeclaration&#039; }).each(callback)
ast.find({ type: &#039;ExportNamedDeclaration&#039; }).each(callback)</code></pre>
</div><p><code>require/import()</code>æå–</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::0uxrhedsotmasp1yi0xxcgq::--><code>const callback = (node: GoGoAST) =&gt; {
  const importPath = node.match[0][0]?.value
  sources.push(importPath)
}
// å¤„ç†import(&#039;&#039;)
ast.find(&#039;import($_$)&#039;).each(callback)
// å¤„ç†require(&#039;&#039;)
ast.find(&#039;require($_$)&#039;).each(callback)</code></pre>
</div><h3 id="cssèµ„æºå¼•å…¥è·¯å¾„æå–" tabindex="-1">CSSèµ„æºå¼•å…¥è·¯å¾„æå– <a class="header-anchor" href="#cssèµ„æºå¼•å…¥è·¯å¾„æå–" aria-label="Permalink to â€œCSSèµ„æºå¼•å…¥è·¯å¾„æå–â€">&#8203;</a></h3>
<p>é’ˆå¯¹cssï¼Œåªè€ƒè™‘<code>@import</code>åœºæ™¯çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ­£åˆ™ <code>/^@import\s+['&quot;](.*)?['&quot;]/</code>å³å¯å®ç°æå–</p>
<p><img src="./phantom-dep-cli/MTY1MjYxMDQwMjUxNw==652610402517.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::3a0uow3a02dswqs3p4tyc::--><code>function getCssFileImportSource(fileText: string) {
  const sources: string[] = []
  const importRegexp = /^@import\s+[&#039;&quot;](.*)?[&#039;&quot;]/
  const lines = fileText.split(&#039;\n&#039;)
  for (const line of lines) {
    const match = line.trim().match(importRegexp)?.[1]
    if (match) {
      sources.push(match)
    }
  }
  return sources
}</code></pre>
</div><h3 id="vueæ–‡ä»¶ä¸­å¼•å…¥è·¯å¾„æå–" tabindex="-1">Vueæ–‡ä»¶ä¸­å¼•å…¥è·¯å¾„æå– <a class="header-anchor" href="#vueæ–‡ä»¶ä¸­å¼•å…¥è·¯å¾„æå–" aria-label="Permalink to â€œVueæ–‡ä»¶ä¸­å¼•å…¥è·¯å¾„æå–â€">&#8203;</a></h3>
<p>ä¸€ä¸ª<code>.vue</code>æ–‡ä»¶ä¸»è¦å°± <code>template</code>, <code>script</code>, <code>style</code>ä¸‰éƒ¨åˆ†æ„æˆï¼Œåªéœ€è¦æŠŠ<code>è„šæœ¬</code>ä¸<code>æ ·å¼</code>æ‹†å¼€å¤„ç†å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::mmtkqrb6tp9zeil0tjvj8::--><code>import AST from &#039;gogocode&#039;

function getVueFileImportSource(fileText: string) {
  const sources: string[] = []
  // ç›®å‰å‘ç°Vue3 &lt;script lang=&quot;ts&quot; setup&gt; çš„æ— æ³•æ­£å¸¸è§£æï¼Œæ‰€ä»¥åœ¨è§£æå‰å…ˆå¤„ç†ä¸€ä¸‹setupå…³é”®å­—
  const ast = AST(fileText.replace(/&lt;script(.*)setup(.*)&gt;/, &#039;&lt;script$1$2&gt;&#039;), {
    parseOptions: { language: &#039;vue&#039; }
  })

  // æå–scriptå†…å®¹
  const script = ast.find(&#039;&lt;script&gt;&lt;/script&gt;&#039;).generate().trim()
  sources.push(...getJsFileImportSource(script))
  // cssç›´æ¥æ­£åˆ™å¤„ç†
  sources.push(...getCssFileImportSource(fileText))
  return sources
}</code></pre>
</div><h3 id="ç¬¬ä¸‰æ–¹ä¾èµ–åˆ¤æ–­" tabindex="-1">ç¬¬ä¸‰æ–¹ä¾èµ–åˆ¤æ–­ <a class="header-anchor" href="#ç¬¬ä¸‰æ–¹ä¾èµ–åˆ¤æ–­" aria-label="Permalink to â€œç¬¬ä¸‰æ–¹ä¾èµ–åˆ¤æ–­â€">&#8203;</a></h3>
<p>èµ„æºè·¯å¾„æå–å‡ºæ¥åï¼Œå°±åªéœ€è¦åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯node_modulesä¸‹çš„èµ„æºå³å¯äº†ï¼Œæµç¨‹å¦‚ä¸‹</p>
<p><img src="./phantom-dep-cli/MTY1MjYyNDQ2ODAyNw==652624468027.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wr6h937ueehxly9priave::--><code>import path, { parse } from &#039;path&#039;
import { existsSync } from &#039;fs&#039;
function isValidNodeModulesSource(
  filePath: string,
  importSourcePath: string
) {
  const { dir } = parse(filePath)
  if (!importSourcePath) {
    return false
  }
  if (importSourcePath.includes(&#039;node_modules&#039;)) {
    return true
  }
  if (
    [&#039;./&#039;, &#039;../&#039;, &#039;@/&#039;, &#039;~@/&#039;, &#039;`&#039;].some((prefix) =&gt;
      importSourcePath.startsWith(prefix)
    )
  ) {
    return false
  }
  if (
    [&#039;&#039;, ...cssExt, ...jsExt].some((ext) =&gt;
      existsSync(join(dir, `${importSourcePath}${ext}`))
    )
  ) {
    return false
  }
  return true
}</code></pre>
</div><h3 id="æå–åŒ…å" tabindex="-1">æå–åŒ…å <a class="header-anchor" href="#æå–åŒ…å" aria-label="Permalink to â€œæå–åŒ…åâ€">&#8203;</a></h3>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä»ç­›é€‰å‡ºæ¥çš„<code>æœ‰æ•ˆèµ„æºè·¯å¾„</code>é‡Œæå–å‡ºåŒ…åäº†ï¼Œé€šå¸¸å°±ä¸¤ç§åœºæ™¯<code>pkgName</code>å’Œ<code>@scope/pkgName</code>ï¼Œé€šè¿‡å‡ ä¸ªå¸¸ç”¨çš„APIå°±èƒ½æå®š</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::n0tjcnupxrbormgedt884q::--><code>function getPkgNameBySourcePath(pkgPath: string) {
  const paths = pkgPath
    .replace(/~/g, &#039;&#039;)
    .replace(/.*node_modules\//, &#039;&#039;)
    .split(&#039;/&#039;)
  return paths[0].startsWith(&#039;@&#039;) ? paths.slice(0, 2).join(&#039;/&#039;) : paths[0]
}</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4fwuruedhv3a9ynkcas5ep::--><code>test(&#039;getPkgNameBySourcePath&#039;, () =&gt; {
  expect(getPkgNameBySourcePath(&#039;fs&#039;)).toBe(&#039;fs&#039;)
  expect(getPkgNameBySourcePath(&#039;@vue/ssr&#039;)).toBe(&#039;@vue/ssr&#039;)
  expect(getPkgNameBySourcePath(&#039;vue/dist/index.js&#039;)).toBe(&#039;vue&#039;)
  expect(getPkgNameBySourcePath(&#039;../node_modules/vue&#039;)).toBe(&#039;vue&#039;)
  expect(getPkgNameBySourcePath(&#039;~@element/ui/dist/index.css&#039;)).toBe(
    &#039;@element/ui&#039;
  )
})</code></pre>
</div><h3 id="è¿‡æ»¤æ‰ä¸åˆæ³•çš„åŒ…å" tabindex="-1">è¿‡æ»¤æ‰ä¸åˆæ³•çš„åŒ…å <a class="header-anchor" href="#è¿‡æ»¤æ‰ä¸åˆæ³•çš„åŒ…å" aria-label="Permalink to â€œè¿‡æ»¤æ‰ä¸åˆæ³•çš„åŒ…åâ€">&#8203;</a></h3>
<p>ä¸Šè¿°è§„åˆ™ä¸èƒ½æ¶µç›–åˆ°æ‰€æœ‰æƒ…å†µï¼Œå–åˆ°çš„åŒ…åå¯èƒ½æœ‰ä¸åˆæ³•çš„å¦‚<code>this.xxx</code>,<code>xx.resolve(yyy)</code>,<code>Nodeå†…ç½®çš„åŒ… fs/path/process/...etc</code></p>
<p>é’ˆå¯¹Nodeå†…ç½®çš„åŒ…å¯ä»¥ç›´æ¥å†™ä¸ªæ­£åˆ™æå®š,å½“ç„¶è¿™æ®µæ­£åˆ™æ¥æºäº<code>Copilot</code>æ¨è</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::fhy60ik56qfwllbmglwica::--><code>function isNodeLib(v: string) {
  return /^(?:assert|buffer|child_process|cluster|console|constants|crypto|dgram|dns|domain|events|fs|http|https|module|net|os|path|punycode|querystring|readline|repl|stream|string_decoder|sys|timers|tls|tty|url|util|vm|zlib)$/.test(
    v
  )
}</code></pre>
</div><p>å½“ç„¶ä¹Ÿæœ‰ç°æˆçš„ç¬¬ä¸‰æ–¹åŒ…å¯ä»¥ç›´æ¥ä½¿ç”¨ <a href="https://www.npmjs.com/package/validate-npm-package-name" target="_blank" rel="noreferrer">validate-npm-package-name</a> ,è¿™ä¸ªæ˜¯å®˜æ–¹å‡ºå“çš„ï¼Œç”¨æ³•ä¹Ÿå°±æ›´åŠ ç®€å•äº†</p>
<ul>
<li>ä¸ä»…ä»…èƒ½è¿‡æ»¤æ‰Nodeå†…ç½®åŒ…ï¼Œè¿˜èƒ½è¿‡æ»¤æ‰ä¸åˆæ³•å‘½åçš„åŒ…</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::bbk2iamgxcf0lekttm0463n::--><code>import validPkgName from &#039;validate-npm-package-name&#039;

function isValidPkgName(pkgName: string): boolean {
  const { validForNewPackages, validForOldPackages} = validPkgName(pkgName)

  return validForNewPackages
}</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::9r4a1yhgtikjdrpb10c5::--><code>test(&#039;isValidPkgName&#039;, () =&gt; {
  expect(isValidPkgName(&#039;vue&#039;)).toBe(true)
  expect(isValidPkgName(&#039;some-package&#039;)).toBe(true)
  expect(isValidPkgName(&#039;@jane/foo.js&#039;)).toBe(true)
  expect(isValidPkgName(&#039;r.resolve(&quot;custom-token.js&quot;)&#039;)).toBe(false)
  expect(isValidPkgName(&#039;dayjs/dsds/abc.js&#039;)).toBe(false)
})</code></pre>
</div><p>å…³é”®ä¸€ç³»åˆ—æ–¹æ³•æå®šåï¼Œåªéœ€è¦è¿›è¡Œé€»è¾‘çš„ç»„ç»‡å³å¯ï¼Œ<a href="https://github.com/ATQQ/tools/blob/8e0a79d093b3f03a47adff4d7fc0569f19a398e4/packages/cli/ghost/src/util/index.ts#L15-L81" target="_blank" rel="noreferrer">GithubæŸ¥çœ‹æœ€ç»ˆæ–¹æ³•æºç </a></p>
<h2 id="ä¸Šæ‰‹ä½“éªŒ" tabindex="-1">ä¸Šæ‰‹ä½“éªŒ <a class="header-anchor" href="#ä¸Šæ‰‹ä½“éªŒ" aria-label="Permalink to â€œä¸Šæ‰‹ä½“éªŒâ€">&#8203;</a></h2>
<p>å·²å°†æœ€ç»ˆå®ç°æ•´æˆäº†<code>npm</code>åŒ…<code>@sugarat/ghost</code>ï¼Œé¡¹ç›®å¯å¼•å…¥ç›´æ¥ä½¿ç”¨</p>
<p>ä¸ºä»€ä¹ˆå«<code>ghost</code>è€Œä¸æ˜¯<code>phantom</code>ï¼Ÿå¯èƒ½å¤§å®¶å¯¹<code>ghost</code>ğŸ‘»è¿™ä¸ªå•è¯çš„æ„æ€æ›´åŠ ç†Ÿæ‚‰ä¸€äº›</p>
<h3 id="cli-å·¥å…·" tabindex="-1">CLI å·¥å…· <a class="header-anchor" href="#cli-å·¥å…·" aria-label="Permalink to â€œCLI å·¥å…·â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::g3vts4t8oxumky3dntzhro::--><code>npm i -g @sugarat/ghost

# default scan src
ghost scan</code></pre>
</div><h3 id="é¡¹ç›®ä¸­è°ƒç”¨" tabindex="-1">é¡¹ç›®ä¸­è°ƒç”¨ <a class="header-anchor" href="#é¡¹ç›®ä¸­è°ƒç”¨" aria-label="Permalink to â€œé¡¹ç›®ä¸­è°ƒç”¨â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::yuzmvtoail1hshi202dpx::--><code>npm i @sugarat/ghost
# or
yarn add @sugarat/ghost
# or
pnpm add @sugarat/ghost</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::l76snpozqjiowb7njwh4j::--><code>import { findGhost } from &#039;@sugarat/ghost&#039;
// or
import { findPhantom } from &#039;@sugarat/ghost&#039;</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::iwn78eab9wns5gfctliy6::--><code>const phantomDependency = findGhost(
  path.join(__dirname, &#039;src&#039;),
  path.join(process.cwd(), &#039;package.json&#039;)
)</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p><code>pnpm</code> æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œæ¨èå¤§å®¶å¯ä»¥ç”¨èµ·æ¥äº†</p>
<p>æ¬¢è¿è¯„è®ºåŒºäº¤æµæŒ‡æ­£ï¼Œæœ‰ <code>case</code> å¯ä»¥æŠ›å‡ºæ¥å¸®åŠ©å·¥å…·å®Œå–„å¾—æ›´å¥½</p>
<ul>
<li><a href="https://github.com/ATQQ/tools/tree/main/packages/cli/ghost" target="_blank" rel="noreferrer">é¡¹ç›®å®Œæ•´æºç </a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/phantom-dep-cli/MTY1MjYyNDkxNDc0OQ==652624914749.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Nodeä¾§å®ç°å†…å®¹å‹ç¼©(gzip/br/deflate)ä»‹ç»ä¸å®è·µ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/compress-response.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/node/compress-response.html</guid>
            <pubDate>Sat, 05 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[èƒŒæ™¯
åœ¨æŸ¥çœ‹è‡ªå·±çš„åº”ç”¨æ—¥å¿—æ—¶ï¼Œå‘ç°è¿›å…¥æ—¥å¿—é¡µé¢åæ€»æ˜¯è¦å‡ ç§’é’Ÿæ‰ä¼šåŠ è½½ï¼ˆæ¥å£æ²¡åšåˆ†é¡µï¼‰ï¼Œäºæ˜¯æ‰“å¼€ç½‘ç»œé¢æ¿æŸ¥çœ‹
è¿™æ‰å‘ç°æ¥å£è¿”å›çš„æ•°æ®éƒ½æ²¡æœ‰è¢«å‹ç¼©ï¼Œæœ¬ä»¥ä¸ºæ¥å£ç”¨Nginxåå‘ä»£ç†äº†ï¼ŒNginxä¼šè‡ªåŠ¨å¸®æˆ‘åš]]></description>
            <content:encoded><![CDATA[<h1 id="nodeä¾§å®ç°å†…å®¹å‹ç¼©-gzip-br-deflate-ä»‹ç»ä¸å®è·µ" tabindex="-1">Nodeä¾§å®ç°å†…å®¹å‹ç¼©(gzip/br/deflate)ä»‹ç»ä¸å®è·µ <a class="header-anchor" href="#nodeä¾§å®ç°å†…å®¹å‹ç¼©-gzip-br-deflate-ä»‹ç»ä¸å®è·µ" aria-label="Permalink to â€œNodeä¾§å®ç°å†…å®¹å‹ç¼©(gzip/br/deflate)ä»‹ç»ä¸å®è·µâ€">&#8203;</a></h1>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<p>åœ¨æŸ¥çœ‹è‡ªå·±çš„<a href="https://ep2.sugarat.top/" target="_blank" rel="noreferrer">åº”ç”¨</a>æ—¥å¿—æ—¶ï¼Œå‘ç°è¿›å…¥æ—¥å¿—é¡µé¢åæ€»æ˜¯è¦å‡ ç§’é’Ÿæ‰ä¼šåŠ è½½ï¼ˆæ¥å£æ²¡åšåˆ†é¡µï¼‰ï¼Œäºæ˜¯æ‰“å¼€ç½‘ç»œé¢æ¿æŸ¥çœ‹</p>
<p><img src="./compress-response/MTY0NjExMjc0NTg3Nw==646112745877.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><img src="./compress-response/MTY0NjExMjc1NzE2OA==646112757168.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è¿™æ‰å‘ç°æ¥å£è¿”å›çš„æ•°æ®éƒ½æ²¡æœ‰è¢«å‹ç¼©ï¼Œæœ¬ä»¥ä¸ºæ¥å£ç”¨Nginxåå‘ä»£ç†äº†ï¼ŒNginxä¼šè‡ªåŠ¨å¸®æˆ‘åšè¿™ä¸€å±‚ï¼ˆè¿™å—åé¢æ¢ç©¶ä¸€ä¸‹ï¼Œç†è®ºä¸Šæ˜¯å¯è¡Œçš„ï¼‰</p>
<p>è¿™é‡Œçš„åç«¯æ˜¯ Node æœåŠ¡</p>
<p>æœ¬æ–‡å°±åˆ†äº«ä¸€ä¸‹ <code>HTTPæ•°æ®å‹ç¼©</code>ç›¸å…³çŸ¥è¯†ä»¥åŠç¬”è€…çš„åœ¨<code>Nodeä¾§çš„å®è·µ</code></p>
<h2 id="å‰ç½®çŸ¥è¯†" tabindex="-1">å‰ç½®çŸ¥è¯† <a class="header-anchor" href="#å‰ç½®çŸ¥è¯†" aria-label="Permalink to â€œå‰ç½®çŸ¥è¯†â€">&#8203;</a></h2>
<blockquote>
<p>ä¸‹é¢çš„å®¢æˆ·ç«¯å‡æŒ‡æµè§ˆå™¨</p>
</blockquote>
<h3 id="accept-encoding" tabindex="-1">accept-encoding <a class="header-anchor" href="#accept-encoding" aria-label="Permalink to â€œaccept-encodingâ€">&#8203;</a></h3>
<p><img src="./compress-response/MTY0NjExMzE0NjMyNQ==646113146325.png" alt="accept-encoding" loading="lazy"></p>
<p>å®¢æˆ·ç«¯åœ¨å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´(request header)ä¸­æ·»åŠ <code>accept-encoding</code>å­—æ®µï¼Œå…¶å€¼æ ‡æ˜å®¢æˆ·ç«¯<code>æ”¯æŒçš„å‹ç¼©å†…å®¹ç¼–ç </code>æ ¼å¼</p>
<h3 id="content-encoding" tabindex="-1">content-encoding <a class="header-anchor" href="#content-encoding" aria-label="Permalink to â€œcontent-encodingâ€">&#8203;</a></h3>
<p><img src="./compress-response/MTY0NjExMzI0OTczMQ==646113249731.png" alt="content-encoding" loading="lazy"></p>
<p>æœåŠ¡ç«¯åœ¨å¯¹è¿”å›å†…å®¹æ‰§è¡Œå‹ç¼©åï¼Œé€šè¿‡åœ¨å“åº”å¤´ï¼ˆresponse headerï¼‰ä¸­æ·»åŠ <code>content-encoding</code>ï¼Œæ¥å‘Šè¯‰æµè§ˆå™¨å†…å®¹<code>å®é™…å‹ç¼©ä½¿ç”¨çš„ç¼–ç ç®—æ³•</code></p>
<h3 id="deflate-gzip-br" tabindex="-1">deflate/gzip/br <a class="header-anchor" href="#deflate-gzip-br" aria-label="Permalink to â€œdeflate/gzip/brâ€">&#8203;</a></h3>
<p><code>deflate</code>æ˜¯åŒæ—¶ä½¿ç”¨äº†<code>LZ77</code>ç®—æ³•ä¸<code>å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman Codingï¼‰</code>çš„ä¸€ä¸ªæ— æŸæ•°æ®å‹ç¼©ç®—æ³•ã€‚</p>
<p><code>gzip</code> æ˜¯åŸºäº <code>DEFLATE</code> çš„ç®—æ³•</p>
<p><code>br</code>æŒ‡ä»£<code>Brotli</code>ï¼Œè¯¥æ•°æ®æ ¼å¼æ—¨åœ¨è¿›ä¸€æ­¥æé«˜å‹ç¼©æ¯”ï¼Œå¯¹æ–‡æœ¬çš„å‹ç¼©ç›¸å¯¹<code>deflate</code>èƒ½å¢åŠ <code>20%</code>çš„å‹ç¼©å¯†åº¦ï¼Œè€Œå…¶å‹ç¼©ä¸è§£å‹ç¼©é€Ÿåº¦åˆ™å¤§è‡´ä¸å˜</p>
<h2 id="zlibæ¨¡å—" tabindex="-1">zlibæ¨¡å— <a class="header-anchor" href="#zlibæ¨¡å—" aria-label="Permalink to â€œzlibæ¨¡å—â€">&#8203;</a></h2>
<p>Node.jsåŒ…å«ä¸€ä¸ª<code>zlib æ¨¡å—</code>ï¼Œæä¾›äº†ä½¿ç”¨ <code>Gzip</code>ã€<code>Deflate/Inflate</code>ã€ä»¥åŠ <code>Brotli</code> å®ç°çš„å‹ç¼©åŠŸèƒ½</p>
<p>è¿™é‡Œä»¥<code>gzip</code>ä¸ºä¾‹åˆ†åœºæ™¯åˆ—ä¸¾å¤šç§ä½¿ç”¨æ–¹å¼ï¼Œ<code>Deflate/Inflate</code>ä¸<code>Brotli</code>ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼Œåªæ˜¯APIä¸ä¸€æ ·</p>
<p><strong>åŸºäº<code>stream</code>çš„æ“ä½œ</strong></p>
<p><img src="./compress-response/MTY0NjQ2NjMwMzA4MA==646466303080.png" alt="åŸºäºçš„æ“ä½œ" loading="lazy"></p>
<p><strong>åŸºäº<code>buffer</code>çš„æ“ä½œ</strong></p>
<p><img src="./compress-response/MTY0NjQ2NjY4NDUyMw==646466684523.png" alt="åŸºäºçš„æ“ä½œ" loading="lazy"></p>
<p>å¼•å…¥å‡ ä¸ªæ‰€éœ€çš„æ¨¡å—</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::hfdcvyvoh6l2sa3ia7zb8f::--><code>const zlib = require(&#039;zlib&#039;)
const fs = require(&#039;fs&#039;)
const stream = require(&#039;stream&#039;)
const testFile = &#039;tests/origin.log&#039;
const targetFile = `${testFile}.gz`
const decodeFile = `${testFile}.un.gz`</code></pre>
</div><h2 id="æ–‡ä»¶çš„è§£-å‹ç¼©" tabindex="-1">æ–‡ä»¶çš„è§£/å‹ç¼© <a class="header-anchor" href="#æ–‡ä»¶çš„è§£-å‹ç¼©" aria-label="Permalink to â€œæ–‡ä»¶çš„è§£/å‹ç¼©â€">&#8203;</a></h2>
<p>è§£/å‹ç¼©ç»“æœæŸ¥çœ‹ï¼Œè¿™é‡Œä½¿ç”¨<code>du</code>æŒ‡ä»¤ç›´æ¥ç»Ÿè®¡è§£å‹ç¼©å‰åç»“æœ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ylxnjid7clcyak60bkcytp::--><code># æ‰§è¡Œ
du -ah tests

# ç»“æœå¦‚ä¸‹
108K    tests/origin.log.gz
2.2M    tests/origin.log
2.2M    tests/origin.log.un.gz
4.6M    tests</code></pre>
</div><h3 id="åŸºäºæµ-stream-çš„æ“ä½œ" tabindex="-1">åŸºäº<code>æµ(stream)</code>çš„æ“ä½œ <a class="header-anchor" href="#åŸºäºæµ-stream-çš„æ“ä½œ" aria-label="Permalink to â€œåŸºäºæµ(stream)çš„æ“ä½œâ€">&#8203;</a></h3>
<p>ä½¿ç”¨<code>createGzip</code>ä¸<code>createUnzip</code></p>
<ul>
<li>æ³¨ï¼šæ‰€æœ‰ <code>zlib</code> APIï¼Œé™¤äº†é‚£äº›æ˜¾å¼åŒæ­¥çš„ APIï¼Œéƒ½ä½¿ç”¨ Node.js å†…éƒ¨çº¿ç¨‹æ± ï¼Œå¯ä»¥çœ‹åšæ˜¯å¼‚æ­¥çš„</li>
<li>å› æ­¤ä¸‹é¢çš„ç¤ºä¾‹ä¸­çš„å‹ç¼©å’Œè§£å‹ä»£ç åº”åˆ†å¼€æ‰§è¡Œï¼Œå¦åˆ™ä¼šæŠ¥é”™</li>
</ul>
<p><strong>æ–¹å¼1ï¼š</strong> ç›´æ¥åˆ©ç”¨å®ä¾‹ä¸Šçš„<code>pipe</code>æ–¹æ³•ä¼ é€’æµ</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::rryi7ugfspvmk617hp3f9::--><code>// å‹ç¼©
const readStream = fs.createReadStream(testFile)
const writeStream = fs.createWriteStream(targetFile)
readStream.pipe(zlib.createGzip()).pipe(writeStream)

// è§£å‹
const readStream = fs.createReadStream(targetFile)
const writeStream = fs.createWriteStream(decodeFile)
readStream.pipe(zlib.createUnzip()).pipe(writeStream)</code></pre>
</div><p><strong>æ–¹å¼2ï¼š</strong> åˆ©ç”¨<code>stream</code>ä¸Šçš„<code>pipeline</code>ï¼Œå¯åœ¨å›æ‰ä¸­å•ç‹¬åšå…¶å®ƒçš„å¤„ç†</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::s5u754edvr8un99ng07xal::--><code>// å‹ç¼©
const readStream = fs.createReadStream(testFile)
const writeStream = fs.createWriteStream(targetFile)
stream.pipeline(readStream, zlib.createGzip(), writeStream, err =&gt; {
    if (err) {
        console.error(err);
    }
})

// è§£å‹
const readStream = fs.createReadStream(targetFile)
const writeStream = fs.createWriteStream(decodeFile)
stream.pipeline(readStream, zlib.createUnzip(), writeStream, err =&gt; {
    if (err) {
        console.error(err);
    }
})</code></pre>
</div><p><strong>æ–¹å¼3ï¼š</strong> PromiseåŒ–<code>pipeline</code>æ–¹æ³•</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::maow112fbrc0za4f7wvyfdi::--><code>const { promisify } = require(&#039;util&#039;)
const pipeline = promisify(stream.pipeline)

// å‹ç¼©
const readStream = fs.createReadStream(testFile)
const writeStream = fs.createWriteStream(targetFile)
pipeline(readStream, zlib.createGzip(), writeStream)
    .catch(err =&gt; {
        console.error(err);
    })

// è§£å‹
const readStream = fs.createReadStream(targetFile)
const writeStream = fs.createWriteStream(decodeFile)
pipeline(readStream, zlib.createUnzip(), writeStream)
    .catch(err =&gt; {
        console.error(err);
    })</code></pre>
</div><h3 id="åŸºäºbufferçš„æ“ä½œ" tabindex="-1">åŸºäº<code>Buffer</code>çš„æ“ä½œ <a class="header-anchor" href="#åŸºäºbufferçš„æ“ä½œ" aria-label="Permalink to â€œåŸºäºBufferçš„æ“ä½œâ€">&#8203;</a></h3>
<p>åˆ©ç”¨ <code>gzip</code> ä¸ <code>unzip</code> APIï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åŒ…å«<code>åŒæ­¥</code>ä¸<code>å¼‚æ­¥</code>ç±»å‹</p>
<ul>
<li>å‹ç¼©
<ul>
<li><code>gzip</code></li>
<li><code>gzipSync</code></li>
</ul>
</li>
<li>è§£å‹
<ul>
<li><code>unzip</code></li>
<li><code>unzipSync</code></li>
</ul>
</li>
</ul>
<p><strong>æ–¹å¼1ï¼š</strong> å°†<code>readStream</code>è½¬<code>Buffer</code>,ç„¶åè¿›è¡Œè¿›ä¸€æ­¥æ“ä½œ</p>
<ul>
<li>gzipï¼šå¼‚æ­¥</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::6irq41t5zqqu8u8zl3pdyq::--><code>// å‹ç¼©
const buff = []
readStream.on(&#039;data&#039;, (chunk) =&gt; {
    buff.push(chunk)
})
readStream.on(&#039;end&#039;, () =&gt; {
    zlib.gzip(Buffer.concat(buff), targetFile, (err, resBuff) =&gt; {
        if(err){
            console.error(err);
            process.exit()
        }
        fs.writeFileSync(targetFile,resBuff)
    })
})</code></pre>
</div><ul>
<li>gzipSyncï¼šåŒæ­¥</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::137ybv2tvx5cw82gqvy1amf::--><code>// å‹ç¼©
const buff = []
readStream.on(&#039;data&#039;, (chunk) =&gt; {
    buff.push(chunk)
})
readStream.on(&#039;end&#039;, () =&gt; {
    fs.writeFileSync(targetFile,zlib.gzipSync(Buffer.concat(buff)))
})</code></pre>
</div><p><strong>æ–¹å¼2ï¼š</strong> ç›´æ¥é€šè¿‡<code>readFileSync</code>è¯»å–</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::p52sfula7ayqyk37wzar9::--><code>// å‹ç¼©
const readBuffer = fs.readFileSync(testFile)
const decodeBuffer = zlib.gzipSync(readBuffer)
fs.writeFileSync(targetFile,decodeBuffer)

// è§£å‹
const readBuffer = fs.readFileSync(targetFile)
const decodeBuffer = zlib.gzipSync(decodeFile)
fs.writeFileSync(targetFile,decodeBuffer)</code></pre>
</div><h2 id="æ–‡æœ¬å†…å®¹çš„è§£-å‹ç¼©" tabindex="-1">æ–‡æœ¬å†…å®¹çš„è§£/å‹ç¼© <a class="header-anchor" href="#æ–‡æœ¬å†…å®¹çš„è§£-å‹ç¼©" aria-label="Permalink to â€œæ–‡æœ¬å†…å®¹çš„è§£/å‹ç¼©â€">&#8203;</a></h2>
<p>é™¤äº†å¯¹æ–‡ä»¶å‹ç¼©ï¼Œæœ‰æ—¶å€™ä¹Ÿè®¸è¦å¯¹ä¼ è¾“çš„å†…å®¹è¿›è¡Œç›´æ¥è¿›è¡Œè§£å‹ç¼©</p>
<p>è¿™é‡Œä»¥å‹ç¼©æ–‡æœ¬å†…å®¹ä¸ºä¾‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::611eqlrivv6du9cos9ew::--><code>// æµ‹è¯•æ•°æ®
const testData = fs.readFileSync(testFile, { encoding: &#039;utf-8&#039; })</code></pre>
</div><h3 id="åŸºäºæµ-stream-æ“ä½œ" tabindex="-1">åŸºäº<code>æµ(stream)</code>æ“ä½œ <a class="header-anchor" href="#åŸºäºæµ-stream-æ“ä½œ" aria-label="Permalink to â€œåŸºäºæµ(stream)æ“ä½œâ€">&#8203;</a></h3>
<p>è¿™å—å°±è€ƒè™‘ <code>string</code> =&gt;  <code>buffer</code> =&gt; <code>stream</code>çš„è½¬æ¢å°±è¡Œ</p>
<p><code>string</code> =&gt;  <code>buffer</code></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::16e76jb2mkehdvk69zp3bgk::--><code>const buffer = Buffer.from(testData)</code></pre>
</div><p><code>buffer</code> =&gt; <code>stream</code></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::qcrk78yempq4bm66jf84::--><code>const transformStream = new stream.PassThrough()
transformStream.write(buffer)

// or
const transformStream = new stream.Duplex()
transformStream.push(Buffer.from(testData))
transformStream.push(null)</code></pre>
</div><p>è¿™é‡Œä»¥å†™å…¥åˆ°æ–‡ä»¶ç¤ºä¾‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™åˆ°å…¶å®ƒçš„æµé‡Œï¼Œå¦‚<code>HTTPçš„Response</code>ï¼ˆåé¢ä¼šå•ç‹¬ä»‹ç»ï¼‰</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::4tvw76inr4e3g5863a2sch::--><code>transformStream
    .pipe(zlib.createGzip())
    .pipe(fs.createWriteStream(targetFile))</code></pre>
</div><h3 id="åŸºäºbufferæ“ä½œ" tabindex="-1">åŸºäº<code>Buffer</code>æ“ä½œ <a class="header-anchor" href="#åŸºäºbufferæ“ä½œ" aria-label="Permalink to â€œåŸºäºBufferæ“ä½œâ€">&#8203;</a></h3>
<p>åŒæ ·åˆ©ç”¨<code>Buffer.from</code>å°†å­—ç¬¦ä¸²è½¬<code>buffer</code></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::vvyrzehcliu8o1klhtjk9::--><code>const buffer = Buffer.from(testData)</code></pre>
</div><p>ç„¶åç›´æ¥ä½¿ç”¨åŒæ­¥APIè¿›è¡Œè½¬æ¢ï¼Œè¿™é‡Œresultå°±æ˜¯å‹ç¼©åçš„å†…å®¹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::jw210vdfewb9gxw99bx3e::--><code>const result = zlib.gzipSync(buffer)</code></pre>
</div><p>å¯ä»¥å†™å…¥æ–‡ä»¶ï¼Œåœ¨<code>HTTP Server</code>ä¸­ä¹Ÿå¯ç›´æ¥å¯¹å‹ç¼©åçš„å†…å®¹è¿›è¡Œè¿”å›</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::ka4nplw14skay0jnjoiljl::--><code>fs.writeFileSync(targetFile, result)</code></pre>
</div><h2 id="node-serverä¸­çš„å®è·µ" tabindex="-1">Node Serverä¸­çš„å®è·µ <a class="header-anchor" href="#node-serverä¸­çš„å®è·µ" aria-label="Permalink to â€œNode Serverä¸­çš„å®è·µâ€">&#8203;</a></h2>
<p>è¿™é‡Œç›´æ¥ä½¿ç”¨Nodeä¸­ <code>http</code> æ¨¡å—åˆ›å»ºä¸€ä¸ªç®€å•çš„ Server è¿›è¡Œæ¼”ç¤º</p>
<p>åœ¨å…¶ä»–çš„ <code>Node Web</code> æ¡†æ¶ä¸­ï¼Œå¤„ç†æ€è·¯ç±»ä¼¼ï¼Œå½“ç„¶ä¸€èˆ¬ä¹Ÿæœ‰ç°æˆçš„æ’ä»¶ï¼Œä¸€é”®æ¥å…¥</p>
<p><img src="./compress-response/MTY0NjUzMzExNDE3OQ==646533114179.png" alt="è¿è¡Œç»“æœ" loading="lazy"></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::umf2u8x57eri6tcz8zr03::--><code>const http = require(&#039;http&#039;)
const { PassThrough, pipeline } = require(&#039;stream&#039;)
const zlib = require(&#039;zlib&#039;)

// æµ‹è¯•æ•°æ®
const testTxt = &#039;æµ‹è¯•æ•°æ®123&#039;.repeat(1000)

const app = http.createServer((req, res) =&gt; {
    const { url } = req
    // è¯»å–æ”¯æŒçš„å‹ç¼©ç®—æ³•
    const acceptEncoding = req.headers[&#039;accept-encoding&#039;].match(/(br|deflate|gzip)/g)

    // é»˜è®¤å“åº”çš„æ•°æ®ç±»å‹
    res.setHeader(&#039;Content-Type&#039;, &#039;application/json; charset=utf-8&#039;)

    // å‡ ä¸ªç¤ºä¾‹çš„è·¯ç”±
    const routes = [
        [&#039;/gzip&#039;, () =&gt; {
            if (acceptEncoding.includes(&#039;gzip&#039;)) {
                res.setHeader(&#039;content-encoding&#039;, &#039;gzip&#039;)
                // ä½¿ç”¨åŒæ­¥APIç›´æ¥å‹ç¼©æ–‡æœ¬å†…å®¹
                res.end(zlib.gzipSync(Buffer.from(testTxt)))
                return
            }
            res.end(testTxt)
        }],
        [&#039;/deflate&#039;, () =&gt; {
            if (acceptEncoding.includes(&#039;deflate&#039;)) {
                res.setHeader(&#039;content-encoding&#039;, &#039;deflate&#039;)
                // åŸºäºæµçš„å•æ¬¡æ“ä½œ
                const originStream = new PassThrough()
                originStream.write(Buffer.from(testTxt))
                originStream.pipe(zlib.createDeflate()).pipe(res)
                originStream.end()
                return
            }
            res.end(testTxt)
        }],
        [&#039;/br&#039;, () =&gt; {
            if (acceptEncoding.includes(&#039;br&#039;)) {
                res.setHeader(&#039;content-encoding&#039;, &#039;br&#039;)
                res.setHeader(&#039;Content-Type&#039;, &#039;text/html; charset=utf-8&#039;)
                // åŸºäºæµçš„å¤šæ¬¡å†™æ“ä½œ
                const originStream = new PassThrough()
                pipeline(originStream, zlib.createBrotliCompress(), res, (err) =&gt; {
                    if (err) {
                        console.error(err);
                    }
                })
                originStream.write(Buffer.from(&#039;&lt;h1&gt;BrotliCompress&lt;/h1&gt;&#039;))
                originStream.write(Buffer.from(&#039;&lt;h2&gt;æµ‹è¯•æ•°æ®&lt;/h2&gt;&#039;))
                originStream.write(Buffer.from(testTxt))
                originStream.end()
                return
            }
            res.end(testTxt)
        }]
    ]
    const route = routes.find(v =&gt; url.startsWith(v[0]))
    if (route) {
        route[1]()
        return
    }

    // å…œåº•
    res.setHeader(&#039;Content-Type&#039;, &#039;text/html; charset=utf-8&#039;)
    res.end(`&lt;h1&gt;404: ${url}&lt;/h1&gt;
    &lt;h2&gt;å·²æ³¨å†Œè·¯ç”±&lt;/h2&gt;
    &lt;ul&gt;
        ${routes.map(r =&gt; `&lt;li&gt;&lt;a href=&quot;${r[0]}&quot;&gt;${r[0]}&lt;/a&gt;&lt;/li&gt;`).join(&#039;&#039;)}
    &lt;/ul&gt;
    `)
    res.end()
})

app.listen(3000)</code></pre>
</div><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to â€œå‚è€ƒâ€">&#8203;</a></h2>
<ul>
<li><a href="https://juejin.cn/post/6844903618441641991#heading-2" target="_blank" rel="noreferrer">æ˜é‡‘:Node.js æµï¼ˆstreamï¼‰ï¼šä½ éœ€è¦çŸ¥é“çš„ä¸€åˆ‡</a></li>
<li><a href="https://juejin.cn/post/6844904062974951437#heading-1" target="_blank" rel="noreferrer">æ˜é‡‘:Node.jså®æˆ˜--èµ„æºå‹ç¼©ä¸zlibæ¨¡å—</a></li>
<li><a href="https://segmentfault.com/a/1190000009374437" target="_blank" rel="noreferrer">segmentfault:ä½¿ç”¨Brotliæé«˜ç½‘ç«™è®¿é—®é€Ÿåº¦</a></li>
<li><a href="https://tech.meituan.com/2021/01/07/pack-gzip-zstd-lz4.html" target="_blank" rel="noreferrer">ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ:é€Ÿåº¦ä¸å‹ç¼©æ¯”å¦‚ä½•å…¼å¾—ï¼Ÿå‹ç¼©ç®—æ³•åœ¨æ„å»ºéƒ¨ç½²ä¸­çš„ä¼˜åŒ–</a></li>
<li><a href="http://nodejs.cn/api/zlib.html#zlib" target="_blank" rel="noreferrer">Node.js v16.14.0 æ–‡æ¡£:zlib</a></li>
<li><a href="https://github.com/ayqy/string-to-file-stream/blob/2f43145ca9515345fb0b9b697414bcfd0effe276/index.js" target="_blank" rel="noreferrer">Github:ayqy/string-to-file-stream</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/compress-response/MTY0NjExMjc0NTg3Nw==646112745877.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[é…ç½®SSHå…å¯†ç™»å½•æœåŠ¡å™¨]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/ssh-no-pwd-login.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/ssh-no-pwd-login.html</guid>
            <pubDate>Sat, 12 Feb 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[æœ€è¿‘æœåŠ¡å™¨ä»é˜¿é‡Œäº‘æ¢åˆ°äº†è…¾è®¯äº‘ï¼Œéœ€è¦æŠŠæœåŠ¡è¿›è¡Œä¸€æ¬¡æ•´ä½“çš„è¿ç§»
ä¸ºäº†æ–¹ä¾¿èµ„æºçš„éƒ¨ç½²ï¼Œéœ€è¦é…ç½®ä¸€ä¸‹SSHçš„å…å¯†ç™»å½•ï¼Œé¿å…é¢‘ç¹çš„è¾“å…¥å¯†ç 
 å–å¾—æœ¬åœ°å…¬é’¥
å…ˆæŸ¥çœ‹æœ¬åœ°æ˜¯å¦å­˜åœ¨`id_rsa.pub`æ–‡ä»¶
``]]></description>
            <content:encoded><![CDATA[<h1 id="æœ¬åœ°é…ç½®sshå…å¯†è¿œç¨‹ç™»å½•æœåŠ¡å™¨" tabindex="-1">æœ¬åœ°é…ç½®SSHå…å¯†è¿œç¨‹ç™»å½•æœåŠ¡å™¨ <a class="header-anchor" href="#æœ¬åœ°é…ç½®sshå…å¯†è¿œç¨‹ç™»å½•æœåŠ¡å™¨" aria-label="Permalink to â€œæœ¬åœ°é…ç½®SSHå…å¯†è¿œç¨‹ç™»å½•æœåŠ¡å™¨â€">&#8203;</a></h1>
<p>æœ€è¿‘æœåŠ¡å™¨ä»é˜¿é‡Œäº‘æ¢åˆ°äº†è…¾è®¯äº‘ï¼Œéœ€è¦æŠŠæœåŠ¡è¿›è¡Œä¸€æ¬¡æ•´ä½“çš„è¿ç§»</p>
<p>ä¸ºäº†æ–¹ä¾¿èµ„æºçš„éƒ¨ç½²ï¼Œéœ€è¦é…ç½®ä¸€ä¸‹SSHçš„å…å¯†ç™»å½•ï¼Œé¿å…é¢‘ç¹çš„è¾“å…¥å¯†ç </p>
<h2 id="å–å¾—æœ¬åœ°å…¬é’¥" tabindex="-1">å–å¾—æœ¬åœ°å…¬é’¥ <a class="header-anchor" href="#å–å¾—æœ¬åœ°å…¬é’¥" aria-label="Permalink to â€œå–å¾—æœ¬åœ°å…¬é’¥â€">&#8203;</a></h2>
<p>å…ˆæŸ¥çœ‹æœ¬åœ°æ˜¯å¦å­˜åœ¨<code>id_rsa.pub</code>æ–‡ä»¶</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ricvr7243dafb1lq5ikc::--><code>ls ~/.ssh</code></pre>
</div><p>ä¸å­˜åœ¨å¯ä»¥é€šè¿‡å¦‚ä¸‹æŒ‡ä»¤åˆ›å»ºï¼ˆä¸€è·¯å›è½¦å³å¯ï¼‰</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::r76cy3of82kkdmv739rp8::--><code>ssh-keygen -t rsa</code></pre>
</div><h2 id="æœåŠ¡å™¨æ·»åŠ ä¿¡ä»»" tabindex="-1">æœåŠ¡å™¨æ·»åŠ ä¿¡ä»» <a class="header-anchor" href="#æœåŠ¡å™¨æ·»åŠ ä¿¡ä»»" aria-label="Permalink to â€œæœåŠ¡å™¨æ·»åŠ ä¿¡ä»»â€">&#8203;</a></h2>
<h3 id="ä¸Šä¼ å…¬é’¥" tabindex="-1">ä¸Šä¼ å…¬é’¥ <a class="header-anchor" href="#ä¸Šä¼ å…¬é’¥" aria-label="Permalink to â€œä¸Šä¼ å…¬é’¥â€">&#8203;</a></h3>
<p>å°†æœ¬åœ°å…¬é’¥ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨</p>
<ul>
<li>å…¶ä¸­ <code>$host</code>æ¢æˆç›®æ ‡æœåŠ¡å™¨ç»‘å®šçš„ <strong>åŸŸå</strong> æˆ– <strong>IP</strong> å³å¯</li>
</ul>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::b5hui2crg89p4qdyac9d::--><code>scp ~/.ssh/id_rsa.pub root@$host:~/

# å¦‚
scp ~/.ssh/id_rsa.pub root@baidu.com:~/
scp ~/.ssh/id_rsa.pub root@39.156.66.18:~/</code></pre>
</div><h3 id="æ·»åŠ ä¿¡ä»»" tabindex="-1">æ·»åŠ ä¿¡ä»» <a class="header-anchor" href="#æ·»åŠ ä¿¡ä»»" aria-label="Permalink to â€œæ·»åŠ ä¿¡ä»»â€">&#8203;</a></h3>
<p>å…ˆæ£€æŸ¥æœåŠ¡å™¨ä¸Šæ˜¯<code>root</code>ç”¨æˆ·æ˜¯å¦å­˜åœ¨<code>.ssh</code>ç›®å½•</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::nbklsf88cbndu4gx4otqb::--><code>ssh -p22 root@$host &quot;ls -al&quot;</code></pre>
</div><p>ä¸å­˜åœ¨åˆ™è¿è¡Œä¸Šè¿°ä¸€æ ·çš„æ–¹å¼è¿›è¡Œåˆ›å»º</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::cwiu4n8ymv7tbfiqib7v49::--><code>ssh -p22 root@$host &quot;ssh-keygen -t rsa&quot;</code></pre>
</div><p>æ·»åŠ ä¿¡ä»»</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2gt6qk0iomovaeiiq4za39::--><code>ssh -p22 root@$host &quot;cat ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys&quot;</code></pre>
</div><h2 id="é‡å¯ssh" tabindex="-1">é‡å¯ssh <a class="header-anchor" href="#é‡å¯ssh" aria-label="Permalink to â€œé‡å¯sshâ€">&#8203;</a></h2>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::xi2ero8mq2axoslr1fxdcg::--><code>ssh -p22 root@$host &quot;service sshd restart&quot;</code></pre>
</div><h2 id="å…å¯†ç™»å½•root" tabindex="-1">å…å¯†ç™»å½•root <a class="header-anchor" href="#å…å¯†ç™»å½•root" aria-label="Permalink to â€œå…å¯†ç™»å½•rootâ€">&#8203;</a></h2>
<p>é…ç½®å®Œæˆåå³å¯è¿›è¡Œå…å¯†ç™»å½•</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::iq2ieryb94d3poy2lhvwif::--><code>ssh root@$host</code></pre>
</div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æ–°å¹´å¿«ä¹ï¼Œè™è™ç”Ÿå¨]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/_configDoc/newyear/2022.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/_configDoc/newyear/2022.html</guid>
            <pubDate>Mon, 31 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[ç»™å¤§å®¶é€ä¸Š`çº¢åŒ…å°é¢`å’Œ`çº¢åŒ…`
æ–°çš„ä¸€å¹´ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼Œè™å¹´å¤§å‰ï¼Œè™è™ç”Ÿå¨ï¼Œå¦‚è™æ·»ç¿¼ï¼Œæ­å–œå‘è´¢ï¼Œè´¢æºæ»šæ»š
å¾®ä¿¡`æ‰«ç é¢†å–`çº¢åŒ…`å°é¢`
æ”¯ä»˜å®æœç´¢`çº¢åŒ…`,é€‰æ‹©`æ”¶å£ä»¤çº¢åŒ…`
è¾“å…¥`ç²¥é‡Œæœ‰å‹ºç³–01`]]></description>
            <content:encoded><![CDATA[<h1 id="æ–°å¹´å¿«ä¹-è™è™ç”Ÿå¨" tabindex="-1">æ–°å¹´å¿«ä¹ï¼Œè™è™ç”Ÿå¨ <a class="header-anchor" href="#æ–°å¹´å¿«ä¹-è™è™ç”Ÿå¨" aria-label="Permalink to â€œæ–°å¹´å¿«ä¹ï¼Œè™è™ç”Ÿå¨â€">&#8203;</a></h1>
<p>ç»™å¤§å®¶é€ä¸Š<code>çº¢åŒ…å°é¢</code>å’Œ<code>çº¢åŒ…</code></p>
<p>æ–°çš„ä¸€å¹´ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼Œè™å¹´å¤§å‰ï¼Œè™è™ç”Ÿå¨ï¼Œå¦‚è™æ·»ç¿¼ï¼Œæ­å–œå‘è´¢ï¼Œè´¢æºæ»šæ»š</p>
<p>å¾®ä¿¡<code>æ‰«ç é¢†å–</code>çº¢åŒ…<code>å°é¢</code></p>
<p><img src="https://img.cdn.sugarat.top/mdImg/MTY0MzYzMTQ2MjY5OQ==643631462699" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ”¯ä»˜å®æœç´¢<code>çº¢åŒ…</code>,é€‰æ‹©<code>æ”¶å£ä»¤çº¢åŒ…</code></p>
<p><img src="https://img.cdn.sugarat.top/mdImg/MTY0MzYzMTg5MDgzNA==643631890834" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è¾“å…¥<code>ç²¥é‡Œæœ‰å‹ºç³–01</code>é¢†å–<code>çº¢åŒ…</code></p>
<p><img src="https://img.cdn.sugarat.top/mdImg/MTY0MzcyMDEyMzQyMw==643720123423" alt="å›¾ç‰‡" loading="lazy"></p>
]]></content:encoded>
            <enclosure url="https://img.cdn.sugarat.top/mdImg/MTY0MzYzMTQ2MjY5OQ==643631462699" length="0" type="image//mdImg/MTY0MzYzMTQ2MjY5OQ==643631462699"/>
        </item>
        <item>
            <title><![CDATA[ç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/fixed-page.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/fixed-page.html</guid>
            <pubDate>Sat, 22 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[ç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨
åœ¨åšH5å¼€å‘æ—¶ï¼Œå¾ˆå¤šåœºæ™¯ä¸‹éƒ½éœ€è¦å¼¹çª—
å½“å‡ºç°å¼¹çª—æ—¶ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä¸‹æ˜¯æœŸæœ›å¼¹çª—ä¸‹å±‚é¡µé¢ä¸èƒ½è¢«æ»‘åŠ¨çš„
å½“ç„¶ä¹Ÿä¸æœŸæœ›å¼¹çª—è¢«æ»‘åŠ¨
è¿‘æœŸè‚é¡µé¢åˆç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜
ä¸‹é¢ä»‹ç»å‡ ç§æœ€å¸¸ç”¨çš„æ–¹]]></description>
            <content:encoded><![CDATA[<h1 id="ç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨" tabindex="-1">ç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨ <a class="header-anchor" href="#ç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨" aria-label="Permalink to â€œç§»åŠ¨ç«¯é˜»æ­¢å¼¹çª—ä¸‹å±‚é¡µé¢è¢«æ»‘åŠ¨â€">&#8203;</a></h1>
<p>åœ¨åšH5å¼€å‘æ—¶ï¼Œå¾ˆå¤šåœºæ™¯ä¸‹éƒ½éœ€è¦å¼¹çª—</p>
<p>å½“å‡ºç°å¼¹çª—æ—¶ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä¸‹æ˜¯æœŸæœ›å¼¹çª—ä¸‹å±‚é¡µé¢ä¸èƒ½è¢«æ»‘åŠ¨çš„</p>
<p>å½“ç„¶ä¹Ÿä¸æœŸæœ›å¼¹çª—è¢«æ»‘åŠ¨</p>
<p>è¿‘æœŸè‚é¡µé¢åˆç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜</p>
<p>ä¸‹é¢ä»‹ç»å‡ ç§æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œä»¥åŠä¸€äº›è¾¹ç•Œæƒ…å†µä¸åº”å¯¹ç­–ç•¥</p>
<h2 id="overflow-hidden" tabindex="-1">overflow:hidden <a class="header-anchor" href="#overflow-hidden" aria-label="Permalink to â€œoverflow:hiddenâ€">&#8203;</a></h2>
<p>æµä¼ æœ€å¹¿çš„æ–¹å¼å°±æ˜¯ ç»™å…ƒç´ è®¾ç½® <code>overflow:hidden</code></p>
<p>ç»™<code>body</code>è®¾ç½®ï¼Œå°±èƒ½è¾¾åˆ°é˜»æ­¢é¡µé¢æ»‘åŠ¨çš„ç›®çš„</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::dl5n9869pgwafvqh3dps3g::--><code>document.body.style.overflow = &#039;hidden&#039;
document.body.style.overflow = &#039;visible&#039;</code></pre>
</div><p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿™ä¸ªæ˜¯èƒ½æœ‰æ•ˆæœçš„</p>
<p>ä½†åœ¨<code>éƒ¨åˆ†æœºå™¨ä¸Šï¼Œè¿™ä¸ªæ˜¯ä¸ç”Ÿæ•ˆçš„</code>:</p>
<h2 id="å¼¹çª—é®ç½©" tabindex="-1">å¼¹çª—é®ç½© <a class="header-anchor" href="#å¼¹çª—é®ç½©" aria-label="Permalink to â€œå¼¹çª—é®ç½©â€">&#8203;</a></h2>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µå¦‚ä¸‹ï¼Œ<code>é¡µé¢éƒ¨åˆ†å…ƒç´ æœ‰å±€éƒ¨æ»‘åŠ¨</code></p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::ft1knp4rx4wq80mzwxyxp::--><code>&lt;body style=&quot;overflow:hidden;&quot;&gt;
  &lt;div style=&quot;overflow:scroll;height:100%;&quot;&gt;
    &lt;!-- more element --&gt;
  &lt;/div&gt;
&lt;/body&gt;</code></pre>
</div><p>å½“å‰æƒ…å†µç»™<code>body</code>è®¾ç½® <code>overflow:hidden</code>ä¾æ—§æ˜¯æ— æ•ˆæœçš„</p>
<p>æ­¤æ—¶ç»™å¼¹çª—åŠ ä¸Šé®ç½©å¦‚ä¸‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸‹å±‚å…ƒç´ å°±ä¸ä¼šæ”¶åˆ°<code>touchmove</code>äº‹ä»¶</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::f086zp2ia4u48sqiefoibi::--><code>&lt;body style=&quot;overflow:hidden;&quot;&gt;
  &lt;div style=&quot;overflow:scroll;height:100%;&quot;&gt;
    &lt;!-- more element --&gt;
  &lt;/div&gt;

  &lt;!-- dialog --&gt;
  &lt;div class=&quot;dialog&quot;&gt;
    &lt;!-- é®ç½© --&gt;
    &lt;div class=&quot;mask&quot; style=&quot;position:fixed;inset:0;&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;</code></pre>
</div><p>å…¶ä¸­<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/inset" target="_blank" rel="noreferrer">inset</a>å±æ€§æ˜¯<code>left,top,right,bottom</code>çš„ç®€å†™</p>
<p>ä½†åœ¨éƒ¨åˆ†æœºå‹ä¸‹ï¼Œä¸‹å±‚å…ƒç´ ä»ç„¶ä¼šæ”¶åˆ°<code>touchmove</code>äº‹ä»¶ï¼Œå› æ­¤ä¼šè·Ÿç€æ»‘åŠ¨</p>
<p>äºæ˜¯éœ€è¦ç¥­å‡ºä¸‹é¢çš„æ–¹æ³•</p>
<h2 id="prevent-touchmove" tabindex="-1">prevent touchmove <a class="header-anchor" href="#prevent-touchmove" aria-label="Permalink to â€œprevent touchmoveâ€">&#8203;</a></h2>
<p>é˜»æ­¢è§¦æ‘¸æ»‘åŠ¨äº‹ä»¶<code>touchmove</code>çš„é»˜è®¤è¡Œä¸º</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::2tccet0xd7xe8rxtr0gc4::--><code>const touchHandle = function(e) {
  e.preventDefault()
}

// å¼¹çª—çš„äº‹ä»¶
{
  onShow(){
    document.body.addEventListener(&#039;touchmove&#039;, preventDefault, {
      passive: false,
    });
  },
  onHide(){
    document.body.removeEventListener(&#039;touchmove&#039;, preventDefault);
  }
}</code></pre>
</div><p>åœ¨å¼¹çª—æ‰“å¼€æ—¶ç›´æ¥é˜»æ­¢ç›®æ ‡å…ƒç´ çš„æ»‘åŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º</p>
<p>å¼¹çª—å†…å®¹æ˜¯ä¸å¯æ»‘åŠ¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ç§æ–¹æ³•æ˜¯æœ€çœäº‹é«˜æ•ˆçš„</p>
<p>å¦‚æœå¼¹çª—ä¸­æœ‰å¯æ»‘åŠ¨çš„å†…å®¹ï¼Œä¸”æ»‘åŠ¨çš„å†…å®¹æ¯”è¾ƒå¤æ‚</p>
<p>é‚£ä¹ˆé€šè¿‡<code>touchmove</code>å»ç»†åŠ›åº¦çš„æ§åˆ¶é˜»æ­¢æ»‘åŠ¨äº‹ä»¶æ—¶å°±å¾ˆéº»çƒ¦</p>
<h2 id="position-fixed" tabindex="-1">position:fixed <a class="header-anchor" href="#position-fixed" aria-label="Permalink to â€œposition:fixedâ€">&#8203;</a></h2>
<p>è¿˜æœ‰ä¸€ç§å¸¸ç”¨çš„å°±æ˜¯<code>position:fixed</code></p>
<p>åœ¨å¼¹çª—æ‰“å¼€æ—¶ï¼Œå°†ç›®æ ‡å…ƒç´ è¿›è¡Œå›ºå®šï¼Œåœ¨å…³é—­æ—¶æ¢å¤</p>
<p>ç”±äºå®šä½ä¼šæ”¹å˜å…ƒç´ åœ¨é¡µé¢ä¸Šçš„ä½ç½®ï¼Œæ‰€ä»¥éœ€è¦å†<code>fixed</code>å‰è®°å½•å…ƒç´ çš„ä½ç½®</p>
<p>å–æ¶ˆ<code>fixed</code>ä¹‹åå°†å…ƒç´ åˆæ»šåŠ¨åˆ°åŸæ¥çš„ä½ç½®</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::brnnaqvw7f4d0fpt5z53dc::--><code>// å¼¹çª—çš„äº‹ä»¶
{
  onShow(){
    document.body.style.top = `${
      document.body.getClientRects()[0].top
    }px`;
    document.body.style.position = &#039;fixed&#039;;
    document.body.style.left = &#039;0&#039;;
    document.body.style.right = &#039;0&#039;;
  },
  onHide(){
    document.body.style.position = &#039;visible&#039;;
    window.scrollTo(
      0,
      Math.abs(+document.body.style.top.replace(&#039;px&#039;, &#039;&#039;))
    );
  }
}</code></pre>
</div><h2 id="ä½¿ç”¨classä»£æ›¿style" tabindex="-1">ä½¿ç”¨classä»£æ›¿style <a class="header-anchor" href="#ä½¿ç”¨classä»£æ›¿style" aria-label="Permalink to â€œä½¿ç”¨classä»£æ›¿styleâ€">&#8203;</a></h2>
<p>è¿™ä¸ªä¹Ÿæ˜¯ç¢°å·§å‘ç°çš„ï¼Œåœ¨<code>iOS</code>ä½ç«¯æœºå°†ä¸Šè¿°æ–¹å¼éƒ½å°è¯•å</p>
<p>ä»å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œç°è±¡å¦‚ä¸‹ï¼ˆTODOï¼šè¡¥å›¾ï¼‰</p>
<p>ä¸‹å±‚é¡µé¢ä¸ä¼šè¢«æ»‘åŠ¨äº†ï¼Œä½†é®ç½©å’Œå¼¹çª—æ•´ä½“è¿˜èƒ½è¢«ä¸‹æ‹‰</p>
<p>å¼¹çª—æ˜¯ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨å¼¹çª—ï¼Œå…¶å‡ºç°çš„ä½ç½®éœ€è¦åŠ¨æ€çš„è®¡ç®—ï¼Œå¦‚ä¸‹ç»“æ„</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::iiw4iwv00djaodhvcs1ye::--><code>&lt;body style=&quot;overflow:hidden;&quot;&gt;
  &lt;!-- dialog --&gt;
  &lt;div class=&quot;dialog&quot; style=&quot;top:88px;&quot;&gt;
    &lt;!-- é®ç½© --&gt;
    &lt;div class=&quot;mask&quot; style=&quot;position:fixed;inset:0;&quot;&gt;&lt;/div&gt;
    &lt;!-- å†…å®¹ --&gt;
    &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;</code></pre>
</div><p>æœ€ç»ˆå‘ç°æ˜¯ç”±äº<code>style</code>ä¸<code>class</code>è®¾ç½®çš„æ ·å¼åœ¨è¿™ä¸ªæœºå‹ä¸Šå±•ç¤ºè™½ç„¶ä¸€è‡´</p>
<p>ä½†å®é™…äº¤äº’èµ·æ¥çš„è¡¨ç°å´ä¸ä¸€è‡´</p>
<p>ä¿®å¤åçš„<code>html</code>ç»“æ„å¦‚ä¸‹,åœ¨å…ƒç´ é‡Œæ’å…¥äº†ä¸€ä¸ª<code>style</code>æ ‡ç­¾ï¼Œä½¿ç”¨<code>class</code>é€‰æ‹©å™¨ä¸<code>!important</code>é‡è½½è¿™ä¸ªè·ç¦»çš„æ ·å¼</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::442so1l0x58meaulor9p::--><code>&lt;body style=&quot;overflow:hidden;&quot;&gt;
  &lt;!-- dialog --&gt;
  &lt;div class=&quot;dialog&quot; style=&quot;top:88px;&quot;&gt;
    &lt;!-- é®ç½© --&gt;
    &lt;div class=&quot;mask&quot; style=&quot;position:fixed;inset:0;&quot;&gt;&lt;/div&gt;
    &lt;!-- å†…å®¹ --&gt;
    &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;
    &lt;style&gt;
      .dialog{
        top:88px !important;
      }
    &lt;/style&gt;
  &lt;/div&gt;
&lt;/body&gt;</code></pre>
</div><p>ä»£ç å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ua241az4nwd6jbnsee6d::--><code>{
  onShow(){
    setTimeout(() =&gt; {
      const dialogEl = document.querySelector&lt;HTMLElement&gt;(&#039;.dialog&#039;)
      if (!dialogEl) {
        return
      }
      const style = document.createElement(&#039;style&#039;)
      style.textContent = `
      .dialog{
        top:${dialogEl.style.top} !important;
      }
      `
      dialogEl.append(style)
    }, 200)
  }
}</code></pre>
</div><p>éå¸¸ä»¤äººè¿·æƒ‘çš„ä¸€ä¸ªæ“ä½œï¼Œä½†å°±æ˜¯è§£å†³äº†é—®é¢˜</p>
<h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h2>
<p>é’ˆå¯¹ç§»åŠ¨ç«¯å¼¹çª—ä¸‹å±‚é¡µé¢å¯è¢«æ»‘åŠ¨çš„å¼‚å¸¸åœºæ™¯</p>
<p>æœ¬æ–‡ä»‹ç»äº†<code>4ç§å¸¸è§</code>è§£å†³æ–¹æ³•ï¼Œä¸<code>1ç§&quot;è°œä¹‹æ“ä½œ&quot;</code></p>
<h2 id="demoæ¼”ç¤º" tabindex="-1">demoæ¼”ç¤º <a class="header-anchor" href="#demoæ¼”ç¤º" aria-label="Permalink to â€œdemoæ¼”ç¤ºâ€">&#8203;</a></h2>
<p><img src="./fixed-page/MTY0MjkzODA2NTUyNA==642938065524.png" alt="å›¾ç‰‡" loading="lazy"></p>
<ul>
<li><a href="https://test-demo-6gd4lnn3e3ca39f5-1256505457.tcloudbaseapp.com/dialog-h5-fixed-case/" target="_blank" rel="noreferrer">demoåœ°å€</a></li>
<li>PCæ‰«ç ä½“éªŒ
<ul>
<li><img src="./fixed-page/MTY0MjkzODExOTA1MQ==642938119051.png" alt="å›¾ç‰‡" loading="lazy"></li>
</ul>
</li>
<li><a href="https://stackblitz.com/edit/vitejs-vite-xgqbt6?file=src%2Fmain.ts&amp;terminal=dev" target="_blank" rel="noreferrer">demoæºç åœ°å€</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/fixed-page/MTY0MjkzODA2NTUyNA==642938065524.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[å°æŠ€å·§ï¼šfor ofä¸­è·å–index]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/forof-idx.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/forof-idx.html</guid>
            <pubDate>Mon, 17 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[æ—¥å¸¸å¼€å‘ä¸­åœ¨éå†æ•°æ®æ—¶ç»å¸¸ä½¿ç”¨`for...of`,`forEach`
å‰è€…ä½¿ç”¨æ—¶èƒ½å¤Ÿé…åˆ`async await`,`continue`,`break`ç­‰ç­‰
```ts
const data = []]></description>
            <content:encoded><![CDATA[<h1 id="å°æŠ€å·§-for-ofä¸­è·å–index" tabindex="-1">å°æŠ€å·§ï¼šfor ofä¸­è·å–index <a class="header-anchor" href="#å°æŠ€å·§-for-ofä¸­è·å–index" aria-label="Permalink to â€œå°æŠ€å·§ï¼šfor ofä¸­è·å–indexâ€">&#8203;</a></h1>
<p>æ—¥å¸¸å¼€å‘ä¸­åœ¨éå†æ•°æ®æ—¶ç»å¸¸ä½¿ç”¨<code>for...of</code>,<code>forEach</code></p>
<p>å‰è€…ä½¿ç”¨æ—¶èƒ½å¤Ÿé…åˆ<code>async await</code>,<code>continue</code>,<code>break</code>ç­‰ç­‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::qbrf7j42r5gnfgwkn9875m::--><code>const data = [
  { name: &#039;xm1&#039;, age: 1 },
  { name: &#039;xm2&#039;, age: 4 },
  { name: &#039;xm3&#039;, age: 5 },
  { name: &#039;xm4&#039;, age: 9 }
]

function sleep(s){
  const end = s * 1000 + Date.now()
  while(Date.now() &lt; end){}
}
async function fn(){
  for (const people of data) {
    if (people.age === 9) {
      break
    }
    if (people.age % 2 !== 0) {
      continue
    }
    await sleep(people.age)
    console.log(people.name);
  }
} 
fn() // xm2</code></pre>
</div><p>ä½†æœ‰æ—¶å€™æƒ³è·å–å…ƒç´ çš„<code>idx</code>ï¼Œæœ‰å“ªäº›ç®€å•çš„æ–¹å¼å‘¢</p>
<h2 id="_1-array-prototype-map" tabindex="-1">1-Array.prototype.map <a class="header-anchor" href="#_1-array-prototype-map" aria-label="Permalink to â€œ1-Array.prototype.mapâ€">&#8203;</a></h2>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::6pml8dteha9ali5eo0x2p::--><code>function MapWithIdx(arr){
    return arr.map((v, idx) =&gt; ([idx, v]))
}

for (const [idx, v] of MapWithIdx(data)) {
  console.log(idx, v);
}</code></pre>
</div><h2 id="_2-array-prototype-entries" tabindex="-1">2-Array.prototype.entries <a class="header-anchor" href="#_2-array-prototype-entries" aria-label="Permalink to â€œ2-Array.prototype.entriesâ€">&#8203;</a></h2>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯ES6æ–°å¢çš„API</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wz5qm66cm0ray9np480qnd::--><code>for (const [idx, v] of data.entries()) {
  console.log(idx, v);
}</code></pre>
</div><h2 id="_3-array-prototype-keys" tabindex="-1">3-Array.prototype.keys <a class="header-anchor" href="#_3-array-prototype-keys" aria-label="Permalink to â€œ3-Array.prototype.keysâ€">&#8203;</a></h2>
<p>è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ES6æ–°å¢çš„API</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::eg163ilxwlpjmw97rkrkm::--><code>for (const idx of data.keys()) {
    const v = data[idx]
    console.log(idx, v);
}</code></pre>
</div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å…³äºè‡ªå·±]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/aboutme.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/aboutme.html</guid>
            <pubDate>Sat, 11 Dec 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[
# å…³äºæˆ‘

]]></description>
            <content:encoded><![CDATA[<h1 id="å…³äºæˆ‘" tabindex="-1">å…³äºæˆ‘ <a class="header-anchor" href="#å…³äºæˆ‘" aria-label="Permalink to â€œå…³äºæˆ‘â€">&#8203;</a></h1>
<hr>
<p>ç å†œå¤§å”, çˆ±å¼€æºä¸åˆ†äº«</p>
<p>å°±èŒäº <code>æ›¾ç»çš„å®‡å®™å¤§è¯å‚</code></p>
<p><img src="./th6.png" alt="å›¾ç‰‡" width="100%" loading="lazy"></p>
<h2 id="åœ¨åšä»€ä¹ˆ" tabindex="-1">âœ¨åœ¨åšä»€ä¹ˆ <a class="header-anchor" href="#åœ¨åšä»€ä¹ˆ" aria-label="Permalink to â€œåœ¨åšä»€ä¹ˆâ€">&#8203;</a></h2>
<h3 id="å…¬å¸" tabindex="-1">å…¬å¸ <a class="header-anchor" href="#å…¬å¸" aria-label="Permalink to â€œå…¬å¸â€">&#8203;</a></h3>
<ul>
<li>2014 - ingï¼š<a href="https://www.dmsrs.org/" target="_blank" rel="noreferrer">é¡¹ç›®ç®¡ç†</a></li>
<li>2012 - 2014ï¼š<a href="https://www.dmsrs.org" target="_blank" rel="noreferrer">çƒ­è®¡é‡ä¸æ”¶è´¹</a></li>
<li>2008 - 2010ï¼š<a href="https://www.dmsrs.org" target="_blank" rel="noreferrer">DNAç ”å‘ä¸åº”ç”¨å¹³å°</a></li>
<li>2006 - 2008ï¼š<a href="https://www.dmsrs.org" target="_blank" rel="noreferrer">ä¸‰çº§è”ç½‘å®‰å…¨ç›‘æ§</a></li>
</ul>
<h3 id="æŠ€æœ¯" tabindex="-1">æŠ€æœ¯ <a class="header-anchor" href="#æŠ€æœ¯" aria-label="Permalink to â€œæŠ€æœ¯â€">&#8203;</a></h3>
<ul>
<li>
<p>C# &amp; dotnet</p>
</li>
<li>
<p>Java &amp; Spring &amp; JSP</p>
</li>
<li>
<p>Htmlã€Cssã€Javascriptã€Vueã€JQueryã€vite*</p>
</li>
<li>
<p>Python</p>
</li>
</ul>
<h3 id="å¼€æº" tabindex="-1">å¼€æº <a class="header-anchor" href="#å¼€æº" aria-label="Permalink to â€œå¼€æºâ€">&#8203;</a></h3>
<ul>
<li></li>
<li></li>
<li>ã€‚ã€‚ã€‚</li>
</ul>
<h2 id="å½“ä¸‹" tabindex="-1">ğŸš€å½“ä¸‹ <a class="header-anchor" href="#å½“ä¸‹" aria-label="Permalink to â€œå½“ä¸‹â€">&#8203;</a></h2>
<p>æ²‰æ·€æŠ€æœ¯ï¼Œå¹¿åº¦ä¸æ·±åº¦3/7åˆ†ï¼Œæ‰“ç£¨è‡ªå·±åšçš„ä¸€äº›å°åº”ç”¨ï¼Œç¡®å®šè‡ªå·±æœ€ç»ˆæ·±æŒ–çš„é¢†åŸŸã€‚</p>
<h2 id="åº§å³é“­" tabindex="-1">ğŸ“åº§å³é“­ <a class="header-anchor" href="#åº§å³é“­" aria-label="Permalink to â€œåº§å³é“­â€">&#8203;</a></h2>
<p>å¤©é“é…¬å‹¤ï¼Œæ’ä»¥è‡´é ğŸ˜„</p>
<h2 id="è”ç³»æˆ‘" tabindex="-1">â˜ï¸è”ç³»æˆ‘ <a class="header-anchor" href="#è”ç³»æˆ‘" aria-label="Permalink to â€œè”ç³»æˆ‘â€">&#8203;</a></h2>
<p><strong>é‚®ç®±</strong>ï¼šcalmripple@dmsrs.org</p>
<p><strong>å¾®ä¿¡</strong>ï¼š</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/mp-code.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[webpacké¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/webapck2vite.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/webapck2vite.html</guid>
            <pubDate>Sat, 04 Dec 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[æ„¿æ™¯
å¸Œæœ›é€šè¿‡æœ¬æ–‡ï¼Œèƒ½ç»™è¯»è€…æä¾›ä¸€ä¸ªå­˜/å¢é‡é¡¹ç›®ï¼ˆåŒ…å«ä½†ä¸é™äºwebpackå·¥ç¨‹ï¼‰æ¥å…¥Viteçš„ç‚¹å­ï¼Œèµ·æŠ›ç –å¼•ç‰çš„ä½œç”¨ï¼Œå‡å°‘è¿™æ–¹é¢èƒ½åŠ›çš„å»ºè®¾æˆæœ¬
åœ¨é˜è¿°è¿‡ç¨‹ä¸­åŒæ—¶ä¹Ÿä¼šé€æ¸å®Œå–„webpack-vite-]]></description>
            <content:encoded><![CDATA[<h1 id="webpack-é¡¹ç›®æ¥å…¥viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»" tabindex="-1">webpack é¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç» <a class="header-anchor" href="#webpack-é¡¹ç›®æ¥å…¥viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»" aria-label="Permalink to â€œwebpack é¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»â€">&#8203;</a></h1>
<h2 id="æ„¿æ™¯" tabindex="-1">æ„¿æ™¯ <a class="header-anchor" href="#æ„¿æ™¯" aria-label="Permalink to â€œæ„¿æ™¯â€">&#8203;</a></h2>
<p>å¸Œæœ›é€šè¿‡æœ¬æ–‡ï¼Œèƒ½ç»™è¯»è€…æä¾›ä¸€ä¸ªå­˜/å¢é‡é¡¹ç›®ï¼ˆåŒ…å«ä½†ä¸é™äºwebpackå·¥ç¨‹ï¼‰æ¥å…¥Viteçš„ç‚¹å­ï¼Œèµ·æŠ›ç –å¼•ç‰çš„ä½œç”¨ï¼Œå‡å°‘è¿™æ–¹é¢èƒ½åŠ›çš„å»ºè®¾æˆæœ¬</p>
<p>åœ¨é˜è¿°è¿‡ç¨‹ä¸­åŒæ—¶ä¹Ÿä¼šé€æ¸å®Œå–„<a href="https://github.com/ATQQ/webpack-vite-serve" target="_blank" rel="noreferrer">webpack-vite-serve</a>è¿™ä¸ªå·¥å…·</p>
<p>è¯»è€…å¯ç›´æ¥forkè¿™ä¸ªå·¥å…·ä»“åº“ï¼Œé’ˆå¯¹ä¸ªäºº/å…¬å¸é¡¹ç›®åœºæ™¯è¿›è¡Œå®šåˆ¶åŒ–çš„äºŒæ¬¡å¼€å‘ï¼Œä¹Ÿå¯åœ¨issuesä¸­ç•™è¨€é‡åˆ°çš„é—®é¢˜</p>
<h2 id="_1-èƒŒæ™¯" tabindex="-1">1 èƒŒæ™¯ <a class="header-anchor" href="#_1-èƒŒæ™¯" aria-label="Permalink to â€œ1 èƒŒæ™¯â€">&#8203;</a></h2>
<h3 id="_1-1-ç°çŠ¶-viteè¯ç”ŸèƒŒæ™¯" tabindex="-1">1.1 ç°çŠ¶ - Viteè¯ç”ŸèƒŒæ™¯ <a class="header-anchor" href="#_1-1-ç°çŠ¶-viteè¯ç”ŸèƒŒæ™¯" aria-label="Permalink to â€œ1.1 ç°çŠ¶ - Viteè¯ç”ŸèƒŒæ™¯â€">&#8203;</a></h3>
<blockquote>
<p>å¼•ç”¨è‡ª<a href="https://cn.vitejs.dev/guide/why.html" target="_blank" rel="noreferrer">Viteå®˜æ–¹æ–‡æ¡£</a>çš„ä»‹ç»</p>
</blockquote>
<p>åœ¨æµè§ˆå™¨æ”¯æŒ ES æ¨¡å—ä¹‹å‰ï¼ŒJavaScript å¹¶æ²¡æœ‰æä¾›çš„åŸç”Ÿæœºåˆ¶è®©å¼€å‘è€…ä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚è¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬å¯¹ â€œæ‰“åŒ…â€ è¿™ä¸ªæ¦‚å¿µç†Ÿæ‚‰çš„åŸå› ï¼šä½¿ç”¨å·¥å…·æŠ“å–ã€å¤„ç†å¹¶å°†æˆ‘ä»¬çš„æºç æ¨¡å—ä¸²è”æˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„æ–‡ä»¶ã€‚</p>
<p>æ—¶è¿‡å¢ƒè¿ï¼Œæˆ‘ä»¬è§è¯äº†è¯¸å¦‚ webpackã€Rollup å’Œ Parcel ç­‰å·¥å…·çš„å˜è¿ï¼Œå®ƒä»¬æå¤§åœ°æ”¹å–„äº†å‰ç«¯å¼€å‘è€…çš„å¼€å‘ä½“éªŒã€‚</p>
<p>ç„¶è€Œï¼Œå½“æˆ‘ä»¬å¼€å§‹æ„å»ºè¶Šæ¥è¶Šå¤§å‹çš„åº”ç”¨æ—¶ï¼Œéœ€è¦å¤„ç†çš„ JavaScript ä»£ç é‡ä¹Ÿå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚åŒ…å«æ•°åƒä¸ªæ¨¡å—çš„å¤§å‹é¡¹ç›®ç›¸å½“æ™®éã€‚</p>
<p>æˆ‘ä»¬å¼€å§‹é‡åˆ°æ€§èƒ½ç“¶é¢ˆ â€”â€” ä½¿ç”¨ JavaScript å¼€å‘çš„å·¥å…·é€šå¸¸éœ€è¦å¾ˆé•¿æ—¶é—´ï¼ˆç”šè‡³æ˜¯å‡ åˆ†é’Ÿï¼ï¼‰æ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå³ä½¿ä½¿ç”¨ HMRï¼Œæ–‡ä»¶ä¿®æ”¹åçš„æ•ˆæœä¹Ÿéœ€è¦å‡ ç§’é’Ÿæ‰èƒ½åœ¨æµè§ˆå™¨ä¸­åæ˜ å‡ºæ¥ã€‚</p>
<p>å¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œè¿Ÿé’çš„åé¦ˆä¼šæå¤§åœ°å½±å“å¼€å‘è€…çš„å¼€å‘æ•ˆç‡å’Œå¹¸ç¦æ„Ÿã€‚</p>
<p><strong>Vite æ—¨åœ¨åˆ©ç”¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ–°è¿›å±•è§£å†³ä¸Šè¿°é—®é¢˜</strong></p>
<ul>
<li>æµè§ˆå™¨å¼€å§‹åŸç”Ÿæ”¯æŒ ES æ¨¡å—</li>
<li>è¶Šæ¥è¶Šå¤š JavaScript å·¥å…·ä½¿ç”¨ç¼–è¯‘å‹è¯­è¨€ç¼–å†™ã€‚</li>
</ul>
<h3 id="_1-2-å½“ä¸‹æµè¡Œè¶‹åŠ¿" tabindex="-1">1.2 å½“ä¸‹æµè¡Œè¶‹åŠ¿ <a class="header-anchor" href="#_1-2-å½“ä¸‹æµè¡Œè¶‹åŠ¿" aria-label="Permalink to â€œ1.2 å½“ä¸‹æµè¡Œè¶‹åŠ¿â€">&#8203;</a></h3>
<h4 id="_1-2-1-swcä¸esbuild" tabindex="-1">1.2.1 SWCä¸esbuild <a class="header-anchor" href="#_1-2-1-swcä¸esbuild" aria-label="Permalink to â€œ1.2.1 SWCä¸esbuildâ€">&#8203;</a></h4>
<p>çªç ´Node.jsçš„æ€§èƒ½ç“¶é¢ˆï¼Œå‡ºç°äº†ç”¨å…¶å®ƒè¯­è¨€å†™çš„å·¥å…·ï¼Œå¸®åŠ©æ„å»º/å¼€å‘ææ•ˆï¼Œå¦‚ <a href="https://github.com/swc-project/swc" target="_blank" rel="noreferrer">SWCï¼ˆRustï¼‰</a>ï¼Œ<a href="https://github.com/evanw/esbuild" target="_blank" rel="noreferrer">esbuildï¼ˆGoï¼‰</a>ï¼Œåœ¨éƒ¨åˆ†åœºæ™¯ä¸‹èƒ½æ›¿ä»£ä¼ ç»ŸNode.jså·¥å…·å·¥ä½œï¼Œå¹¶è¡¨ç°éå¸¸å¥½ã€‚</p>
<table-base src="swc-esbuild"/><h4 id="_1-2-2-viteä¸snowpack" tabindex="-1">1.2.2 Viteä¸snowpack <a class="header-anchor" href="#_1-2-2-viteä¸snowpack" aria-label="Permalink to â€œ1.2.2 Viteä¸snowpackâ€">&#8203;</a></h4>
<p>å¦ä¸€ç§ç«çƒ­çš„æ–¹æ¡ˆæ˜¯bundlelessï¼Œåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒ ES Module çš„ç‰¹æ€§ï¼Œè®©æµè§ˆå™¨æ¥ç®¡&quot;æ‰“åŒ…&quot;çš„éƒ¨åˆ†å·¥ä½œï¼Œå·¥å…·åªè´Ÿè´£å¯¹è¯·æ±‚çš„èµ„æºè¿›è¡Œç®€å•çš„è½¬æ¢ï¼Œä»è€Œæå¤§çš„å‡å°‘æœåŠ¡çš„å¯åŠ¨æ—¶é—´ï¼Œæå‡å¼€å‘ä½“éªŒä¸å¼€å‘å¹¸ç¦æ„Ÿ</p>
<p>æ¯”è¾ƒå‡ºåçš„ä¸¤ä¸ªäº§å“å°±æ˜¯ snowpack ä¸ Vite</p>
<table-base src="vite-snowpack"/><h3 id="_1-3-é—®é¢˜ä¸è¯‰æ±‚" tabindex="-1">1.3 é—®é¢˜ä¸è¯‰æ±‚ <a class="header-anchor" href="#_1-3-é—®é¢˜ä¸è¯‰æ±‚" aria-label="Permalink to â€œ1.3 é—®é¢˜ä¸è¯‰æ±‚â€">&#8203;</a></h3>
<p>å¼€å‘è€…æˆ–æŠ€æœ¯å›¢é˜Ÿä¸ºä¿æŒæ¡†æ¶æŠ€æœ¯çš„å…ˆè¿›æ€§ï¼Œå°†ä¼šæ¥å…¥viteï¼Œä»è€Œæå‡å¼€å‘è€…çš„å·¥ä½œæ•ˆç‡</p>
<h4 id="_1-3-1-é—®é¢˜" tabindex="-1">1.3.1 é—®é¢˜ <a class="header-anchor" href="#_1-3-1-é—®é¢˜" aria-label="Permalink to â€œ1.3.1 é—®é¢˜â€">&#8203;</a></h4>
<p>åœ¨å½“ä¸‹çš„ä¸šåŠ¡å¼€å‘ä¸­å¤„å¤„å¯è§<a href="https://webpack.docschina.org/concepts/" target="_blank" rel="noreferrer">webpack</a>çš„èº«å½±ï¼Œå¤§éƒ¨åˆ†çš„ä¸šåŠ¡é¡¹ç›®é‡‡ç”¨çš„æ„å»ºå·¥å…·ä¹Ÿéƒ½æ˜¯å®ƒï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå­˜é‡è€é¡¹ç›®ä½“ç§¯è¶Šæ¥è¶Šå¤§ï¼Œå¼€å‘å¯åŠ¨(dev)/æ„å»º(build) éœ€è¦çš„æ—¶é—´è¶Šæ¥è¶Šé•¿ã€‚</p>
<p>å­˜é‡webpacké¡¹ç›®æ•°ç›®åºå¤§ï¼ŒåŒæ—¶é¡¹ç›®ä½“ç§¯ä¹Ÿä¸å°ã€‚å›´ç»•webpackæ‰€å»ºç«‹çš„å‘¨è¾¹ä¹Ÿæ˜¯æ¯”viteæ›´åŠ ä¸°å¯Œï¼Œè€é¡¹ç›®å¯¹å…¶ä¾èµ–æ€§å¼ºã€‚</p>
<p>ä»webpackç›´æ¥è¿ç§»åˆ°viteï¼Œè¿ç§»å’Œå›å½’æµ‹è¯•æˆæœ¬éƒ½éå¸¸å¤§ã€‚</p>
<h4 id="_1-3-2-è¯‰æ±‚" tabindex="-1">1.3.2 è¯‰æ±‚ <a class="header-anchor" href="#_1-3-2-è¯‰æ±‚" aria-label="Permalink to â€œ1.3.2 è¯‰æ±‚â€">&#8203;</a></h4>
<p>æœŸæœ›æä¾›ä¸€ä¸ªä½æˆæœ¬ç”šè‡³ä¸€é”®æ¥å…¥Viteæ–¹æ¡ˆï¼Œå¼€å‘è€…æŒ‰éœ€å¼€å¯ä½¿ç”¨ï¼Œæ— éœ€è¿›è¡Œé¢å¤–çš„é…ç½®ï¼Œä¸webpackå…±å­˜ã€‚</p>
<h3 id="_1-4-ä¸ºä»€ä¹ˆé€‰vite-è€Œä¸æ˜¯snowpack" tabindex="-1">1.4 ä¸ºä»€ä¹ˆé€‰Viteï¼Œè€Œä¸æ˜¯snowpack <a class="header-anchor" href="#_1-4-ä¸ºä»€ä¹ˆé€‰vite-è€Œä¸æ˜¯snowpack" aria-label="Permalink to â€œ1.4 ä¸ºä»€ä¹ˆé€‰Viteï¼Œè€Œä¸æ˜¯snowpackâ€">&#8203;</a></h3>
<h4 id="_1-4-1-ç”Ÿäº§æ„å»º" tabindex="-1">1.4.1 ç”Ÿäº§æ„å»º <a class="header-anchor" href="#_1-4-1-ç”Ÿäº§æ„å»º" aria-label="Permalink to â€œ1.4.1 ç”Ÿäº§æ„å»ºâ€">&#8203;</a></h4>
<p>Snowpack</p>
<ul>
<li>é»˜è®¤æ„å»ºè¾“å‡ºæ˜¯æœªæ‰“åŒ…çš„ï¼šå®ƒå°†æ¯ä¸ªæ–‡ä»¶è½¬æ¢ä¸ºå•ç‹¬çš„æ„å»ºæ¨¡å—ï¼Œç„¶åå°†è¿™äº›æ¨¡å—æä¾›ç»™æ‰§è¡Œå®é™…ç»‘å®šçš„ä¸åŒâ€œä¼˜åŒ–å™¨â€ã€‚è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸åŒç»ˆç«¯æ‰“åŒ…å™¨ï¼Œä»¥é€‚åº”ä¸åŒéœ€æ±‚ï¼ˆä¾‹å¦‚ webpack, Rollupï¼Œç”šè‡³æ˜¯ ESbuildï¼‰</li>
<li>ç¼ºç‚¹æ˜¯ä½“éªŒæœ‰äº›æ”¯ç¦»ç ´ç¢ â€”â€” ä¾‹å¦‚ï¼Œesbuild ä¼˜åŒ–å™¨ä»ç„¶æ˜¯ä¸ç¨³å®šçš„ï¼ŒRollup ä¼˜åŒ–å™¨ä¹Ÿä¸æ˜¯å®˜æ–¹ç»´æŠ¤ï¼Œè€Œä¸åŒçš„ä¼˜åŒ–å™¨åˆæœ‰ä¸åŒçš„è¾“å‡ºå’Œé…ç½®ã€‚</li>
</ul>
<p>Vite</p>
<ul>
<li>é€‰æ‹©äº†ä¸å•ä¸ªæ‰“åŒ…å™¨ï¼ˆRollupï¼‰è¿›è¡Œæ›´æ·±å…¥çš„é›†æˆã€‚</li>
<li>æ”¯æŒä¸€å¥—é€šç”¨æ’ä»¶API æ‰©å±•äº† Rollup çš„æ’ä»¶æ¥å£ï¼Œå¼€å‘å’Œæ„å»ºä¸¤ç§æ¨¡å¼éƒ½é€‚ç”¨ã€‚</li>
</ul>
<h4 id="_1-4-2-viteæ”¯æŒæ›´å¤šçš„ç‰¹æ€§" tabindex="-1">1.4.2 Viteæ”¯æŒæ›´å¤šçš„ç‰¹æ€§ <a class="header-anchor" href="#_1-4-2-viteæ”¯æŒæ›´å¤šçš„ç‰¹æ€§" aria-label="Permalink to â€œ1.4.2 Viteæ”¯æŒæ›´å¤šçš„ç‰¹æ€§â€">&#8203;</a></h4>
<p>æ”¯æŒç›®å‰åœ¨ Snowpack æ„å»ºä¼˜åŒ–å™¨ä¸­ä¸å¯ç”¨çš„å¤šç§åŠŸèƒ½ï¼š</p>
<ul>
<li>å¤šé¡µé¢åº”ç”¨æ”¯æŒ</li>
<li>åº“æ¨¡å¼</li>
<li>è‡ªåŠ¨åˆ†å‰² CSS ä»£ç </li>
<li>é¢„ä¼˜åŒ–çš„å¼‚æ­¥ chunk åŠ è½½</li>
<li>å¯¹åŠ¨æ€å¯¼å…¥è‡ªåŠ¨ polyfill</li>
<li>å®˜æ–¹ å…¼å®¹æ¨¡å¼æ’ä»¶ æ‰“åŒ…ä¸ºç°ä»£/ä¼ ç»Ÿä¸¤ç§äº§ç‰©ï¼Œå¹¶æ ¹æ®æµè§ˆå™¨æ”¯æŒè‡ªåŠ¨äº¤ä»˜æ­£ç¡®çš„ç‰ˆæœ¬ã€‚</li>
<li>æ›´å¿«çš„ä¾èµ–é¢„æ„å»º</li>
<li>Monorepo æ”¯æŒ</li>
<li>CSS é¢„å¤„ç†å™¨æ”¯æŒã€‚ã€‚ã€‚</li>
</ul>
<h2 id="_2-ç›®æ ‡" tabindex="-1">2 ç›®æ ‡ <a class="header-anchor" href="#_2-ç›®æ ‡" aria-label="Permalink to â€œ2 ç›®æ ‡â€">&#8203;</a></h2>
<p><strong>ä¸ºwebpacké¡¹ç›®å¼€å‘ç¯å¢ƒæä¾›æœ€ç®€å•çš„Viteæ¥å…¥æ–¹æ¡ˆ</strong></p>
<p>å¾…æ¥å…¥é¡¹ç›®åªéœ€è¦åšæå°çš„å˜åŠ¨å°±èƒ½äº«å—åˆ°<code>Vite</code>å¸¦æ¥çš„å¼€å‘ä¹è¶£</p>
<p><strong>é€šè¿‡CLIå·¥å…·ä¸ºé¡¹ç›®æä¾›ä¸€ä¸ªä¸€é”®æ¥å…¥Viteèƒ½åŠ›</strong></p>
<p>Tipsï¼šå¤§éƒ¨åˆ†æ¡†æ¶éƒ½æœ‰è‡ªå·±çš„CLIå·¥å…·ï¼Œæ²¡æœ‰CLIå·¥å…·ä¹Ÿå¯ä»¥CLIå·¥å…·çš„å½¢å¼æä¾›ä½¿ç”¨Viteçš„èƒ½åŠ›ï¼Œæ–¹ä¾¿ç»´æŠ¤ä¸å‡çº§</p>
<h2 id="_3-å®ç°æ–¹æ¡ˆä»‹ç»" tabindex="-1">3 å®ç°æ–¹æ¡ˆä»‹ç» <a class="header-anchor" href="#_3-å®ç°æ–¹æ¡ˆä»‹ç»" aria-label="Permalink to â€œ3 å®ç°æ–¹æ¡ˆä»‹ç»â€">&#8203;</a></h2>
<h3 id="_3-1-å†æ¬¡æ€è€ƒviteæ˜¯ä»€ä¹ˆ" tabindex="-1">3.1 å†æ¬¡æ€è€ƒViteæ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#_3-1-å†æ¬¡æ€è€ƒviteæ˜¯ä»€ä¹ˆ" aria-label="Permalink to â€œ3.1 å†æ¬¡æ€è€ƒViteæ˜¯ä»€ä¹ˆâ€">&#8203;</a></h3>
<ul>
<li>å®˜æ–¹ï¼šä¸‹ä¸€ä»£å‰ç«¯å¼€å‘ä¸æ„å»ºå·¥å…· ï¼ˆfeatureï¼šğŸ’¡æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€âš¡ï¸è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼‰</li>
<li>ç¥–å¸ˆçˆ·(yyx)ï¼šä¸Šå±‚çš„å·¥å…·é“¾æ–¹æ¡ˆï¼Œå¯¹æ ‡ ï¼ˆwebpack + é’ˆå¯¹ web çš„å¸¸ç”¨é…ç½® + webpack-dev-serverï¼‰</li>
<li>ç¬”è€…ï¼šä¸€ä¸ªéå¸¸Niceçš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿæé«˜å¼€å‘è€…ç¼–ç å¹¸ç¦æ„Ÿä¸èˆ’é€‚åº¦</li>
</ul>
<h3 id="_3-2-viteåŸç†ä»‹ç»" tabindex="-1">3.2 ViteåŸç†ä»‹ç» <a class="header-anchor" href="#_3-2-viteåŸç†ä»‹ç»" aria-label="Permalink to â€œ3.2 ViteåŸç†ä»‹ç»â€">&#8203;</a></h3>
<p>å®˜æ–¹æ–‡æ¡£ä¸­æœ‰æåˆ°</p>
<ul>
<li>Viteä½¿ç”¨åŸç”Ÿ ESM æ–‡ä»¶ï¼Œæ— éœ€æ‰“åŒ…!</li>
<li>Vite å°† index.html è§†ä¸ºæºç å’Œæ¨¡å—å›¾çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>Vite è§£æ <code>&lt;script type=&quot;module&quot; src=&quot;...&quot;&gt;</code>ï¼Œè¿™ä¸ªæ ‡ç­¾æŒ‡å‘ä½ çš„ JavaScript æºç ã€‚</li>
</ul>
<h4 id="_3-2-1-script-module" tabindex="-1">3.2.1 script module <a class="header-anchor" href="#_3-2-1-script-module" aria-label="Permalink to â€œ3.2.1 script moduleâ€">&#8203;</a></h4>
<p>æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„JSçš„æ¨¡å—èƒ½åŠ›ï¼Œéµå¾ªES Moduleè§„èŒƒï¼Œä» <a href="https://caniuse.com/?search=script%20module" target="_blank" rel="noreferrer">caniuse</a> ä¸Šçš„æ•°æ®æ¥çœ‹ï¼Œå¤§çº¦95%çš„æµè§ˆå™¨éƒ½æ”¯æŒ</p>
<p><img src="./webapck2vite/MTYzODYwMjk4NDc1Mg==638602984752.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<p><img src="./webapck2vite/MTYzODYwMzAwMDc5Nw==638603000797.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h4 id="_3-2-2-viteå¿«çš„åŸå› " tabindex="-1">3.2.2 Viteå¿«çš„åŸå›  <a class="header-anchor" href="#_3-2-2-viteå¿«çš„åŸå› " aria-label="Permalink to â€œ3.2.2 Viteå¿«çš„åŸå› â€">&#8203;</a></h4>
<table-base src="vite-webpack"/><p>æœ‰äº†æµè§ˆå™¨æä¾›æ¨¡å—åŒ–çš„åŸºç¡€ï¼ŒViteåªéœ€è¦åšé™æ€èµ„æºçš„è½¬åŒ–å·¥ä½œå°±å¯</p>
<ul>
<li>ts,jsxè½¬æ¢</li>
<li>node_modulesèµ„æºå¤„ç†</li>
<li>ã€‚ã€‚ã€‚and more</li>
</ul>
<h4 id="_3-2-3-å®ç°mini-viteå¼€å‘æœåŠ¡å™¨" tabindex="-1">3.2.3 å®ç°mini Viteå¼€å‘æœåŠ¡å™¨ <a class="header-anchor" href="#_3-2-3-å®ç°mini-viteå¼€å‘æœåŠ¡å™¨" aria-label="Permalink to â€œ3.2.3 å®ç°mini Viteå¼€å‘æœåŠ¡å™¨â€">&#8203;</a></h4>
<p>ViteåŸºæœ¬åŸç†å°±æ˜¯é€šè¿‡Nodeå¯åŠ¨ä¸€ä¸ªHttpServerï¼Œæ‹¦æˆªæµè§ˆå™¨çš„ES Moduleè¯·æ±‚ï¼Œæ ¹æ®èµ„æº/æ¨¡å—è¯·æ±‚è·¯å¾„ï¼Œåœ¨å·¥ä½œç›®å½•ä¸­æŸ¥æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œå†è½¬æ¢æˆES Moduleçš„å½¢å¼è¿”å›ç»™æµè§ˆå™¨ã€‚</p>
<p><img src="./webapck2vite/MTYzODYwMzY4OTYxNQ==vite-mini.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åŒ…å« scss/css/ts çš„èµ„æºå¤„ç†çš„ä¸€ä¸ªdemoã€‚<a href="https://stackblitz.com/edit/node-qt2m2e?file=README.md" target="_blank" rel="noreferrer">åœ¨çº¿ä½“éªŒåœ°å€ï¼ˆåŒ…å«æºç ï¼‰</a></p>
<p><img src="./webapck2vite/MTYzODYwMzczNDA3Mw==638603734073.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p><img src="./webapck2vite/MTYzODYwMzc0NjE2Mg==638603746163.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>demoçš„ç›®å½•ç»“æ„å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::pbf7bkmai73p2hjgg2i3u::--><code>â”œâ”€â”€ src
|  â”œâ”€â”€ App.ts
|  â”œâ”€â”€ assets
|  |  â”œâ”€â”€ app.css
|  |  â””â”€â”€ app.scss
|  â””â”€â”€ main.ts
â”œâ”€â”€ index.html</code></pre>
</div><p>å¼€å‘æœåŠ¡å™¨çš„å®ç°å¦‚ä¸‹</p>
<ul>
<li>é€šè¿‡ http æ¨¡å—ï¼Œåˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨å®ä¾‹ï¼Œç›‘å¬3000ç«¯å£</li>
<li>è¯·æ±‚å¤´åŒ…å« 'text/html', 'application/xhtml+xml' åˆ™è®¤å®šä¸ºè¯·æ±‚htmlæ–‡æ¡£</li>
<li>å…¶ä½™èµ„æºï¼Œäº¤ç”± esbuild ä¸ sass åšè¿›ä¸€æ­¥å¤„ç†</li>
</ul>
<my-details title="ç‚¹å‡»æŸ¥çœ‹å®Œæ•´æºç ä¸å®ç°æ­¥éª¤">
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lqzncz3umca5cyfs3pa1oj::--><code>// vite.js
const http = require(&#039;http&#039;);
const { readFileSync } = require(&#039;fs&#039;);
const { getSourceType, transformSource } = require(&#039;./utils&#039;)

const server = http.createServer((req, res) =&gt; {
  const htmlAccepts = [&#039;text/html&#039;, &#039;application/xhtml+xml&#039;];
  const isHtml = !!htmlAccepts.find((a) =&gt; req.headers?.accept?.includes(a));
  // HTMLæ–‡æ¡£
  if (isHtml) {
    res.end(readFileSync(&#039;./index.html&#039;));
    return;
  }
  const url = new URL(req.url, &#039;http://localhost&#039;);
  const { pathname } = url
  // å…¶å®ƒèµ„æº
  const type = getSourceType(pathname)
  res.setHeader(&#039;content-type&#039;,&#039;application/javascript&#039;)
  res.end(transformSource(type, pathname));
});

server.listen(3000);</code></pre>
</div><p>esbuild å¤„ç†jsï¼ˆjsx,ts,cjs,mjsç­‰ç­‰ï¼‰ç›¸å…³çš„æ–‡ä»¶</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::293u39i8yhpkudxsefq5z::--><code>const { transformSync } = require(&#039;esbuild&#039;)
const res = transformSync(sourceCode, {
    format: &#039;esm&#039;,
    minify: true,
    loader: &#039;ts&#039;
}).code</code></pre>
</div><p>sass è´Ÿè´£ scssæ–‡ä»¶çš„è½¬æ¢</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::gu5jtmnqzfeh8chaq3ykwn::--><code>const sass = require(&#039;sass&#039;)
const css = sass.renderSync({
    data: code
}).css.toString()</code></pre>
</div><p>èµ„æºå¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ ¹æ®è¯·æ±‚èµ„æºè·¯å¾„ï¼Œåˆ¤æ–­èµ„æºå¯èƒ½çš„ç±»å‹</li>
<li>åˆ©ç”¨å¯¹åº”çš„è½¬æ¢å™¨ï¼Œå°†èµ„æº<strong>è½¬æ¢æˆæµè§ˆå™¨å¯è¯†åˆ«çš„jsä»£ç </strong></li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::my41vz4xh4x34wyhfjpns::--><code>// utils.js
const { readFileSync, existsSync } = require(&#039;fs&#039;);
const path = require(&#039;path&#039;);
const sass = require(&#039;sass&#039;)
const { transformSync } = require(&#039;esbuild&#039;)

const resolved = (...p) =&gt; path.join(process.cwd(), ...p);

/**
 * è·å–èµ„æºç±»å‹
 */
function getSourceType(pathname) {
    // TODO: çœç•¥ tsx,jsx
    const jsSourceType = [&#039;ts&#039;, &#039;js&#039;]
    // TODOï¼šè¿˜æœ‰å¾ˆå¤šå…¶å®ƒèµ„æº
    const sourceType = [...jsSourceType, &#039;css&#039;, &#039;scss&#039;]
    let type = sourceType.find(t =&gt; pathname.endsWith(`.${t}`))

    if (!type &amp;&amp; !/\..+$/.test(pathname)) {
        type = jsSourceType.find(t =&gt; {
            return existsSync(resolved(`${pathname}.${t}`))
        })
    }
    return type
}

/**
 * è·å–èµ„æºçš„æºç 
 * @returns
 */
function getSourceCode(type, pathname) {
    if (existsSync(resolved(pathname))) {
        return readFileSync(resolved(pathname), { encoding: &#039;utf-8&#039; })
    }
    if (existsSync(resolved(`${pathname}.${type}`))) {
        return readFileSync(resolved(`${pathname}.${type}`), { encoding: &#039;utf-8&#039; })
    }
    return &#039;&#039;
}

/**
 * æ·»åŠ å†…è”æ ·å¼è¡¨
 */
function addInlineStyle(code) {
    return `{
        const style = document.createElement(&#039;style&#039;)
        style.textContent = \`${code}\`
        document.head.appendChild(style)
    }
    `
}
/**
 * è½¬æ¢èµ„æº
 */
function transformSource(type, pathname) {
    const sourceCode = getSourceCode(type, pathname)

    const ops = {
        css(code) {
            return addInlineStyle(code)
        },
        scss(code) {
            const css = sass.renderSync({
                data: code
            }).css.toString()
            return this.css(css)
        },
        ts(code) {
            return transformSync(code, {
                format: &#039;esm&#039;,
                minify: true,
                loader: &#039;ts&#039;
            }).code
        },
        js(code) {
            return transformSync(code, {
                format: &#039;esm&#039;,
                minify: true,
                loader: &#039;js&#039;
            }).code
        },
    }
    return ops[type] ? ops[type](sourceCode) : sourceCode
}

module.exports = {
    resolved,
    getSourceType,
    transformSource
}</code></pre>
</div></my-details>
<h3 id="_3-3-viteæ’ä»¶ç³»ç»Ÿç®€ä»‹" tabindex="-1">3.3 Viteæ’ä»¶ç³»ç»Ÿç®€ä»‹ <a class="header-anchor" href="#_3-3-viteæ’ä»¶ç³»ç»Ÿç®€ä»‹" aria-label="Permalink to â€œ3.3 Viteæ’ä»¶ç³»ç»Ÿç®€ä»‹â€">&#8203;</a></h3>
<p>Vite æ’ä»¶æ‰©å±•äº†è®¾è®¡å‡ºè‰²çš„ Rollup æ¥å£ï¼Œå¸¦æœ‰ä¸€äº› Vite ç‹¬æœ‰çš„é…ç½®é¡¹ã€‚</p>
<p><img src="./webapck2vite/MTYzODYwNDI5OTQwOQ==vite-plugin.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="_3-4-æ–¹æ¡ˆæ¦‚è¿°" tabindex="-1">3.4 æ–¹æ¡ˆæ¦‚è¿° <a class="header-anchor" href="#_3-4-æ–¹æ¡ˆæ¦‚è¿°" aria-label="Permalink to â€œ3.4 æ–¹æ¡ˆæ¦‚è¿°â€">&#8203;</a></h3>
<h4 id="_3-4-1-è¦è§£å†³çš„é—®é¢˜" tabindex="-1">3.4.1 è¦è§£å†³çš„é—®é¢˜ <a class="header-anchor" href="#_3-4-1-è¦è§£å†³çš„é—®é¢˜" aria-label="Permalink to â€œ3.4.1 è¦è§£å†³çš„é—®é¢˜â€">&#8203;</a></h4>
<p>è§£å†³è¿™äº›é—®é¢˜ä¹Ÿæ˜¯æ–¹æ¡ˆå®ç°çš„å…³é”®ç‚¹</p>
<table-base src="vite-problem"/><h4 id="_3-4-2-cliç»“æ„" tabindex="-1">3.4.2 CLIç»“æ„ <a class="header-anchor" href="#_3-4-2-cliç»“æ„" aria-label="Permalink to â€œ3.4.2 CLIç»“æ„â€">&#8203;</a></h4>
<p><img src="./webapck2vite/MTYzODYwNTMyOTExNg==638605329116.png" alt="å›¾ç‰‡" loading="lazy"></p>
<ul>
<li>é€šè¿‡Pluginæ‹“å±•Viteçš„èƒ½åŠ›ï¼Œå°†å¸¸ç”¨æ’ä»¶å…¨éƒ¨å†…ç½®
<ul>
<li>å†…ç½®æ¡†æ¶ç›¸å…³çš„Plugin</li>
<li>å†…ç½®ä¸šåŠ¡å¸¸ç”¨Plugin</li>
</ul>
</li>
<li>å°†Viteç›¸å…³çš„é…ç½®å…¨éƒ¨æ”¶æ•›äºæ’ä»¶å†…ï¼ŒåŒæ—¶æ”¯æŒç”¨æˆ·é€šè¿‡å¤–éƒ¨é…ç½®æ–‡ä»¶ vite.conig.ts ä¿®æ”¹&amp;æ‹“å±•Viteèƒ½åŠ›</li>
<li>å†…éƒ¨é€šè¿‡é…ç½®è½¬æ¢æ’ä»¶è‡ªåŠ¨å°†Webpacké…ç½®è½¬åŒ–ä¸ºViteé…ç½®</li>
<li>é€šè¿‡CLIå·¥å…·ï¼Œå°è£…Viteçš„èƒ½åŠ›</li>
</ul>
<h2 id="_4-æ–¹æ¡ˆå®ç°" tabindex="-1">4 æ–¹æ¡ˆå®ç° <a class="header-anchor" href="#_4-æ–¹æ¡ˆå®ç°" aria-label="Permalink to â€œ4 æ–¹æ¡ˆå®ç°â€">&#8203;</a></h2>
<p>èƒ½åŠ›ä¼˜å…ˆé€šè¿‡VIteæ’ä»¶æä¾›ï¼Œç„¶åå°†å®ç°çš„æ’ä»¶è¿›è¡Œå†…ç½®ã€‚</p>
<h3 id="_4-1-dev-htmlæ¨¡æ¿å¤„ç†" tabindex="-1">4.1 Dev-HTMLæ¨¡æ¿å¤„ç† <a class="header-anchor" href="#_4-1-dev-htmlæ¨¡æ¿å¤„ç†" aria-label="Permalink to â€œ4.1 Dev-HTMLæ¨¡æ¿å¤„ç†â€">&#8203;</a></h3>
<p><img src="./webapck2vite/MTYzODYwNTQzODg3Mg==638605438872.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>Viteé»˜è®¤æ˜¯å°†å¯åŠ¨ç›®å½•ä¸‹çš„ index.htmlçš„æ–‡ä»¶ï¼Œä½œä¸ºå¯åŠ¨å…¥å£ï¼Œè€Œåœ¨ä¼ ç»Ÿçš„webpacké¡¹ç›®ä¸­ï¼Œè¿™ä¸ªæ¨¡æ¿æ–‡ä»¶æ˜¯åœ¨ public/index.htmlæˆ–è€…src/pages/pageNameä¸‹</p>
<p>æ‰€ä»¥éœ€è¦ä¼˜å…ˆå¤„ç†Htmlæ¨¡æ¿çš„é—®é¢˜</p>
<h4 id="_4-1-1-åˆå§‹åŒ–æ¨¡æ¿å†…å®¹" tabindex="-1">4.1.1 åˆå§‹åŒ–æ¨¡æ¿å†…å®¹ <a class="header-anchor" href="#_4-1-1-åˆå§‹åŒ–æ¨¡æ¿å†…å®¹" aria-label="Permalink to â€œ4.1.1 åˆå§‹åŒ–æ¨¡æ¿å†…å®¹â€">&#8203;</a></h4>
<p>é¦–å…ˆé€šè¿‡ configureServer é’©å­æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸­é—´ä»¶ã€‚å¤„ç†å¼€å‘æœåŠ¡å™¨çš„èµ„æºè¯·æ±‚</p>
<p>å½“è¯·æ±‚å¤´åŒ…å« text/html ä¸ application/xhtml+xmlï¼Œå¯ä»¥è®¤å®šä¸ºæ˜¯è¯·æ±‚çš„HTMLæ–‡æ¡£</p>
<p>ç´§æ¥ç€æ ¹æ®è¯·æ±‚çš„èµ„æºè·¯å¾„æŸ¥æ‰¾æœ¬åœ°æ–‡æ¡£</p>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::c2zinld2eog6iuv0dre746::--><code>export default function HtmlTemplatePlugin(): PluginOption {
  return {
    name: &#039;wvs-html-tpl&#039;,
    apply: &#039;serve&#039;,
    configureServer(server) {
      const { middlewares: app } = server;
      app.use(async (req, res, next) =&gt; {
        const htmlAccepts = [&#039;text/html&#039;, &#039;application/xhtml+xml&#039;];
        const isHtml = !!htmlAccepts.find((a) =&gt; req.headers?.accept?.includes(a));
        if (isHtml) {
          const originHtml = loadHtmlContent(req.url);
          const html = await server.transformIndexHtml(req.url, originHtml, req.originalUrl);
          res.end(html);
          return;
        }
        next();
      });
    },
    transformIndexHtml(html) {
      return transformTpl(html);
    },
  };
}</code></pre>
</div></my-details>
<p>SPA é»˜è®¤ä½¿ç”¨ public/index.html</p>
<p>MPAé»˜è®¤æŒ‰ç…§å¦‚ä¸‹è·¯å¾„è¿›è¡ŒæŸ¥æ‰¾</p>
<ul>
<li>src/pages/${entryName}/${entryName}.html</li>
<li>src/pages/${entryName}/index.html</li>
<li>public/${entryName}.html</li>
<li>public/index.html</li>
</ul>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zuvkeynkyijxllzkkb6qx::--><code>/**
 * è·å–åŸå§‹æ¨¡æ¿
 */
function loadHtmlContent(reqPath:string) {
  // å…œåº•é¡µé¢
  const pages = [path.resolve(__dirname, &#039;../../public/index.html&#039;)];
  // å•é¡µ/å¤šé¡µé»˜è®¤ public/index.html
  pages.unshift(resolved(&#039;public/index.html&#039;));
  // å¤šé¡µåº”ç”¨å¯ä»¥æ ¹æ®è¯·æ±‚çš„ è·¯å¾„ ä½œè¿›ä¸€æ­¥çš„åˆ¤æ–­
  if (isMPA()) {
    const entryName = getEntryName(reqPath);
    if (entryName) {
    // src/pages/${entryName}/${entryName}.html
    // src/pages/${entryName}/index.html
    // public/${entryName}.html
      pages.unshift(resolved(`public/${entryName}.html`));
      pages.unshift(resolved(`src/pages/${entryName}/index.html`));
      pages.unshift(resolved(`src/pages/${entryName}/${entryName}.html`));
    }
  }
  // TODOï¼šæ ¹æ®æ¡†æ¶çš„é…ç½®å¯»æ‰¾ï¼Œå¯è‡ªè¡Œè¿›ä¸€æ­¥æ‹“å±•
  const page = pages.find((v) =&gt; existsSync(v));
  return readFileSync(page, { encoding: &#039;utf-8&#039; });
}</code></pre>
</div></my-details>
<p>è·å–åˆ°åŸå§‹çš„æ¨¡æ¿å†…å®¹åï¼Œé€šå¸¸åŸå§‹æ¨¡æ¿ä¸­å¯èƒ½ä¼šåŒ…å«ä¸€äº›EJSçš„è¯­æ³•</p>
<p>å¯ä»¥é€šè¿‡ transformIndexHtml é’©å­å¯¹æ¨¡æ¿å†…å®¹è¿›è¡Œä¸€ä¸ªè¿›ä¸€æ­¥çš„å¤„ç†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ednzzapgnsay5ugsollzz::--><code>export default function HtmlTemplatePlugin(): PluginOption {
  return {
    transformIndexHtml(html) {
      return transformTpl(html);
    },
  };
}</code></pre>
</div><p>transformTplæ–¹æ³•çš„å®ç°ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„åœºæ™¯è¿›è¡Œå®ç°ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªç®€å•çš„æ­£åˆ™æ›¿æ¢å®ç°</p>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::wzzb7c5jbrmcjtloxn5f3m::--><code>export function transformTpl(tplStr:string, data = {}, ops?:{
 backup?:string
 matches?:RegExp[]
}) {
  data = {
    PUBLIC_URL: &#039;.&#039;,
    BASE_URL: &#039;./&#039;,
    htmlWebpackPlugin: {
      options: {
        title: &#039;App&#039;,
      },
    },
    ...data,
  };
  const { backup = &#039;&#039;, matches = [] } = ops || {};
  // match %Name% &lt;%Name%&gt;
  return [/&lt;?%=?(.*)%&gt;?/g].concat(matches).reduce((tpl, r) =&gt; tpl.replace(r, (_, $1) =&gt; {
    const keys = $1.trim().split(&#039;.&#039;);
    const v = keys.reduce((pre, k) =&gt; (pre instanceof Object ? pre[k] : pre), data);
    return (v === null || v === undefined) ? backup : v;
  }), tplStr);
}</code></pre>
</div></my-details>
<h4 id="_4-1-2-æ’å…¥entryjs" tabindex="-1">4.1.2 æ’å…¥entryJs <a class="header-anchor" href="#_4-1-2-æ’å…¥entryjs" aria-label="Permalink to â€œ4.1.2 æ’å…¥entryJsâ€">&#8203;</a></h4>
<p>æ¨¡æ¿å¤„ç†å®Œæˆåï¼Œéœ€è¦å†æ¨¡æ¿ä¸­é€šè¿‡ script æ ‡ç­¾å¼•å…¥entryJsæ‰èƒ½æ­£å¸¸çš„è¿›è¡Œå·¥ä½œ</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::ccm8ospolcdedwbb2dfdmo::--><code>&lt;script type=&quot;module&quot; src=&quot;$entryPath&quot;&gt;&lt;/script&gt;
&lt;!--ä¾‹å¦‚--&gt;
&lt;script type=&quot;module&quot; src=&quot;/src/main&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;module&quot; src=&quot;/src/pages/pageName/index&quot;&gt;&lt;/script&gt;</code></pre>
</div><p>è¿™éƒ¨åˆ†çš„å¤„ç†ç›¸å¯¹ç®€å•ï¼Œåªéœ€è¦è°ƒç”¨ transformIndexHtml é’©å­å³å¯</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::i9iy9gs618fp151ae58ei::--><code>export default function pageEntryPlugin(): PluginOption {
  return {
    name: &#039;wvs-page-entry&#039;,
    apply: &#039;serve&#039;,
    transformIndexHtml(html, ctx) {
      const entry = getPageEntry(ctx.originalUrl);
      if (!entry) {
        return html;
      }
      return html.replace(&#039;&lt;/body&gt;&#039;, `&lt;script type=&quot;module&quot; src=&quot;${path.join(&#039;/&#039;, entry)}&quot;&gt;&lt;/script&gt;
        &lt;/body&gt;
        `);
    },
  };
}</code></pre>
</div><p>entryJsçš„è·å–é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>entryå‘½åé€šè¿‡æ­£åˆ™ <code>/(index|main)\.[jt]sx?$/</code> è¿›è¡Œç­›é€‰</li>
<li>SPAæŸ¥æ‰¾ç›®å½• <code>src</code></li>
<li>MPAæŸ¥æ‰¾ç›®å½• <code>src/pages/pageName</code></li>
</ul>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vs19tzq1yupzim1zywgp::--><code>function getPageEntry(reqUrl) {
  if (isMPA()) {
    const pageName = getPageName(reqUrl);
    return !!pageName &amp;&amp; getEntryFullPath(`src/pages/${pageName}`);
  }
  // å…¶å®ƒåœºæ™¯è·ŸMPAå¤„ç†ç±»ä¼¼

  // é»˜è®¤SPA
  const SPABase = &#039;src&#039;;
  return getEntryFullPath(SPABase);
}

function getEntryFullPath(dirPath) {
  if (!existsSync(resolved(dirPath))) {
    return false;
  }
  // main|index.js|ts|jsx|tsx
  const entryName = /(index|main)\.[jt]sx?$/;
  const entryNames = readdirSync(resolved(dirPath), { withFileTypes: true })
    .filter((v) =&gt; {
      entryName.lastIndex = 0;
      return v.isFile() &amp;&amp; entryName.test(v.name);
    });
  return entryNames.length &gt; 0 ? path.join(dirPath, entryNames[0].name) : false;
}</code></pre>
</div></my-details>
<p>å…¶ä¸­ pageName æ ¹æ®è¯·æ±‚çš„èµ„æºè·¯å¾„ï¼Œä½¿ç”¨ â€œ/ â€ åˆ†å‰²ï¼Œå¯¹æ¯ä¸ªåˆ†å‰²å†…å®¹è¿›è¡Œæ–‡ä»¶ç›®å½•çš„å­˜åœ¨ä¸å¦è¿›è¡Œåˆ¤æ–­</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::z8zjfxg1y19h5kzs9wsrw::--><code>export function getPageName(reqUrl:string) {
  // TODOï¼šå…¼å®¹webpacké…ç½® historyRewrites
  const { pathname } = new URL(reqUrl, &#039;http://localhost&#039;);
  const paths = pathname.split(&#039;/&#039;).filter((v) =&gt; !!v);
  const entryName = paths.find((p) =&gt; existsSync(path.join(getCWD(), &#039;src/pages&#039;, p)));
  return entryName || &#039;&#039;;
}</code></pre>
</div><h3 id="_4-2-production-build" tabindex="-1">4.2 Production-Build <a class="header-anchor" href="#_4-2-production-build" aria-label="Permalink to â€œ4.2 Production-Buildâ€">&#8203;</a></h3>
<p><img src="./webapck2vite/MTYzODYwNjI2NTQyMA==638606265420.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>viteæ„å»ºçš„å…¥å£ä¹Ÿæ˜¯ htmlï¼Œé€šè¿‡ build.rollup.input å±æ€§è®¾ç½®</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::eipy1xvi7vb0p70ncpjmv8::--><code>// vite.config.ts
import { defineConfig } from &#039;vite&#039;;

export default defineConfig({
  build: {
    rollupOptions: {
      input: {
        index: &#039;src/pages/index/index.html&#039;,
        second: &#039;src/pages/second/second.html&#039;,
      },
    },
  },
});</code></pre>
</div><p>æŒ‰ç…§å¦‚ä¸Šé…ç½®ï¼Œæ„å»ºäº§ç‰©ä¸­çš„htmlç›®å½•å°†ä¼šå¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::azp9n6zw2tk5ccgg02kfrx::--><code>* dist
  * src/pages/index/index.html
  * src/pages/second/second.html
  * assets</code></pre>
</div><p>ä¸å¤ªç¬¦åˆé€šå¸¸çš„ä¹ æƒ¯ï¼Œå¸¸è§„æ ¼å¼å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::hd5a09ted3whza369fedzk::--><code>* dist
  * index.html
  * second.html
  * assets</code></pre>
</div><p>æ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶ å¤„ç†æ„å»ºå…¥å£æ–‡ä»¶ å’Œ è°ƒæ•´æ„å»ºåçš„äº§ç‰©ä½ç½®</p>
<h4 id="_4-2-1-æ’ä»¶ç»“æ„" tabindex="-1">4.2.1 æ’ä»¶ç»“æ„ <a class="header-anchor" href="#_4-2-1-æ’ä»¶ç»“æ„" aria-label="Permalink to â€œ4.2.1 æ’ä»¶ç»“æ„â€">&#8203;</a></h4>
<p>é€šè¿‡ configResolved é’©å­è·å–æœ€ç»ˆé…ç½®ï¼Œé…ç½®æä¾›ç»™å…¶å®ƒé’©å­ä½¿ç”¨</p>
<p>çº¦å®špageEntryçš„ç›®å½•</p>
<ul>
<li>SPAï¼šsrc</li>
<li>MPAï¼šsrc/pages</li>
</ul>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::3um3n2dtgr5zpguboptsd::--><code>export default function BuildPlugin(): PluginOption {
  let userConfig:ResolvedConfig = null;
  return {
    name: &#039;wvs-build&#039;,
    // åªåœ¨æ„å»ºé˜¶æ®µç”Ÿæ•ˆ
    apply: &#039;build&#039;,
    // è·å–æœ€ç»ˆé…ç½®
    configResolved(cfg) {
      userConfig = cfg;
    },
    // æ’ä»¶é…ç½®å¤„ç†
    config() {

    },
    resolveId(id) {

    },
    load(id) {

    },
    // æ„å»ºå®Œæˆå
    closeBundle() {

    },
  };
}</code></pre>
</div></my-details>
<h4 id="_4-2-2-è·å–æ‰€æœ‰çš„entry" tabindex="-1">4.2.2 è·å–æ‰€æœ‰çš„entry <a class="header-anchor" href="#_4-2-2-è·å–æ‰€æœ‰çš„entry" aria-label="Permalink to â€œ4.2.2 è·å–æ‰€æœ‰çš„entryâ€">&#8203;</a></h4>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4qd5dstpelnjah8t13o10i::--><code>const entry = [];
if (isMPA()) {
  entry.push(...getMpaPageEntry());
} else {
  // å•é¡µåº”ç”¨
  entry.push({
    entryName: &#039;index&#039;,
    entryHtml: &#039;public/index.html&#039;,
    entryJs: getEntryFullPath(&#039;src&#039;),
  });
}</code></pre>
</div><p>MPAçš„pageEntryé€»è¾‘è·å–å¦‚ä¸‹:</p>
<ol>
<li>å…ˆè·å–æ‰€æœ‰çš„entryName</li>
<li>å†æŸ¥è¯¢éå†æ¯ä¸ªpageå¯¹åº”çš„ entryJs ä¸ entryHtml</li>
</ol>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::5wbzh2l3hx5fsje7mz7czn::--><code>export function getMpaPageEntry(baseDir = &#039;src/pages&#039;) {
  // è·å–æ‰€æœ‰çš„EntryName
  const entryNameList = readdirSync(resolved(baseDir), { withFileTypes: true })
    .filter((v) =&gt; v.isDirectory())
    .map((v) =&gt; v.name);

  return entryNameList
    .map((entryName) =&gt; ({ entryName, entryHtml: &#039;&#039;, entryJs: getEntryFullPath(path.join(baseDir, entryName)) }))
    .filter((v) =&gt; !!v.entryJs)
    .map((v) =&gt; {
      const { entryName } = v;
      const entryHtml = [
        // src/pages/${entryName}/${entryName}.html
        resolved(`src/pages/${entryName}/${entryName}.html`),
        // src/pages/${entryName}/index.html
        resolved(`src/pages/${entryName}/index.html`),
        // public/${entryName}.html
        resolved(`public/${entryName}.html`),
        // åº”ç”¨å…œåº•
        resolved(&#039;public/index.html&#039;),
        // CLIå…œåº•é¡µé¢
        path.resolve(__dirname, &#039;../index.html&#039;),
      ].find((html) =&gt; existsSync(html));
      return {
        ...v,
        entryHtml,
      };
    });
}</code></pre>
</div></my-details>
<h4 id="_4-2-3-ç”Ÿæˆbuildæ‰€éœ€é…ç½®" tabindex="-1">4.2.3 ç”ŸæˆBuildæ‰€éœ€é…ç½® <a class="header-anchor" href="#_4-2-3-ç”Ÿæˆbuildæ‰€éœ€é…ç½®" aria-label="Permalink to â€œ4.2.3 ç”ŸæˆBuildæ‰€éœ€é…ç½®â€">&#8203;</a></h4>
<p>æ ¹æ®è·å–çš„æ‰€æœ‰ entryç”Ÿæˆæœ€ç»ˆæ„å»ºæ‰€éœ€çš„é…ç½®</p>
<ul>
<li>è·å–æ¯ä¸ª entryHtml çš„å†…å®¹,ç„¶åä½¿ç”¨ map è¿›è¡Œä¸´æ—¶çš„å­˜å‚¨</li>
<li>æ„å»ºå…¥å£æ¨¡æ¿è·¯å¾„å– entryJs çš„ç›®å½•åŠ index.html</li>
</ul>
<my-details title="ç‚¹å‡»å±•å¼€æºç ">
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::or7shyn9jqhk6g0dwtp8io::--><code>const htmlContentMap = new Map();
// çœç•¥å…¶å®ƒæ— å…³ä»£ç 
{
  config() {
    const input = entry.reduce((pre, v) =&gt; {
      const { entryName, entryHtml, entryJs } = v;
      const html = getEntryHtml(resolved(entryHtml), path.join(&#039;/&#039;, entryJs));
      const htmlEntryPath = resolved(path.parse(entryJs).dir, tempHtmlName);
      // å­˜å‚¨å†…å®¹
      htmlContentMap.set(htmlEntryPath, html);
      pre[entryName] = htmlEntryPath;
      return pre;
    }, {});
    return {
      build: {
        rollupOptions: {
          input,
        },
      },
    };
  }
}</code></pre>
</div></my-details>
<h4 id="_4-2-4-å…¥å£htmlå†…å®¹ç”Ÿæˆ" tabindex="-1">4.2.4 å…¥å£HTMLå†…å®¹ç”Ÿæˆ <a class="header-anchor" href="#_4-2-4-å…¥å£htmlå†…å®¹ç”Ÿæˆ" aria-label="Permalink to â€œ4.2.4 å…¥å£HTMLå†…å®¹ç”Ÿæˆâ€">&#8203;</a></h4>
<p>å®é™…ä¸ŠhtmlEntryPathè¿™ä¸ªè·¯å¾„å¹¶ä¸æ˜¯çœŸå®å­˜åœ¨çš„ï¼ˆä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼‰</p>
<p>éœ€è¦é€šè¿‡ resolveId ä¸ load é’©å­ï¼Œåˆ©ç”¨ htmlContentMap å­˜å‚¨çš„å†…å®¹è¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::9ednlgknw99v4flozktre::--><code>{
  load(id) {
    if (id.endsWith(&#039;.html&#039;)) {
      return htmlContentMap.get(id);
    }
    return null;
  },
  resolveId(id) {
    if (id.endsWith(&#039;.html&#039;)) {
      return id;
    }
    return null;
  },
}</code></pre>
</div><p>å…¶ä¸­ id ä¸ºèµ„æºè¯·æ±‚çš„è·¯å¾„ï¼Œç›´æ¥ä» htmlContentMap å–å‡ºæ¨¡æ¿çš„å†…å®¹å³å¯</p>
<p>æ„å»ºå®Œæˆåï¼Œéœ€è¦è°ƒæ•´htmlæ–‡æ¡£çš„ä½ç½®ï¼Œä½¿å…¶ç¬¦åˆé¢„æœŸ</p>
<h4 id="_4-2-5-äº§ç‰©ç›®å½•è°ƒæ•´" tabindex="-1">4.2.5 äº§ç‰©ç›®å½•è°ƒæ•´ <a class="header-anchor" href="#_4-2-5-äº§ç‰©ç›®å½•è°ƒæ•´" aria-label="Permalink to â€œ4.2.5 äº§ç‰©ç›®å½•è°ƒæ•´â€">&#8203;</a></h4>
<p>ä½¿ç”¨ closeBundle é’©å­ï¼Œåœ¨æ„å»ºå®Œæˆåï¼ŒæœåŠ¡å…³é—­å‰è¿›è¡Œæ–‡ä»¶è°ƒæ•´</p>
<ul>
<li>éå†<code>entry</code>å°†<code>dist/src/pages/pageName/index.html</code>ç§»åŠ¨åˆ°<code>dist</code>ä¸‹</li>
<li>ç§»é™¤<code>dist/src</code>ä¸‹çš„å†…å®¹</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::yfez2rwudmkym8w4mghhkq::--><code>closeBundle() {
  const { outDir } = userConfig.build;
  // ç›®å½•è°ƒæ•´
  entry.forEach((e) =&gt; {
    const { entryName, entryJs } = e;
    const outputHtmlPath = resolved(outDir, path.parse(entryJs).dir, tempHtmlName);
    writeFileSync(resolved(outDir, `${entryName}.html`), readFileSync(outputHtmlPath));
  });
  // ç§»é™¤ä¸´æ—¶èµ„æº
  rmdirSync(resolved(outDir, &#039;src&#039;), { recursive: true });
}</code></pre>
</div><h3 id="_4-3-viteé…ç½®å¤„ç†" tabindex="-1">4.3 Viteé…ç½®å¤„ç† <a class="header-anchor" href="#_4-3-viteé…ç½®å¤„ç†" aria-label="Permalink to â€œ4.3 Viteé…ç½®å¤„ç†â€">&#8203;</a></h3>
<h4 id="_4-3-1-è¯»å–ç”¨æˆ·é…ç½®" tabindex="-1">4.3.1 è¯»å–ç”¨æˆ·é…ç½® <a class="header-anchor" href="#_4-3-1-è¯»å–ç”¨æˆ·é…ç½®" aria-label="Permalink to â€œ4.3.1 è¯»å–ç”¨æˆ·é…ç½®â€">&#8203;</a></h4>
<p>Vite æä¾›äº†ä¸€ä¸ªç°æˆçš„æ–¹æ³•ç”¨äºè¯»å–ä¸è§£æViteçš„é…ç½®æ–‡ä»¶</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::smrcnc04vqhf5wec2vaeu::--><code>import { loadConfigFromFile, ConfigEnv } from &#039;vite&#039;;

export function getUserConfig(configEnv:ConfigEnv, suffix = &#039;&#039;) {
  const configName = &#039;vite.config&#039;;
  const _suffix = [&#039;ts&#039;, &#039;js&#039;, &#039;mjs&#039;, &#039;cjs&#039;];
  if (suffix) {
    _suffix.unshift(suffix);
  }
  const configFile = _suffix.map((s) =&gt; `${configName}.${s}`).find((s) =&gt; existsSync(s));
  return loadConfigFromFile(configEnv, configFile);
}</code></pre>
</div><p>è·å–é…ç½®åé€šè¿‡ config é’©å­ï¼Œå°†é…ç½®å¹¶å…¥æœ€ç»ˆçš„é…ç½®ä¹‹ä¸­</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::0j7xu2yhvce8zpf4ftnerrg::--><code>import type { PluginOption } from &#039;vite&#039;;
import { getUserConfig } from &#039;../utils&#039;;

export default function UserConfigPlugin(): PluginOption {
  return {
    name: &#039;wvs-config&#039;,
    async config(cfg, env) {
      const userConfig = await getUserConfig(env);
      return {
        ...userConfig?.config,
      };
    },
  };
}</code></pre>
</div><h4 id="_4-3-2-è½¬æ¢webpacké…ç½®" tabindex="-1">4.3.2 è½¬æ¢webpacké…ç½® <a class="header-anchor" href="#_4-3-2-è½¬æ¢webpacké…ç½®" aria-label="Permalink to â€œ4.3.2 è½¬æ¢webpacké…ç½®â€">&#8203;</a></h4>
<p>ç›®å‰ç¤¾åŒºå·²ç»æœ‰ä¸€ä¸ªCLIå·¥å…·ï¼Œ<a href="https://github.com/tnfe/wp2vite" target="_blank" rel="noreferrer">wp2vite</a> æ”¯æŒå¸¸è§„Vue/Reacté¡¹ç›®çš„<a href="https://www.webpackjs.com/configuration/" target="_blank" rel="noreferrer">webpacké…ç½®</a>çš„è‡ªåŠ¨è½¬æ¢åˆ°<a href="https://cn.vitejs.dev/config/" target="_blank" rel="noreferrer">viteé…ç½®</a></p>
<p><img src="./webapck2vite/MTYzODYwNzE1ODI2OA==638607158268.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qje5z7adq2oja5g0m4mypp::--><code>npm install -g wp2vite</code></pre>
</div><p>æ ¹ç›®å½•æ‰§è¡Œ wp2vite å³å¯è‡ªåŠ¨è½¬æ¢</p>
<ul>
<li>ä½†ç”±äºæ˜¯ä¸€ä¸ªCLIå·¥å…·ï¼Œå¹¶æ²¡æœ‰å°†å†…éƒ¨è½¬æ¢é…ç½®çš„æ–¹æ³•æš´éœ²å‡ºæ¥</li>
<li>å·¥å…·æ˜¯å¼€æºçš„ã€‚ä½¿ç”¨æ–¹å¯ä»¥å¯¹å…¶è¿›è¡ŒäºŒæ¬¡çš„å®šåˆ¶ï¼Œå¤ç”¨å…¶éƒ¨åˆ†èƒ½åŠ›</li>
<li>è·å–åˆ°è½¬æ¢åçš„é…ç½®åï¼ŒåŒä¸Šé€šè¿‡configé’©å­å¹¶å…¥æœ€ç»ˆé…ç½®å³å¯</li>
</ul>
<h3 id="_4-4-cliå·¥å…·æ”¯æŒ" tabindex="-1">4.4 CLIå·¥å…·æ”¯æŒ <a class="header-anchor" href="#_4-4-cliå·¥å…·æ”¯æŒ" aria-label="Permalink to â€œ4.4 CLIå·¥å…·æ”¯æŒâ€">&#8203;</a></h3>
<p>Viteæ”¯æŒåœ¨å¯åŠ¨å‘½ä»¤ä¸­æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œè¿™ä¸ºCLIå†…ç½®Viteèƒ½åŠ›æä¾›äº†ä¾¿åˆ©</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::kljx2wjpbmn2yix4f0x42h::--><code>vite -c configFilePath</code></pre>
</div><p><img src="./webapck2vite/MTYzODYwNzU3MDIwMQ==638607570201.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>CLIå†…éƒ¨å¯ä»¥é€šè¿‡ spawn åˆ›å»ºå­è¿›ç¨‹å¯åŠ¨ï¼Œä¹Ÿå¯ä½¿ç”¨viteå¯¹å¤–æš´éœ²çš„<code>createServer</code>æ–¹æ³•</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ojykcbqk1lq94clye03of::--><code>import spawn from &#039;cross-spawn&#039;;
// æˆ–è€…
import { spawn } from &#039;child_process&#039;;

const configPath = require.resolve(&#039;./../config/vite.js&#039;);
const params = [&#039;--config&#039;, configPath];

if (debug) {
  // æ ‡å¿—debug
  process.env.DEBUG = &#039;true&#039;;

  // vite debug
  params.push(&#039;--debug&#039;);
  if (typeof debug === &#039;string&#039;) {
    params.push(debug);
  }
}

const viteService = spawn(&#039;vite&#039;, params, {
  cwd: process.cwd(),
  stdio: &#039;inherit&#039;,
});</code></pre>
</div><h2 id="_5-æ•ˆæœ-æ¥å…¥viteå‰åå¯¹æ¯”" tabindex="-1">5 æ•ˆæœ - æ¥å…¥Viteå‰åå¯¹æ¯” <a class="header-anchor" href="#_5-æ•ˆæœ-æ¥å…¥viteå‰åå¯¹æ¯”" aria-label="Permalink to â€œ5 æ•ˆæœ - æ¥å…¥Viteå‰åå¯¹æ¯”â€">&#8203;</a></h2>
<p>å¯åŠ¨æé€Ÿâ‰ˆ70% - 80% HMRé€Ÿåº¦ç¢¾å‹</p>
<h3 id="_5-1-vue-spa" tabindex="-1">5.1 Vue SPA <a class="header-anchor" href="#_5-1-vue-spa" aria-label="Permalink to â€œ5.1 Vue SPAâ€">&#8203;</a></h3>
<p><img src="./webapck2vite/MTYzNTE2OTU0MzgyMA==vue.gif?s1=https://img.cdn.sugarat.top/mdImg/MTYzNTE2OTU0MzgyMA==vue.gif" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="_5-2-react-spa" tabindex="-1">5.2 React SPA <a class="header-anchor" href="#_5-2-react-spa" aria-label="Permalink to â€œ5.2 React SPAâ€">&#8203;</a></h3>
<p><img src="./webapck2vite/MTYzNTA3MDM3NDkyMQ==react-demo2.gif?s1=https://img.cdn.sugarat.top/mdImg/MTYzNTA3MDM3NDkyMQ==react-demo2.gif" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="_6-æ€»ç»“ä¸å±•æœ›" tabindex="-1">6 æ€»ç»“ä¸å±•æœ› <a class="header-anchor" href="#_6-æ€»ç»“ä¸å±•æœ›" aria-label="Permalink to â€œ6 æ€»ç»“ä¸å±•æœ›â€">&#8203;</a></h2>
<h3 id="_6-1-æ€»ç»“" tabindex="-1">6.1 æ€»ç»“ <a class="header-anchor" href="#_6-1-æ€»ç»“" aria-label="Permalink to â€œ6.1 æ€»ç»“â€">&#8203;</a></h3>
<p>æœ¬æ–‡ä¸»è¦è®²è¿°äº†ï¼Œé¡¹ç›®ï¼ˆåŒ…å«ä½†ä¸é™äºwebpackå·¥ç¨‹ï¼‰æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä¸æ ¸å¿ƒéƒ¨åˆ†é€»è¾‘çš„å®ç°ã€‚</p>
<p>ä¸ºè¯»è€…æä¾›äº†ä¸€ç§Webå·¥ç¨‹æ¥å…¥Viteçš„æ€è·¯ã€‚</p>
<p>ä¼ä¸šï¼šå¤§éƒ¨åˆ†æ˜¯æ‹¥æœ‰è‡ªå·±çš„ç ”å‘æ¡†æ¶ï¼Œåœ¨ç ”å‘æ¡†æ¶ä¸­åªéœ€è¦åŠ å…¥ä¸€ä¸ªViteå¯åŠ¨çš„CLIæŒ‡ä»¤ï¼Œè¿™æ ·å¯¹æ¥å…¥æ–¹çš„å½±å“ä¸ä½¿ç”¨æˆæœ¬æ˜¯æœ€å°çš„</p>
<p>ä¸ªäººï¼šå–œæ¬¢æŠ˜è…¾/ä¸æƒ³æ”¹åŠ¨åŸæ¥çš„ä»£ç ï¼Œå¯ä»¥æŒ‰ä¸Šè¿°æµç¨‹è‡ªå·±æ¥ä¸€ä¸‹ï¼Œæ–°é¡¹ç›®å¯ä»¥ç›´æ¥ä½¿ç”¨Viteå®˜æ–¹æ¨¡æ¿å¼€å‘</p>
<p>æ€»ä¹‹ï¼š<strong>å¼€å‘ä¸­ä½¿ç”¨<code>Vite</code>è¿˜æ˜¯å¾ˆé¦™çš„</strong></p>
<h3 id="_6-2-æœªæ¥å±•æœ›" tabindex="-1">6.2 æœªæ¥å±•æœ› <a class="header-anchor" href="#_6-2-æœªæ¥å±•æœ›" aria-label="Permalink to â€œ6.2 æœªæ¥å±•æœ›â€">&#8203;</a></h3>
<p>Viteæ˜¯ä¸€é¢—å†‰å†‰å‡èµ·çš„å‰ç«¯æ–°æ˜Ÿï¼Œç›¸ä¿¡éšç€å‘¨è¾¹çš„ä¸æ–­å®Œå–„ã€‚å·¥ç¨‹ä½¿ç”¨Viteä½œä¸ºæ„å»ºå·¥å…·çš„æ¯”ä¾‹ä¼šå¤§å¤§çš„å¢åŠ ã€‚</p>
<p>åœ¨åªå…¼å®¹ç°ä»£æµè§ˆå™¨çš„å‰æä¸‹ï¼Œbundlelessæ–¹æ¡ˆå°†ä¼šå¤§æ”¾å¼‚å½©ï¼Œæå¤§çš„æå‡äº§ç‰©çš„æ„å»ºé€Ÿåº¦ï¼Œå†ä¹Ÿä¸ç”¨å‘ä¸€æ¬¡ç‰ˆè¦ç­‰å‡ åˆ†é’Ÿç”šè‡³å‡ ååˆ†é’Ÿæ‰èƒ½Buildå®Œæˆï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦é¢‘ç¹éƒ¨ç½²çš„æµ‹è¯•ç¯å¢ƒä¹‹ä¸­ã€‚</p>
<h2 id="åç»­è§„åˆ’" tabindex="-1">åç»­è§„åˆ’ <a class="header-anchor" href="#åç»­è§„åˆ’" aria-label="Permalink to â€œåç»­è§„åˆ’â€">&#8203;</a></h2>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" id="cbx_0" disabled="true"><label for="cbx_0"> ç›®å‰<code>wp2vite</code>åœ¨é…ç½®è½¬æ¢è¿™ä¸€å—ï¼Œè¿˜ä¸èƒ½å¤ªæ»¡è¶³ä½¿ç”¨è¦æ±‚ï¼Œå‡†å¤‡æPRå¢å¼ºä¸€ä¸‹</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_1" disabled="true"><label for="cbx_1"> å°†å†…éƒ¨èƒ½åŠ›æŠ½æˆä¸€ä¸ªä¸ªå•ç‹¬çš„viteæ’ä»¶</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_2" disabled="true"><label for="cbx_2"> å°†æ—¥å¸¸æ‰€éœ€èƒ½åŠ›è¿›è¡Œå†…ç½®</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_3" disabled="true"><label for="cbx_3"> å°†å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆè¿›è¡Œå†…ç½®</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_4" disabled="true"><label for="cbx_4"> å‡å°åŒ…ä½“ç§¯ï¼ŒåŠ å¿«ä¸‹è½½é€Ÿåº¦</label></li>
<li class="task-list-item"><input type="checkbox" id="cbx_5" disabled="true"><label for="cbx_5"> å®Œå–„æ–‡æ¡£</label></li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to â€œå‚è€ƒèµ„æ–™â€">&#8203;</a></h2>
<ul>
<li><a href="https://juejin.cn/post/7010585760642367496#heading-1" target="_blank" rel="noreferrer">æ˜é‡‘ï¼šjsæ‰“åŒ…æ—¶é—´ç¼©çŸ­90%ï¼Œbundlelessç”Ÿäº§ç¯å¢ƒå®è·µæ€»ç»“</a></li>
<li><a href="https://juejin.cn/post/7026616296426962958" target="_blank" rel="noreferrer">æ˜é‡‘ï¼šå¯èƒ½æ˜¯æœ€å®Œå–„çš„ React+Vite è§£å†³æ–¹æ¡ˆï¼Œé˜¿é‡Œé£å†°å›¢é˜Ÿå‘å¸ƒ icejs 2.0 ç‰ˆæœ¬</a></li>
<li><a href="https://juejin.cn/post/7010922819143860261" target="_blank" rel="noreferrer">è¿‘ 20k Starçš„é¡¹ç›®è¯´ä¸åšå°±ä¸åšäº†ï¼Œä½†æ€»ç»“çš„å†…å®¹å€¼å¾—å€Ÿé‰´</a></li>
<li><a href="https://www.zhihu.com/question/477139054/answer/2156019180" target="_blank" rel="noreferrer">çŸ¥ä¹ï¼šVite çš„ç›®æ ‡ä¸æ˜¯è¦å¹²æ‰ webpack</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/139219361" target="_blank" rel="noreferrer">çŸ¥ä¹ï¼šå½»åº•å‘Šåˆ«ç¼–è¯‘ OOMï¼Œç”¨ esbuild åšå‹ç¼©å™¨</a></li>
<li><a href="https://cn.vitejs.dev/guide/why.html" target="_blank" rel="noreferrer">Viteå®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/webapck2vite/MTYzODYwMjk4NDc1Mg==638602984752.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[webpacké¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»-è‰ç¨¿]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/webapck2vite2.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/webapck2vite2.html</guid>
            <pubDate>Sun, 14 Nov 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[æ„¿æ™¯
å¸Œæœ›é€šè¿‡æ­¤ç³»åˆ—æ–‡ç« ï¼Œèƒ½ç»™è¯»è€…æä¾›ä¸€ä¸ªå­˜/å¢é‡é¡¹ç›®æ¥å…¥Viteçš„ç‚¹å­ï¼Œèµ·æŠ›ç –å¼•ç‰çš„ä½œç”¨ï¼Œå‡å°‘è¿™æ–¹é¢èƒ½åŠ›çš„å»ºè®¾æˆæœ¬
åœ¨é˜è¿°è¿‡ç¨‹ä¸­åŒæ—¶ä¹Ÿä¼šé€æ¸å®Œå–„webpack-vite-serveè¿™ä¸ªå·¥å…·
è¯»è€…å¯ç›´]]></description>
            <content:encoded><![CDATA[<h1 id="webpack-é¡¹ç›®æ¥å…¥viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»-è‰ç¨¿" tabindex="-1">webpack é¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»-è‰ç¨¿ <a class="header-anchor" href="#webpack-é¡¹ç›®æ¥å…¥viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»-è‰ç¨¿" aria-label="Permalink to â€œwebpack é¡¹ç›®æ¥å…¥Viteçš„é€šç”¨æ–¹æ¡ˆä»‹ç»-è‰ç¨¿â€">&#8203;</a></h1>
<h2 id="æ„¿æ™¯" tabindex="-1">æ„¿æ™¯ <a class="header-anchor" href="#æ„¿æ™¯" aria-label="Permalink to â€œæ„¿æ™¯â€">&#8203;</a></h2>
<p>å¸Œæœ›é€šè¿‡æ­¤ç³»åˆ—æ–‡ç« ï¼Œèƒ½ç»™è¯»è€…æä¾›ä¸€ä¸ªå­˜/å¢é‡é¡¹ç›®æ¥å…¥Viteçš„ç‚¹å­ï¼Œèµ·æŠ›ç –å¼•ç‰çš„ä½œç”¨ï¼Œå‡å°‘è¿™æ–¹é¢èƒ½åŠ›çš„å»ºè®¾æˆæœ¬</p>
<p>åœ¨é˜è¿°è¿‡ç¨‹ä¸­åŒæ—¶ä¹Ÿä¼šé€æ¸å®Œå–„<a href="https://github.com/ATQQ/webpack-vite-serve" target="_blank" rel="noreferrer">webpack-vite-serve</a>è¿™ä¸ªå·¥å…·</p>
<p>è¯»è€…å¯ç›´æ¥forkè¿™ä¸ªå·¥å…·ä»“åº“ï¼Œé’ˆå¯¹ä¸ªäºº/å…¬å¸é¡¹ç›®åœºæ™¯è¿›è¡Œå®šåˆ¶åŒ–çš„äºŒæ¬¡å¼€å‘</p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨<a href="./webapck2vite.html">ä¸Šä¸€æœŸçš„æ–‡ç« </a>ä¸­ï¼Œå¤§æ¦‚ä»‹ç»äº†webpacké¡¹ç›®æ¥å…¥Viteçš„å¤„ç†æ€è·¯ï¼Œå¤§ä½“å°±æ˜¯ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>htmlæ¨¡æ¿å¤„ç†</li>
<li>entryJså¤„ç†</li>
<li><a href="https://www.webpackjs.com/configuration/" target="_blank" rel="noreferrer">webpacké…ç½®</a>å‘<a href="https://cn.vitejs.dev/config/" target="_blank" rel="noreferrer">viteé…ç½®</a>è¿ç§»</li>
<li>æ›¿ä»£webpackæ’ä»¶çš„viteæ’ä»¶</li>
</ul>
<p>è¿™äº›å†…å®¹çš„å¤„ç†éƒ½æ˜¯å¯ä»¥é€šè¿‡<a href="https://cn.vitejs.dev/guide/api-plugin.html" target="_blank" rel="noreferrer">viteæ’ä»¶</a>å®ç°</p>
<h2 id="webpack-vite-serveä»‹ç»" tabindex="-1">webpack-vite-serveä»‹ç» <a class="header-anchor" href="#webpack-vite-serveä»‹ç»" aria-label="Permalink to â€œwebpack-vite-serveä»‹ç»â€">&#8203;</a></h2>
<p>è¿™æ®µæ—¶é—´å°±åœ¨ä¸æ–­å®Œå–„è¿™ä¸ªåº“çš„åŠŸèƒ½ï¼Œä¸‹é¢å…ˆç®€å•ä»‹ç»ä¸€ä¸‹å…¶ä½¿ç”¨ï¼Œå†é˜è¿°ä¸€äº›æ’ä»¶çš„å®ç°åŸç†</p>
<p>ç›®æ ‡ï¼š<strong>ä¸ºwebpacké¡¹ç›®æä¾›ä¸€é”®æ¥å…¥Viteçš„èƒ½åŠ›</strong></p>
<h3 id="å®‰è£…ä¾èµ–" tabindex="-1">å®‰è£…ä¾èµ– <a class="header-anchor" href="#å®‰è£…ä¾èµ–" aria-label="Permalink to â€œå®‰è£…ä¾èµ–â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::qrrnfgxyypk3qw0jshusay::--><code>npm install webpack-vite-serve -D
# or
yarn add webpack-vite-serve -D
# or
pnpm add webpack-vite-serve -D</code></pre>
</div><h3 id="æ·»åŠ å¯åŠ¨æŒ‡ä»¤" tabindex="-1">æ·»åŠ å¯åŠ¨æŒ‡ä»¤ <a class="header-anchor" href="#æ·»åŠ å¯åŠ¨æŒ‡ä»¤" aria-label="Permalink to â€œæ·»åŠ å¯åŠ¨æŒ‡ä»¤â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::nko5q93krzpag4ft1r8j::--><code># devServer
wvs start [options]
# build
wvs build [options]</code></pre>
</div><h3 id="å¯é€‰å‚æ•°" tabindex="-1">å¯é€‰å‚æ•° <a class="header-anchor" href="#å¯é€‰å‚æ•°" aria-label="Permalink to â€œå¯é€‰å‚æ•°â€">&#8203;</a></h3>
<ul>
<li><code>-f,--framework &lt;type&gt;</code>ï¼šæŒ‡å®šä½¿ç”¨çš„ä¸šåŠ¡æ¡†æ¶ (vueï¼Œreact)ï¼Œè‡ªåŠ¨å¼•å…¥ä¸šåŠ¡æ¡†æ¶ç›¸å…³çš„åŸºç¡€æ’ä»¶</li>
<li><code>-s,--spa</code>ï¼šæŒ‰ç…§å•é¡µåº”ç”¨ç›®å½•ç»“æ„å¤„ç† <code>src/${entryJs}</code></li>
<li><code>-m,--mpa</code>ï¼šæŒ‰ç…§å¤šé¡µåº”ç”¨ç›®å½•ç»“æ„å¤„ç† <code>src/pages/${entryName}/${entryJs}</code></li>
<li><code>-d,--debug [feat]</code>ï¼šæ‰“å°debugä¿¡æ¯</li>
<li><code>-w,--wp2vite</code>ï¼šä½¿ç”¨ <a href="https://github.com/tnfe/wp2vite" target="_blank" rel="noreferrer">wp2vite</a> è‡ªåŠ¨è½¬æ¢webpackæ–‡ä»¶</li>
</ul>
<h3 id="å…¶å®ƒè¯´æ˜" tabindex="-1">å…¶å®ƒè¯´æ˜ <a class="header-anchor" href="#å…¶å®ƒè¯´æ˜" aria-label="Permalink to â€œå…¶å®ƒè¯´æ˜â€">&#8203;</a></h3>
<p>é¡¹ç›®éµå¾ªå¸¸è§„çš„ å•é¡µ/å¤šé¡µåº”ç”¨ é¡¹ç›®çš„ç›®å½•ç»“æ„å³å¯</p>
<p>viteé…ç½®é€šè¿‡å®˜æ–¹çš„<code>vite.config.[tj]s</code>é…ç½®æ–‡ä»¶æ‹“å±•å³å¯</p>
<h3 id="æ•ˆæœ" tabindex="-1">æ•ˆæœ <a class="header-anchor" href="#æ•ˆæœ" aria-label="Permalink to â€œæ•ˆæœâ€">&#8203;</a></h3>
<p><img src="./webapck2vite2/MTYzNjg3MzM4NzQzMQ==636873387431.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åœ¨çº¿ä½“éªŒdemoåœ°å€ï¼šå·²åˆ›å»º<a href="https://stackblitz.com/edit/atqq-webpack-vite-serve-mstatq?devtoolsheight=33&amp;file=README.md" target="_blank" rel="noreferrer">stackblitz</a></p>
<p>å¦‚ç”±äºç½‘ç»œåŸå› æ— æ³•è®¿é—®ï¼Œå¯cloneä»“åº“è®¿é—®å…¶ä¸­demoä½“éªŒ</p>
<h2 id="mpaæ”¯æŒ" tabindex="-1">MPAæ”¯æŒ <a class="header-anchor" href="#mpaæ”¯æŒ" aria-label="Permalink to â€œMPAæ”¯æŒâ€">&#8203;</a></h2>
<h3 id="dev-é¡µé¢æ¨¡æ¿" tabindex="-1">Dev-é¡µé¢æ¨¡æ¿ <a class="header-anchor" href="#dev-é¡µé¢æ¨¡æ¿" aria-label="Permalink to â€œDev-é¡µé¢æ¨¡æ¿â€">&#8203;</a></h3>
<p>é¦–å…ˆæ˜¯<code>devServer</code>ç¯å¢ƒçš„é¡µé¢æ¨¡æ¿å¤„ç†</p>
<p>æ ¹æ®è¯·æ±‚è·¯å¾„è·å–<code>entryName</code></p>
<ul>
<li>ä½¿ç”¨<code>/</code>æ‹†åˆ†è¯·æ±‚è·¯å¾„å¾—åˆ°<code>paths</code></li>
<li>éå†å¯»æ‰¾ç¬¬ä¸€ä¸ª<code>src/pages/${path}</code>å­˜åœ¨çš„<code>path</code>,æ­¤pathå³ä¸º<code>entryName</code></li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::l5imflbaj4lk5l95dvw8wq::--><code>function getEntryName(reqUrl:string, cfg?:any) {
  const { pathname } = new URL(reqUrl, &#039;http://localhost&#039;);
  const paths = pathname.split(&#039;/&#039;).filter((v) =&gt; !!v);
  const entryName = paths.find((p) =&gt; existsSync(path.join(getCWD(), &#039;src/pages&#039;, p)));
  if (!entryName) {
    console.log(pathname, &#039;not match any entry&#039;);
  }
  return entryName || &#039;&#039;;
}</code></pre>
</div><p>å¯»æ‰¾æ¨¡æ¿æ–‡ä»¶ï¼ŒæŒ‰ç…§å¦‚ä¸‹é¡ºåºæ¢å¯»</p>
<ul>
<li><code>src/pages/${entryName}/${entryName}.html</code></li>
<li><code>src/pages/${entryName}/index.html</code></li>
<li><code>public/${entryName}.html</code></li>
<li><code>public/index.html</code></li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::d8t680oydgmk4xzjmdihwo::--><code>function loadHtmlContent(reqPath:string) {
  // å…œåº•é¡µé¢
  const pages = [path.resolve(__dirname, &#039;../../public/index.html&#039;)];

  // å•é¡µ/å¤šé¡µé»˜è®¤ public/index.html
  pages.unshift(resolved(&#039;public/index.html&#039;));

  // å¤šé¡µåº”ç”¨å¯ä»¥æ ¹æ®è¯·æ±‚çš„ è·¯å¾„ ä½œè¿›ä¸€æ­¥çš„åˆ¤æ–­
  if (isMPA()) {
    const entryName = getEntryName(reqPath);
    if (entryName) {
      pages.unshift(resolved(`public/${entryName}.html`));
      pages.unshift(resolved(`src/pages/${entryName}/index.html`));
      pages.unshift(resolved(`src/pages/${entryName}/${entryName}.html`));
    }
  }
  const page = pages.find((v) =&gt; existsSync(v));
  return readFileSync(page, { encoding: &#039;utf-8&#039; });
}</code></pre>
</div><h3 id="dev-entryjs" tabindex="-1">Dev-entryJs <a class="header-anchor" href="#dev-entryjs" aria-label="Permalink to â€œDev-entryJsâ€">&#8203;</a></h3>
<p>å¤šé¡µåº”ç”¨çš„<code>entryJs</code>å°±æŒ‰çº¦å®šè¯»å–<code>src/pages/${entryName}/${main|index}</code>æ–‡ä»¶</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::thkdx72u1vnz4w6v1s4p3::--><code>function getPageEntry(reqUrl) {
  if (isMPA()) {
    const entryName = getEntryName(reqUrl);
    return !!entryName &amp;&amp; getEntryFullPath(`src/pages/${entryName}`);
  }
  // é»˜è®¤SPA
  const SPABase = &#039;src&#039;;
  return getEntryFullPath(SPABase);
}</code></pre>
</div><h2 id="build" tabindex="-1">Build <a class="header-anchor" href="#build" aria-label="Permalink to â€œBuildâ€">&#8203;</a></h2>
<p>viteæ„å»ºçš„å…¥å£æ˜¯<code>html</code>æ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡<code>build.rollup.input</code>å±æ€§è®¾ç½®</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::msqr0f1tyryd1kyjh3h5a::--><code>// vite.config.ts
import { defineConfig } from &#039;vite&#039;;

export default defineConfig({
  build: {
    rollupOptions: {
      input: {
        index: &#039;src/pages/index/index.html&#039;,
        second: &#039;src/pages/second/second.html&#039;,
      },
    },
  },
});</code></pre>
</div><p>æŒ‰ç…§å¦‚ä¸Šé…ç½®ï¼Œæ„å»ºäº§ç‰©ä¸­çš„htmlç›®å½•å°†ä¼šå¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::9i5vytjdcfdjhb05zjp328::--><code>* dist
  * src/pages/index/index.html
  * src/pages/second/second.html
  * assets</code></pre>
</div><p>ä¸å¤ªç¬¦åˆé€šå¸¸çš„ä¹ æƒ¯ï¼Œå¸¸è§„æ ¼å¼å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::zf2jg2pajdfuz3iwll08bp::--><code>* dist
  * index.html
  * second.html
  * assets</code></pre>
</div><p>æ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶<code>å¤„ç†æ„å»ºå…¥å£æ–‡ä»¶</code>å’Œ<code>è°ƒæ•´æ„å»ºåçš„äº§ç‰©ä½ç½®</code></p>
<h3 id="æ’ä»¶ç»“æ„" tabindex="-1">æ’ä»¶ç»“æ„ <a class="header-anchor" href="#æ’ä»¶ç»“æ„" aria-label="Permalink to â€œæ’ä»¶ç»“æ„â€">&#8203;</a></h3>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::zc9ma4yujxitbv0rybqorn::--><code>export default function BuildPlugin(): PluginOption {
  let userConfig:ResolvedConfig = null;
  return {
    name: &#039;wvs-build&#039;,
    // åªåœ¨æ„å»ºé˜¶æ®µç”Ÿæ•ˆ
    apply: &#039;build&#039;,
    // è·å–æœ€ç»ˆé…ç½®
    configResolved(cfg) {
      userConfig = cfg;
    },
    // æ’ä»¶é…ç½®å¤„ç†
    config() {

    },
    resolveId(id) {

    },
    load(id) {

    },
    // æ„å»ºå®Œæˆå
    closeBundle() {

    },
  };
}</code></pre>
</div><p>é€šè¿‡<code>configResolved</code>é’©å­è·å–æœ€ç»ˆé…ç½®ï¼Œé…ç½®æä¾›ç»™å…¶å®ƒé’©å­ä½¿ç”¨</p>
<h3 id="è·å–entry" tabindex="-1">è·å–entry <a class="header-anchor" href="#è·å–entry" aria-label="Permalink to â€œè·å–entryâ€">&#8203;</a></h3>
<p>é¦–å…ˆè·å–<code>src/pages</code>ä¸‹æ‰€æœ‰çš„entry</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::yi5k9l84l1awm7dp8c5di::--><code>const entry = [];
if (isMPA()) {
  entry.push(...getMpaEntry());
} else {
  // å•é¡µåº”ç”¨
  entry.push({
    entryName: &#039;index&#039;,
    entryHtml: &#039;public/index.html&#039;,
    entryJs: getEntryFullPath(&#039;src&#039;),
  });
}</code></pre>
</div><p>entryçš„å®šä¹‰ä¸º</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::8nlddau3avr7q1mvrhfi4::--><code>interface Entry{
  entryHtml:string
  entryName:string
  entryJs:string
}</code></pre>
</div><p>è·å–é€»è¾‘å¦‚ä¸‹</p>
<ul>
<li>å…ˆè·å–æ‰€æœ‰çš„<code>EntryName</code></li>
<li>åœ¨éå†è·å–æ¯ä¸ªentryå¯¹åº”çš„<code>entryJs</code>ä¸<code>entryHtml</code></li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::6of1gc0yea5ldwlakkqg5l::--><code>export function getMpaEntry(baseDir = &#039;src/pages&#039;) {
  const entryNameList = readdirSync(resolved(baseDir), { withFileTypes: true })
    .filter((v) =&gt; v.isDirectory())
    .map((v) =&gt; v.name);

  return entryNameList
    .map((entryName) =&gt; ({ entryName, entryHtml: &#039;&#039;, entryJs: getEntryFullPath(path.join(baseDir, entryName)) }))
    .filter((v) =&gt; !!v.entryJs)
    .map((v) =&gt; {
      const { entryName } = v;
      const entryHtml = [
        resolved(`src/pages/${entryName}/${entryName}.html`),
        resolved(`src/pages/${entryName}/index.html`),
        resolved(`public/${entryName}.html`),
        resolved(&#039;public/index.html&#039;),
        path.resolve(__dirname, &#039;../../public/index.html&#039;),
      ].find((html) =&gt; existsSync(html));
      return {
        ...v,
        entryHtml,
      };
    });
}</code></pre>
</div><h3 id="ç”Ÿæˆæ„å»ºé…ç½®" tabindex="-1">ç”Ÿæˆæ„å»ºé…ç½® <a class="header-anchor" href="#ç”Ÿæˆæ„å»ºé…ç½®" aria-label="Permalink to â€œç”Ÿæˆæ„å»ºé…ç½®â€">&#8203;</a></h3>
<p>æ ¹æ®å¾—åˆ°çš„<code>entry</code>ç”Ÿæˆ <code>build.rollup.input</code></p>
<ul>
<li>è·å–æ¯ä¸ª<code>entryHtml</code>çš„å†…å®¹,ç„¶åä½¿ç”¨<code>map</code>è¿›è¡Œä¸´æ—¶çš„å­˜å‚¨</li>
<li>æ„å»ºå…¥å£æ¨¡æ¿è·¯å¾„<code>htmlEntryPath</code>å–<code>entryJs</code>çš„ç›®å½•åŠ <code>index.html</code></li>
</ul>
<p>å®é™…ä¸Š<code>htmlEntryPath</code>è¿™ä¸ªè·¯å¾„å¹¶ä¸å­˜åœ¨ä»»ä½•æ–‡ä»¶</p>
<p>æ‰€ä»¥éœ€è¦é€šè¿‡å…¶å®ƒé’©å­ï¼Œåˆ©ç”¨<code>htmlContentMap</code>å­˜å‚¨çš„å†…å®¹è¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::msfzolmvk5wuar5xq9ff::--><code>const htmlContentMap = new Map();
// çœç•¥å…¶å®ƒæ— å…³ä»£ç 
{
  config() {
    const input = entry.reduce((pre, v) =&gt; {
      const { entryName, entryHtml, entryJs } = v;
      const html = getEntryHtml(resolved(entryHtml), path.join(&#039;/&#039;, entryJs));
      const htmlEntryPath = resolved(path.parse(entryJs).dir, tempHtmlName);
      // å­˜å‚¨å†…å®¹
      htmlContentMap.set(htmlEntryPath, html);
      pre[entryName] = htmlEntryPath;
      return pre;
    }, {});
    return {
      build: {
        rollupOptions: {
          input,
        },
      },
    };
  }
}</code></pre>
</div><h3 id="æ„å»ºå…¥å£å†…å®¹ç”Ÿæˆ" tabindex="-1">æ„å»ºå…¥å£å†…å®¹ç”Ÿæˆ <a class="header-anchor" href="#æ„å»ºå…¥å£å†…å®¹ç”Ÿæˆ" aria-label="Permalink to â€œæ„å»ºå…¥å£å†…å®¹ç”Ÿæˆâ€">&#8203;</a></h3>
<p>å…¶ä¸­<code>resolveId</code>ä¸<code>load</code>é’©å­ä¸€èµ·å®Œæˆå…¥å£æ–‡ä»¶çš„å¤„ç†</p>
<ul>
<li>å…¶ä¸­<code>id</code>å³ä¸ºèµ„æºè¯·æ±‚çš„è·¯å¾„</li>
<li>æ¥ç€ç›´æ¥ä»<code>htmlContentMap</code>å»é™¤æ¨¡æ¿çš„å†…å®¹å³å¯</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::bq582x08qfo3xzna4sep7b::--><code>{
  load(id) {
    if (id.endsWith(&#039;.html&#039;)) {
      return htmlContentMap.get(id);
    }
    return null;
  },
  resolveId(id) {
    if (id.endsWith(&#039;.html&#039;)) {
      return id;
    }
    return null;
  },
}</code></pre>
</div><h3 id="äº§ç‰©ç›®å½•è°ƒæ•´" tabindex="-1">äº§ç‰©ç›®å½•è°ƒæ•´ <a class="header-anchor" href="#äº§ç‰©ç›®å½•è°ƒæ•´" aria-label="Permalink to â€œäº§ç‰©ç›®å½•è°ƒæ•´â€">&#8203;</a></h3>
<p>ä½¿ç”¨<code>closeBundle</code>é’©å­ï¼Œåœ¨æ„å»ºå®Œæˆåï¼ŒæœåŠ¡å…³é—­å‰è¿›è¡Œæ–‡ä»¶è°ƒæ•´</p>
<ul>
<li>éå†<code>entry</code>å°†<code>dist/src/pages/entryName/index.html</code>ç§»åŠ¨åˆ°<code>dist</code>ä¸‹</li>
<li>ç§»é™¤<code>dist/src</code>ä¸‹çš„å†…å®¹</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::1vas841yosgdfhk6tgdi3p::--><code>closeBundle() {
  const { outDir } = userConfig.build;
  // ç›®å½•è°ƒæ•´
  entry.forEach((e) =&gt; {
    const { entryName, entryJs } = e;
    const outputHtmlPath = resolved(outDir, path.parse(entryJs).dir, tempHtmlName);
    writeFileSync(resolved(outDir, `${entryName}.html`), readFileSync(outputHtmlPath));
  });
  // ç§»é™¤ä¸´æ—¶èµ„æº
  rmdirSync(resolved(outDir, &#039;src&#039;), { recursive: true });
}</code></pre>
</div><h2 id="webpacké…ç½®è½¬æ¢" tabindex="-1">webpacké…ç½®è½¬æ¢ <a class="header-anchor" href="#webpacké…ç½®è½¬æ¢" aria-label="Permalink to â€œwebpacké…ç½®è½¬æ¢â€">&#8203;</a></h2>
<p>ç›®å‰ç¤¾åŒºæœ‰ä¸€ä¸ªCLIå·¥å…·ï¼š<a href="https://github.com/tnfe/wp2vite" target="_blank" rel="noreferrer">wp2vite</a>æ”¯æŒäº†è¿™ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥ç¬”è€…ä¸æ‰“ç®—ä»0-1å†å»ºè®¾ä¸€ä¸ª</p>
<p>ç”±äºæ˜¯cliå·¥å…·ï¼Œæ²¡æœ‰æä¾›ä¸€äº›ç›´æ¥è°ƒç”¨çš„æ–¹æ³•å»è·å–è½¬æ¢å‰åçš„é…ç½®ï¼Œæ‰€ä»¥<strong>æ¥å…¥æ’ä»¶ä¸­çš„ä½¿ç”¨ä½“éªŒè¿˜ä¸æ˜¯å¾ˆå¥½ï¼Œåç»­å‡†å¤‡æPRæ”¹é€ ä¸€ä¸‹è¿™ä¸ªå·¥å…·</strong></p>
<p>æ¥å…¥wp2viteçš„æ’ä»¶å®ç°å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::60p0n57wlw5zbdhprsv2rs::--><code>import wp2vite from &#039;wp2vite&#039;;
// çœç•¥ä¸é‡è¦çš„ import
export default function wp2vitePlugin(): PluginOption {
  return {
    name: &#039;wvs-wp2vite&#039;,
    enforce: &#039;pre&#039;,
    async config(_, env) {
      const cfgFile = resolved(&#039;vite.config.js&#039;);
      const tplFile = resolved(&#039;index.html&#039;);
      const contentMap = new Map([[cfgFile, &#039;&#039;], [tplFile, &#039;&#039;]]);
      const files = [cfgFile, tplFile];

      console.time(&#039;wp2vite&#039;);
      // åˆ¤æ–­æ˜¯å¦å­˜åœ¨vite.config.js ã€index.html
      // é¿å… wp2vite è¦†ç›–
      files.forEach((f) =&gt; {
        if (existsSync(f)) {
          contentMap.set(f, readFileSync(f, { encoding: &#039;utf-8&#039; }));
        }
      });

      // è½¬æ¢å‡ºé…ç½®æ–‡ä»¶vite.config.js
      await wp2vite.start(getCWD(), {
        force: false,
        // ç»Ÿä¸€å¼€å¯debug
        debug: !!process.env.DEBUG,
      });

      // TODO:æPRä¼˜åŒ–
      // è½¬æ¢è€—æ—¶è®¡ç®—
      console.timeEnd(&#039;wp2vite&#039;);

      // è·å–wp2viteè½¬æ¢å‡ºçš„é…ç½®
      const cfg = await getUserConfig(env, &#039;js&#039;);

      contentMap.forEach((v, k) =&gt; {
        if (v) {
          // å¦‚æœä¿®æ”¹äº†å†…å®¹ï¼Œè¿˜åŸå†…å®¹
          writeFileSync(k, v);
        } else {
          // ç§»é™¤åˆ›å»ºçš„æ–‡ä»¶
          unlinkSync(k);
        }
      });

      if (cfg.config) {
        const { config } = cfg || {};
        // ç•™ä¸‹éœ€è¦çš„é…ç½®
        return {
          resolve: config?.resolve,
          server: config?.server,
          css: config?.css,
        };
      }

      return null;
    },
  };
}</code></pre>
</div><p>wp2viteï¼Œå¯¹å¤–æš´éœ²äº†ä¸€ä¸ª<code>start</code>æ–¹æ³•è°ƒç”¨</p>
<p>è°ƒç”¨åä¼šæ ¹æ®é¡¹ç›®çš„webpacké…ç½®ç”Ÿæˆ2ä¸ªæ–°æ–‡ä»¶(<code>vite.config.js</code>ï¼Œ<code>index.html</code>)ï¼Œå¹¶ä¿®æ”¹<code>package.json</code>æ·»åŠ æŒ‡ä»¤ä¸ä¾èµ–</p>
<p>æ‰€ä»¥åœ¨ç”Ÿæˆå‰å¦‚æœé¡¹ç›®ä¸­å­˜åœ¨è¿™äº›æ–‡ä»¶åˆ™éœ€è¦å…ˆå°†è¿™äº›å†…å®¹å­˜å‚¨èµ·æ¥</p>
<p>å…¶ä¸­è·å–ç”¨æˆ·é…ç½®çš„<code>getUserConfig</code>å®ç°å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::rnsbdwhyfofq6d8znt7o2j::--><code>import { loadConfigFromFile, ConfigEnv } from &#039;vite&#039;;

export function getUserConfig(configEnv:ConfigEnv, suffix = &#039;&#039;) {
  const configName = &#039;vite.config&#039;;
  const _suffix = [&#039;ts&#039;, &#039;js&#039;, &#039;mjs&#039;, &#039;cjs&#039;];
  if (suffix) {
    _suffix.unshift(suffix);
  }
  const configFile = _suffix.map((s) =&gt; `${configName}.${s}`).find((s) =&gt; existsSync(s));
  return loadConfigFromFile(configEnv, configFile);
}</code></pre>
</div><p>viteæä¾›äº†<code>loadConfigFromFile</code>æ–¹æ³•ï¼Œåªéœ€è¦åœ¨æ­¤æ–¹æ³•ä¸­åšä¸€å±‚ç®€å•çš„å°è£…å³å¯ç›´æ¥ä½¿ç”¨ï¼Œæ–¹æ³•å†…éƒ¨ä½¿ç”¨esbuildè‡ªåŠ¨å¯¹tsä¸esè¯­æ³•è¿›è¡Œäº†è½¬æ¢</p>
<h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå»ºè®¾çš„èƒ½åŠ›å·²åŸºæœ¬èƒ½å¤Ÿæ»¡è¶³å¸¸è§„é¡¹ç›®çš„å¼€å‘</p>
<p>èƒ½åŠ›æœªåŠä¹‹å¤„ç”¨æˆ·äº¦å¯ç›´æ¥åœ¨å·¥ç¨‹ä¸­æ·»åŠ <code>vite</code>é…ç½®æ–‡ä»¶è¿›è¡Œè‡ªè¡Œçš„æ‹“å±•</p>
<h2 id="åç»­è§„åˆ’" tabindex="-1">åç»­è§„åˆ’ <a class="header-anchor" href="#åç»­è§„åˆ’" aria-label="Permalink to â€œåç»­è§„åˆ’â€">&#8203;</a></h2>
<ol>
<li>ç›®å‰<code>wp2vite</code>åœ¨é…ç½®è½¬æ¢è¿™ä¸€å—ï¼Œè¿˜ä¸èƒ½å¤ªæ»¡è¶³ä½¿ç”¨è¦æ±‚ï¼Œå‡†å¤‡æPRå¢å¼ºä¸€ä¸‹</li>
<li>å°†å†…éƒ¨èƒ½åŠ›æŠ½æˆä¸€ä¸ªä¸ªå•ç‹¬çš„viteæ’ä»¶</li>
</ol>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/webapck2vite2/MTYzNjg3MzM4NzQzMQ==636873387431.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ES6+çš„ä¸€äº›æ–°è¯­æ³•ç³–å’Œæ–¹æ³•æ•´ç†]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/es6+.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/es6+.html</guid>
            <pubDate>Wed, 13 Oct 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[åªåˆ—ä¸¾äº†æ¯”è¾ƒå®ç”¨çš„è€Œåˆé²œä¸ºäººçŸ¥çš„ä¸€äº›ï¼Œå¹¶ä¸ç»å¯¹å…¨é¢
 ESNext
 ES2022
 ES2021
 ES2020
 1. å·åˆ›å»ºç±»çš„ç§æœ‰å˜é‡
```ts
class p{
    name='xia]]></description>
            <content:encoded><![CDATA[<h1 id="es6-çš„ä¸€äº›æ–°è¯­æ³•ç³–å’Œæ–¹æ³•æ•´ç†" tabindex="-1">ES6+çš„ä¸€äº›æ–°è¯­æ³•ç³–å’Œæ–¹æ³•æ•´ç† <a class="header-anchor" href="#es6-çš„ä¸€äº›æ–°è¯­æ³•ç³–å’Œæ–¹æ³•æ•´ç†" aria-label="Permalink to â€œES6+çš„ä¸€äº›æ–°è¯­æ³•ç³–å’Œæ–¹æ³•æ•´ç†â€">&#8203;</a></h1>
<p><strong>åªåˆ—ä¸¾äº†æ¯”è¾ƒå®ç”¨çš„è€Œåˆé²œä¸ºäººçŸ¥çš„ä¸€äº›ï¼Œå¹¶ä¸ç»å¯¹å…¨é¢</strong></p>
<h2 id="esnext" tabindex="-1">ESNext <a class="header-anchor" href="#esnext" aria-label="Permalink to â€œESNextâ€">&#8203;</a></h2>
<h2 id="es2022" tabindex="-1">ES2022 <a class="header-anchor" href="#es2022" aria-label="Permalink to â€œES2022â€">&#8203;</a></h2>
<h2 id="es2021" tabindex="-1">ES2021 <a class="header-anchor" href="#es2021" aria-label="Permalink to â€œES2021â€">&#8203;</a></h2>
<h2 id="es2020" tabindex="-1">ES2020 <a class="header-anchor" href="#es2020" aria-label="Permalink to â€œES2020â€">&#8203;</a></h2>
<h3 id="_1-å·åˆ›å»ºç±»çš„ç§æœ‰å˜é‡" tabindex="-1">1. #å·åˆ›å»ºç±»çš„ç§æœ‰å˜é‡ <a class="header-anchor" href="#_1-å·åˆ›å»ºç±»çš„ç§æœ‰å˜é‡" aria-label="Permalink to â€œ1. #å·åˆ›å»ºç±»çš„ç§æœ‰å˜é‡â€">&#8203;</a></h3>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::nxf5czajnth6hm0q0r09::--><code>class p{
    #name=&#039;xiaoming&#039;
    getName(){
        return this.#name
    }
}
let a = new p()
console.log(a.getName());
// Property &#039;#name&#039; is not accessible outside class &#039;p&#039; because it has a private identifier.
console.log(a.#name);// error</code></pre>
</div><h3 id="_2-promise-allselected" tabindex="-1">2. Promise.allSelected <a class="header-anchor" href="#_2-promise-allselected" aria-label="Permalink to â€œ2. Promise.allSelectedâ€">&#8203;</a></h3>
<p>å¯ä»¥åœ¨å›è°ƒä¸­å–åˆ°æ‰€æœ‰çš„promiseçš„è¿”å›å€¼ä¸çŠ¶æ€ï¼ŒåŒ…æ‹¬rjectçš„</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::pt4xfczl25ng50l3mbwyg::--><code>class p {
    #name = &#039;xiaoming&#039;
    getName() {
        return this.#name
    }
}
let a = new p()
console.log(a.getName());
// console.log(a.#name);

const p1 = new Promise((resolve, reject) =&gt; setTimeout(resolve, 1000, &#039;success&#039;))
const p2 = new Promise((resolve, reject) =&gt; setTimeout(reject, 1000, &#039;fail&#039;))

Promise.allSettled([p1, p2]).then(res =&gt; {
    console.log(res);
    // [
    //     {status: &quot;fulfilled&quot;, value: &quot;success&quot;}
    //     {status: &quot;rejected&quot;, reason: &quot;fail&quot;}
    // ]
})</code></pre>
</div><h3 id="_3-ç©ºå€¼è¿ç®—ç¬¦" tabindex="-1">3. ç©ºå€¼è¿ç®—ç¬¦?? <a class="header-anchor" href="#_3-ç©ºå€¼è¿ç®—ç¬¦" aria-label="Permalink to â€œ3. ç©ºå€¼è¿ç®—ç¬¦??â€">&#8203;</a></h3>
<p>å¼€å‘ä¸­é€šå¸¸ä¼šç”¨||å»åšå˜é‡æˆ–è€…å€¼åˆå§‹åŒ–ï¼Œä½†æ˜¯å¯¹äºç©ºä¸²å’Œ0è¿™äº›æœ‰æ„ä¹‰å€¼ï¼Œä¼šæœ‰ä¸€äº›æ„æ–™ä¹‹å¤–çš„ç»“æœæ­¤æ—¶å°±å¯ä»¥ç”¨??å»æ›¿ä»£</p>
<p>?? è¿ç®—ç¬¦åªä¼šæŠŠ null å’Œ undefined åˆ¤æ–­ä¸º false</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::g608m36r9lnt3dzf22hvnl::--><code>const user = {
    name: &#039;xiaoming&#039;,
    age: &#039;&#039;,
    height: 0
};
console.log(user.name || &#039;abc&#039;); // xiaoming
console.log(user.age || 18); // 18
console.log(user.height || 180); // 180
// ä½¿ç”¨??
console.log(user.name ?? &#039;abc&#039;); // xiaoming
console.log(user.age ?? 18); // 
console.log(user.height ?? 180); // 0</code></pre>
</div><h3 id="_4-å¯é€‰é“¾è¿ç®—ç¬¦" tabindex="-1">4. å¯é€‰é“¾è¿ç®—ç¬¦?. <a class="header-anchor" href="#_4-å¯é€‰é“¾è¿ç®—ç¬¦" aria-label="Permalink to â€œ4. å¯é€‰é“¾è¿ç®—ç¬¦?.â€">&#8203;</a></h3>
<p>å½“éœ€è¦è®¿é—®åµŒå¥—åœ¨å¯¹è±¡å†…éƒ¨å¥½å‡ å±‚çš„å±æ€§æ—¶,ä¸ºäº†é¿å…å‡ºç°undefindçš„æŠ¥é”™ä¼šä½¿ç”¨&amp;&amp;å»å¤„ç†ä»£ç </p>
<p>ä½¿ç”¨å¯é€‰é“¾å¯è®©ä»£ç æ›´åŠ ç®€æ´æ˜äº†</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::56qnolnhc85wry5d7bj3z::--><code>let data = {}
// &amp;&amp;
console.log(data &amp;&amp; data.a &amp;&amp; data.a.b);

// ?.
console.log(data?.a?.b);</code></pre>
</div><h3 id="_5-globalthis" tabindex="-1">5. globalThis <a class="header-anchor" href="#_5-globalthis" aria-label="Permalink to â€œ5. globalThisâ€">&#8203;</a></h3>
<p>globalThis ç›®çš„å°±æ˜¯æä¾›ä¸€ç§æ ‡å‡†åŒ–æ–¹å¼è®¿é—®å…¨å±€å¯¹è±¡ï¼Œæœ‰äº† globalThis åï¼Œä½ å¯ä»¥åœ¨ä»»æ„ä¸Šä¸‹æ–‡ï¼Œä»»æ„æ—¶åˆ»éƒ½èƒ½è·å–åˆ°å…¨å±€å¯¹è±¡</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::2gi755qr8knfcoezcrha0l::--><code>// worker.js
globalThis === self
// node.js
globalThis === global
// browser.js
globalThis === window</code></pre>
</div><h2 id="es2019-es10" tabindex="-1">ES2019/ES10 <a class="header-anchor" href="#es2019-es10" aria-label="Permalink to â€œES2019/ES10â€">&#8203;</a></h2>
<h3 id="_1-array-flat" tabindex="-1">1. Array.flat <a class="header-anchor" href="#_1-array-flat" aria-label="Permalink to â€œ1. Array.flatâ€">&#8203;</a></h3>
<p>å±•å¼€æ•°ç»„</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::7nm2q9jacpo757d8um833y::--><code>let arr = [1, 2, 3, [4, 5, 6, [7, 8, 9, [10, 11, 12]]]];

arr.flat(); // [1, 2, 3, 4, 5, 6, Array(4)];

arr.flat().flat(); // [1, 2, 3, 4, 5, 6, 7, 8, 9, Array(3)];

arr.flat(3); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]

// å±•å¼€ä»»æ„å±‚çº§
arr.flat(Infinity); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]</code></pre>
</div><h3 id="_2-array-flatmap" tabindex="-1">2. Array.flatMap <a class="header-anchor" href="#_2-array-flatmap" aria-label="Permalink to â€œ2. Array.flatMapâ€">&#8203;</a></h3>
<p>ä¸ES6Array.Map()æ–¹æ³•ç›¸åŒï¼Œä½†åŒæ—¶ä¹Ÿæ”¯æŒå±•å¹³ã€‚è¯¥Array.flatMap()æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå±•å¹³ä¸ºæ–°æ•°ç»„</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::735t7wk2xm9l025hcz5s::--><code>let arr = [1, 2, 3, 4, 5];

arr.map(x =&gt; [x, x * 2]);
// [Array(2), Array(2), Array(2)]
// 0: (2)[1, 2]
// 1: (2)[2, 4]
// 2: (2)[3, 6]

arr.flatMap(v =&gt; [v, v * 2]);
// [1, 2, 2, 4, 3, 6, 4, 8, 5, 10]</code></pre>
</div><h3 id="_3-string-trimstart-string-trimend" tabindex="-1">3. String.trimStart() &amp; String.trimEnd() <a class="header-anchor" href="#_3-string-trimstart-string-trimend" aria-label="Permalink to â€œ3. String.trimStart() &amp; String.trimEnd()â€">&#8203;</a></h3>
<p>String.trimStart()å¯ç”¨äºä»å­—ç¬¦ä¸²çš„å¼€å¤´å»æ‰ç©ºç™½ã€‚String.trimEnd()å¯ç”¨äºä»å­—ç¬¦ä¸²çš„å°¾éƒ¨å»æ‰ç©ºç™½</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::135awto1h2oa1943ei9h3ui::--><code>let  greeting =  &quot;    Hello everyone&quot;;

console.log(greeting.trimStart());
// &quot;Hello everyone&quot;</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ravto4a5wuo4lp0dti8xi::--><code>let greeting = &quot;Hello world    &quot;;

console.log(greeting.trimEnd());
// &quot;Hello world&quot;</code></pre>
</div><h3 id="_4-å¯é€‰-catch-binding" tabindex="-1">4. å¯é€‰ Catch Binding <a class="header-anchor" href="#_4-å¯é€‰-catch-binding" aria-label="Permalink to â€œ4. å¯é€‰ Catch Bindingâ€">&#8203;</a></h3>
<p>å…è®¸å¼€å‘äººå‘˜åœ¨catchå—ä¸­ï¼Œä¸ä½¿ç”¨errorå‚æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨try/catch</p>
<p>ES2019ä¹‹å‰</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ub5lm4gcigdytqjmgnh0fs::--><code>try {
  // some code
}
catch (err) {
  // error handling code
}</code></pre>
</div><p>ç°åœ¨å¯ä»¥</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::htioeen4t9ecw5subeb55v::--><code>try  {
  // some code
}
catch {
  // error handling code
}</code></pre>
</div><h3 id="_5-object-fromentries" tabindex="-1">5. Object.fromEntries <a class="header-anchor" href="#_5-object-fromentries" aria-label="Permalink to â€œ5. Object.fromEntriesâ€">&#8203;</a></h3>
<p>Object.fromEntries()åˆ›å»ºä¸€ä¸ªå¯¹è±¡æˆ–å°†é”®å€¼å¯¹è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚å®ƒåªæ¥å—Iterable</p>
<p>ä¾‹å¦‚ï¼šObject.fromEntries(someIterable)</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::jron0s7uaxhzcbk0t2sz1h::--><code>let entries = new Map([[&quot;name&quot;, &quot;john&quot;], [&quot;age&quot;, 22]]);

console.log(Object.fromEntries(entries));
// { name: &#039;john&#039;, age: 22 }</code></pre>
</div><h3 id="_6-symbol-description" tabindex="-1">6. Symbol.description <a class="header-anchor" href="#_6-symbol-description" aria-label="Permalink to â€œ6. Symbol.descriptionâ€">&#8203;</a></h3>
<p>åªè¯»æè¿°å±æ€§ï¼Œæ˜¯ä¸€ä¸ªè¿”å›Symbolå¯¹è±¡çš„å¯é€‰æè¿°çš„å­—ç¬¦ä¸²</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::l5dybgb5q8k3592n1m3pso::--><code>let mySymbol = `My Symbol`;

let symObj = Symbol(mySymbol);

console.log(symObj) // Symbol(mySymbol);

console.log(String(symObj) === `Symbol(${mySymbol})`); // true

console.log(symObj.description); // &quot;My Symbol&quot;</code></pre>
</div><h2 id="es2018-es9" tabindex="-1">ES2018/ES9 <a class="header-anchor" href="#es2018-es9" aria-label="Permalink to â€œES2018/ES9â€">&#8203;</a></h2>
<h3 id="_1-for-await-of" tabindex="-1">1. for await of <a class="header-anchor" href="#_1-for-await-of" aria-label="Permalink to â€œ1. for await ofâ€">&#8203;</a></h3>
<p>for ofæ–¹æ³•èƒ½å¤Ÿéå†å…·æœ‰Symbol.iteratoræ¥å£çš„åŒæ­¥è¿­ä»£å™¨æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½éå†å¼‚æ­¥è¿­ä»£å™¨</p>
<p>for await ofå¯ä»¥ç”¨æ¥éå†å…·æœ‰Symbol.asyncIteratoræ–¹æ³•çš„æ•°æ®ç»“æ„ï¼Œä¹Ÿå°±æ˜¯å¼‚æ­¥è¿­ä»£</p>
<p><strong>for oféå†</strong></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::f71beiumpm5j28gac83uoh::--><code>function d(timeout: number) {
    return new Promise((res, rej) =&gt; {
        setTimeout(() =&gt; {
            res(timeout)
        }, timeout)
    })
}
let data = [d(1000), d(500), d(1200)]

for (const v of data) {
    v.then(console.log)
}
// 500
// 1000
// 1200</code></pre>
</div><p><strong>for await of</strong></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::sy8hp1opgufetr8iy20qc::--><code>function d(timeout: number) {
    return new Promise((res, rej) =&gt; {
        setTimeout(() =&gt; {
            res(timeout)
        }, timeout)
    })
}
let data = [d(1000), d(500), d(1200)]
async function test() {
    for await (const v of data) {
        console.log(v);
    }
}
test();
// 1000
// 500
// 1200</code></pre>
</div><h3 id="_2-æ–°çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ€§" tabindex="-1">2. æ–°çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ€§ <a class="header-anchor" href="#_2-æ–°çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ€§" aria-label="Permalink to â€œ2. æ–°çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ€§â€">&#8203;</a></h3>
<p><strong>2.1 s(dotAll)æ¨¡å¼</strong></p>
<p>å…ƒå­—ç¬¦<code>.</code>æ— æ³•åŒ¹é…æ¢è¡Œç¬¦,å¯ä»¥é€šè¿‡ s(doAll)flagè§£å†³</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::vgmkhqtyimqz0l688y6v::--><code>console.log(/foo.bar/.test(&#039;foo\nbar&#039;)); // false

// ä½¿ç”¨ s
console.log(/foo.bar/s.test(&#039;foo\nbar&#039;)); // true</code></pre>
</div><p><strong>2.2 å‘½åæ•è·ç»„</strong></p>
<p>åœ¨ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ï¼Œä½¿ç”¨æ•°å­—è¿›è¡ŒåŒ¹é…å¯èƒ½ä¼šä»¤äººæ··æ·†</p>
<p>å‘½åæ•è·ç»„ï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ï¼Œæ—¢ä¾¿äºé˜…è¯»ä»£ç ï¼Œåˆä¾¿äºå¼•ç”¨</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::nu6d6g9ghg8yv0bux1623i::--><code>const re = /(\d{4})-(\d{2})-(\d{2})/;
const match= re.exec(&#039;2020-01-01&#039;);
console.log(match[0]);    // 2020-01-01
console.log(match[1]);    // 2020
console.log(match[2]);    // 01
console.log(match[3]);    // 01</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::n3pcbjnq2wd7jwqc4zpwh9::--><code>const re = /(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/;
const match = re.exec(&#039;2020-01-01&#039;);
console.log(match.groups);          // { year: &#039;2020&#039;, month: &#039;01&#039;, day: &#039;01&#039; }
console.log(match.groups.year);     // 2020
console.log(match.groups.month);    // 01
console.log(match.groups.day);      // 01</code></pre>
</div><p>ä½¿ç”¨replace</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::sv8hcp1a6d9bs4ihmv46bb::--><code>const re = /(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/
console.log(&#039;2020-09-01&#039;.replace(re, &#039;$&lt;month&gt;-$&lt;day&gt;-$&lt;year&gt;&#039;)) // 09-01-2020</code></pre>
</div><h2 id="es2017-es8" tabindex="-1">ES2017/ES8 <a class="header-anchor" href="#es2017-es8" aria-label="Permalink to â€œES2017/ES8â€">&#8203;</a></h2>
<h3 id="_1-object-values-object-entries" tabindex="-1">1. Object.values()ï¼ŒObject.entries() <a class="header-anchor" href="#_1-object-values-object-entries" aria-label="Permalink to â€œ1. Object.values()ï¼ŒObject.entries()â€">&#8203;</a></h3>
<p>Object.valuesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶å€¼ç”±å¯¹è±¡çš„å€¼ç»„æˆ</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::opfeqnvs9h2edp90kk7po::--><code>const obj = { a: &#039;1&#039;, b: &#039;2&#039; }
console.log(Object.values(obj));
// [ &#039;1&#039;, &#039;2&#039; ]</code></pre>
</div><p>Object.entries()æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„,å…¶å€¼ä¸º[key,value]</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::39fssnx0pbty4ug12kp5gm::--><code>const obj = { a: &#039;1&#039;, b: &#039;2&#039; }
console.log(Object.entries(obj));
// [ [ &#039;a&#039;, &#039;1&#039; ], [ &#039;b&#039;, &#039;2&#039; ] ]</code></pre>
</div><h3 id="_2-string-padding" tabindex="-1">2. String padding <a class="header-anchor" href="#_2-string-padding" aria-label="Permalink to â€œ2. String paddingâ€">&#8203;</a></h3>
<p><strong>String.prototype.padStart</strong></p>
<p>åœ¨å­—ç¬¦ä¸²ä¹‹å‰è¡¥å…¨å­—ç¬¦</p>
<p><strong>String.prototype.padEnd</strong></p>
<p>åœ¨å­—ç¬¦ä¸²ä¹‹åè¡¥å…¨</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::a2dwfq1ddilnd9hwwn828o::--><code>console.log(&#039;llo&#039;.padStart(5, &#039;hello&#039;)); // hello
console.log(&#039;0&#039;.padEnd(5, &#039;123&#039;)); // 01231</code></pre>
</div><h3 id="_3-object-getownpropertydescriptors" tabindex="-1">3 Object.getOwnPropertyDescriptors() <a class="header-anchor" href="#_3-object-getownpropertydescriptors" aria-label="Permalink to â€œ3 Object.getOwnPropertyDescriptors()â€">&#8203;</a></h3>
<p>è·å–æŒ‡å®šå¯¹è±¡çš„å±æ€§æè¿°ç¬¦</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::dwalzx1e296fxy4apqjhx::--><code>const obj = { a: 1 };
console.log(Object.getOwnPropertyDescriptor(obj, &#039;a&#039;));
// { value: 1, writable: true, enumerable: true, configurable: true }</code></pre>
</div><h2 id="es2016-es7" tabindex="-1">ES2016/ES7 <a class="header-anchor" href="#es2016-es7" aria-label="Permalink to â€œES2016/ES7â€">&#8203;</a></h2>
<h3 id="_1-æ±‚å¹‚è¿ç®—ç¬¦" tabindex="-1">1. æ±‚å¹‚è¿ç®—ç¬¦** <a class="header-anchor" href="#_1-æ±‚å¹‚è¿ç®—ç¬¦" aria-label="Permalink to â€œ1. æ±‚å¹‚è¿ç®—ç¬¦**â€">&#8203;</a></h3>
<p>æ•ˆæœè·Ÿ<code>Math.pow(x,y)</code>ä¸€è‡´</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::4ki4weymwis5ykur3st0e::--><code>console.log(2**10); // 1024
console.log(Math.pow(2,10)); // 1024</code></pre>
</div><h3 id="_2-array-prototype-includes" tabindex="-1">2. Array.prototype.includes <a class="header-anchor" href="#_2-array-prototype-includes" aria-label="Permalink to â€œ2. Array.prototype.includesâ€">&#8203;</a></h3>
<p>ç”¨æ³•è·ŸString.prototype.includesä¸€è‡´ï¼Œå¯è¯»æ€§é«˜äºindexOf()</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::1unl1cd6t2frq98k1qrug::--><code>const arr = [1, 2, &#039;hello&#039;]
console.log(arr.includes(&#039;hello&#039;)); // true</code></pre>
</div><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to â€œå‚è€ƒâ€">&#8203;</a></h2>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/js-es2020" target="_blank" rel="noreferrer">What's new in ECMAScript 2020 (ES2020)</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/js-es2019" target="_blank" rel="noreferrer">What's new in ECMAScript 2019 (ES2019) / ES10</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for-await...of" target="_blank" rel="noreferrer">for await...of</a></li>
<li><a href="https://2ality.com/2017/05/regexp-named-capture-groups.html" target="_blank" rel="noreferrer">ES2018: RegExp named capture groups</a></li>
<li><a href="https://github.com/tc39/proposal-regexp-named-groups" target="_blank" rel="noreferrer">TC39:RegExp Named Capture Groups</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials?q=String+padding" target="_blank" rel="noreferrer">String padding</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noreferrer">Object.getOwnPropertyDescriptor()</a></li>
<li><a href="https://kangax.github.io/compat-table/es2016plus/" target="_blank" rel="noreferrer">compat-table/es2016plus/</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[è§£å†³Vite-Reacté¡¹ç›®ä¸­jsä½¿ç”¨jsxè¯­æ³•æŠ¥é”™çš„é—®é¢˜]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-react-js.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-react-js.html</guid>
            <pubDate>Tue, 12 Oct 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[èƒŒæ™¯
åœ¨åšå­˜é‡é¡¹ç›®æ¥å…¥Viteæµ‹è¯•æ—¶å‘ç°ï¼Œå­˜é‡ï¼ˆè€ï¼‰é¡¹ç›®ä¸­å¾ˆå¤šæ˜¯ç›´æ¥åœ¨jsä¸­ä¹¦å†™jsxè¯­æ³•ï¼Œä½¿ç”¨Viteå¯åŠ¨æ—¶å°±ä¼šæŠ›å‡ºä¸€å †é—®é¢˜`Failed to parse source`ã€‚
ä¸å«Œéº»çƒ¦å¯ä»¥è·‘ä¸ªè„šæœ¬æ‰¹]]></description>
            <content:encoded><![CDATA[<h1 id="è§£å†³vite-reacté¡¹ç›®ä¸­jsä½¿ç”¨jsxè¯­æ³•æŠ¥é”™çš„é—®é¢˜" tabindex="-1">è§£å†³Vite-Reacté¡¹ç›®ä¸­jsä½¿ç”¨jsxè¯­æ³•æŠ¥é”™çš„é—®é¢˜ <a class="header-anchor" href="#è§£å†³vite-reacté¡¹ç›®ä¸­jsä½¿ç”¨jsxè¯­æ³•æŠ¥é”™çš„é—®é¢˜" aria-label="Permalink to â€œè§£å†³Vite-Reacté¡¹ç›®ä¸­jsä½¿ç”¨jsxè¯­æ³•æŠ¥é”™çš„é—®é¢˜â€">&#8203;</a></h1>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<p>åœ¨åšå­˜é‡é¡¹ç›®æ¥å…¥Viteæµ‹è¯•æ—¶å‘ç°ï¼Œå­˜é‡ï¼ˆè€ï¼‰é¡¹ç›®ä¸­å¾ˆå¤šæ˜¯ç›´æ¥åœ¨jsä¸­ä¹¦å†™jsxè¯­æ³•ï¼Œä½¿ç”¨Viteå¯åŠ¨æ—¶å°±ä¼šæŠ›å‡ºä¸€å †é—®é¢˜<code>Failed to parse source</code>ã€‚</p>
<p>ä¸å«Œéº»çƒ¦å¯ä»¥è·‘ä¸ªè„šæœ¬<strong>æ‰¹é‡ä¿®æ”¹æ–‡ä»¶ç±»å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªè§£å†³åŠæ³•</strong>ã€‚</p>
<p>ä¸ºäº†åˆ¨æ ¹çŸ¥åº•ï¼ŒåŒæ—¶ä¸ºäº†å­˜é‡é¡¹ç›®æœ€ä½æˆæœ¬çš„æ¥å…¥Viteä½¿ç”¨ï¼Œå°½åŠ›é¿å…ä¿®æ”¹ä¸šåŠ¡ä»£ç ã€‚å¾—å¯»æ‰¾å…¶å®ƒåŠæ³•è§£å†³ä¸€ä¸‹ã€‚</p>
<p>æŠ¥é”™æˆªå›¾å¦‚ä¸‹</p>
<p><img src="./vite-react-js/MTYzNDAxNjYxMzEyNg==634016613126.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="å¤ç°é—®é¢˜" tabindex="-1">å¤ç°é—®é¢˜ <a class="header-anchor" href="#å¤ç°é—®é¢˜" aria-label="Permalink to â€œå¤ç°é—®é¢˜â€">&#8203;</a></h2>
<p>åˆå§‹åŒ–demoé¡¹ç›®</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::kztbkvdpc9cacm9jphlaas::--><code># npm 6.x
npm init vite@latest my-react-app --template react-ts

# npm 7+, extra double-dash is needed:
npm init vite@latest my-react-app -- --template react-ts

# yarn
yarn create vite my-react-app --template react-ts</code></pre>
</div><p>ç›®å½•å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::zyxhv3s5jl7znll2y5xm3::--><code>â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ src
|  â”œâ”€â”€ App.css
|  â”œâ”€â”€ App.tsx
|  â”œâ”€â”€ favicon.svg
|  â”œâ”€â”€ index.css
|  â”œâ”€â”€ logo.svg
|  â”œâ”€â”€ main.tsx
|  â””â”€â”€ vite-env.d.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ vite.config.ts</code></pre>
</div><p>å¯åŠ¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::bt5ysjwlkmm9vh6g2hcu36::--><code>npm run dev</code></pre>
</div><p><img src="./vite-react-js/MTYzNDAxNTk3NjAwNQ==634015976005.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>é¡µé¢æ­£å¸¸ï¼Œæ¥ä¸‹æ¥å°†<code>App.tsx</code>ä¿®æ”¹ä¸º<code>App.js</code></p>
<p>å°†ä¼šå¾—åˆ°ä¸Šè¿°çš„æŠ¥é”™</p>
<p><img src="./vite-react-js/MTYzNDAxNjA0ODYwMw==634016048603.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="åŸå› " tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› " aria-label="Permalink to â€œåŸå› â€">&#8203;</a></h2>
<ol>
<li>Viteåœ¨å¯åŠ¨æ—¶ä¼šåš<a href="https://cn.vitejs.dev/guide/dep-pre-bundling.html#the-why" target="_blank" rel="noreferrer">ä¾èµ–çš„é¢„æ„å»º</a></li>
<li><code>é¢„æ„å»º</code>ï¼Œ<code>è¿è¡Œæ—¶</code>é»˜è®¤éƒ½åªä¼šå¯¹<code>jsx</code>ä¸<code>tsx</code>åšè¯­æ³•è½¬æ¢ã€‚ä¸ä¼šå¯¹jsåšjsxçš„è¯­æ³•è½¬æ¢ã€‚</li>
</ol>
<p><img src="./vite-react-js/MTYzNDAxNjg3ODYwMg==634016878602.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="è§£å†³æ–¹æ¡ˆ" tabindex="-1">è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to â€œè§£å†³æ–¹æ¡ˆâ€">&#8203;</a></h2>
<ol>
<li>ä¿®æ”¹ä¾èµ–é¢„æ„å»ºçš„é…ç½®</li>
<li>ä½¿ç”¨babelæ’ä»¶<code>@babel/plugin-transform-react-jsx</code>ï¼Œè®©Viteåœ¨è¿è¡Œæ—¶å¯¹jsæ–‡ä»¶è½¬æ¢</li>
</ol>
<p><img src="./vite-react-js/MTYzNDAxNzQyNDM2Mg==634017424362.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æŒ‰ç…§æ–‡æ¡£æè¿°åœ¨é…ç½®æ–‡ä»¶æ·»åŠ ä¸€ç‚¹é…ç½®</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::kp7o7d811xkfp3vdnwr2td::--><code>export default defineConfig({
  build:{
    rollupOptions:{
      input:[]
    }
  },
  optimizeDeps: {
    entries: [],
  },
})</code></pre>
</div><p>é€šè¿‡é˜…è¯»<code>@vite/plugin-react</code>çš„<a href="https://github.com/vitejs/vite/tree/main/packages/plugin-react" target="_blank" rel="noreferrer">æ–‡æ¡£</a>,å‘ç°å…¶æ”¯æŒä¼ å…¥babelæ’ä»¶</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::fe3guolmqu1y92wgflj9v::--><code>npm i @babel/plugin-transform-react-jsx</code></pre>
</div><p>æ·»åŠ æ’ä»¶</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::0mji1140xrfejdwc8khgpxs::--><code>import { defineConfig } from &#039;vite&#039;
import react from &#039;@vitejs/plugin-react&#039;

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react({
      babel: {
        plugins: [&#039;@babel/plugin-transform-react-jsx&#039;],
      },
  })],
})</code></pre>
</div><p>å†æ¬¡å¯åŠ¨éªŒè¯,å‘ç°ä¸€ä¸ªæŠ¥é”™</p>
<p><img src="./vite-react-js/MTYzNDAxNzg4NjY4OQ==634017886689.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åŸå› æ˜¯æ²¡æœ‰åœ¨App.jsä¸­å¼•å…¥<code>React</code>,å’±ä»¬å¼•å…¥ä¸€ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::pwg78asigoexj1e56kezj::--><code>import React,{ useState } from &#039;react&#039;</code></pre>
</div><p>å¤§åŠŸå‘Šæˆ</p>
<p><img src="./vite-react-js/MTYzNDAxODAxNTMxMw==634018015313.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>ä¸¤ç§å¤„ç†æ–¹æ¡ˆ</p>
<ol>
<li>æ–‡ä»¶åç¼€ js =&gt; jsx</li>
<li>ä¿®æ”¹ä¾èµ–é¢„æ„å»ºé…ç½®ï¼Œå†æ·»åŠ babelæ’ä»¶<code>@babel/plugin-transform-react-jsx</code></li>
</ol>
<p>ç¬¬äºŒç§æ–¹æ³•ä¼šä¸€å®šç¨‹åº¦å½±å“é¡¹ç›®çš„å¯åŠ¨é€Ÿåº¦ã€‚è¯»è€…å¯ä»¥æ ¹æ®å®é™…é¡¹ç›®æƒ…å†µpickæ–¹æ¡ˆ</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºå…±äº«/äº¤æµåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¥å…¥Viteæ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ä¸æ€»ç»“çš„ç»éªŒ</p>
<ul>
<li><a href="https://github.com/ATQQ/demos/tree/main/vite-react-js" target="_blank" rel="noreferrer">æºç åœ°å€</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/vite-react-js/MTYzNDAxNjYxMzEyNg==634016613126.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šWeb-SDK/Library]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/tpl/web-sdk-tpl.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/tpl/web-sdk-tpl.html</guid>
            <pubDate>Tue, 05 Oct 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[æ­¤ç³»åˆ—ä¼šä¸æ—¶ä¿±è¿›çš„ä¸æ–­æ›´æ–°
åŒ…å«Node/Web SDKï¼Œå•ç»„ä»¶ï¼Œç»„ä»¶åº“ï¼ŒEslintæ’ä»¶ï¼ŒWebpackæ’ä»¶ï¼ŒViteæ’ä»¶ï¼ŒMonoRepoç­‰ç­‰å·¥ç¨‹åŒ–ç›¸å…³èƒ½åŠ›çš„æ¨¡æ¿å»ºè®¾
 å‰è¨€
åœ¨Webå¼€å‘ä¸­ï¼Œé€šå¸¸]]></description>
            <content:encoded><![CDATA[<h1 id="æ¨¡æ¿å·¥ç¨‹æ­å»º-web-sdk-library" tabindex="-1">æ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šWeb-SDK/Library <a class="header-anchor" href="#æ¨¡æ¿å·¥ç¨‹æ­å»º-web-sdk-library" aria-label="Permalink to â€œæ¨¡æ¿å·¥ç¨‹æ­å»ºï¼šWeb-SDK/Libraryâ€">&#8203;</a></h1>
<p>æ­¤ç³»åˆ—ä¼šä¸æ—¶ä¿±è¿›çš„ä¸æ–­æ›´æ–°</p>
<p>åŒ…å«Node/Web SDKï¼Œå•ç»„ä»¶ï¼Œç»„ä»¶åº“ï¼ŒEslintæ’ä»¶ï¼ŒWebpackæ’ä»¶ï¼ŒViteæ’ä»¶ï¼ŒMonoRepoç­‰ç­‰å·¥ç¨‹åŒ–ç›¸å…³èƒ½åŠ›çš„æ¨¡æ¿å»ºè®¾</p>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨Webå¼€å‘ä¸­ï¼Œé€šå¸¸ä¼šæŠŠä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œä¸€ä¸ªæŠ€æœ¯äº§å“åšæˆä¸€ä¸ªSDKæˆ–è€…Libraryï¼ˆåº“ï¼‰çš„å½¢å¼ï¼Œæ–¹ä¾¿è°ƒç”¨æ–¹ç›´æ¥æ¥å…¥ä½¿ç”¨</p>
<p>å…¶ä¸­åº“/SDKåˆåˆ†ä¸ºæ¡†æ¶ç›¸å…³å’Œæ¡†æ¶æ— å…³çš„ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»<strong>æ¡†æ¶æ— å…³çš„ Web JS SDK/Library</strong>å·¥ç¨‹æ¨¡æ¿æ­å»ºï¼Œä¸‹æ–‡ç»Ÿç§°ä¸º<code>Libï¼ˆåº“ï¼‰</code></p>
<h2 id="ä¸€ç‚¹å®šä¹‰" tabindex="-1">ä¸€ç‚¹å®šä¹‰ <a class="header-anchor" href="#ä¸€ç‚¹å®šä¹‰" aria-label="Permalink to â€œä¸€ç‚¹å®šä¹‰â€">&#8203;</a></h2>
<p>äº§å“å®šä½æ˜¯SDKè¿˜æ˜¯å·¥å…·åº“ï¼Œå–å†³äºæ„å»ºäº§ç‰©çš„åŠŸèƒ½ä¸é€‚ç”¨èŒƒå›´ï¼Œä¸¤è€…ä¹‹é—´çš„å®šä½ä¸ç»å¯¹ï¼Œå·¥å…·åº“åœ¨ä¸æ–­çš„è¿­ä»£è¿‡ç¨‹ä¸­ä¹Ÿå¯å˜ä¸ºä¸€ä¸ªSDK</p>
<h3 id="sdk-è½¯ä»¶å¼€å‘å·¥å…·åŒ…" tabindex="-1">SDKï¼ˆè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼‰ <a class="header-anchor" href="#sdk-è½¯ä»¶å¼€å‘å·¥å…·åŒ…" aria-label="Permalink to â€œSDKï¼ˆè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼‰â€">&#8203;</a></h3>
<p>åŒ…å«ä¸€äº›åˆ—åŠŸèƒ½çš„åº“ï¼Œè¿™äº›åŠŸèƒ½é€šå¸¸ç”±å¤šä¸ªåº“æˆ–è€…sdkç»„åˆæä¾›</p>
<p>å¦‚ä¸€ä¸ªè·å–å¤©æ°”çš„SDKï¼Œå¯èƒ½åŒ…å«å®šä½sdkï¼Œç½‘ç»œè¯·æ±‚åº“ï¼Œèµ„æºå¤„ç†åº“ï¼Œæ•°æ®åº“æ“ä½œsdkç­‰</p>
<h3 id="lib-åº“" tabindex="-1">Libï¼ˆåº“ï¼‰ <a class="header-anchor" href="#lib-åº“" aria-label="Permalink to â€œLibï¼ˆåº“ï¼‰â€">&#8203;</a></h3>
<p>åº“æ˜¯åŠŸèƒ½çš„é›†åˆï¼Œå¦‚<code>chalk</code>,<code>loadsh</code>,<code>debug</code>ç­‰ç­‰å¸¸ç”¨å·¥å…·åº“ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—çš„å·¥å…·æ–¹æ³•æˆ–è€…æŸä¸€ç±»åŠŸèƒ½çš„æ–¹æ³•é›†åˆ</p>
<h2 id="åº“è¿è¡Œç¯å¢ƒ" tabindex="-1">åº“è¿è¡Œç¯å¢ƒ <a class="header-anchor" href="#åº“è¿è¡Œç¯å¢ƒ" aria-label="Permalink to â€œåº“è¿è¡Œç¯å¢ƒâ€">&#8203;</a></h2>
<p>é€šå¸¸æ˜¯åœ¨æµè§ˆå™¨æˆ–è€…Webviewæ§ä»¶ä¸­</p>
<h2 id="ä½¿ç”¨æ–¹æ³•" tabindex="-1">ä½¿ç”¨æ–¹æ³• <a class="header-anchor" href="#ä½¿ç”¨æ–¹æ³•" aria-label="Permalink to â€œä½¿ç”¨æ–¹æ³•â€">&#8203;</a></h2>
<h3 id="cdn" tabindex="-1">CDN <a class="header-anchor" href="#cdn" aria-label="Permalink to â€œCDNâ€">&#8203;</a></h3>
<blockquote>
<p>é™æ€èµ„æºé€šå¸¸ä½¿ç”¨<code>OSS</code>å­˜å‚¨ï¼Œé€šè¿‡<code>CDN</code>ä¸‹å‘ï¼Œæ‰€ä»¥é€šå¸¸å«åš<code>é€šè¿‡CDNå¼•å…¥èµ„æº</code></p>
</blockquote>
<p>åœ¨<code>html</code>æ¨¡æ¿ä¸­é€šè¿‡<code>script</code>å¼•å…¥åº“çš„jsèµ„æºï¼ŒæŸäº›è¿˜éœ€å¼•å…¥ç›¸åº”çš„cssèµ„æº</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::b64bb9n7tvrgctgquvkf::--><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.example.com/path/sdk-version/sdk-name/style.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.example.com/path/sdk-version/sdk-name.css&quot;&gt;

&lt;script src=&quot;//cdn.example.com/path/sdk-version/sdk-name/index.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;//cdn.example.com/path/sdk-version/sdk-name/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;//cdn.example.com/path/sdk-version/sdk-name.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;//cdn.example.com/path/sdk-version/sdk-name.min.js&quot;&gt;&lt;/script&gt;</code></pre>
</div><h3 id="npm-package" tabindex="-1">NPM Package <a class="header-anchor" href="#npm-package" aria-label="Permalink to â€œNPM Packageâ€">&#8203;</a></h3>
<p>ç°ä»£å‰ç«¯å¼€å‘é€šå¸¸éƒ½ä¼šä½¿ç”¨å‰ç«¯æ„å»ºå·¥å…·</p>
<p>å› æ­¤é™¤äº†é€šè¿‡CDNå¼•å…¥å¤–ï¼Œå°±æ˜¯é€šè¿‡<code>åŒ…ç®¡ç†å·¥å…·</code>å°†åº“çš„ä¾èµ–å®‰è£…åˆ°é¡¹ç›®ä¸­ï¼Œç„¶ååœ¨æºç ä¸­è¿›è¡Œå¼•å…¥ä½¿ç”¨</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lfnp8ph9gzc41hwj7r28mg::--><code>import pkgName, { methodName } from &#039;pkgName&#039;
import &#039;pkgName/dist/style.css&#039;</code></pre>
</div><h2 id="å‡†å¤‡å·¥ä½œ" tabindex="-1">å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#å‡†å¤‡å·¥ä½œ" aria-label="Permalink to â€œå‡†å¤‡å·¥ä½œâ€">&#8203;</a></h2>
<h3 id="é¡¹ç›®åˆå§‹åŒ–" tabindex="-1">é¡¹ç›®åˆå§‹åŒ– <a class="header-anchor" href="#é¡¹ç›®åˆå§‹åŒ–" aria-label="Permalink to â€œé¡¹ç›®åˆå§‹åŒ–â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::9tzu72db32w05cu3k5172g5::--><code>mkdir web-lib-template

cd web-lib-template

npm init  -y</code></pre>
</div><h3 id="gitåˆå§‹åŒ–" tabindex="-1">Gitåˆå§‹åŒ– <a class="header-anchor" href="#gitåˆå§‹åŒ–" aria-label="Permalink to â€œGitåˆå§‹åŒ–â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::4r8rl9d5mrp65xv84k1jh7::--><code>git init</code></pre>
</div><p><code>.gitignore</code>å†…å®¹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ysljctxta5pqkjh8eej7::--><code>node_modules
dist</code></pre>
</div><h3 id="å®‰è£…ä¾èµ–" tabindex="-1">å®‰è£…ä¾èµ– <a class="header-anchor" href="#å®‰è£…ä¾èµ–" aria-label="Permalink to â€œå®‰è£…ä¾èµ–â€">&#8203;</a></h3>
<p>è¿™é‡Œä½¿ç”¨æ–°ä¸€ä»£çš„åŒ…ç®¡ç†å·¥å…· <a href="https://www.pnpm.cn/" target="_blank" rel="noreferrer">pnpm</a></p>
<p>å®‰è£…pnpmæŒ‡ä»¤</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::hnx6zrw8bqn3hcjsfrtync::--><code>npm install -g pnpm</code></pre>
</div><p>è£…ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::crq21h4dfdfp1kq8vimgud::--><code>pnpm add -D typescript rimraf vite eslint tslib core-js @rollup/plugin-typescript @microsoft/api-extractor</code></pre>
</div><ul>
<li><code>@microsoft/api-extractor</code>ï¼šæ±‡æ€»äº§ç‰©ä¸­çš„ç±»å‹å®šä¹‰</li>
<li><code>@rollup/plugin-typescript</code>ï¼šç”¨äºæ„å»ºé˜¶æ®µTSçš„è½¬æ¢</li>
<li><code>core-js</code>ï¼šç”¨äºjs polyfillæ”¯æŒ</li>
<li><code>tslib</code>ï¼šä¸ºTSæä¾›ä¸€äº›è¾…åŠ©æ–¹æ³•ï¼ŒRuntime library for TypeScript helper functions</li>
<li><code>eslint</code>ï¼šä»£ç è§„èŒƒ</li>
<li><code>vite</code>ï¼šå¼€å‘é˜¶æ®µæµ‹è¯•ï¼Œä¸åº“çš„æœ€ç»ˆæ„å»ºï¼ˆRollupæä¾›æ„å»ºèƒ½åŠ›ï¼‰</li>
<li><code>rimraf</code>ï¼šæ›¿ä»£<code>rm -rf</code>æŒ‡ä»¤ç”¨äºæ¸…ç†ä¸éœ€è¦çš„èµ„æº</li>
<li><code>typescript</code>ï¼šTSæ”¯æŒ</li>
</ul>
<h3 id="typescripté…ç½®" tabindex="-1">typescripté…ç½® <a class="header-anchor" href="#typescripté…ç½®" aria-label="Permalink to â€œtypescripté…ç½®â€">&#8203;</a></h3>
<p>åˆ›å»º<code>tsconfig.json</code>é…ç½®æ–‡ä»¶</p>
<p>åªåŒ…å«ä¸€äº›åŸºç¡€é…ç½®ä¿¡æ¯ï¼Œå…¶ä¸­</p>
<ul>
<li><code>declarationDir</code>ï¼šæ ‡è¯†ç±»å‹å®šæ–‡ä»¶çš„è¾“å‡ºç›®å½•</li>
</ul>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::9snvu0g8cgu55ekz5xsjhp::--><code>{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;ESNext&quot;,
    &quot;module&quot;: &quot;ESNext&quot;,
    &quot;lib&quot;: [&quot;ESNext&quot;, &quot;DOM&quot;],
    &quot;moduleResolution&quot;: &quot;Node&quot;,
    &quot;strict&quot;: true,
    &quot;sourceMap&quot;: true,
    &quot;resolveJsonModule&quot;: true,
    &quot;esModuleInterop&quot;: true,
    &quot;noImplicitThis&quot;: false,
    &quot;noImplicitAny&quot;: false,
    &quot;declaration&quot;: true,
    &quot;declarationDir&quot;: &quot;./dist&quot;,
    &quot;noUnusedLocals&quot;: true,
    &quot;noUnusedParameters&quot;: true,
    &quot;noImplicitReturns&quot;: true,
    &quot;downlevelIteration&quot;: true,
  },
  &quot;include&quot;: [
    &quot;src/**/*&quot;,
   ],
  &quot;exclude&quot;: [
    &quot;node_modules&quot;
  ]
}</code></pre>
</div><h3 id="åˆå§‹åŒ–srcæºç ç›®å½•" tabindex="-1">åˆå§‹åŒ–srcæºç ç›®å½• <a class="header-anchor" href="#åˆå§‹åŒ–srcæºç ç›®å½•" aria-label="Permalink to â€œåˆå§‹åŒ–srcæºç ç›®å½•â€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::3vur4hmy8fy3pt9fdlvf7s::--><code>src
â”œâ”€â”€ constants
|  â””â”€â”€ index.ts
â”œâ”€â”€ index.ts
â”œâ”€â”€ lib
|  â””â”€â”€ pkg.ts
â”œâ”€â”€ styles
|  â”œâ”€â”€ index.css
|  â””â”€â”€ second.css
â”œâ”€â”€ types
|  â””â”€â”€ index.ts
â””â”€â”€ utils
   â””â”€â”€ index.ts</code></pre>
</div><p>ä¸€ç‚¹è¯´æ˜</p>
<ul>
<li><code>æ–‡ä»¶ src/index.ts</code>ï¼šä¸»è¦ç”¨äºæ¨¡å—å†…å®¹çš„å¯¼å‡º</li>
<li><code>ç›®å½• src/lib</code>ï¼šä¸»è¦ç”¨äºå­˜æ”¾åº“çš„æ ¸å¿ƒæºç </li>
<li><code>ç›®å½• src/types</code>ï¼šTSå®šä¹‰æ–‡ä»¶</li>
<li><code>ç›®å½• src/styles</code>ï¼šæ ·å¼æ–‡ä»¶</li>
<li><code>ç›®å½• src/constants</code>ï¼šå¸¸é‡</li>
<li><code>ç›®å½• src/utils</code>ï¼šå·¥å…·æ–¹æ³•</li>
</ul>
<p>ç®€å•æ·»åŠ ä¸€äº›æºç ï¼Œå®Œæ•´è¯·ç§»æ­¥<a href="https://github.com/ATQQ/web-lib-template" target="_blank" rel="noreferrer">GitHub</a></p>
<p><code>src/index.ts</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::svk2idnru1w6kx66b6rwp::--><code>export { default } from &#039;./lib/pkg&#039;;
export type { DataItem } from &#039;./types/index&#039;;</code></pre>
</div><h2 id="æ„å»ºç›¸å…³é…ç½®" tabindex="-1">æ„å»ºç›¸å…³é…ç½® <a class="header-anchor" href="#æ„å»ºç›¸å…³é…ç½®" aria-label="Permalink to â€œæ„å»ºç›¸å…³é…ç½®â€">&#8203;</a></h2>
<h3 id="viteé…ç½®" tabindex="-1">Viteé…ç½® <a class="header-anchor" href="#viteé…ç½®" aria-label="Permalink to â€œViteé…ç½®â€">&#8203;</a></h3>
<p><code>vite.config.js</code>æ–‡ä»¶</p>
<ul>
<li>Viteæ„å»ºèƒ½åŠ›ç”±Rollupæä¾›ï¼Œå› æ­¤å¤§éƒ¨åˆ†Rollupæ’ä»¶å¯ä»¥ç›´æ¥å¤ç”¨</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::smhuhc0dny7f1bygrkmav::--><code>const path = require(&#039;path&#039;);
const typescript = require(&#039;@rollup/plugin-typescript&#039;);
const { defineConfig } = require(&#039;vite&#039;);

const libName = &#039;LibName&#039;;
const bundlePrefix = &#039;index&#039;;

// å…¥å£
const entry = path.resolve(__dirname, &#039;src/index.ts&#039;);

module.exports = defineConfig({
  plugins: [
    typescript({
      target: &#039;es5&#039;,
      include: [&#039;src/**/*.ts&#039;],
      esModuleInterop: true,
      module: &#039;esnext&#039;,
    }),
  ],
  build: {
    sourcemap: true,
    outDir: &#039;dist&#039;,
    minify: &#039;esbuild&#039;,
    lib: {
      entry,
      name: libName,
      formats: [&#039;umd&#039;, &#039;cjs&#039;, &#039;es&#039;],
      fileName: (format) =&gt; {
        if (format === &#039;umd&#039;) {
          return `${bundlePrefix}.min.js`;
        }
        return `${bundlePrefix}.${format}.js`;
      },
    },
    rollupOptions: {
      input: entry,
      output: {
        exports: &#039;auto&#039;,
      },
    },
  },
  server: {
    host: &#039;0.0.0.0&#039;,
  },
});</code></pre>
</div><p><code>build</code>ä¸‹çš„é…ç½®é‡Šä¹‰</p>
<ul>
<li>outDirï¼šæ„å»ºè¾“å‡ºç›®å½•</li>
<li>lib
<ul>
<li>entryï¼šæ„å»ºå…¥å£æ–‡ä»¶<code>src/index.ts</code></li>
<li>nameï¼šåº“çš„åç§°ï¼ŒæŒ‚è½½åœ¨<code>globalThis</code>ä¸Šçš„åç§°</li>
<li>formatsï¼šäº§ç‰©åŒ…å«çš„æ ¼å¼ï¼Œè¿™é‡ŒæŒ‡å®šäº†å¸¸è§çš„4ç§</li>
<li>fileNameï¼šé’ˆå¯¹ä¸åŒæ ¼å¼ï¼Œä¿®æ”¹ä¸€ä¸‹äº§ç‰©çš„åç§°</li>
</ul>
</li>
</ul>
<h3 id="å®Œå–„pkg-json" tabindex="-1">å®Œå–„pkg.json <a class="header-anchor" href="#å®Œå–„pkg-json" aria-label="Permalink to â€œå®Œå–„pkg.jsonâ€">&#8203;</a></h3>
<p><code>package.json</code></p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::f55zefqe1qcoh3lbequqs::--><code>{
  &quot;main&quot;: &quot;dist/index.cjs.js&quot;,
  &quot;module&quot;: &quot;dist/index.es.js&quot;,
  &quot;types&quot;: &quot;dist/index.d.ts&quot;,
  &quot;scripts&quot;: {
    &quot;build:dev&quot;: &quot;vite build -w&quot;,
    &quot;build&quot;: &quot;rimraf dist &amp;&amp; vite build&quot;,
  },
}</code></pre>
</div><ol>
<li>æ·»åŠ æ„å»ºç›¸å…³æŒ‡ä»¤
<ul>
<li>å…¶ä¸­ <code>build:dev</code>ä¸»è¦ç”¨äºå¼€å‘è°ƒè¯•ï¼Œç›‘å¬æ–‡ä»¶å˜æ›´ï¼Œæœ‰å˜æ›´è‡ªåŠ¨è¿›è¡Œé‡æ–°æ„å»º</li>
</ul>
</li>
<li>è¡¨æ˜å…¥å£æ–‡ä»¶ä¿¡æ¯
<ul>
<li><code>main</code>ï¼šè®¾ç½®cjsè§„èŒƒçš„æ–‡ä»¶</li>
<li><code>module</code>ï¼›è®¾ç½®ESMè§„èŒƒçš„æ–‡ä»¶</li>
</ul>
</li>
</ol>
<h3 id="æ‰§è¡Œæ„å»º" tabindex="-1">æ‰§è¡Œæ„å»º <a class="header-anchor" href="#æ‰§è¡Œæ„å»º" aria-label="Permalink to â€œæ‰§è¡Œæ„å»ºâ€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::azborlaf1xdyocvnjgcx::--><code>npm run build:dev</code></pre>
</div><h3 id="äº§ç‰©è¯´æ˜" tabindex="-1">äº§ç‰©è¯´æ˜ <a class="header-anchor" href="#äº§ç‰©è¯´æ˜" aria-label="Permalink to â€œäº§ç‰©è¯´æ˜â€">&#8203;</a></h3>
<p>æ„å»ºäº§ç‰©å¦‚ä¸‹</p>
<p><img src="./web-sdk-tpl/MTYzMzUzMjA5MTQ4MQ==633532091481.png" alt="å›¾ç‰‡" loading="lazy"></p>
<ul>
<li>*.cjs.jsï¼šæ„å»ºå·¥å…·å¼•ç”¨</li>
<li>*.es.jsï¼šæ”¯æŒESMçš„æ„å»ºå·¥å…·ä½¿ç”¨</li>
<li>index.min.jsï¼šCDNå¼•å…¥ä½¿ç”¨ï¼Œå…¶ä¸­UMDå…¼å®¹AMDï¼ŒcommonJSï¼Œå…¨å±€å¼•ç”¨ç­‰ç­‰æ–¹å¼</li>
</ul>
<h3 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to â€œæ³¨æ„äº‹é¡¹â€">&#8203;</a></h3>
<p>é’ˆå¯¹<code>index.min.js</code>ï¼ˆCDNå¼•å…¥ä½¿ç”¨ï¼‰çš„ä¸€ç‚¹è¯´æ˜</p>
<p>å…¥å£æ–‡ä»¶é™¤ç±»å‹å¯¼å‡ºå¤–ï¼Œå¦‚æœåªåŒ…å«<code>export default VarName1</code>ï¼Œé‚£ä¹ˆ<code>globalThis.LibName</code>å°±ç­‰äº<code>VarName1</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::7mpydznup68dsi5spvgswh::--><code>export type { DataItem } from &#039;./types/index&#039;;
export default function Demo1() {}

// ç¼–è¯‘å
(function(global, factory) {
  typeof exports === &quot;object&quot; &amp;&amp; typeof module !== &quot;undefined&quot; ? module.exports = factory() : typeof define === &quot;function&quot; &amp;&amp; define.amd ? define(factory) : (global = typeof globalThis !== &quot;undefined&quot; ? globalThis : global || self, global.LibName = factory());
})(this, function() {
  &quot;use strict&quot;;
  function Demo1() {
  }
  return Demo1;
});</code></pre>
</div><p>å¦‚æœåŒ…å«å…¶å®ƒå¯¼å‡º<code>export const vaeName2</code>ï¼Œé‚£ä¹ˆ<code>globalThis.LibName</code>å°±ç­‰äº<code>VarName1.default</code></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::n68475xv6mkgub4prni6::--><code>export type { DataItem } from &#039;./types/index&#039;;
export default function Demo1() {}
export function Demo2() {}

// ç¼–è¯‘å
(function(global, factory) {
  typeof exports === &quot;object&quot; &amp;&amp; typeof module !== &quot;undefined&quot; ? factory(exports) : typeof define === &quot;function&quot; &amp;&amp; define.amd ? define([&quot;exports&quot;], factory) : (global = typeof globalThis !== &quot;undefined&quot; ? globalThis : global || self, factory(global.LibName = {}));
})(this, function(exports2) {
  &quot;use strict&quot;;
  function Demo1() {
  }
  function Demo2() {
  }
  exports2.Demo2 = Demo2;
  // å…³é”®ä»£ç 
  exports2[&quot;default&quot;] = Demo1;
  Object.defineProperty(exports2, &quot;__esModule&quot;, { value: true });
  exports2[Symbol.toStringTag] = &quot;Module&quot;;
});</code></pre>
</div><p>å¦‚æœçš„ç¡®éœ€è¦æœ‰å¯¼å‡ºå¤šä¸ªï¼Œé‚£ä¹ˆå»ºè®®</p>
<ul>
<li>æ–¹å¼1ï¼šéƒ½æ˜¯å…·åçš„å¯¼å‡º</li>
<li>æ–¹å¼2ï¼šé€šè¿‡defaultå¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«LibName</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::snep8kkc7em28u9mu00wst::--><code>// æ–¹å¼1
export function fun1(){}
export const var1 = 1
export class LibName{

}

// æ–¹å¼2
class LibName{

}
export default {
  fun1(){},
  var1:1,
  libName
}</code></pre>
</div><h2 id="å¼€å‘æµ‹è¯•" tabindex="-1">å¼€å‘æµ‹è¯• <a class="header-anchor" href="#å¼€å‘æµ‹è¯•" aria-label="Permalink to â€œå¼€å‘æµ‹è¯•â€">&#8203;</a></h2>
<h3 id="pkg" tabindex="-1">PKG <a class="header-anchor" href="#pkg" aria-label="Permalink to â€œPKGâ€">&#8203;</a></h3>
<p>åœ¨å·¥ç¨‹ä¸­æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼Œåœ¨å…¨å±€åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ï¼ˆæ‰§è¡Œä¸€æ¬¡å³å¯ï¼‰</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::6luyvc37e6hjkcv418hmqk::--><code>npm link</code></pre>
</div><p><img src="./web-sdk-tpl/MTYzMzUwMzk3NDAzOA==633503974038.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åœ¨è¦æµ‹è¯•çš„é¡¹ç›®ä¸­å¼•ç”¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::teyfzy554n7div5wsep799::--><code>npm link pkgName</code></pre>
</div><p><img src="./web-sdk-tpl/MTYzMzUwNDM0NDkwMQ==633504344901.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è¿è¡Œç¤ºä¾‹</p>
<p><img src="./web-sdk-tpl/MTYzMzUwNDYyMDY3Mg==633504620672.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="cdn-1" tabindex="-1">CDN <a class="header-anchor" href="#cdn-1" aria-label="Permalink to â€œCDNâ€">&#8203;</a></h3>
<p>æœ¬åœ°åœ¨./distç›®å½•ä¸‹èµ·ä¸€ä¸ªServeræœåŠ¡ï¼Œæ¨èä½¿ç”¨<code>http-server</code></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::54cf6g5nuvmu59fo7nf68::--><code># å®‰è£…http-server
npm i -g http-server</code></pre>
</div><p>åœ¨ distç›®å½•ä¸‹æ‰§è¡Œ<code>http-server</code></p>
<p><img src="./web-sdk-tpl/MTYzMzUwNDkzMDA5Nw==633504930097.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æµ‹è¯•é¡µé¢ä¸­å¼•å…¥</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::24j8o4tigyshzd1b25u2cal::--><code>&lt;script src=&quot;http://127.0.0.1:8080/index.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  new LibName(&#039;test&#039;).sayHello()
&lt;/script&gt;</code></pre>
</div><p><img src="./web-sdk-tpl/MTYzMzUzMjk5MTk0MA==633532991940.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="vite" tabindex="-1">Vite <a class="header-anchor" href="#vite" aria-label="Permalink to â€œViteâ€">&#8203;</a></h3>
<p>viteæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ”¯æŒESMçš„Serverï¼Œåœ¨é¡¹ç›®ä¸­æµ‹è¯•ä½¿ç”¨å®Œå…¨æ²¡é—®é¢˜ä»–</p>
<p>æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª<code>index.html</code>,åœ¨å…¶ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç </p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::oklvxe3mr3dg3yu6p1k2me::--><code>&lt;body&gt;
    &lt;script type=&quot;module&quot;&gt;
        import PkG from &#039;./src/index.ts&#039;
        new PkG().sayHello()
    &lt;/script&gt;
&lt;/body&gt;</code></pre>
</div><p><code>pkg.json</code>ä¸­åŠ å…¥å¯åŠ¨æŒ‡ä»¤</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::uio7rjkaknbwg2anhdb7dr::--><code>{
  &quot;scripts&quot;: {
    &quot;serve&quot;: &quot;vite&quot;,
  },
}</code></pre>
</div><p>å¯åŠ¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::5bm33vd0ltpdbfo4l7sieh::--><code>pnpm serve</code></pre>
</div><h2 id="cssèµ„æºå¤„ç†" tabindex="-1">CSSèµ„æºå¤„ç† <a class="header-anchor" href="#cssèµ„æºå¤„ç†" aria-label="Permalink to â€œCSSèµ„æºå¤„ç†â€">&#8203;</a></h2>
<p>cssèµ„æºçš„å¤„ç†æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¸‹é¢ä»‹ç»å‡ ç§å¸¸è§çš„</p>
<p>æµ‹è¯•æ ·å¼</p>
<div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre><!--::markdown-it-async::rqf4rneybewflpm6v04z::--><code>h1{
  font-size:48px;
  color:red;
}</code></pre>
</div><h3 id="å¤–éƒ¨æ ·å¼è¡¨" tabindex="-1">å¤–éƒ¨æ ·å¼è¡¨ <a class="header-anchor" href="#å¤–éƒ¨æ ·å¼è¡¨" aria-label="Permalink to â€œå¤–éƒ¨æ ·å¼è¡¨â€">&#8203;</a></h3>
<p>ç›´æ¥åœ¨å…¥å£æ–‡ä»¶<code>src/index.ts</code>ä¸­å¼•å…¥</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::r101n3b2cyvdie8e9z24::--><code>import &#039;./styles/demo.css&#039;;</code></pre>
</div><p><code>build</code>äº§ç‰©åŒ…å«ä¸€ä¸ª<code>style.css</code>æ–‡ä»¶ï¼Œé‡Œé¢å³ä¸ºä¹¦å†™çš„æ ·å¼</p>
<p>äºæ˜¯æ­¤ç§æ–¹å¼å¼•å…¥sdkçš„è¯ï¼Œè¿˜éœ€è¦é¢å¤–å¼•å…¥ä¸€ä¸ªcssèµ„æº</p>
<h3 id="style-æ ‡ç­¾" tabindex="-1">style æ ‡ç­¾ <a class="header-anchor" href="#style-æ ‡ç­¾" aria-label="Permalink to â€œstyle æ ‡ç­¾â€">&#8203;</a></h3>
<p>å¯ä»¥ç®—ä½œ<strong>css in js</strong>çš„ä¸€ç§</p>
<p>å…ˆç¼–å†™2ä¸ªå·¥å…·æ–¹æ³•</p>
<ul>
<li>hï¼šç®€åŒ–åˆ›å»ºæ ‡ç­¾</li>
<li>addStyleDomï¼šå‘æŒ‡å®šDomä¸‹æ’å…¥<code>style</code>æ ‡ç­¾</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::qvvspguv531pmajzd6dzo::--><code>/**
 * åˆ›å»ºHtmlElement
 * @param tag æ ‡ç­¾å
 * @returns
 */
export function h(tag: string) {
  return document.createElement(tag)
}

/**
 * é€šè¿‡styleæ ‡ç­¾å‘ç›®æ ‡DOMæ·»åŠ cssæ ·å¼
 * @param target ç›®æ ‡DOM
 * @param style æ ·å¼
 */
export function addStyleDom(target: HTMLElement, style: string) {
  const styleDom = h(&#039;style&#039;)
  styleDom.textContent = style
  target.append(styleDom)
}</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::l3ggy6lf1kfiyj0ak04x4s::--><code>import style from &#039;./styles/demo.css&#039;;
import { addStyleDom } from &#039;./utils&#039;;

addStyleDom(document.documentElement, style);</code></pre>
</div><p>äºæ˜¯æ­¤ç§æ–¹å¼ä¼šå°†csså†…å®¹å†™å…¥åˆ°jsä»£ç ä¸­ï¼Œåœ¨è¿è¡Œæ—¶è‡ªåŠ¨é€šè¿‡styleèŠ‚ç‚¹æ’å…¥åˆ°æ–‡æ¡£èŠ‚ç‚¹ä¸­</p>
<p><img src="./web-sdk-tpl/MTYzMzc1NzUzNDYzNg==633757534636.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="scss-lessæ”¯æŒ" tabindex="-1">scss/lessæ”¯æŒ <a class="header-anchor" href="#scss-lessæ”¯æŒ" aria-label="Permalink to â€œscss/lessæ”¯æŒâ€">&#8203;</a></h3>
<p>Viteå†…ç½®å¯¹è¿™ä¸¤ä¸ªé¢„å¤„ç†è¯­è¨€çš„æ”¯æŒï¼Œåªéœ€è¦å®‰è£…ç›¸åº”çš„ä¾èµ–å°±è¡Œ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::vntlwe7vsvlxexi8y3mtp::--><code>pnpm add -D less sass</code></pre>
</div><p>ä½¿ç”¨</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::9p8cxius7jwbgfjrw080no::--><code>import &#039;./styles/demo.scss&#039;;
import style from &#039;./styles/demo.less&#039;;</code></pre>
</div><h2 id="å‘å¸ƒ" tabindex="-1">å‘å¸ƒ <a class="header-anchor" href="#å‘å¸ƒ" aria-label="Permalink to â€œå‘å¸ƒâ€">&#8203;</a></h2>
<p>è¦è®©åˆ«äººä½¿ç”¨ï¼Œé‚£å°±å¾—å°†npmåŒ…å‘å¸ƒä¸Šçº¿</p>
<h3 id="npm" tabindex="-1">NPM <a class="header-anchor" href="#npm" aria-label="Permalink to â€œNPMâ€">&#8203;</a></h3>
<p>çº¿ä¸Š<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm</a>æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè°ƒç”¨<code>npm login</code>è¿›è¡Œç™»å½•</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::kpnb1ewlkhhx7fc0v729to::--><code>npm login</code></pre>
</div><p>å‘å¸ƒå‰è®°å¾—å…ˆbuildï¼Œç„¶åcommitæš‚å­˜åŒºçš„ä»£ç ï¼Œæ¸…ç†å·¥ä½œåŒºçš„å˜åŠ¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::z93ms9t6deznlius64bw::--><code>npm run build</code></pre>
</div><p>æ¥ç€å‡çº§ç‰ˆæœ¬</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::cm4bo9p9ff885alyuo8dy::--><code>npm version patch</code></pre>
</div><p><img src="./web-sdk-tpl/MTYzMzc1ODgzNzI3OA==633758837278.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å‘å¸ƒ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::6jopdb1ipnjoahgc72mook::--><code>npm publish</code></pre>
</div><p><img src="./web-sdk-tpl/MTYzMzg0NTE0MDEzMQ==633845140131.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="cdnèµ„æº" tabindex="-1">CDNèµ„æº <a class="header-anchor" href="#cdnèµ„æº" aria-label="Permalink to â€œCDNèµ„æºâ€">&#8203;</a></h3>
<p>ç®€å•ä¸€ç‚¹å°±ä½¿ç”¨<a href="https://unpkg.com/" target="_blank" rel="noreferrer">UNPKG</a>,å¯ä»¥è¯»å–å‘å¸ƒåˆ°npmä¸Šçš„é™æ€èµ„æº</p>
<p>ä¸ºäº†é€Ÿåº¦æ›´å¿«çš„è¯å¯ä»¥å°†èµ„æºä¸Šä¼ åˆ°å¤§é™†çš„<code>OSS</code>ä¸Šï¼Œå†é€šè¿‡<code>CDN</code>ä¸‹å‘</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::et23tviz3wasw01ltgef1::--><code>&lt;script src=&quot;https://unpkg.com/tpl-web-lib@0.0.1/dist/index.min.js&quot;&gt;&lt;/script&gt;</code></pre>
</div><h2 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-label="Permalink to â€œDemoâ€">&#8203;</a></h2>
<h3 id="æ•ˆæœ" tabindex="-1">æ•ˆæœ <a class="header-anchor" href="#æ•ˆæœ" aria-label="Permalink to â€œæ•ˆæœâ€">&#8203;</a></h3>
<p>ä¼šå‘ä½ çš„é¡µé¢ä¸­å¿ƒä½ç½®æ·»åŠ ä¸€ä¸ª<code>tag</code></p>
<p><img src="./web-sdk-tpl/MTYzMzg1NDMyNjkzNw==633854326937.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="npm-1" tabindex="-1">npm <a class="header-anchor" href="#npm-1" aria-label="Permalink to â€œnpmâ€">&#8203;</a></h3>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::uo9e103np0p4z22rvm2yps::--><code># npm
npm i tpl-web-lib

# yarn
yarn add tpl-web-lib

# pnpm
pnpm add tpl-web-lib</code></pre>
</div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ed34kcan7uvhgbeo8sjdr::--><code>import libName from &#039;tpl-web-lib&#039;
new libName()</code></pre>
</div><h3 id="cdn-2" tabindex="-1">cdn <a class="header-anchor" href="#cdn-2" aria-label="Permalink to â€œcdnâ€">&#8203;</a></h3>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::ayzmmsxyo7j3h8e38r5byh::--><code>&lt;script src=&quot;https://unpkg.com/tpl-web-lib@latest/dist/index.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    new LibName()
&lt;/script&gt;</code></pre>
</div><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>æ–‡ç« æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»äº†æ•´ä¸ªæ­å»ºè¿‡ç¨‹ï¼Œç¬”è€…æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯è¿˜è¯·æ–§æ­£</p>
<p>ç»è¿‡ä¸€äº›æ€è€ƒï¼ˆæ–‡ç« ç¯‡å¹…ä¸ç›¸å…³æ€§ï¼‰ï¼Œå…³äºä¸€äº›å·¥ç¨‹é€šç”¨çš„èƒ½åŠ›ï¼Œå¦‚<code>eslint</code>ï¼Œ<code>api-extractor</code>ï¼Œ<code>prettier</code>ï¼Œ<code>jest</code>ï¼Œ<code>husky</code>ç­‰ç­‰å°†ä¼šåœ¨åç»­æ–‡ç« ä¸­ä¸“é—¨ä»‹ç»</p>
<blockquote>
<p>æ–‡ä¸­æ‰€æ¶‰åŠ<a href="https://github.com/ATQQ/web-lib-template" target="_blank" rel="noreferrer">æºç ä»“åº“</a>åœ°å€ï¼š<a href="https://github.com/ATQQ/web-lib-template" target="_blank" rel="noreferrer">https://github.com/ATQQ/web-lib-template</a></p>
</blockquote>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/web-sdk-tpl/MTYzMzUzMjA5MTQ4MQ==633532091481.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ä¸ºä»€ä¹ˆ'\x1B'.length===1ï¼Ÿ\xä¸\uçŸ¥è¯†å»¶ä¼¸]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/ux.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/ux.html</guid>
            <pubDate>Mon, 04 Oct 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[èƒŒæ™¯
å…ˆè®²ä¸€ä¸‹èƒŒæ™¯ï¼Œå†è¯´åŸå› 
å¤§å¤šæ•°åº“éƒ½ä¼šåœ¨æ—¥å¿—ä¸­ä½¿ç”¨`chalk`åº“ä¸ºconsoleçš„å†…å®¹è¿›è¡Œä¸Šè‰²
è¢«`chalk`å¤„ç†åï¼Œå…¶åŸæœ¬çš„å†…å®¹ä¼šè¢«â€˜\x1B...â€™æ‰€åŒ…è£¹
```js
console.lo]]></description>
            <content:encoded><![CDATA[<h1 id="ä¸ºä»€ä¹ˆ-x1b-length-1-xä¸-uçŸ¥è¯†å»¶ä¼¸" tabindex="-1">ä¸ºä»€ä¹ˆ'\x1B'.length === 1ï¼Ÿ\xä¸\uçŸ¥è¯†å»¶ä¼¸ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆ-x1b-length-1-xä¸-uçŸ¥è¯†å»¶ä¼¸" aria-label="Permalink to â€œä¸ºä»€ä¹ˆ'\x1B'.length === 1ï¼Ÿ\xä¸\uçŸ¥è¯†å»¶ä¼¸â€">&#8203;</a></h1>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<p>å…ˆè®²ä¸€ä¸‹èƒŒæ™¯ï¼Œå†è¯´åŸå› </p>
<p>å¤§å¤šæ•°åº“éƒ½ä¼šåœ¨æ—¥å¿—ä¸­ä½¿ç”¨<code>chalk</code>åº“ä¸ºconsoleçš„å†…å®¹è¿›è¡Œä¸Šè‰²</p>
<p>è¢«<code>chalk</code>å¤„ç†åï¼Œå…¶åŸæœ¬çš„å†…å®¹ä¼šè¢«â€˜\x1B...â€™æ‰€åŒ…è£¹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::yiv99nauhqmpciqxkw245::--><code>console.log(chalk.blue(&#039;green&#039;));
console.log([chalk.blue(&#039;green&#039;)]);</code></pre>
</div><p><img src="./ux/MTYzMzE1NzQ3MjA5OQ==633157472099.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åœ¨å¼€å‘<a href="https://github.com/ATQQ/vite-plugin-monitor" target="_blank" rel="noreferrer">vite-plugin-monitor</a>æ—¶ï¼Œä¸ºäº†è·å–åŸå§‹çš„æ—¥å¿—å†…å®¹ï¼ˆä¸Šè‰²ä¹‹å‰ï¼‰ï¼Œéœ€è¦å°†ä¸Šè‰²åçš„å­—ç¬¦ä¸²è¿˜åŸ</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::ady87y6optr0fa9caghcvoc::--><code>\x1B[34mgreen\x1B[39m =&gt; green</code></pre>
</div><p>åœ¨ä½¿ç”¨æ­£åˆ™å¤„ç†å†…å®¹çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªé—®é¢˜</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::mqyjvp2bh418cwrtwoans::--><code>&#039;\x1B&#039;.replace(/\\x/,&#039;&#039;) // ç»“æœï¼Ÿï¼Ÿ</code></pre>
</div><p>é€šè¿‡<code>.length</code>æŸ¥çœ‹å…¶é•¿åº¦ï¼Œç»“æœå°±å¦‚æ ‡é¢˜æ‰€ç¤º</p>
<p><img src="./ux/MTYzMzE1ODMwMzk5Ng==633158303996.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="åŸå› " tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› " aria-label="Permalink to â€œåŸå› â€">&#8203;</a></h2>
<p>åæ–œæ <code>&quot;\&quot;</code>é€šå¸¸æ ‡è¯†è½¬ä¹‰å­—ç¬¦ï¼Œå¦‚<code>\n(æ¢è¡Œç¬¦)</code>,<code>\t(åˆ¶è¡¨ç¬¦)</code></p>
<p>è€Œ<code>\x</code>å°±æ ‡è¯†16è¿›åˆ¶ï¼Œåé¢è·Ÿä¸Šä¸¤ä½16è¿›åˆ¶æ•°</p>
<p>ä¸æ­¤åŒæ—¶è¿˜æœ‰<code>\u</code>ä¹Ÿæ˜¯æ ‡è¯†16è¿›åˆ¶ï¼Œä½†å…¶åé¢éœ€è·Ÿä¸Š4ä½16è¿›åˆ¶æ•°</p>
<p>å› æ­¤è¿™é‡Œçš„<code>\x1B</code>å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå­—ç¬¦</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::jcbd1sh8igmmhfhzp31ttm::--><code>&#039;\x41&#039; === &#039;A&#039;   // true
&#039;A&#039; === &#039;\u0041&#039; // true</code></pre>
</div><h2 id="x" tabindex="-1">\x <a class="header-anchor" href="#x" aria-label="Permalink to â€œ\xâ€">&#8203;</a></h2>
<p><code>\xhh</code>åŒ¹é…ä¸€ä¸ªä»¥ä¸¤ä½åå…­è¿›åˆ¶æ•°ï¼ˆ<code>\x00</code>-<code>\xFF</code>ï¼‰è¡¨ç¤ºçš„å­—ç¬¦</p>
<p>ä¸»è¦ç”¨äº<a href="https://tool.oschina.net/commons?type=4" target="_blank" rel="noreferrer">ASCIIç </a>çš„è¡¨ç¤º</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::vv2faiuiej94odn72k1ed6::--><code>&#039;\x41&#039; === â€˜Aâ€™
&#039;A&#039; === String.fromCharCode(65)

&#039;\x61&#039; === â€˜aâ€™
&#039;a&#039; === String.fromCharCode(97)</code></pre>
</div><p><code>\x</code>åå¿…é¡»è·Ÿç€ä¸¤ä½16è¿›åˆ¶çš„å­—ç¬¦ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå…¶ä¸­ <code>A</code>-<code>F</code> ä¸åŒºåˆ†å¤§å°å†™</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::d7vr4t5szg59dnkt3fv124::--><code>&#039;\x1&#039; // Uncaught SyntaxError: Invalid hexadecimal escape sequence
&#039;\xfg&#039; // Uncaught SyntaxError: Invalid hexadecimal escape sequence</code></pre>
</div><h2 id="u" tabindex="-1">\u <a class="header-anchor" href="#u" aria-label="Permalink to â€œ\uâ€">&#8203;</a></h2>
<p><code>\uhhhh</code>åŒ¹é…ä¸€ä¸ªä»¥å››ä½åå…­è¿›åˆ¶æ•°ï¼ˆ<code>\u0000</code>-<code>\uFFFF</code>ï¼‰è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚</p>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¸¸è§äºåŒ¹é…ä¸­æ–‡å­—ç¬¦</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::avp3thoueulqc76zq9y::--><code>const r = /[\u4e00-\u9fa5]/
r.test(&#039;ä¸­æ–‡&#039;) // true
r.test(&#039;English&#039;) // false</code></pre>
</div><h2 id="å¸¸è§„å­—ç¬¦ä¸unicodeå­—ç¬¦äº’è½¬" tabindex="-1">å¸¸è§„å­—ç¬¦ä¸Unicodeå­—ç¬¦äº’è½¬ <a class="header-anchor" href="#å¸¸è§„å­—ç¬¦ä¸unicodeå­—ç¬¦äº’è½¬" aria-label="Permalink to â€œå¸¸è§„å­—ç¬¦ä¸Unicodeå­—ç¬¦äº’è½¬â€">&#8203;</a></h2>
<h3 id="str2unicode" tabindex="-1">str2Unicode <a class="header-anchor" href="#str2unicode" aria-label="Permalink to â€œstr2Unicodeâ€">&#8203;</a></h3>
<ol>
<li>ä½¿ç”¨<code>String.prototype.charCodeAt</code>è·å–æŒ‡å®šä½ç½®çš„ Unicode ç ç‚¹ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰</li>
<li>ä½¿ç”¨<code>String.prototype.toString</code>å°†å…¶è½¬ä¸ºåå…­è¿›åˆ¶å­—ç¬¦,è½¬ä¸º16è¿›åˆ¶å­—ç¬¦ä¸ä¼šè‡ªåŠ¨è¡¥0</li>
<li>é€šè¿‡<code>String.prototype.padStart</code>è¿›è¡Œè¡¥<code>0</code></li>
</ol>
<p>ç¼–å†™çš„é€šç”¨å¤„ç†æ–¹æ³•å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::djwkkpnyru6c1jz4gwpkh::--><code>function str2Unicode(str) {
    let s = &#039;&#039;
    for (const c of str) {
        s += `\\u${c.charCodeAt(0).toString(16).padStart(4, &#039;0&#039;)}`
    }
    return s
}

str2Unicode(&#039;1aä¸­æ–‡&#039;) // &#039;\\u0031\\u0061\\u4e2d\\u6587&#039;</code></pre>
</div><h3 id="unicode2str" tabindex="-1">unicode2Str <a class="header-anchor" href="#unicode2str" aria-label="Permalink to â€œunicode2Strâ€">&#8203;</a></h3>
<ol>
<li>é€šè¿‡æ­£åˆ™<code>/\\u[\da-f]{4}/g</code>åŒ¹é…å‡ºæ‰€æœ‰çš„unicodeå­—ç¬¦</li>
<li>ä½¿ç”¨<code>Number</code>å°†<code>0x${matchStr}</code>è½¬æ¢ä¸º10è¿›åˆ¶æ•°</li>
<li>ä½¿ç”¨<code>String.fromCodePoint</code>å°†unicodeç ç‚¹è½¬ä¸ºå­—ç¬¦</li>
<li>ä½¿ç”¨<code>String.prototype.replace</code>è¿›è¡Œé€å­—ç¬¦çš„è½¬æ¢</li>
</ol>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::9vq3gom5yrk902uzc9p75::--><code>function unicode2Str(str) {
    const unicodeList = str.match(/\\u[\da-f]{4}/g) || []
    return unicodeList.reduce((pre, u) =&gt; {
        return pre.replace(u, String.fromCodePoint(Number(`0x${u.slice(2)}`)))
    }, str)
}

unicode2Str(&#039;1\\u0061\\u4e2dæ–‡&#039;) // 1aä¸­æ–‡</code></pre>
</div><h2 id="è¿˜åŸchalkå¤„ç†åçš„å­—ç¬¦ä¸²" tabindex="-1">è¿˜åŸchalkå¤„ç†åçš„å­—ç¬¦ä¸² <a class="header-anchor" href="#è¿˜åŸchalkå¤„ç†åçš„å­—ç¬¦ä¸²" aria-label="Permalink to â€œè¿˜åŸchalkå¤„ç†åçš„å­—ç¬¦ä¸²â€">&#8203;</a></h2>
<p>è‡ªå·±ä»0-1å†™ä¸€ä¸ªæ­£åˆ™éš¾å…ä¼šæœ‰è®¸å¤šè¾¹ç•Œæƒ…å†µè€ƒè™‘ä¸å‘¨å…¨ï¼Œäºæ˜¯åœ¨chalkçš„READMEä¸­æ‰¾åˆ°äº†<a href="https://github.com/chalk/ansi-regex" target="_blank" rel="noreferrer">chalk/ansi-regex</a>è¿™ä¸ªåº“</p>
<p>å¯ä»¥å°†è‰²å€¼ç›¸å…³çš„ <code>ANSIè½¬ä¹‰ç </code> åŒ¹é…å‡ºæ¥</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::rq8z4e6yxqs9bw04u1o6t7::--><code>import ansiRegex from &#039;ansi-regex&#039;;

&#039;\u001B[4mcake\u001B[0m&#039;.match(ansiRegex());
//=&gt; [&#039;\u001B[4m&#039;, &#039;\u001B[0m&#039;]

&#039;\u001B[4mcake\u001B[0m&#039;.match(ansiRegex({onlyFirst: true}));
//=&gt; [&#039;\u001B[4m&#039;]</code></pre>
</div><p>ç¼–å†™ä¸€ä¸‹å¤„ç†æ–¹æ³•</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::el6pge5bs4rs2flr80nc5::--><code>function resetChalkStr(str) {
    return str.replace(ansiRegex(), &#039;&#039;)
}</code></pre>
</div><p>æµ‹è¯•</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::yf4gxgeok1ggyqmsmew9h::--><code>console.log(chalk.green(&#039;green&#039;), chalk.greenBright(&#039;greenBright&#039;));

console.log([chalk.green(&#039;green&#039;), chalk.greenBright(&#039;greenBright&#039;)]);

console.log(resetChalkStr(`${chalk.green(&#039;green&#039;)} ${chalk.greenBright(&#039;greenBright&#039;)}`));</code></pre>
</div><p><img src="./ux/MTYzMzMzMzExNzEzOA==633333117138.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to â€œæ€»ç»“â€">&#8203;</a></h2>
<p>é‡æ‹¾äº†ä¸€ä¸‹<code>\x</code>ä¸<code>\u</code>ç›¸å…³çš„å†…å®¹ï¼Œçªç„¶é¢å¤–æƒ³åˆ°ä¸€ä¸ªç‚¹ï¼Œä½¿ç”¨\uå»åšå­—ç¬¦ä¸²çš„åŠ è§£å¯†(ä¸‹æ¥å†æ‹ä¸€æ‹)</p>
<p>è§£å†³äº†ä¸€ä¸ª<code>chalk</code>ç›¸å…³çš„é—®é¢˜â€œè¿˜åŸç»ˆç«¯ä¸­çš„å½©è‰²å†…å®¹â€</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/ux/MTYzMzE1NzQ3MjA5OQ==633157472099.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸‹ï¼‰]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-plugin-monitor3.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-plugin-monitor3.html</guid>
            <pubDate>Fri, 01 Oct 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
ä¸Šä¸€ç¯‡ä»‹ç»äº†Viteå¯åŠ¨ï¼ŒHMRç­‰æ—¶é—´çš„è·å–ã€‚
ä½†å„é˜¶æ®µè¯¦ç»†çš„è€—æ—¶ä¿¡æ¯ï¼Œåªèƒ½é€šè¿‡debugçš„æ—¥å¿—è·å–
æœ¬æ–‡å°±å®ç°ä¸€ä¸‹debugæ—¥å¿—çš„æ‹¦æˆª
 æ’ä»¶æ•ˆæœé¢„è§ˆ
 --debugåšäº†ä»€ä¹ˆ
é¡¹ç›®å¯åŠ¨æŒ‡ä»¤
]]></description>
            <content:encoded><![CDATA[<h1 id="viteæ’ä»¶å¼€å‘çºªå®-vite-plugin-monitor-ä¸‹" tabindex="-1">Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸‹ï¼‰ <a class="header-anchor" href="#viteæ’ä»¶å¼€å‘çºªå®-vite-plugin-monitor-ä¸‹" aria-label="Permalink to â€œViteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸‹ï¼‰â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><a href="./vite-plugin-monitor2.html">ä¸Šä¸€ç¯‡</a>ä»‹ç»äº†Viteå¯åŠ¨ï¼ŒHMRç­‰æ—¶é—´çš„è·å–ã€‚</p>
<p>ä½†å„é˜¶æ®µè¯¦ç»†çš„è€—æ—¶ä¿¡æ¯ï¼Œåªèƒ½é€šè¿‡debugçš„æ—¥å¿—è·å–</p>
<p>æœ¬æ–‡å°±å®ç°ä¸€ä¸‹debugæ—¥å¿—çš„æ‹¦æˆª</p>
<h2 id="æ’ä»¶æ•ˆæœé¢„è§ˆ" tabindex="-1">æ’ä»¶æ•ˆæœé¢„è§ˆ <a class="header-anchor" href="#æ’ä»¶æ•ˆæœé¢„è§ˆ" aria-label="Permalink to â€œæ’ä»¶æ•ˆæœé¢„è§ˆâ€">&#8203;</a></h2>
<p><img src="./vite-plugin-monitor3/MTYzMzA4MTY0NTkzNA==633081645934.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="debugåšäº†ä»€ä¹ˆ" tabindex="-1">--debugåšäº†ä»€ä¹ˆ <a class="header-anchor" href="#debugåšäº†ä»€ä¹ˆ" aria-label="Permalink to â€œ--debugåšäº†ä»€ä¹ˆâ€">&#8203;</a></h2>
<p>é¡¹ç›®å¯åŠ¨æŒ‡ä»¤</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::9a1mzp5e3ziy3g0herwwv::--><code>vite --debug</code></pre>
</div><p>åœ¨æºç ä¸­æœç´¢ <code>--debug</code>ï¼Œå¯ä»¥åœ¨<a href="https://github.com/vitejs/vite/blob/63c7a88cadfff1d9fb10f63415a7132bf5eec483/packages/vite/bin/vite.js#L14" target="_blank" rel="noreferrer">vite/packages/vite/bin/vite.js</a>æ–‡ä»¶ä¸­å®šä½åˆ°ç›®æ ‡ä»£ç </p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::mj5yiopv4vj8qogns8thv8::--><code>const debugIndex = process.argv.findIndex((arg) =&gt; /^(?:-d|--debug)$/.test(arg))

if (debugIndex &gt; 0) {
  let value = process.argv[debugIndex + 1]
  if (!value || value.startsWith(&#039;-&#039;)) {
    value = &#039;vite:*&#039;
  } else {
    // support debugging multiple flags with comma-separated list
    value = value
      .split(&#039;,&#039;)
      .map((v) =&gt; `vite:${v}`)
      .join(&#039;,&#039;)
  }
  process.env.DEBUG = value
}</code></pre>
</div><p>å¯ä»¥çœ‹åˆ°å¦‚æœä½¿ç”¨äº†<code>--debug</code>æˆ–è€…<code>-d</code>å‚æ•°ï¼Œ<code>process.env</code>ä¸ŠæŒ‚è½½<code>DEBUG</code>å˜é‡æ ‡è¯†å¼€å¯äº†Debug</p>
<h2 id="å®šä½æ‰“å°æ—¥å¿—æ–¹æ³•" tabindex="-1">å®šä½æ‰“å°æ—¥å¿—æ–¹æ³• <a class="header-anchor" href="#å®šä½æ‰“å°æ—¥å¿—æ–¹æ³•" aria-label="Permalink to â€œå®šä½æ‰“å°æ—¥å¿—æ–¹æ³•â€">&#8203;</a></h2>
<p>debugä¸‹æ¯æ¡æ—¥å¿—éƒ½æ˜¯ä»¥<code>vite:label</code>å¼€å¤´ï¼Œæ¯”å¦‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::7bljn4bf977pp5bfa8fmyf::--><code>vite:load 1ms   [fs] /src/router/routes/index.ts</code></pre>
</div><p>å…¨å±€æœä¸€ä¸‹<code>vite:load</code>å°±å®šä½åˆ°äº†å¦‚ä¸‹çš„<a href="https://github.com/vitejs/vite/blob/63c7a88cadfff1d9fb10f63415a7132bf5eec483/packages/vite/src/node/server/transformRequest.ts#L23" target="_blank" rel="noreferrer">ä»£ç </a>ï¼Œå¯ä»¥çœ‹åˆ°<code>createDebugger</code>æ˜¯è¿”å›äº†ä¸€ä¸ªå¯ä»¥æ‰“å°æ—¥å¿—çš„æ–¹æ³•</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::tkyt4c294776emzlq0vbt::--><code>import {
  createDebugger,
} from &#039;../utils&#039;
const debugLoad = createDebugger(&#039;vite:load&#039;)
const isDebug = !!process.env.DEBUG
// ..code
isDebug &amp;&amp; debugLoad(`${timeFrom(loadStart)} [fs] ${prettyUrl}`)</code></pre>
</div><p><code>createDebugger</code> çš„æºç å¦‚ä¸‹ï¼Œå…¶è¿”å›ä¸€ä¸ªè‡ªå®šå‡½æ•°ï¼Œç®€å•æ‹ä¸€ä¸‹å°±èƒ½çœ‹å‡ºï¼Œè´Ÿè´£æ‰“å°çš„æ–¹æ³•æ˜¯<code>log(msg,...args)</code></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::ad2vh1grx6fig71o2n8etn::--><code>import debug from &#039;debug&#039;

export function createDebugger(
  namespace: ViteDebugScope,
  options: DebuggerOptions = {}
): debug.Debugger[&#039;log&#039;] {
  const log = debug(namespace)
  const { onlyWhenFocused } = options
  const focus =
    typeof onlyWhenFocused === &#039;string&#039; ? onlyWhenFocused : namespace
  return (msg: string, ...args: any[]) =&gt; {
    if (filter &amp;&amp; !msg.includes(filter)) {
      return
    }
    if (onlyWhenFocused &amp;&amp; !DEBUG?.includes(focus)) {
      return
    }
    log(msg, ...args)
  }
}</code></pre>
</div><p>å…¶ä¸­<code>log</code>å®ä¾‹é€šè¿‡<code>debug</code>æ–¹æ³•åˆ›å»ºï¼Œä½†è¿™ä¸ª<code>debug</code>æ–¹æ³•æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„åº“<code>visionmedia/debug</code></p>
<p><img src="./vite-plugin-monitor3/MTYzMzA5MTM2MjM0Mg==633091362342.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>è¿™ä¸ªæ–¹åº“è™½å°ï¼Œèƒ½åœ¨<code>Vite</code>ä¸­è¢«ç”¨ä¸Šæƒ³å¿…ä¹Ÿä¸ç®€å•ï¼Œ<a href="https://github1s.com/visionmedia/debug/blob/HEAD/src/node.js" target="_blank" rel="noreferrer">åœ¨çº¿æŸ¥çœ‹æºç </a></p>
<h2 id="debugæ–¹æ³•æºç åˆ†æ" tabindex="-1">debugæ–¹æ³•æºç åˆ†æ <a class="header-anchor" href="#debugæ–¹æ³•æºç åˆ†æ" aria-label="Permalink to â€œdebugæ–¹æ³•æºç åˆ†æâ€">&#8203;</a></h2>
<p>å…¥å£æ–‡ä»¶æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç›´æ¥å»çœ‹<code>./node.js</code>ä¸­çš„é€»è¾‘</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::spqrno6kn3fl8o0acqyuu::--><code>if (typeof process === &#039;undefined&#039; || process.type === &#039;renderer&#039; || process.browser === true || process.__nwjs) {
	module.exports = require(&#039;./browser.js&#039;);
} else {
	module.exports = require(&#039;./node.js&#039;);
}</code></pre>
</div><p>è¿™éƒ¨åˆ†ä»£ç ä¸€å…±åªæœ‰<strong>264</strong>è¡Œï¼Œå…³é”®ä»£ç å¦‚ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::tdwn9f0zj4mnx86ango92h::--><code>exports.log = log;

function log(...args) {
	return process.stderr.write(util.format(...args) + &#039;\n&#039;);
}

module.exports = require(&#039;./common&#039;)(exports);</code></pre>
</div><p><strong>./common.js</strong>ä¸­éƒ¨åˆ†ä»£ç </p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::3euffyphr34j15oct84w7::--><code>function setup(env) {
	createDebug.debug = createDebug;
	createDebug.default = createDebug;

	function createDebug(namespace) {
		function debug(...args) {
			const self = debug;
			const logFn = self.log || createDebug.log;
			logFn.apply(self, args);
		}
		return debug;
	}
	return createDebug;
}

module.exports = setup;</code></pre>
</div><p>åˆ°æ­¤èƒ½å¤Ÿç¡®å®šæ—¥å¿—çš„æ‰“å°éƒ½æ˜¯é€šè¿‡<code>process.stderr.write</code>æ–¹æ³•è¾“å‡ºçš„å†…å®¹</p>
<p>è¿™ä¸ªæ–¹æ³•çš„å¥½å¤„å°±æ˜¯ï¼Œè¾“å‡ºå†…å®¹ä¸ä¼šç›´æ¥æ¢è¡Œ</p>
<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨æ’ä»¶ä¸­é‡æ–°å®šä¹‰ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•å°±èƒ½æ‹¦æˆªåˆ°æ‰“å°çš„å†…å®¹</p>
<h2 id="debugæ—¥å¿—æ‹¦æˆªå®ç°" tabindex="-1">debugæ—¥å¿—æ‹¦æˆªå®ç° <a class="header-anchor" href="#debugæ—¥å¿—æ‹¦æˆªå®ç°" aria-label="Permalink to â€œdebugæ—¥å¿—æ‹¦æˆªå®ç°â€">&#8203;</a></h2>
<p>å®šä¹‰æ’ä»¶å…¥å‚</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::d9hxiug4w2gduy8oe4hns6::--><code>interface PluginOptions {
    /**
     * æ˜¯å¦åœ¨ç»ˆç«¯ä¸­è¾“å‡ºåŸæ¥çš„æ—¥å¿—
     */
    log?: boolean
    /**
     * é»˜è®¤å›è°ƒ
     */
    monitor?: MonitorCallback
    /**
     * debugå›è°ƒ
     */
    debug?: DebugCallback
}</code></pre>
</div><p>ç›´æ¥åœ¨è°ƒç”¨æ’ä»¶æ–¹æ³•çš„æ—¶å€™è¿›è¡Œ<code>write</code>æ–¹æ³•é‡å†™ï¼Œå…·ä½“å®ç°é€»è¾‘å¦‚ä¸‹</p>
<ul>
<li>å¯ç”¨äº†<code>--debug</code>ï¼Œä¼ å…¥äº†<code>monitor</code>æˆ–<code>debug</code>æ–¹æ³•æ‰é‡æ–°å®šä¹‰writeæ–¹æ³•</li>
<li>å°†è·å–åˆ°çš„æ—¥å¿—ä¿¡æ¯åšç®€å•è§£æï¼Œé€šè¿‡<code>monitor</code>æ–¹æ³•ä¼ é€’ç»™å¤–éƒ¨</li>
<li>åŸå§‹å‚æ•°ä¼ é€’ç»™å¤–éƒ¨çš„debugæ–¹æ³•</li>
</ul>
<p>å…¶ä¸­è§£æå‡ºçš„å‡ ä¸ªå‚æ•°å‡ ä¸ªå‚æ•°ä¸åŸæ—¥å¿—å†…å®¹å¯¹åº”å…³ç³»å¦‚ä¸‹</p>
<p><img src="./vite-plugin-monitor3/MTYzMzA5MzM0NDMxNg==633093344317.png" alt="å›¾ç‰‡" loading="lazy"></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::rpg46xuy8jps3s5mj6e::--><code>import type { Plugin } from &#039;vite&#039;;
import type { PluginOptions } from &#039;./types&#039;;

export default function Monitor(ops: PluginOptions = {}): Plugin {
  const { log, monitor, debug } = ops;
  // å¦‚æœdebugæ–¹æ³•ä¸”å¯åŠ¨æ—¶æ·»åŠ äº†--debugå‚æ•°
  if ((typeof debug === &#039;function&#039; || typeof monitor === &#039;function&#039;) &amp;&amp; process.env.DEBUG) {
    const { write } = process.stderr;
    Object.defineProperty(process.stderr, &#039;write&#039;, {
      get() {
        return function _write(...argv) {

          // logä¸ºtrueæ‰æ‰§è¡ŒåŸæ¥çš„æ‰“å°é€»è¾‘
          if (log &amp;&amp; typeof argv[0] === &#039;string&#039;) {
            process.stdout.write(argv[0]);
          }
          const originStr = argv[0];

          // è§£ææ—¥å¿—çš„labelä¸æ‰“å°çš„æ—¶é—´ä¿¡æ¯
          const tag = (originStr.match(/vite:(.*?)\s/) || [])[1];
          const time1 = (originStr.replace(/\+\d+ms/, &#039;&#039;).match(/(\d+)ms/) || [])[1];
          const time2 = (originStr.match(/\+(\d+)ms/) || [])[1];
          const time = +(time1 || 0) + +(time2 || 0);


          if (tag &amp;&amp; monitor) {
            monitor(tag, time, {
              time1: +(time1 || 0),
              time2: +(time2 || 0),
              originValue: originStr,
            });
          }

          if (debug) {
            debug(...argv);
          }
        };
      },
    });
  }
  return {
    name: &#039;vite-plugin-monitor&#039;,
    apply: &#039;serve&#039;,
    },
  };
}</code></pre>
</div><p>åˆ°æ­¤æ‹¦æˆªæ—¥å¿—çš„featureå°±å®Œæˆäº†,æœ€åˆå®šä¸‹ç›®æ ‡ä¹Ÿå·²å®Œæˆ</p>
<h2 id="ä½“éªŒæ’ä»¶" tabindex="-1">ä½“éªŒæ’ä»¶ <a class="header-anchor" href="#ä½“éªŒæ’ä»¶" aria-label="Permalink to â€œä½“éªŒæ’ä»¶â€">&#8203;</a></h2>
<blockquote>
<p><a href="https://github.com/ATQQ/vite-plugin-monitor/tree/main/#readme" target="_blank" rel="noreferrer">æ’ä»¶æºç </a></p>
</blockquote>
<p>å®‰è£…ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::y64jp4tbxr9fge6kdrsh3h::--><code>yarn add vite-plugin-monitor --dev</code></pre>
</div><p>å¼•å…¥æ’ä»¶ï¼Œä¿®æ”¹<strong>vite.config.js</strong>æ–‡ä»¶</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::jc52l4692lrx2o893bfqyd::--><code>import { defineConfig } from &#039;vite&#039;
import vitePluginMonitor from &#039;vite-plugin-monitor&#039;

export default defineConfig({
  plugins: [
    vitePluginMonitor({
      // log: false,
      monitor(label, time, originData) {
        const { time1, time2, originValue } = originVal
        console.log(originValue)
        console.log(label, time1, time2, `${time}ms`)
      },
      debug(str) {
        // æ‰“å°å®Œæ•´æ—¥å¿—
        // process.stdout.write(str)
      },
    }),
  ],
})</code></pre>
</div><p>å¯åŠ¨æŒ‡ä»¤ä¸­æ·»åŠ <code>--debug</code></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::itoc5q8ewun24cyzhqkpi::--><code>vite --debug</code></pre>
</div><p>é€šè¿‡<code>monitor</code>ä¸<code>debug</code>æ–¹æ³•ä¸­å°±èƒ½æ‹¿åˆ°åŸå§‹çš„æ—¥å¿—å’Œç®€å•å¤„ç†åçš„æ—¥å¿—ï¼Œåœ¨æ­¤å¤„<strong>åŠ å…¥è‡ªå®šä¹‰çš„åŸ‹ç‚¹ç›‘æ§ä»£ç å³å¯</strong></p>
<p><strong>ä¸€ç‚¹è¡¥å……ï¼š</strong> åœ¨<code>log</code>ä¸º<code>false</code>çš„æ—¶ï¼Œå¹¶ä¸”å®šä¹‰äº†<code>monitor</code>æˆ–<code>debug</code>æ–¹æ³•ï¼Œé‚£ä¹ˆåŸæ¥çš„æ—¥å¿—å†…å®¹éƒ½å°†ä¼šè¢«è¿™ä¸¤ä¸ªæ–¹æ³•æ‹¦æˆª</p>
<h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h2>
<p>ç›®å‰å·²ç»èƒ½å¤Ÿå®Œå…¨æ‹¦æˆªåˆ°debugä¸‹çš„æ‰€æœ‰å†…å®¹ï¼Œä½†å†…å®¹ç”±äºæœ‰å½©è‰²æ‰“å°ç›¸å…³çš„å­—ç¬¦ï¼Œæå–ä¿¡æ¯æ¯”è¾ƒéº»çƒ¦</p>
<p>ä¸‹ä¸€æ­¥å°†å¯¹æ—¥å¿—çš„æå–å†åšä¸€äº›æ ¼å¼åŒ–ï¼Œç¡®ä¿èƒ½å¤Ÿè§£æå‡ºå®Œæ•´çš„æ—¥å¿—å†…å®¹</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/vite-plugin-monitor3/MTYzMzA4MTY0NTkzNA==633081645934.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸Šï¼‰]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-plugin-monitor1.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-plugin-monitor1.html</guid>
            <pubDate>Mon, 27 Sep 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[èƒŒæ™¯
æœ€è¿‘åœ¨webpacké¡¹ç›®é‡Œæ¥å…¥äº†Viteï¼ˆdev modeï¼‰ï¼Œä¸ºå¼€å‘ææ•ˆã€‚æ•ˆæœæ˜¯çœŸçš„çŒ›ã€‚
é¡¹ç›®å¯åŠ¨é€Ÿåº¦æå‡70%-80%ï¼ŒHMRç›´æ¥ç¢¾å‹webpack dev server
ä¸ºäº†æ›´åŠ ç²¾å‡†çš„è®¡ç®—æ”¶]]></description>
            <content:encoded><![CDATA[<h1 id="viteæ’ä»¶å¼€å‘çºªå®-vite-plugin-monitor-ä¸Š" tabindex="-1">Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸Šï¼‰ <a class="header-anchor" href="#viteæ’ä»¶å¼€å‘çºªå®-vite-plugin-monitor-ä¸Š" aria-label="Permalink to â€œViteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸Šï¼‰â€">&#8203;</a></h1>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<p>æœ€è¿‘åœ¨webpacké¡¹ç›®é‡Œæ¥å…¥äº†Viteï¼ˆdev modeï¼‰ï¼Œä¸ºå¼€å‘ææ•ˆã€‚æ•ˆæœæ˜¯çœŸçš„çŒ›ã€‚</p>
<p>é¡¹ç›®å¯åŠ¨é€Ÿåº¦æå‡70%-80%ï¼ŒHMRç›´æ¥ç¢¾å‹webpack dev server</p>
<p>ä¸ºäº†æ›´åŠ ç²¾å‡†çš„è®¡ç®—æ”¶ç›Šï¼Œå°±éœ€è¦å°†Viteå¯åŠ¨ç›¸å…³çš„æŒ‡æ ‡è¿›è¡Œä¸ŠæŠ¥ï¼ˆå¯åŠ¨æ—¶é—´ï¼ŒHMRï¼Œé¡µé¢åŠ è½½ç­‰ç­‰æ—¶é—´ï¼‰</p>
<p>ä¸ºæ­¤å°±è¦é€šè¿‡å¼€å‘æ’ä»¶æ”¶é›†è¿™äº›ä¿¡æ¯ï¼Œç„¶åé€šè¿‡åŸ‹ç‚¹ä¸ŠæŠ¥sdkä¸ŠæŠ¥åˆ°æ•°æ®åˆ†æçš„å¹³å°</p>
<h2 id="é‡åˆ°çš„é—®é¢˜" tabindex="-1">é‡åˆ°çš„é—®é¢˜ <a class="header-anchor" href="#é‡åˆ°çš„é—®é¢˜" aria-label="Permalink to â€œé‡åˆ°çš„é—®é¢˜â€">&#8203;</a></h2>
<p>é€šè¿‡æŸ¥é˜…<a href="https://vitejs.dev/guide/api-plugin.html" target="_blank" rel="noreferrer">å®˜æ–¹æ–‡æ¡£</a>å¹¶æœªæ‰¾åˆ°ç›¸å…³çš„é’©å­ç›´æ¥è·å–åˆ°è¿™äº›æŒ‡æ ‡</p>
<p>ä½†åœ¨å¼€å‘çš„æ—¶å€™æ·»åŠ  <code>--debug</code>å°±èƒ½å¾ˆè¯¦ç»†çš„çœ‹åˆ°æ‰€æœ‰èµ„æºçš„å¤„ç†æ—¶é—´ï¼ŒHMRï¼Œè¯¦ç»†çš„å¯åŠ¨æ—¶é—´ç­‰ç­‰</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::s1dfcvt8yjxncs838f24::--><code>{
    &quot;scripts&quot;: {
        &quot;dev&quot;: &quot;vite --debug&quot;,
    }
}</code></pre>
</div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2s83cjc3p2y0c3sozj758si::--><code>npm run dev</code></pre>
</div><p><img src="./vite-plugin-monitor1/MTYzMjcyMjY1NzQxMQ==632722657411.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä¸ºæ­¤åªèƒ½é€šè¿‡ä¸€äº›hackçš„æ‰‹æ®µè·å–è¿™äº›æŒ‡æ ‡äº†ï¼Œä¸‹é¢å°†å±•å¼€è¯¦ç»†çš„ä»‹ç»</p>
<h2 id="æœŸæœ›" tabindex="-1">æœŸæœ› <a class="header-anchor" href="#æœŸæœ›" aria-label="Permalink to â€œæœŸæœ›â€">&#8203;</a></h2>
<p>é€šè¿‡å‘ç›®æ ‡å·¥ç¨‹å¼•å…¥æ’ä»¶ï¼Œé€šè¿‡ç‰¹å®šçš„å›æ‰å‡½æ•°å³å¯è·å–åˆ°<code>debug</code>æ¨¡å¼ä¸‹åé¦ˆçš„å„ç§ä¿¡æ¯</p>
<h2 id="å‡†å¤‡å·¥ä½œ" tabindex="-1">å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#å‡†å¤‡å·¥ä½œ" aria-label="Permalink to â€œå‡†å¤‡å·¥ä½œâ€">&#8203;</a></h2>
<p>æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹å¼€å‘æ­¥éª¤</p>
<h3 id="åˆå§‹åŒ–å·¥ç¨‹" tabindex="-1">åˆå§‹åŒ–å·¥ç¨‹ <a class="header-anchor" href="#åˆå§‹åŒ–å·¥ç¨‹" aria-label="Permalink to â€œåˆå§‹åŒ–å·¥ç¨‹â€">&#8203;</a></h3>
<p>åˆ›å»ºæ’ä»¶ç›®å½•</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::d7c49td604lvr4avn2o0ts::--><code>mkdir vite-plugin-monitor

cd vite-plugin-monitor</code></pre>
</div><p>åˆå§‹åŒ–<code>pkg.json</code></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::8q4r9zqc6elf4e6aog9x8w::--><code>npm init -y</code></pre>
</div><p>å®‰è£…å¿…è¦ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::3g8pv9m3e5u85j5blwu0e7::--><code>yarn add -D vite typescript @types/node rimraf</code></pre>
</div><p>æ·»åŠ å¿…è¦çš„ä¸¤ä¸ªæŒ‡ä»¤<code>dev</code>,<code>build</code>ï¼Œé…ç½®å…¥å£æ–‡ä»¶<code>dist/index.js</code></p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::mapyws6eom90e3z5l2df928::--><code>{
    &quot;main&quot;: &quot;dist/index.js&quot;,
    &quot;scripts&quot;: {
        &quot;dev&quot;: &quot;tsc -w -p .&quot;,
        &quot;build&quot;: &quot;rimraf dist &amp;&amp; tsc -p .&quot;
    }
}</code></pre>
</div><p>å…¶ä¸­<code>dev</code>ç¯å¢ƒä¸‹æ·»åŠ äº†<code>-w(--watch)</code>å‚æ•°ï¼Œå½“æ–‡ä»¶æœ‰å˜åŠ¨æ—¶ï¼Œä»¥ä¾¿å®æ—¶çš„è¿›è¡Œæ›´æ–°</p>
<p><code>rimraf</code>çš„ä½œç”¨æ˜¯æ›¿ä»£<code>rm -rf</code>æŒ‡ä»¤ï¼Œä¸”æ˜¯è·¨å¹³å°çš„ï¼Œwindowsä¸‹åŒæ ·ç”Ÿæ•ˆ</p>
<p>æ’ä»¶ä½¿ç”¨<code>typescript</code>å¼€å‘ï¼Œæ›´æœ‰åŠ©äºæ’ä»¶åç»­çš„ç»´æŠ¤</p>
<p>å…¶ä¸­<code>build</code>ç›´æ¥ä½¿ç”¨<code>typescript</code>æä¾›çš„é»˜è®¤<code>tsc</code>æŒ‡ä»¤ï¼Œå¯¹tsç›´æ¥è¿›è¡Œè½¬æ¢</p>
<p>æ ¹ç›®å½•åˆ›å»º <code>tsconfig.json</code> å†…å®¹å¦‚ä¸‹</p>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::lppy9nwsicjeiat9e4ssv::--><code>{
    &quot;compilerOptions&quot;: {
      &quot;target&quot;: &quot;es2015&quot;,
      &quot;moduleResolution&quot;: &quot;node&quot;,
      &quot;strict&quot;: false,
      &quot;declaration&quot;: true,
      &quot;noUnusedLocals&quot;: true,
      &quot;esModuleInterop&quot;: true,
      &quot;outDir&quot;: &quot;dist&quot;,
      &quot;module&quot;: &quot;commonjs&quot;,
      &quot;lib&quot;: [&quot;ESNext&quot;,&quot;DOM&quot;],
      &quot;sourceMap&quot;: true,
    },
    &quot;include&quot;: [&quot;./src&quot;]
  }</code></pre>
</div><p>åœ¨ <code>src</code> ç›®å½•ä¸‹è¿›è¡Œå¼€å‘ï¼Œé‡Œé¢å­˜æ”¾æˆ‘ä»¬çš„æºç </p>
<h3 id="ç›®å½•ç»“æ„" tabindex="-1">ç›®å½•ç»“æ„ <a class="header-anchor" href="#ç›®å½•ç»“æ„" aria-label="Permalink to â€œç›®å½•ç»“æ„â€">&#8203;</a></h3>
<p>æœ€ç»ˆç›®å½•å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::dhhc63gdvi6z8qhhyidly::--><code>â”œâ”€â”€ package.json
â”œâ”€â”€ src
|  â”œâ”€â”€ index.ts     # æ’ä»¶å…¥å£
|  â”œâ”€â”€ types
|  |  â””â”€â”€ index.ts  # ç±»å‹å®šä¹‰
|  â””â”€â”€ utils
|     â””â”€â”€ index.ts  # å·¥å…·æ–¹æ³•
â”œâ”€â”€ tsconfig.json</code></pre>
</div><h3 id="ç®€å•æ’ä»¶ç¤ºä¾‹" tabindex="-1">ç®€å•æ’ä»¶ç¤ºä¾‹ <a class="header-anchor" href="#ç®€å•æ’ä»¶ç¤ºä¾‹" aria-label="Permalink to â€œç®€å•æ’ä»¶ç¤ºä¾‹â€">&#8203;</a></h3>
<p>æ ¹æ®æ’ä»¶å¼€å‘æ–‡æ¡£ï¼Œåœ¨<code>src/index.ts</code>æ–‡ä»¶ä¸‹ç¼–å†™å¦‚ä¸‹ç®€å•çš„ä»£ç ;</p>
<ul>
<li>nameï¼šæ ‡è¯†æ’ä»¶çš„åç§°</li>
<li>applyï¼šæ ‡è¯†æ’ä»¶åœ¨å“ªä¸ªæ—¶æœŸå·¥ä½œ(serve|build)ï¼Œé»˜è®¤éƒ½ä¼šè°ƒç”¨</li>
<li>configï¼šè¿™ä¸ªé’©å­æ¥æ”¶åŸå§‹ç”¨æˆ·é…ç½®ï¼ˆå‘½ä»¤è¡Œé€‰é¡¹æŒ‡å®šçš„ä¼šä¸é…ç½®æ–‡ä»¶åˆå¹¶ï¼‰å’Œä¸€ä¸ªæè¿°é…ç½®ç¯å¢ƒçš„å˜é‡</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::lflmpvb8vo5ovrxvmey5r::--><code>import type { Plugin } from &#039;vite&#039;;

export default function Monitor(): Plugin {
  return {
    name: &#039;vite-plugin-monitor&#039;,
    apply: &#039;serve&#039;,
    config(userConfig, env) {
      console.log(userConfig);
      console.log(env)
      // å¯ä»¥åšè¿›ä¸€æ­¥çš„ä¿®æ”¹ï¼Œä¼šè‡ªåŠ¨åˆå…¥å½“å‰çš„é…ç½®
      // return
    },
  };
}</code></pre>
</div><p>ä¸€ä¸ªæ‰“å°Viteé…ç½®çš„æ’ä»¶å°±æå®šäº†ï¼Œä¸‹é¢å°±æ˜¯æµ‹è¯•æˆ‘ä»¬å¼€å‘çš„æ’ä»¶</p>
<h3 id="æœ¬åœ°æµ‹è¯•æ’ä»¶" tabindex="-1">æœ¬åœ°æµ‹è¯•æ’ä»¶ <a class="header-anchor" href="#æœ¬åœ°æµ‹è¯•æ’ä»¶" aria-label="Permalink to â€œæœ¬åœ°æµ‹è¯•æ’ä»¶â€">&#8203;</a></h3>
<p>é¦–å…ˆæ˜¯è½¬æ¢æˆ‘ä»¬çš„<code>ts</code>=&gt; <code>js</code> ï¼Œæ‰§è¡Œå‰é¢é…ç½®çš„æŒ‡ä»¤<code>yarn dev</code>ï¼Œå°±ä¼šçœ‹è§ç”Ÿæˆäº†ä¸€ä¸ªdistç›®å½•ï¼Œé‡Œé¢æœ‰è½¬æ¢åçš„ä»£ç </p>
<p>æ¥ç€æ‰§è¡Œ<code>npm link</code>åœ¨å…¨å±€ç”Ÿæˆä¸€ä¸ªè½¯è¿æ¥ï¼ŒæŒ‡å‘å½“å‰é¡¹ç›®</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::jystc7t9bbqn1vv9saj1o::--><code>npm link</code></pre>
</div><p>åœ¨ä¸€ä¸ªviteé¡¹ç›®é‡Œçš„æ‰§è¡Œ<code>npm link vite-plugin-monitor</code>(monitoræ ¹æ®å®é™…æƒ…å†µæ›¿æ¢)ï¼Œå‘ç›®æ ‡é¡¹ç›®åŠ å…¥æ­¤ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::sn7aimmhywckm48k4rfbr::--><code>npm link vite-plugin-monitor</code></pre>
</div><p>æ¥ç€å°±å¯ä»¥åœ¨Viteé¡¹ç›®çš„<code>vite.config.js</code>é…ç½®æ–‡ä»¶ä¸­åŠ å…¥æˆ‘ä»¬çš„æ’ä»¶äº†</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::rf1v2b7rstfzyqor1ycki::--><code>import { defineConfig } from &#039;vite&#039;
import vue from &#039;@vitejs/plugin-vue&#039;
import vitePluginMonitor from &#039;vite-plugin-monitor&#039;

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
    vitePluginMonitor()
  ]
})</code></pre>
</div><p>æ¥ç€é€šè¿‡é…ç½®çš„æŒ‡ä»¤å¯åŠ¨<code>vite</code>ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬æ’ä»¶çš„æ‰“å°çš„é…ç½®æ–‡ä»¶å†…å®¹äº†</p>
<p><img src="./vite-plugin-monitor1/MTYzMjc1NTgxNDM4Nw==632755814387.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç”±äºæ˜¯é€šè¿‡è½¯è¿æ¥çš„æ–¹å¼å¼•å…¥çš„æ’ä»¶ï¼Œé‚£ä¹ˆåœ¨æ’ä»¶å·¥ç¨‹é‡Œçš„ä»»æ„æ›´æ”¹éƒ½ä¼šå®æ—¶ç”Ÿæ•ˆï¼Œä¹Ÿå°±é¿å…äº†é¢‘ç¹çš„æ‰§è¡Œ<code>yarn add file:localProjectDir</code></p>
<h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h2>
<p>æœ¬ç¯‡ä¸»è¦ä»‹ç»äº†<code>monitor</code>æ’ä»¶å¼€å‘çš„èƒŒæ™¯ï¼Œè¦è§£å†³çš„é—®é¢˜ï¼Œç›®æ ‡ä»¥åŠå¼€å‘æ’ä»¶æ‰€éœ€çš„ä¸€äº›åˆ—å‡†å¤‡å·¥ä½œ</p>
<p><a href="./vite-plugin-monitor2.html">ä¸‹ä¸€ç¯‡æ–‡ç« </a>å°†è¯¦ç»†ä»‹ç»åŠŸèƒ½çš„å®ç°</p>
<p>æŸ¥çœ‹ï¼š<a href="https://github.com/ATQQ/vite-plugin-monitor" target="_blank" rel="noreferrer">ä»“åº“æºç </a></p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/vite-plugin-monitor1/MTYzMjcyMjY1NzQxMQ==632722657411.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸­ï¼‰]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-plugin-monitor2.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/vite-plugin-monitor2.html</guid>
            <pubDate>Mon, 27 Sep 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
ä¸Šä¸€ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†å¼€å‘æ’ä»¶æ‰€éœ€çš„å‡†å¤‡å·¥ä½œï¼Œä»¥åŠæ­¤æ¬¡è¦å¼€å‘çš„æ’ä»¶å°†è¦è§£å†³çš„é—®é¢˜
 åŠŸèƒ½å¼€å‘
æœ‰äº†å‰æ–‡çš„é“ºå«å†…å®¹ï¼Œä¸‹é¢å°±æ˜¯åŠŸèƒ½å¼€å‘
 è·å–å¯åŠ¨è€—æ—¶
é¡¹ç›®å¯åŠ¨åä¼šåœ¨ç»ˆç«¯ä¸­è¾“å‡º`ready in xx]]></description>
            <content:encoded><![CDATA[<h1 id="viteæ’ä»¶å¼€å‘çºªå®-vite-plugin-monitor-ä¸­" tabindex="-1">Viteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸­ï¼‰ <a class="header-anchor" href="#viteæ’ä»¶å¼€å‘çºªå®-vite-plugin-monitor-ä¸­" aria-label="Permalink to â€œViteæ’ä»¶å¼€å‘çºªå®ï¼švite-plugin-monitorï¼ˆä¸­ï¼‰â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p><a href="./vite-plugin-monitor1.html">ä¸Šä¸€ç¯‡</a>æ–‡ç« ä¸»è¦ä»‹ç»äº†å¼€å‘æ’ä»¶æ‰€éœ€çš„å‡†å¤‡å·¥ä½œï¼Œä»¥åŠæ­¤æ¬¡è¦å¼€å‘çš„æ’ä»¶å°†è¦è§£å†³çš„é—®é¢˜</p>
<h2 id="åŠŸèƒ½å¼€å‘" tabindex="-1">åŠŸèƒ½å¼€å‘ <a class="header-anchor" href="#åŠŸèƒ½å¼€å‘" aria-label="Permalink to â€œåŠŸèƒ½å¼€å‘â€">&#8203;</a></h2>
<p>æœ‰äº†å‰æ–‡çš„é“ºå«å†…å®¹ï¼Œä¸‹é¢å°±æ˜¯åŠŸèƒ½å¼€å‘</p>
<h3 id="è·å–å¯åŠ¨è€—æ—¶" tabindex="-1">è·å–å¯åŠ¨è€—æ—¶ <a class="header-anchor" href="#è·å–å¯åŠ¨è€—æ—¶" aria-label="Permalink to â€œè·å–å¯åŠ¨è€—æ—¶â€">&#8203;</a></h3>
<p>é¡¹ç›®å¯åŠ¨åä¼šåœ¨ç»ˆç«¯ä¸­è¾“å‡º<code>ready in xxms</code></p>
<p><img src="./vite-plugin-monitor2/MTYzMjkyMjIxNzI0Nw==632922217247.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ä¸ºæ­¤å’±ä»¬ä½¿ç”¨Vs Codeåœ¨<a href="https://github1s.com/vitejs/vite" target="_blank" rel="noreferrer">æºç </a>ä¸­æœä¸€ä¸‹è¿™ä¸ªå…³é”®å­—</p>
<p><img src="./vite-plugin-monitor2/MTYzMjkyMjU5MDI2Mg==632922590262.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°æ­¤éƒ¨åˆ†ä»£ç åœ¨æºç ä¸­å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::7fvv6ubrbu7j11ld0b38r::--><code>const info = server.config.logger.info

// @ts-ignore
if (global.__vite_start_time) {
  // @ts-ignore
  const startupDuration = performance.now() - global.__vite_start_time
  info(`\n  ${chalk.cyan(`ready in ${Math.ceil(startupDuration)}ms.`)}\n`)
}</code></pre>
</div><p>è¿™ä¸ª<code>performance.now()</code>ç­‰åŒäº<code>Date.now()</code>å³å½“å‰æ—¶é—´ï¼Œé€šè¿‡<code>global.__vite_start_time</code>å°±èƒ½è·å–åˆ°æœåŠ¡å¯åŠ¨æ—¶é—´</p>
<p>æˆ‘ä»¬å°±ä»è¿™ä¸ª<code>info</code>æ–¹æ³•å…¥æ‰‹ï¼Œç»™å®ƒé‡å®šä¹‰ä¸€ä¸‹ï¼Œé€šè¿‡<code>configureServer</code>é’©å­å¯ä»¥è·å–åˆ°serverå®ä¾‹</p>
<p><strong>index.ts</strong></p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::slfgfuypuls41e4zk3pfks::--><code>import type { Plugin } from &#039;vite&#039;;

export default function Monitor(): Plugin {
  const startTime = global.__vite_start_time

  return {
    name: &#039;vite-plugin-monitor&#039;,
    apply: &#039;serve&#039;,
    configureServer(server) {
      const { info } = server.config.logger;
      // æ‹¦æˆªinfoæ–¹æ³•çš„è°ƒç”¨
      server.config.logger.info = function _info(str) {
        // è°ƒç”¨åŸinfoæ–¹æ³•
        info.apply(this, arguments);
        // é€šè¿‡å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œä¸€ä¸ªç®€å•çš„åˆ¤æ–­
        if (str.includes(&#039;ready in&#039;)) {
          console.log(&#039;startupDuration&#039;, Date.now() - startTime)
        }
      };
    },
  };
}</code></pre>
</div><p>å¯åŠ¨ä¸€ä¸ªé¡¹ç›®çœ‹çœ‹æ•ˆæœï¼Œæˆäº†ã€‚
<img src="./vite-plugin-monitor2/MTYzMjkyMzY1MjAzMg==632923652032.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="hmræ—¶é—´è·å–" tabindex="-1">HMRæ—¶é—´è·å– <a class="header-anchor" href="#hmræ—¶é—´è·å–" aria-label="Permalink to â€œHMRæ—¶é—´è·å–â€">&#8203;</a></h3>
<p>çƒ­æ›´æ–°æ—¶ï¼Œç»ˆç«¯ä¸­ä¼šå‡ºç°ä¸‹é¢çš„æ—¥å¿—</p>
<p><img src="./vite-plugin-monitor2/MTYzMjkyNDA0MzU2OQ==632924043569.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>åŒç†æºç é‡Œæœä¸€æœï¼Œèƒ½å¤Ÿå®šä½å‡ºå¦‚ä¸‹å†…å®¹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::416jrwvuegfda9nrsr4j0r::--><code>config.logger.info(
    updates
    .map(({ path }) =&gt; chalk.green(`hmr update `) + chalk.dim(path))
    .join(&#039;\n&#039;),
  { clear: true, timestamp: true }
)</code></pre>
</div><p>æš‚ä»¥æ‰“å°è¿™ä¸ªæ—¥å¿—çš„æ—¶é—´ä½œä¸ºHMRå¼€å§‹çš„æ—¶é—´</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::5p0i5oy1p3cskj9i5eetu::--><code>let startTime = null
const { info } = server.config.logger;
server.config.logger.info = function _info(str) {
  info.apply(this, arguments);
  if (str.indexOf(&#039;hmr update&#039;) &gt;= 0) {
    startTime = Date.now()
  }
};</code></pre>
</div><p>è§¦å‘HMRæ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå‘å‡ºä¸€ä¸ªè·å–èµ„æºçš„è¯·æ±‚ï¼Œè¯·æ±‚æºå¸¦äº†ä¸€ä¸ªimportå‚æ•°ï¼Œæˆ‘ä»¬é€šè¿‡è¿™ä¸ªå‚æ•°æ¥æ ‡è¯†è¿™ä¸ªç‰¹å®šçš„è¯·æ±‚</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2v5ign2uvlezzzhimzw6bd::--><code>http://localhost:8080/src/pages/home/index.vue?import&amp;t=1632924377207</code></pre>
</div><p>é’©å­ä¸­çš„serverå®ä¾‹åŒ…å«<code>middlewares</code>å±æ€§å¯ä»¥å‘ä¸Šæ·»åŠ è‡ªå®šä¹‰çš„ä¸­é—´ä»¶å¤„ç†æ–¹æ³•</p>
<ul>
<li>é€šè¿‡URLå®ä¾‹è§£æ<code>search</code>å‚æ•°ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦åŒ…å«<code>import&amp;</code></li>
<li>é‡å®šä¹‰<code>end</code>æ–¹æ³•ï¼Œåœ¨èµ„æºä¼ å›åˆ°å®¢æˆ·ç«¯åæ‰“å°è€—æ—¶</li>
</ul>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::j8o8kst5ncx3mykmhjfmr::--><code>server.middlewares.use(async (req, res, next) =&gt; {
  const { search } = new URL(req.url, `http://${req.headers.host}`);
  if (
    search.indexOf(&#039;import&amp;&#039;) &gt;= 0
  ) {
    const { end } = res;
    res.end = function _end() {
      // åœ¨èµ„æºè¿”å›åæ‰“å°è€—æ—¶
      end.apply(this, arguments);
      console.log(Date.now() - startTime)
    };
  }
  next();
});</code></pre>
</div><p>äº‹å®ä¸Šé€šè¿‡<code>--debug</code>å¯åŠ¨æœåŠ¡ï¼Œèƒ½çœ‹åˆ°åœ¨HMRæ—¶ä¼šæ‰“å°4ä¸ªæ—¶é—´</p>
<p><img src="./vite-plugin-monitor2/MTYzMjkyNTQzMzEwNw==632925433107.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>ç›®å‰æ–¹æ³•ä»…ä»…å¾—åˆ°äº†<code>vite:hmr</code>éƒ¨åˆ†çš„æ—¶é—´ï¼Œä¸å®é™…è€—æ—¶è¿˜æœ‰ä¸€ä¸ä¸å·®å¼‚</p>
<h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h2>
<p>æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯åªèƒ½é€šè¿‡<code>--debug</code>çœ‹åˆ°ï¼Œä¸‹ä¸€æ­¥çš„è®¡åˆ’å°±æ˜¯hackï¼Œæ¨¡æ‹Ÿä¸€ä¸‹debugä¸‹çš„è¡Œä¸ºï¼Œå°†debugçš„æ‰“å°çš„æ•°æ®éƒ½æ‹¦æˆªä¸‹æ¥
ç”±äºæ—¶é—´å…³ç³»ï¼Œè¿™éƒ¨åˆ†hackè¿˜æ²¡å®Œæˆã€‚å‡†å¤‡å‡æœŸæŠ½æ—¶é—´å®ç°ä¸€ä¸‹ã€‚ä¸‹ä¸€ç¯‡æ–‡ç« å°†è¯¦ç»†çš„ä»‹ç»æœ€ç»ˆå®ç°ã€‚</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/vite-plugin-monitor2/MTYzMjkyMjIxNzI0Nw==632922217247.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[é©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/mid-autumn-festival.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/mid-autumn-festival.html</guid>
            <pubDate>Sat, 11 Sep 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
é©¬ä¸Šä¸­ç§‹èŠ‚å•¦ï¼Œæ˜é‡‘åˆå¼€å§‹æ•´æ´»äº†ï¼Œæ°å·§æœ€è¿‘å‡†å¤‡åšçš„å·¥å…·ä¼šæ¶‰åŠåˆ°é¼ æ ‡æŒ‡é’ˆçš„å˜åŠ¨ï¼Œå°±é¡ºæ‰‹å…ˆå†™ä¸ªdemoè¹­è¹­æ´»åŠ¨äº†ã€‚
é¡ºä¾¿æå‰ç¥å¤§å®¶ğŸ‘ä¸­ç§‹èŠ‚å¿«ä¹ã€‚
å½“ç„¶è¿™ä¸ªé¼ æ ‡æŒ‡é’ˆçš„å˜åŠ¨åªåœ¨Webåº”ç”¨ä¸­ç”Ÿæ•ˆ
æ–¹ä¾¿çš„è¯]]></description>
            <content:encoded><![CDATA[<h1 id="é©¬ä¸Šä¸­ç§‹äº†-æŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”" tabindex="-1">é©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…” <a class="header-anchor" href="#é©¬ä¸Šä¸­ç§‹äº†-æŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”" aria-label="Permalink to â€œé©¬ä¸Šä¸­ç§‹äº†ï¼ŒæŠŠé¼ æ ‡æŒ‡é’ˆå˜ä¸ºå°ç‰å…”â€">&#8203;</a></h1>
<blockquote>
<p>æˆ‘æ­£åœ¨å‚åŠ ä¸­ç§‹åˆ›æ„æŠ•ç¨¿å¤§èµ›ï¼Œè¯¦æƒ…è¯·çœ‹ï¼š<a href="https://juejin.cn/post/7003154195826081800" target="_blank" rel="noreferrer">ä¸­ç§‹åˆ›æ„æŠ•ç¨¿å¤§èµ›</a>â€</p>
</blockquote>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>é©¬ä¸Šä¸­ç§‹èŠ‚å•¦ï¼Œæ˜é‡‘åˆå¼€å§‹<a href="https://juejin.cn/post/7003154195826081800" target="_blank" rel="noreferrer">æ•´æ´»</a>äº†ï¼Œæ°å·§æœ€è¿‘å‡†å¤‡åšçš„å·¥å…·ä¼šæ¶‰åŠåˆ°é¼ æ ‡æŒ‡é’ˆçš„å˜åŠ¨ï¼Œå°±é¡ºæ‰‹å…ˆå†™ä¸ªdemoè¹­è¹­æ´»åŠ¨äº†ã€‚</p>
<p>é¡ºä¾¿æå‰ç¥å¤§å®¶ğŸ‘ä¸­ç§‹èŠ‚å¿«ä¹ã€‚</p>
<p>å½“ç„¶è¿™ä¸ªé¼ æ ‡æŒ‡é’ˆçš„å˜åŠ¨åªåœ¨Webåº”ç”¨ä¸­ç”Ÿæ•ˆ</p>
<p>æ–¹ä¾¿çš„è¯å¯ä»¥<a href="https://juejin.cn/post/7006592666846625823" target="_blank" rel="noreferrer">åŸæ–‡</a>æˆ³ä¸ªèµ</p>
<h2 id="æ•ˆæœå¦‚ä¸‹" tabindex="-1">æ•ˆæœå¦‚ä¸‹ <a class="header-anchor" href="#æ•ˆæœå¦‚ä¸‹" aria-label="Permalink to â€œæ•ˆæœå¦‚ä¸‹â€">&#8203;</a></h2>
<p><img src="./mid-autumn-festival/MTYzMTM0MDYwODYyOQ==631340608629.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>emmmmm...åŠ¨å›¾æ—¶é—´è¾ƒé•¿ï¼Œéœ€è¦ç­‰ä¸€ä¼šå„¿æ•ˆæœæ‰å‡ºæ¥</p>
<h2 id="ç ä¸Šä½“éªŒ" tabindex="-1">ç ä¸Šä½“éªŒ <a class="header-anchor" href="#ç ä¸Šä½“éªŒ" aria-label="Permalink to â€œç ä¸Šä½“éªŒâ€">&#8203;</a></h2>
<p>åœ¨devtoolsä¸­è¿è¡Œä¸‹é¢è¿™æ®µç¥ç§˜ä»£ç å³å¯ï¼Œå®ç°æºç è§<a href="https://github.com/ATQQ/demos/blob/main/yuebingCursor/index.js" target="_blank" rel="noreferrer">æ­¤å¤„</a></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::5xwhdxj5gjqx7vjsfuo1v::--><code>const script = document.createElement(&#039;script&#039;)
script.src = &#039;./mid-autumn-festival/index.js?s1=https%3A//img.cdn.sugarat.top/demo/js-sdk/zq-rabbit/0.0.2/index.js&#039;
document.body.append(script)</code></pre>
</div><p>å°†æ­¤éƒ¨åˆ†ä»£ç åŠ å…¥åˆ°ç›®æ ‡é¡µé¢ä¸­å³å¯</p>
<h2 id="å®ç°æ€è·¯" tabindex="-1">å®ç°æ€è·¯ <a class="header-anchor" href="#å®ç°æ€è·¯" aria-label="Permalink to â€œå®ç°æ€è·¯â€">&#8203;</a></h2>
<p>ä»åŠ¨å›¾ä¸­çœ‹åˆ°å…±æœ‰ä¸¤ç§å…ƒç´ ï¼š</p>
<ol>
<li>é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œé¼ æ ‡è¢«æ›¿æ¢æˆäº†ç‰å…”</li>
<li>ç‰å…”çš„å°¾å·´å¤„è·Ÿç€ä¸€ä¸²æœˆé¥¼ğŸ¥®</li>
</ol>
<p>ä¸‹é¢é€šè¿‡QAçš„æ–¹å¼ï¼Œå°†å¼€å‘ä¸­æ¶‰åŠåˆ°çš„é—®é¢˜å…ˆè¿‡ä¸€ä¸‹ã€‚</p>
<h3 id="è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®" tabindex="-1">è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½® <a class="header-anchor" href="#è·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®" aria-label="Permalink to â€œè·å¾—é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®â€">&#8203;</a></h3>
<p>é€šè¿‡ç›‘å¬<code>window</code>ä¸Šçš„<code>mousemove</code>äº‹ä»¶ï¼Œå³å¯è·å–åˆ°é¼ æ ‡ç§»åŠ¨æ—¶çš„ä½ç½®å‚æ•°</p>
<h3 id="éšè—åŸæ¥çš„æŒ‡é’ˆ" tabindex="-1">éšè—åŸæ¥çš„æŒ‡é’ˆ <a class="header-anchor" href="#éšè—åŸæ¥çš„æŒ‡é’ˆ" aria-label="Permalink to â€œéšè—åŸæ¥çš„æŒ‡é’ˆâ€">&#8203;</a></h3>
<p>cssæœ‰ä¸€ä¸ªå±æ€§<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/cursor" target="_blank" rel="noreferrer">cursor</a>å¯ä»¥ç”¨äºè®¾ç½®æŒ‡é’ˆçš„ç±»å‹ã€‚æˆ‘ä»¬å°†æ•è·äº‹ä»¶çš„dom(event.target)çš„cursorè®¾ç½®ä¸º<code>none</code>å³å¯</p>
<h3 id="å®ç°æŒ‡é’ˆçš„å˜æ›´" tabindex="-1">å®ç°æŒ‡é’ˆçš„å˜æ›´ <a class="header-anchor" href="#å®ç°æŒ‡é’ˆçš„å˜æ›´" aria-label="Permalink to â€œå®ç°æŒ‡é’ˆçš„å˜æ›´â€">&#8203;</a></h3>
<p>è§£å†³äº†ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªç®€å•çš„<code>dom</code>å…ƒç´ æ¥æ›¿ä»£æˆ‘ä»¬çš„æŒ‡é’ˆï¼Œé€šè¿‡å®æ—¶è·å–åˆ°é¼ æ ‡çš„ä½ç½®ï¼Œå®æ—¶æ›´æ–°æˆ‘ä»¬çš„domå…ƒç´ ä½ç½®å³å¯</p>
<h3 id="å®ç°é¼ æ ‡è½¨è¿¹" tabindex="-1">å®ç°é¼ æ ‡è½¨è¿¹ <a class="header-anchor" href="#å®ç°é¼ æ ‡è½¨è¿¹" aria-label="Permalink to â€œå®ç°é¼ æ ‡è½¨è¿¹â€">&#8203;</a></h3>
<p>æ¯ä¸ªä¸€æ®µæ—¶é—´ï¼ˆå¦‚30msï¼‰è®°å½•ä¸€ä¸‹é¼ æ ‡çš„ä½ç½®ï¼Œç„¶åä¸ç»˜åˆ¶æŒ‡é’ˆä¸€æ ·çš„é€»è¾‘ï¼Œå°†è½¨è¿¹ç”¨æœˆé¥¼ğŸ¥®ç»˜åˆ¶å‡ºæ¥</p>
<p>è¿™é‡Œåªæè¿°äº†å¼€å‘ä¸­åˆæœŸä¼šé‡åˆ°çš„é—®é¢˜ï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒé—®é¢˜å°†åœ¨ä¸‹é¢è¯¦ç»†å®ç°éƒ¨åˆ†è¿›è¡Œä»‹ç»</p>
<h2 id="ç‰å…”æŒ‡é’ˆå®ç°" tabindex="-1">ç‰å…”æŒ‡é’ˆå®ç° <a class="header-anchor" href="#ç‰å…”æŒ‡é’ˆå®ç°" aria-label="Permalink to â€œç‰å…”æŒ‡é’ˆå®ç°â€">&#8203;</a></h2>
<p>ç›‘å¬<code>mousemove</code>äº‹ä»¶ï¼Œè·å–æŒ‡é’ˆç›¸å¯¹å±å¹•é¡¶éƒ¨ä¸å·¦ä¾§ä½ç½®ä¿¡æ¯</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::olbz74783dbsdkxr5b7nj::--><code>window.addEventListener(&#039;mousemove&#039;, function (e) {
    const { clientX, clientY } = e
})</code></pre>
</div><p>åˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œè®¾ç½®å…¶èƒŒæ™¯å›¾ä¸ºç‰å…”ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°ä¸»æ–‡æ¡£ä¸­ï¼Œå¹¶åˆå§‹åŒ–ä¸€äº›ä½ç½®/å½¢çŠ¶ç›¸å…³çš„csså±æ€§ã€‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::dcnj42gjmzg8emy7svz3n2::--><code>const size = &#039;30px&#039;
function createCursor() {
    const cursor = h()
    cursor.id = &#039;cursor&#039;

    addStyles(cursor, `
    #cursor{
        background-image:url(./mid-autumn-festival/MTYzMTMyNDYwNTgzMQ==631324605831.png);
        width:${size};
        height:${size};
        background-size:${size} ${size};
        position:fixed;
        display:none;
        cursor:none;
        transform: translate(-30%, -20%);
    }
    `)
    document.body.append(cursor)
    return cursor
}
const cursor = createCursor()

// å·¥å…·æ–¹æ³•
function addStyles(target, styles) {
    const style = document.createElement(&#039;style&#039;)
    style.textContent = styles
    target.append(style)
}

function h(tag = &#039;div&#039;) {
    return document.createElement(tag)
}</code></pre>
</div><p>ç¼–å†™æ›´æ–°ç‰å…”ä½ç½®çš„æ–¹æ³•<code>refreshCursorPos</code>ï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´åï¼Œè®©æŒ‡é’ˆæ¢å¤åŸçŠ¶</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::y51w9cteqktj35pilw5yq::--><code>function refreshCursorPos(x, y) {
    cursor.style.display = &#039;block&#039;
    cursor.style.cursor = &#039;none&#039;
    cursor.style.left = `${x}px`
    cursor.style.top = `${y}px`

    // ä¸€æ®µæ—¶é—´åéšè—
    if (refreshCursorPos.timer) {
        clearTimeout(refreshCursorPos.timer)
    }
    refreshCursorPos.timer = setTimeout(() =&gt; {
        cursor.style.display = &#039;none&#039;
    }, 500)
}</code></pre>
</div><p>ä¸æ­¤å‰çš„æ–¹æ³•ç»“åˆï¼Œå¹¶å°†ç›®æ ‡å…ƒç´ çš„æŒ‡é’ˆéšè—ä¸€æ®µæ—¶é—´ï¼Œéšè—ä¸æ¢å¤è¿™é‡Œç”¨<code>WeakMap</code>æ¥åšä¸€ä¸ªè¾…åŠ©ï¼Œå­˜å‚¨èŠ‚ç‚¹ä¸å®šæ—¶å™¨çš„æ˜ å°„å…³ç³»ï¼Œåšä¸ªç®€å•çš„é˜²æŠ–</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::txh0ov0sqccb90avmxs1jd::--><code>const weakMap = new WeakMap()
window.addEventListener(&#039;mousemove&#039;, function (e) {
    const { clientX, clientY } = e

    // éšè—æ•è·mousemoveäº‹ä»¶çš„å…ƒç´ çš„æŒ‡é’ˆï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´åæ¢å¤
    e.target.style.cursor = &#039;none&#039;
    let timer = weakMap.get(e.target)
    if(timer){
        clearTimeout(timer)
    }
    timer = setTimeout(()=&gt;{
        e.target.style.cursor = &#039;auto&#039;
    },500)
    weakMap.set(e.target,timer)

    // æ›´æ–°ç‰å…”ä½ç½®
    refreshCursorPos(clientX, clientY)
})</code></pre>
</div><p>åˆ°è¿™é‡Œä½ ä»¥ä¸ºå°±ç»“æŸäº†ï¼Ÿå½“ç„¶æ²¡æœ‰ï¼Œæ­¤æ—¶ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä½ çš„ç‰å…”æŒ‡é’ˆæ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<p><img src="./mid-autumn-festival/MTYzMTM0NDc3ODMwMQ==631344778301.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å½“æœˆå…”å‡ºç°çš„æ—¶å€™ï¼Œæ— æ³•æ­£å¸¸ç‚¹å‡»è·³é“¾ï¼Œé€‰æ‹©æ–‡å­—å…ƒç´ </p>
<p>åŸå› æ˜¯ç”±äºï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½è¢«ä½ çš„&quot;æœˆå…”&quot;æ‰€æ•è·äº†</p>
<p>å¦‚ä½•é¿å…äº‹ä»¶è¢«ç›®æ ‡å…ƒç´ æ•è·ï¼Ÿ é€šè¿‡cssè®¾ç½®å…ƒç´ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events" target="_blank" rel="noreferrer">pointer-events</a>å±æ€§ä¸º<code>none</code>å³å¯ï¼Œè®¾ç½®ä¸º<code>none</code>åï¼Œç›®æ ‡å…ƒç´ æ°¸è¿œä¸ä¼šæˆä¸ºé¼ æ ‡äº‹ä»¶çš„<code>target</code></p>
<p>äºæ˜¯ä¸º<code>#cursor</code>å…ƒç´ çš„cssï¼Œæ·»ä¸Šä¸€è¡Œæ ·å¼<code>pointer-events: none;</code>å³å¯</p>
<h2 id="æœˆé¥¼è½¨è¿¹å®ç°" tabindex="-1">æœˆé¥¼è½¨è¿¹å®ç° <a class="header-anchor" href="#æœˆé¥¼è½¨è¿¹å®ç°" aria-label="Permalink to â€œæœˆé¥¼è½¨è¿¹å®ç°â€">&#8203;</a></h2>
<p>æœ‰äº†ä¸Šé¢å®ç°ç‰å…”æŒ‡é’ˆçš„ç»éªŒå®ç°æœˆé¥¼è½¨è¿¹å°±å¾ˆå®¹æ˜“äº†</p>
<p>æ¯ä¸ªæœˆé¥¼å…ƒç´ å‡ç”¨ä¸€ä¸ªdivç»˜åˆ¶ï¼Œå°†æœˆé¥¼çš„åˆå§‹æ ·å¼è¡¨å…ˆåŠ å…¥åˆ°é¡µé¢ä¸­</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::9um5wjlr9vts1vt50dawad::--><code>const orbitSize = &#039;40px&#039;
addStyles(document.body, `
    .orbit{
        background-image:url(./mid-autumn-festival/MTYzMTMyNDMwODg2Nw==631324308867.png);
        width:${orbitSize};
        height:${orbitSize};
        background-size:${orbitSize} ${orbitSize};
        position:fixed;
        display:none;
        cursor:none;
        pointer-events: none;
    }
`)</code></pre>
</div><p>æœˆé¥¼è½¨è¿¹ä¸Šé™çš„æœˆé¥¼è®¾ç½®ä¸º<strong>5</strong>ä¸ªï¼Œç®€å•çš„å¾ªç¯åˆ›å»ºä¸€ä¸‹</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::knsu90oyrigcfsvdiy3t4d::--><code>const ybCounts = 5
const domList = []
for (let i = 0; i &lt; ybCounts; i++) {
    const d = h()
    d.classList.add(&#039;orbit&#039;)
    domList.push(d)
    document.body.append(d)
}</code></pre>
</div><p>åˆ›å»ºä¸€ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æŒ‡é’ˆæœ€è¿‘çš„<strong>5</strong>ä¸ªä½ç½®ï¼Œä¸€ä¸ªä¸´æ—¶å˜é‡ç”¨äºåç»­è¾…åŠ©å­˜å‚¨è½¨è¿¹ç‚¹ä¿¡æ¯</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::vh647bg7m1cwixro33p2xh::--><code>const posList = []
let now = 0</code></pre>
</div><p>ç¼–å†™<code>refreshOrbit</code>æ–¹æ³•ç”¨äºæ›´æ–°è½¨è¿¹ï¼š</p>
<ul>
<li>ç”±äºè½¨è¿¹æœ‰ä¸ªç¼©æ”¾çš„æ•ˆæœï¼Œè¶Šåˆ°åé¢çš„åœ†é¥¼è¶Šå°ï¼Œè¿™é‡Œé€šè¿‡<code>maxScale</code>ç¡®å®šæœ€å¤§çš„æ”¾å¤§å€æ•°</li>
<li>æ ¹æ®è½¨è¿¹ç‚¹ä¸ªæ•°ï¼Œç¡®å®šæ¯ä¸ª<code>æœˆé¥¼</code>æœ€ç»ˆçš„ç¼©æ”¾å€æ•°</li>
<li>æ ¹æ®å­˜å‚¨çš„æŒ‡é’ˆä½ç½®ä¿¡æ¯ï¼Œä¸€ä¸€å¯¹åº”çš„æ›´æ–°æœˆé¥¼ä½ç½®å³å¯</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::uwd1ck1h5nsoksdfmpdrte::--><code>function refreshOrbit(x, y) {
    // åˆ·æ–°ä½ç½®
    const maxScale = 1.5
    const minScale = maxScale / domList.length
    posList.forEach(({ x, y }, idx) =&gt; {
        const dom = domList[idx]
        dom.style.display = &#039;block&#039;
        dom.style.left = `${x}px`
        dom.style.top = `${y}px`
        dom.style.transform = `scale(${(idx + 1) * minScale}) translate(10%,10%)`
        if (dom.timer) {
            clearTimeout(dom.timer)
        }
        dom.timer = setTimeout(() =&gt; {
            dom.style.display = &#039;none&#039;
        }, 50 * (idx + 1))
    })

    const nowTime = Date.now()
    // éš”ä¸€æ®µæ—¶é—´å­˜å‚¨ä¸€ä¸ª
    if (now + 50 &gt; nowTime) {
        return
    }
    now = nowTime
    posList.push({
        x, y
    })
    // åªå­˜å‚¨é™å®šçš„ä¸ªæ•°
    if (posList.length === ybCounts+1) {
        posList.shift()
    }
}</code></pre>
</div><p>æ—¶é—´å›æ‰ä¸­è°ƒç”¨æ›´æ–°è½¨è¿¹çš„æ–¹æ³•</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::7j65tusfea4grmmix6igs::--><code>window.addEventListener(&#039;mousemove&#039;, function (e) {
    const { clientX, clientY } = e
    // ...çœç•¥å…¶å®ƒä»£ç 
    // æ›´æ–°æœˆé¥¼è½¨è¿¹
    refreshOrbit(clientX, clientY)
})</code></pre>
</div><h2 id="æ”¯æŒç§»åŠ¨ç«¯" tabindex="-1">æ”¯æŒç§»åŠ¨ç«¯ <a class="header-anchor" href="#æ”¯æŒç§»åŠ¨ç«¯" aria-label="Permalink to â€œæ”¯æŒç§»åŠ¨ç«¯â€">&#8203;</a></h2>
<p>è¿™ä¸ªç®€å•ï¼Œç›‘å¬<code>touchmove</code>äº‹ä»¶å³å¯</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::2iqnaw4pm2r8zisdclnvqj::--><code>window.addEventListener(&#039;touchmove&#039;, function (e) {
    const { clientX, clientY } = e.changedTouches[0]
    refreshCursorPos(clientX, clientY)

    // æ›´æ–°æœˆé¥¼è½¨è¿¹
    refreshOrbit(clientX, clientY)
})</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>åç»­å‡†å¤‡æŠŠè¿™ä¸ªè®¾ç½®æŒ‡é’ˆæ ·å¼çš„è„šæœ¬æŠ½æˆä¸€ä¸ªé€šç”¨çš„js sdkå’Œå¤§å®¶åˆ†äº«ï¼Œè¿™æ ·æƒ³æ€ä¹ˆæ”¹æŒ‡é’ˆæ ·å¼å°±æ€ä¹ˆæ”¹</p>
<p>å¤§å®¶æœ‰æ›´å¥½çš„æ–¹æ¡ˆå¯ä»¥è¯„è®ºåŒºäº¤æµä¸€æ³¢</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/mid-autumn-festival/MTYzMTM0MDYwODYyOQ==631340608629.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ä¼˜é›…çš„å¤„ç†æŒ‚è½½windowä¸Šçš„å‡½æ•°å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µ]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/window-var.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/window-var.html</guid>
            <pubDate>Wed, 01 Sep 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[èƒŒæ™¯
åœ¨åšä¸€ä¸ªWeb JS SDKï¼ˆAï¼‰æ—¶ï¼Œå†…éƒ¨ä¼šç”¨åˆ°å¦ä¸€ä¸ªWeb JS SDKï¼ˆBï¼‰çš„æ–¹æ³•ã€‚ï¼ˆæ–‡ä¸­åç»­ç”¨A/Bä»£æ›¿ä¸¤è€…ï¼‰
Bé€šå¸¸ä¼šæä¾›Scriptå’ŒNPMåŒ…ä¸¤ç§ä½¿ç”¨æ–¹å¼
::: warning ä½¿ç”¨]]></description>
            <content:encoded><![CDATA[<h1 id="ä¼˜é›…çš„å¤„ç†æŒ‚è½½windowä¸Šçš„å‡½æ•°å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µ" tabindex="-1">ä¼˜é›…çš„å¤„ç†æŒ‚è½½windowä¸Šçš„å‡½æ•°å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µ <a class="header-anchor" href="#ä¼˜é›…çš„å¤„ç†æŒ‚è½½windowä¸Šçš„å‡½æ•°å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µ" aria-label="Permalink to â€œä¼˜é›…çš„å¤„ç†æŒ‚è½½windowä¸Šçš„å‡½æ•°å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µâ€">&#8203;</a></h1>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<p>åœ¨åšä¸€ä¸ªWeb JS SDKï¼ˆAï¼‰æ—¶ï¼Œå†…éƒ¨ä¼šç”¨åˆ°å¦ä¸€ä¸ªWeb JS SDKï¼ˆBï¼‰çš„æ–¹æ³•ã€‚ï¼ˆæ–‡ä¸­åç»­ç”¨A/Bä»£æ›¿ä¸¤è€…ï¼‰</p>
<p>Bé€šå¸¸ä¼šæä¾›Scriptå’ŒNPMåŒ…ä¸¤ç§ä½¿ç”¨æ–¹å¼</p>
<div  class="warning custom-block"><p class="custom-block-title">ä½¿ç”¨npmå¼•å…¥çš„ç¼ºç‚¹</p>
<ul>
<li>å¢åŠ åŒ…ä½“ç§¯</li>
<li>å¦‚æœè¿™ä¸ªSDKè¢«Webåº”ç”¨å·²ç»å¼•å…¥è¿‡é¡µé¢ï¼Œé‚£ä¹ˆç†è®ºä¸Šå¯ç›´æ¥ä½¿ç”¨ï¼Œä¸å¿…è¦å†æ•´ä¸€ä¸ª</li>
</ul>
</div>
<p>å¦‚æœSDK BåŒ…å«scriptå¼•å…¥çš„æ–¹å¼ï¼Œç›®æ ‡é¡µé¢ä¹Ÿå­˜åœ¨å¯èƒ½ä¼šå¼•å…¥Bçš„æƒ…å†µï¼Œé‚£ä¹ˆä¼˜å…ˆè€ƒè™‘ä½¿ç”¨Scriptå¼•å…¥ä¾èµ–çš„SDKçš„æƒ…å†µï¼šä¾‹å¦‚</p>
<ul>
<li>ç›®æ ‡é¡µé¢å·²ç»å¼•å…¥è¿‡JQueryï¼ˆç¬¦åˆSDK Açš„ä½¿ç”¨éœ€æ±‚ï¼‰ï¼Œé‚£ä¹ˆSDK Aå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å·²ç»å­˜åœ¨çš„<code>$</code>è¿›è¡Œæ“ä½œå³å¯ï¼Œä¸å¿…å†åˆ›å»ºjQueryçš„script</li>
<li>é€šå¸¸é¡µé¢éƒ½ä¼šæ¥å…¥åŸ‹ç‚¹ç›‘æ§ç­‰åŸºå»ºæœåŠ¡SDK Bï¼ŒSDK Aä¹Ÿéœ€è¦é€šè¿‡Bè¿›è¡Œæ•°æ®çš„ä¸ŠæŠ¥</li>
</ul>
<h2 id="è¡ç”Ÿéœ€æ±‚" tabindex="-1">è¡ç”Ÿéœ€æ±‚ <a class="header-anchor" href="#è¡ç”Ÿéœ€æ±‚" aria-label="Permalink to â€œè¡ç”Ÿéœ€æ±‚â€">&#8203;</a></h2>
<ul>
<li>æŒ‚è½½åœ¨windowä¸Šçš„å‡½æ•°ä¸å­˜åœ¨æ—¶ï¼Œè‡ªåŠ¨é€šè¿‡scriptæˆ–è€…polyfillï¼ˆå«ç‰‡æ–¹æ³•ï¼‰è¡¥å…¨è¿™ä¸ªæ–¹æ³•</li>
<li>è°ƒç”¨æ–¹ä¾æ—§æŒ‰ç…§SDK Bçš„æ–‡æ¡£è¿›è¡Œä½¿ç”¨</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::c5jg24eequ0uwuvflpcdlk::--><code>window.sdkB(options)</code></pre>
</div><h2 id="è§£å†³æ–¹æ¡ˆ" tabindex="-1">è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to â€œè§£å†³æ–¹æ¡ˆâ€">&#8203;</a></h2>
<p>ç¼–å†™ä¸€ä¸ªé€šç”¨çš„å·¥å…·å‡½æ•°ï¼Œå¤„ç†ä¸Šè¿°çš„<code>è¡ç”Ÿéœ€æ±‚</code></p>
<p>æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::6fnsx9gv1d718o24bwyeha::--><code>function patchWindowFun(
  key: string,
  value: string | Function,
  options?: {
    afterScriptLoad?: Function
    beforeAppendScript?: Function
    alreadyExistCB?: Function
    async?: boolean
    defer?: boolean
  },
)</code></pre>
</div><p>æ€»å…±æ”¯æŒä¼ å…¥3ä¸ªå‚æ•°:</p>
<ol>
<li><code>key</code>ï¼šå¸¦åˆ¤æ–­çš„æ–¹æ³•åœ¨windowä¸Šçš„å±æ€§å</li>
<li><code>value</code>ï¼šä¸å­˜åœ¨æ—¶çš„å–å€¼ï¼ˆfunction è¡¨æ˜ç›´æ¥ä½¿ç”¨æ­¤æ–¹æ³•ä»£æ›¿ï¼Œstringç±»å‹è¡¨æ˜æ–¹æ³•æ¥æºå¤–éƒ¨åŠ è½½çš„jsèµ„æºï¼‰</li>
<li><code>options</code>ï¼šæ˜¯ä¸€äº›å¯é€‰çš„é…ç½®é¡¹ï¼Œä¸»è¦ç”¨äºå¤„ç†ä½¿ç”¨è¿‡å¤–éƒ¨jsèµ„æºåŠ è½½æ–¹æ³•çš„åœºæ™¯
<ol>
<li><code>afterScriptLoad</code>ï¼šèµ„æºåŠ è½½å®Œæˆåçš„å›æ‰</li>
<li><code>beforeAppendScript</code>ï¼šèµ„æºåŠ è½½å‰çš„å›æ‰</li>
<li><code>alreadyExistCB</code>ï¼šæ–¹æ³•å¦‚æœå·²ç»å­˜åœ¨æ‰§è¡Œçš„å›æ‰</li>
<li><code>async</code>ï¼šæ§åˆ¶scriptçš„<strong>async</strong>å±æ€§</li>
<li><code>defer</code>ï¼šæ§åˆ¶scriptçš„<strong>defer</strong>å±æ€§</li>
</ol>
</li>
</ol>
<p>ç”±äºå¤§å¤šæ•°web sdkéƒ½ä¼šå­˜åœ¨éœ€è¦è°ƒç”¨ç‰¹å®šå‡½æ•°æˆ–è€…æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–çš„æƒ…å†µï¼Œå›ºæä¾›äº†<code>afterScriptLoad</code>,<code>beforeAppendScript</code>,<code>alreadyExistCB</code>ä¸‰ä¸ªé’©å­å‡½æ•°å¤„ç†ä¸åŒæ—¶æœºåˆå§‹åŒ–çš„æƒ…å†µ</p>
<h2 id="æ–¹æ³•å®ç°" tabindex="-1">æ–¹æ³•å®ç° <a class="header-anchor" href="#æ–¹æ³•å®ç°" aria-label="Permalink to â€œæ–¹æ³•å®ç°â€">&#8203;</a></h2>
<p>å¦‚æœç›®æ ‡å±æ€§å­˜åœ¨åˆ™ç›´æ¥æ‰§è¡Œç›¸åº”çš„å›æ‰ï¼Œä¸åšè¿›ä¸€æ­¥å¤„ç†</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::vsi3i9tt0pj69r2jjqf6td::--><code>  if (window[key]) {
    alreadyExistCB &amp;&amp; alreadyExistCB()
    console.log(key, &#039;already exist&#039;)
    return
  }</code></pre>
</div><p>ç›®æ ‡å±æ€§ä¸å­˜åœ¨ï¼Œä¼ å…¥çš„æ–¹æ³•å­˜åœ¨æ—¶ç›´æ¥è¿›è¡Œèµ‹å€¼</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lvus3h561zg7fgeumsrrzt::--><code>  // å‡½æ•°ç›´æ¥èµ‹å€¼
  if (typeof value === &#039;function&#039;) {
    window[key] = value
    return
  }</code></pre>
</div><p>å‰©ä½™é€»è¾‘åˆ™æ˜¯å¤„ç†æ–¹æ³•ä»å¤–éƒ¨jsèµ„æºåŠ è½½çš„æƒ…å†µ</p>
<p>ç”±äºåŠ è½½scriptå¤§éƒ¨åˆ†æƒ…å†µæ˜¯å¼‚æ­¥çš„ï¼Œä¸šåŠ¡ä»£ç ä¸­å¯èƒ½å·²ç»è°ƒç”¨äº†ç›¸å…³æ–¹æ³•ï¼Œä¸ºæ­¤ä¸´æ—¶åˆ›å»ºä¸€ä¸ªæ–¹æ³•æ”¶é›†ä¼ å…¥çš„å‚æ•°</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::7okv7d0oun9ci09nqmuxvq::--><code>let params = []
window[key] = function () {
  params.push(arguments)
}</code></pre>
</div><p>ä¸‹é¢çš„é€»è¾‘å°±æ˜¯å¤„ç†<code>script</code>åŠ è½½çš„é€»è¾‘</p>
<p>åœ¨jsèµ„æºåŠ è½½å®Œæˆåé€šè¿‡<code>apply</code>é…åˆ<code>forEach</code>å°†æå‰è°ƒç”¨æ–¹æ³•äº§ç”Ÿçš„å‚æ•°é‡æ–°æ­£ç¡®çš„æ‰§è¡Œä¸€æ¬¡</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::li4myilp7haa3902uedgal::--><code>const script = document.createElement(&#039;script&#039;)
script.src = value
script.async = !!defer
script.defer = !!async
script.onload = function () {
  afterScriptLoad &amp;&amp; afterScriptLoad()
  // å¤„ç†åŸæ¥æ²¡å¤„ç†çš„
  params.forEach(param =&gt; {
    window[key].apply(this, param)
  })
}
beforeAppendScript &amp;&amp; beforeAppendScript()
document.body.append(script)</code></pre>
</div><h2 id="å®Œæ•´æºç å¦‚ä¸‹" tabindex="-1">å®Œæ•´æºç å¦‚ä¸‹ <a class="header-anchor" href="#å®Œæ•´æºç å¦‚ä¸‹" aria-label="Permalink to â€œå®Œæ•´æºç å¦‚ä¸‹â€">&#8203;</a></h2>
<div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre><!--::markdown-it-async::ipvgovtu1ukqdmt78rrh2f::--><code>function patchWindowFun(
  key: string,
  value: string | Function,
  options?: {
    afterScriptLoad?: Function
    beforeAppendScript?: Function
    alreadyExistCB?: Function
    async?: boolean
    defer?: boolean
  },
) {
  // å­˜åœ¨ä¸å¤„ç†
  const { alreadyExistCB, afterScriptLoad, beforeAppendScript, defer, async } = options || {}

  if (window[key]) {
    alreadyExistCB &amp;&amp; alreadyExistCB()
    console.log(key, &#039;already exist&#039;)
    return
  }

  // å‡½æ•°ç›´æ¥èµ‹å€¼
  if (typeof value === &#039;function&#039;) {
    window[key] = value
    return
  }

  // script url
  if (typeof value === &#039;string&#039;) {
    let params = []
    window[key] = function () {
      params.push(arguments)
    }

    const script = document.createElement(&#039;script&#039;)
    script.src = value
    script.async = !!defer
    script.defer = !!async
    script.onload = function () {
      afterScriptLoad &amp;&amp; afterScriptLoad()
      // å¤„ç†åŸæ¥æ²¡å¤„ç†çš„
      params.forEach(param =&gt; {
        window[key].apply(this, param)
      })
    }
    beforeAppendScript &amp;&amp; beforeAppendScript()
    document.body.append(script)
  }
}</code></pre>
</div><h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h2>
<p>ç›®å‰çš„æ–¹æ³•å®ç°ä»…é€‚ç”¨äºï¼Œ<strong>è°ƒç”¨çš„æ–¹æ³•ç›¸å¯¹ç‹¬ç«‹</strong>ä¸å½±å“æ­£å¸¸çš„äº¤äº’</p>
<p>å¦‚æœä¸šåŠ¡ä»£ç ä¾èµ–æ–¹æ³•çš„è¿”å›å€¼ï¼Œé‚£ä¹ˆå¼‚æ­¥é€šè¿‡<code>script</code>åŠ è½½çš„æ–¹æ³•æ–¹å¼å°†ä¸å¤ªé€‚ç”¨</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/immed-setInterval.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/bigWeb/js/immed-setInterval.html</guid>
            <pubDate>Sun, 29 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[é—®é¢˜æè¿°
éƒ¨åˆ†åœºæ™¯éœ€è¦ä½¿ç”¨å®šæ—¶å™¨å»¶è¿Ÿæˆ–è€…å¾ªç¯æ‰§è¡Œ
é€šå¸¸åœ¨å¾ªç¯åœºæ™¯ä¸‹åˆå¸Œæœ›é¦–æ¬¡è°ƒç”¨çš„æ—¶å€™ç«‹å³æ‰§è¡Œä¸€æ¬¡
å½“ç„¶è¿™ä¸ªå¤„ç†ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯çœ‹ä¸Šå»æ€»è§‰å¾—ä¸å¤ªä¼˜é›…
```js
function fn(){}
]]></description>
            <content:encoded><![CDATA[<h1 id="å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨" tabindex="-1">å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨ <a class="header-anchor" href="#å®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨" aria-label="Permalink to â€œå®ç°è°ƒç”¨å°±æ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶å™¨â€">&#8203;</a></h1>
<h2 id="é—®é¢˜æè¿°" tabindex="-1">é—®é¢˜æè¿° <a class="header-anchor" href="#é—®é¢˜æè¿°" aria-label="Permalink to â€œé—®é¢˜æè¿°â€">&#8203;</a></h2>
<p>éƒ¨åˆ†åœºæ™¯éœ€è¦ä½¿ç”¨å®šæ—¶å™¨å»¶è¿Ÿæˆ–è€…å¾ªç¯æ‰§è¡Œ</p>
<p>é€šå¸¸åœ¨å¾ªç¯åœºæ™¯ä¸‹åˆå¸Œæœ›é¦–æ¬¡è°ƒç”¨çš„æ—¶å€™ç«‹å³æ‰§è¡Œä¸€æ¬¡</p>
<p>å½“ç„¶è¿™ä¸ªå¤„ç†ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯çœ‹ä¸Šå»æ€»è§‰å¾—ä¸å¤ªä¼˜é›…</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::efopb4f1g8q5qwktwym9dw::--><code>function fn(){}

fn()
const timer = setTimeout(fn,timeout)</code></pre>
</div><p>å’±çš„ç›®çš„æ˜¯æ•´ä¸ªä¼˜é›…çš„<code>setImmTimeout</code>å’Œ<code>setImmInterval</code>ï¼Œå³åœ¨è°ƒç”¨å¤Ÿä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡å›æ‰å‡½æ•°</p>
<blockquote>
<p>å…³äºå®ç°è¾ƒå‡†æ—¶çš„setTimeoutï¼Œå¯ä»¥è¿›ä¸€æ­¥é˜…è¯»<a href="https://mp.weixin.qq.com/s/JYfm8oiQmomkNnJIFWDkrQ" target="_blank" rel="noreferrer">è¿™ç¯‡æ–‡ç« </a>,æœ¬æ–‡ä¸æ¶‰åŠå®šæ—¶å™¨çš„å®ç°</p>
</blockquote>
<h2 id="å‰ç½®çŸ¥è¯†" tabindex="-1">å‰ç½®çŸ¥è¯† <a class="header-anchor" href="#å‰ç½®çŸ¥è¯†" aria-label="Permalink to â€œå‰ç½®çŸ¥è¯†â€">&#8203;</a></h2>
<p>å®šæ—¶å™¨çš„å‚æ•°æ„æˆ:</p>
<ol>
<li>funcï¼šè¢«è°ƒç”¨çš„å‡½æ•°</li>
<li>delayï¼šå»¶è¿Ÿçš„æ—¶é—´</li>
<li>(å¯é€‰)arg1-argNï¼šä¼ é€’ç»™è¢«è°ƒç”¨å‡½æ•°çš„å‚æ•°</li>
</ol>
<p>è¿”å›å€¼ï¼šä¸€ä¸ªæ ‡è¯†ç›®æ ‡è®¡æ—¶å™¨çš„éé›¶æ•°å­—ï¼Œç”¨äºæ¸…æ¥šç›®æ ‡è®¡æ•°å™¨</p>
<p>å‚æ•°æ„æˆå¦‚ä¸‹ï¼Œ<code>[]</code>ä¸­åŒ…å«çš„æ˜¯å¯é€‰çš„å‚æ•°ï¼Œå¹¶ä¸æ˜¯ä¼ é€’ä¸€ä¸ªæ•°ç»„</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::gbrjsr9dq96ujwqh0z7ro9::--><code>(func, delay, [arg1, arg2, ...]);</code></pre>
</div><h2 id="setimmx" tabindex="-1">setImmX <a class="header-anchor" href="#setimmx" aria-label="Permalink to â€œsetImmXâ€">&#8203;</a></h2>
<p>æœ´ç´ çš„å®ç°æ–¹æ³•å¦‚ä¸‹ï¼Œå»¶è¿Ÿæ‰§è¡Œå‰è°ƒç”¨ä¸€æ¬¡</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::95kax18fjwkk9sar7bvd3::--><code>function setImmTimeout(func, delay = 0, ...args) {
    if (typeof func !== &#039;function&#039;) throw new TypeError(&#039;func is not function&#039;)
    func.apply(this, args)
    return setTimeout(func, delay, ...args)
}

function setImmInterval(func, delay = 0, ...args){
    if (typeof func !== &#039;function&#039;) throw new TypeError(&#039;func is not function&#039;)
    func.apply(this, args)
    return setInterval(func, delay, ...args)
}</code></pre>
</div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[åšä¸€ä¸ªCLç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ15ï¼‰]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/time-tools-15.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/time-tools-15.html</guid>
            <pubDate>Mon, 23 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
åœ¨å‰ä¸€æœŸæ–‡ç« ä¸­å®Œå–„äº†ä¸€ä¸ªç”ŸæˆWebé¡µé¢æµè§ˆäº‹åŠ¡è¿›å±•çš„`timec page`æŒ‡ä»¤
ä½†åœ¨æ—¥`å¸¸ä½¿ç”¨å·¥å…·ä¸­å‘ç°å‘ç°äº†ä¸¤ä¸ªç—›ç‚¹ï¼š
1. ç”±äºäº‹åŠ¡ç¹å¤šï¼Œç»å¸¸ä¼šå¿˜è®°ç»“æŸä¸€ä¸ªäº‹æƒ…ï¼Œå°±å¼€å§‹äº†ä¸‹ä¸€ä¸ªäº‹æƒ…
2. ]]></description>
            <content:encoded><![CDATA[<h1 id="åšä¸€ä¸ªcliç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·-15" tabindex="-1">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ15ï¼‰ <a class="header-anchor" href="#åšä¸€ä¸ªcliç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·-15" aria-label="Permalink to â€œåšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ15ï¼‰â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨å‰ä¸€æœŸæ–‡ç« ä¸­å®Œå–„äº†ä¸€ä¸ªç”ŸæˆWebé¡µé¢æµè§ˆäº‹åŠ¡è¿›å±•çš„<code>timec page</code>æŒ‡ä»¤</p>
<p>ä½†åœ¨æ—¥`å¸¸ä½¿ç”¨å·¥å…·ä¸­å‘ç°å‘ç°äº†ä¸¤ä¸ªç—›ç‚¹ï¼š</p>
<ol>
<li>ç”±äºäº‹åŠ¡ç¹å¤šï¼Œç»å¸¸ä¼šå¿˜è®°ç»“æŸä¸€ä¸ªäº‹æƒ…ï¼Œå°±å¼€å§‹äº†ä¸‹ä¸€ä¸ªäº‹æƒ…</li>
<li>åœ¨åˆ‡æ¢ä»»åŠ¡çš„æ—¶å€™éœ€è¦å®Œæ•´çš„è¾“å…¥ä»»åŠ¡åæ‰èƒ½è¿›è¡Œä»»åŠ¡çš„åˆ‡æ¢</li>
</ol>
<p>å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶å®ƒçš„ç—›ç‚¹ï¼Œæœ¬æœŸç€é‡<strong>è§£å†³ç¬¬1ä¸ªç—›ç‚¹</strong></p>
<h2 id="å®šæ—¶æé†’featureå¼€å‘" tabindex="-1">å®šæ—¶æé†’Featureå¼€å‘ <a class="header-anchor" href="#å®šæ—¶æé†’featureå¼€å‘" aria-label="Permalink to â€œå®šæ—¶æé†’Featureå¼€å‘â€">&#8203;</a></h2>
<p>å®šæ—¶æé†’ï¼Œå¹¶è‡ªåŠ¨æ‰§è¡Œ<code>timec thing -s</code>ä¿å­˜ï¼Œä½¿ç”¨ä¸€ä¸ªæç¤ºéŸ³è¿›è¡Œæç¤º</p>
<p>é¢„æœŸæŒ‡ä»¤<code>timec remind</code></p>
<ul>
<li><code>-c,--cycle [time]</code>:è®¾ç½®æé†’çš„å‘¨æœŸï¼Œå•ä½åˆ†é’Ÿï¼Œé»˜è®¤40åˆ†é’Ÿæé†’ä¸€æ¬¡</li>
</ul>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::erqo05sbzd9yswt0z8vx9b::--><code>timec remind [option]</code></pre>
</div><h3 id="æ³¨å†ŒæŒ‡ä»¤" tabindex="-1">æ³¨å†ŒæŒ‡ä»¤ <a class="header-anchor" href="#æ³¨å†ŒæŒ‡ä»¤" aria-label="Permalink to â€œæ³¨å†ŒæŒ‡ä»¤â€">&#8203;</a></h3>
<p>ä½¿ç”¨<code>commander.command</code>æ³¨å†Œ<code>remind</code>æŒ‡ä»¤ï¼Œä½¿ç”¨<code>.option</code>æ–¹æ³•è®¾ç½®ä¸€ä¸ªå¯é€‰å‚æ•°<code>cycle</code>, ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥é»˜è®¤å€¼<code>'40'</code></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::pewv6r8ijd00emnah6g9cqa::--><code>commander.command(&#039;remind&#039;)
  .description(&#039;Open auto remind music&#039;)
  .option(&#039;-c,--cycle [time]&#039;, &#039;Set the duration of the reminder cycleï¼ˆminuteï¼‰&#039;, &#039;40&#039;)
  .action(remindCommand);</code></pre>
</div><p>å…·ä½“é€»è¾‘å¦‚ä¸‹:</p>
<ol>
<li>å°†<code>cycle</code>å‚æ•°è½¬ä¸ºæ•´æ•°</li>
<li>ç„¶åä½¿ç”¨å®šæ—¶å™¨<code>setTimeout</code>ï¼Œåœ¨<code>cycle*oneMinute</code>æ¯«ç§’å,æ’­æ”¾éŸ³é¢‘ä¸è‡ªåŠ¨è®°å½•</li>
</ol>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::7weqn0b1m1vsbxgzwcae::--><code>const spawn = require(&#039;cross-spawn&#039;);

// æé†’å‘¨æœŸï¼ˆminuteï¼‰
  const time = +cmdObj.cycle;
  const oneMinute = 1000 * 60;
  const loop = () =&gt; {
    setTimeout(() =&gt; {
      playRemindAudio(loop);
      // è‡ªåŠ¨è®°å½•ä¸€ä¸‹
      const cwd = getCWD();
      const { thing } = getConfig();
      spawn(&#039;timec&#039;, [&#039;thing&#039;, thing.name], {
        cwd,
        stdio: &#039;inherit&#039;,
      });
    }, time * oneMinute);
  };
  loop();</code></pre>
</div><p>å…¶ä¸­è‡ªåŠ¨è®°å½•çš„æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡<code>spawn</code>æ‰§è¡Œ<code>timec thing [newthing]</code>æŒ‡ä»¤å³å¯è¿›è¡Œè‡ªåŠ¨çš„äº‹ä»¶è®°å½•</p>
<p><code>playRemindAudio</code>ä¸­åŒ…å«çš„å°±æ˜¯æ’­æ”¾é¢„è®¾éŸ³é¢‘çš„é€»è¾‘</p>
<h3 id="æ’­æ”¾å£°éŸ³" tabindex="-1">æ’­æ”¾å£°éŸ³ <a class="header-anchor" href="#æ’­æ”¾å£°éŸ³" aria-label="Permalink to â€œæ’­æ”¾å£°éŸ³â€">&#8203;</a></h3>
<p>è¿™ä¸ªç®—æ˜¯çŸ¥è¯†ç›²åŒºï¼Œä»¥å‰ä»æ¥æ²¡æœ‰ä½¿ç”¨Node.jsåŸç”Ÿçš„APIæ’­æ”¾è¿‡éŸ³é¢‘</p>
<h4 id="ç³»ç»ŸæŒ‡ä»¤" tabindex="-1">ç³»ç»ŸæŒ‡ä»¤ <a class="header-anchor" href="#ç³»ç»ŸæŒ‡ä»¤" aria-label="Permalink to â€œç³»ç»ŸæŒ‡ä»¤â€">&#8203;</a></h4>
<p>é¦–å…ˆæƒ³åˆ°çš„æ–¹æ¡ˆå°±æ˜¯é€šè¿‡<code>spawn</code>è°ƒç”¨ç³»ç»Ÿçš„æŒ‡ä»¤æ’­æ”¾éŸ³é¢‘</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::yaihcthf9ir40oehn5br5::--><code>spawn(&#039;mpg123&#039;, [&#039;url.mp3&#039;);</code></pre>
</div><p>è¿™ä¸ªæ˜¯è°ƒç”¨<a href="https://mpg123.org/" target="_blank" rel="noreferrer">mpg123</a>ç³»ç»ŸæŒ‡ä»¤</p>
<p>linuxæ“ä½œç³»ç»Ÿå®‰è£…æŒ‡ä»¤å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::n7n1xqu9auaer5kuphvhw::--><code>sudo apt-get install mpg123</code></pre>
</div><p>è°ƒç”¨ç³»ç»ŸæŒ‡ä»¤æ’­æ”¾éŸ³ä¹ï¼Œæ¯”è¾ƒæœ‰å±€é™æ€§ï¼Œå¸¸è§æ“ä½œç³»ç»Ÿæœ‰3ç§ï¼Œä¸ä¸€å®šæ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½æ”¯æŒä¸€æ ·çš„æŒ‡ä»¤</p>
<p>å¦‚æœä½¿ç”¨æ­¤ç§æ–¹å¼å°±éœ€è¦è°ƒç ”ç›®æ ‡å¹³å°ï¼Œè£…æœºå°±é»˜è®¤æ”¯æŒçš„æŒ‡ä»¤</p>
<h4 id="ç°å­˜npmåŒ…" tabindex="-1">ç°å­˜NPMåŒ… <a class="header-anchor" href="#ç°å­˜npmåŒ…" aria-label="Permalink to â€œç°å­˜NPMåŒ…â€">&#8203;</a></h4>
<p>è¿™ä¸ªé—®é¢˜è‚¯å®šä¸æ˜¯å¼€å‘è€…ç¬¬ä¸€æ¬¡é‡è§ï¼Œè‚¯å®šæ˜¯æœ‰å‰è¾ˆä»¬é‡åˆ°è¿‡ï¼Œé€šè¿‡æœç´¢å¼•æ“æ£€ç´¢ï¼Œpickäº†ä¸‹è¿°ä¸¤ä¸ªï¼š</p>
<ul>
<li><a href="https://github.com/Marak/play.js#readme" target="_blank" rel="noreferrer">play</a></li>
<li><a href="https://www.npmjs.com/package/audio-play" target="_blank" rel="noreferrer">audio-play</a></li>
</ul>
<p>é¦–å…ˆæ˜¯ç¬¬ä¸€ä¸ª,API æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡<a href="https://github.com/Marak/play.js/blob/d3ca7a04d1bd58c3ad72df3088f92985742e41cc/lib/play.js#L54" target="_blank" rel="noreferrer">æŸ¥çœ‹æºç </a>ï¼Œå®é™…ä¸Šä»–ä¹Ÿæ˜¯è°ƒç”¨ç³»ç»ŸæŒ‡ä»¤æ’­æ”¾</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::86mdf8bc00v72lkt207hey::--><code>const play = require(&#039;play/lib/play&#039;);

play.sound(&#039;filepath.wav&#039;);</code></pre>
</div><p><img src="./time-tools-15/MTYyOTczMTE1Mjk1MA==629731152950.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>å…¶æ¬¡æ˜¯<code>audio-play</code>,éœ€è¦é…åˆ<code>audio-loader</code>ä½¿ç”¨</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::f5m07olb1gjurg8w8pbjyc::--><code>const audioPlay = require(&#039;audio-play&#039;);
const audioLoad = require(&#039;audio-loader&#039;);
audioLoad(&#039;filepath.wav&#039;).then((v) =&gt; {
  audioPlay(v);
});</code></pre>
</div><p>åœ¨<code>mac</code>ä¸Šæµ‹è¯•æ’­æ”¾æ­£å¸¸ï¼Œåœ¨linuxä¸Šä¾æ—§æ— æ³•æ­£å¸¸æ’­æ”¾</p>
<h4 id="ä½¿ç”¨ç³»ç»Ÿèœ‚é¸£å™¨" tabindex="-1">ä½¿ç”¨ç³»ç»Ÿèœ‚é¸£å™¨ <a class="header-anchor" href="#ä½¿ç”¨ç³»ç»Ÿèœ‚é¸£å™¨" aria-label="Permalink to â€œä½¿ç”¨ç³»ç»Ÿèœ‚é¸£å™¨â€">&#8203;</a></h4>
<p>è¿™ä¸ªå°±æ¯”è¾ƒç®€å•ï¼Œæ‰§è¡Œä¸‹é¢ä»£ç å³å¯ï¼Œä½†æ˜¯åœ¨æˆ‘çš„linuxä¸Šæµ‹è¯•ä»ç„¶æ— æ•ˆï¼Œemmmmè£‚å¼€äº†</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::e9o6ex034wkkrynyb5h38l::--><code>process.stdout.write(&#039;\x07&#039;)</code></pre>
</div><h4 id="todo" tabindex="-1">TODO <a class="header-anchor" href="#todo" aria-label="Permalink to â€œTODOâ€">&#8203;</a></h4>
<p>æ•´ç†ä¸€ç¯‡Node.jsæ’­æ”¾éŸ³é¢‘çš„å¹²è´§å®è·µæ–‡ç« ï¼Œç›®æ ‡3ç«¯é€šç”¨ä¸€ä¸ªAPI</p>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>ç”±äºæ¯å¤©ç©ºé—²æ—¶é—´æœ‰é™ï¼Œæœ¬æ–‡å°±å…ˆåˆ°è¿™ï¼Œä¸‹ä¸€æœŸå°†ç»§ç»­å®Œå–„<code>timec page</code>æŒ‡ä»¤</p>
<p>å¦‚æœè¯»è€…è¿˜æ„Ÿè§‰æ„çŠ¹æœªå°½ï¼Œæ•¬è¯·æœŸå¾…åç»­æ›´æ–°ï¼Œæˆ–æŒç»­å…³æ³¨ä¸€ä¸‹<a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">ä»“åº“</a>çš„çŠ¶æ€</p>
<p>æ¬¢è¿è¯„è®ºåŒºæéœ€æ±‚ï¼Œäº¤æµæ¢è®¨</p>
<p>æœ¬ç³»åˆ—ä¼šä¸æ–­çš„æ›´æ–°è¿­ä»£ï¼Œç›´è‡³äº§å“åˆä»£å®Œæˆ</p>
<ul>
<li><a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">ä»“åº“åœ°å€</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/time-tools-15/MTYyOTczMTE1Mjk1MA==629731152950.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Nodeä¸­requireä¸fs.readFileè¯»å–JSONæ–‡ä»¶çš„å¯¹æ¯”]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/node-require-json.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/technology/learn/node-require-json.html</guid>
            <pubDate>Thu, 19 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[èƒŒæ™¯
åœ¨åšæ—¶é—´ç®¡ç†å·¥å…·å‡ºç°äº†ä¸€ä¸ªé—®é¢˜
ä»£ç ä¸­ä½¿ç”¨requireè¯»å–JSONæ–‡ä»¶ï¼ŒæœåŠ¡ç«¯å¯åŠ¨åå‘ç°å½“JSONæ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨åï¼Œè¿”å›çš„ä»ç„¶æ˜¯åŸæ¥çš„JSONå†…å®¹
æœ¬ç€æ‰“ç ´ç ‚é”…é—®é“ä½çš„ç²¾ç¥ï¼Œå°±å±•å¼€äº†èµ„æ–™æŸ¥é˜…æ¢ç©¶]]></description>
            <content:encoded><![CDATA[<h1 id="nodeä¸­requireä¸fs-readfileè¯»å–jsonæ–‡ä»¶çš„å¯¹æ¯”" tabindex="-1">Nodeä¸­requireä¸fs.readFileè¯»å–JSONæ–‡ä»¶çš„å¯¹æ¯” <a class="header-anchor" href="#nodeä¸­requireä¸fs-readfileè¯»å–jsonæ–‡ä»¶çš„å¯¹æ¯”" aria-label="Permalink to â€œNodeä¸­requireä¸fs.readFileè¯»å–JSONæ–‡ä»¶çš„å¯¹æ¯”â€">&#8203;</a></h1>
<h2 id="èƒŒæ™¯" tabindex="-1">èƒŒæ™¯ <a class="header-anchor" href="#èƒŒæ™¯" aria-label="Permalink to â€œèƒŒæ™¯â€">&#8203;</a></h2>
<p>åœ¨åš<a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">æ—¶é—´ç®¡ç†å·¥å…·</a>å‡ºç°äº†ä¸€ä¸ªé—®é¢˜</p>
<p><a href="https://github.com/ATQQ/time-control/blob/2ce91222ac937dc10205d1153cee181985d87a5a/src/utils/index.js#L188" target="_blank" rel="noreferrer">ä»£ç </a>ä¸­ä½¿ç”¨requireè¯»å–JSONæ–‡ä»¶ï¼ŒæœåŠ¡ç«¯å¯åŠ¨åå‘ç°å½“JSONæ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨åï¼Œè¿”å›çš„ä»ç„¶æ˜¯åŸæ¥çš„JSONå†…å®¹</p>
<p>æœ¬ç€æ‰“ç ´ç ‚é”…é—®é“ä½çš„ç²¾ç¥ï¼Œå°±å±•å¼€äº†èµ„æ–™æŸ¥é˜…æ¢ç©¶ï¼Œè¶æœºå­¦ä¹ ä¸€æ³¢æ–°çŸ¥è¯†</p>
<h2 id="åŸå› " tabindex="-1">åŸå›  <a class="header-anchor" href="#åŸå› " aria-label="Permalink to â€œåŸå› â€">&#8203;</a></h2>
<p>ç»“è®ºå…ˆè¡Œï¼Œ<code>require</code>å¼•å…¥çš„æ¨¡å—ä¼šè¢«Nodeç¼“å­˜ï¼Œä¸‹é¢ç”¨ä¸€ä¸ªç®€å•çš„demoå®éªŒä¸€ä¸‹</p>
<h3 id="ç¤ºä¾‹" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹" aria-label="Permalink to â€œç¤ºä¾‹â€">&#8203;</a></h3>
<p><strong>test-module.js</strong></p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::vog11fbf449n4e1w9jzka::--><code>console.log(&#039;1&#039;);

module.exports = {
    name:&#039;0&#039;
}</code></pre>
</div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::lscvaizblurtjozi0pwg::--><code>const m1 = require(&#039;./test-module&#039;)
m1.name = &#039;2&#039;
const m2 = require(&#039;./test-module&#039;)
console.log(m2.name);</code></pre>
</div><p>è¿è¡Œåçš„è¾“å‡ºç»“æœè¾“å‡ºå¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::6g2iwvnnkxihahetemmopk::--><code>1
2</code></pre>
</div><p>ä»è¿™å°±å¯ä»¥å¾—å‡ºç»“è®ºNodeä¼šç¼“å­˜å¼•å…¥çš„æ¨¡å—ï¼Œnameå¦‚ä½•æŸ¥çœ‹å·²ç»è¢«ç¼“å­˜çš„æ¨¡å—</p>
<h3 id="æŸ¥çœ‹ç¼“å­˜" tabindex="-1">æŸ¥çœ‹ç¼“å­˜ <a class="header-anchor" href="#æŸ¥çœ‹ç¼“å­˜" aria-label="Permalink to â€œæŸ¥çœ‹ç¼“å­˜â€">&#8203;</a></h3>
<p>é€šè¿‡<a href="http://nodejs.cn/api/modules/require_cache.html" target="_blank" rel="noreferrer">require.cache</a>å³å¯è·å–è¢«ç¼“å­˜çš„æ¨¡å—ï¼š</p>
<ul>
<li>è¿”å›ä¸€ä¸ªå¯¹è±¡</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::03zowie9ksjyotbf5874uxq::--><code>const m1 = require(&#039;./test-module&#039;)
console.log(require.cache);</code></pre>
</div><p>è¾“å‡ºå†…å®¹å¦‚ä¸‹(è¿™é‡Œå°±è´´ä¸€å¼ æˆªå›¾)
<img src="./node-require-json/MTYyOTM4NTA0MDE2MQ==629385040161.png" alt="å›¾ç‰‡" loading="lazy"></p>
<h3 id="åˆ é™¤ç¼“å­˜" tabindex="-1">åˆ é™¤ç¼“å­˜ <a class="header-anchor" href="#åˆ é™¤ç¼“å­˜" aria-label="Permalink to â€œåˆ é™¤ç¼“å­˜â€">&#8203;</a></h3>
<p>æ—¢ç„¶<code>require.cache</code>è¿”å›å†…å®¹æ˜¯ä¸€ä¸ªæ™®æ™®é€šé€šçš„å¯¹è±¡ï¼Œnameå¯ä»¥é€šè¿‡<code>delete</code>å…³é”®å­—è¿›è¡Œç§»é™¤</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::3yqve36env89p1w027vofi::--><code>const m1 = require(&#039;./test-module&#039;)
m1.name = &#039;2&#039;
console.log(m1.name);

delete require.cache[`${__dirname}/test-module.js`]
const m2 = require(&#039;./test-module&#039;)
console.log(m2.name);</code></pre>
</div><p>å†…å®¹è¾“å‡ºå¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::1vjbsciisq6hl7279qvoyv::--><code>1
2
1
0</code></pre>
</div><p>åŸå› æ‹å®Œåï¼Œå’±ä»¬å°±å¼€å§‹è¿›å…¥ä¸»é¢˜</p>
<p>è¿›è¡Œ<code>è¯»å–JSON</code>æ–‡ä»¶çš„å¯¹æ¯”åˆ†æ</p>
<h2 id="è¯»å–jsonå¯¹æ¯”" tabindex="-1">è¯»å–JSONå¯¹æ¯” <a class="header-anchor" href="#è¯»å–jsonå¯¹æ¯”" aria-label="Permalink to â€œè¯»å–JSONå¯¹æ¯”â€">&#8203;</a></h2>
<ul>
<li>requireå¯ä»¥çœç•¥<code>.json</code>åç¼€</li>
<li>fs.readFileè¯»å–ä¸èƒ½çœç•¥åç¼€
test.json</li>
</ul>
<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre><!--::markdown-it-async::9zleo82hxiasjbxpx8706c::--><code>{
    &quot;name&quot;:&quot;xm&quot;
}</code></pre>
</div><p>æµ‹è¯•demo</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::xj088fup9phyt9xps825w::--><code>const d1 = require(&#039;./test.json&#039;)
console.log(d1); // { name: &#039;xm&#039; }
const d2 = require(&#039;./test&#039;)
console.log(d2); // { name: &#039;xm&#039; }</code></pre>
</div><h2 id="å…¶å®ƒå·®å¼‚" tabindex="-1">å…¶å®ƒå·®å¼‚ <a class="header-anchor" href="#å…¶å®ƒå·®å¼‚" aria-label="Permalink to â€œå…¶å®ƒå·®å¼‚â€">&#8203;</a></h2>
<h3 id="ç¼–ç " tabindex="-1">ç¼–ç  <a class="header-anchor" href="#ç¼–ç " aria-label="Permalink to â€œç¼–ç â€">&#8203;</a></h3>
<ul>
<li>requireåªèƒ½æŒ‰<code>utf-8</code>æ ¼å¼è¯»å–</li>
<li>fs.readFile<code>Sync</code>å¯ä»¥<strong>è®¾ç½®ç¼–ç æ ¼å¼</strong></li>
</ul>
<h3 id="å¼‚æ­¥åŒæ­¥" tabindex="-1">å¼‚æ­¥åŒæ­¥ <a class="header-anchor" href="#å¼‚æ­¥åŒæ­¥" aria-label="Permalink to â€œå¼‚æ­¥åŒæ­¥â€">&#8203;</a></h3>
<ul>
<li>requireæ˜¯åŒæ­¥è¯»å–</li>
<li>é€šè¿‡<code>fs</code>æ—¢å¯ä»¥åŒæ­¥è¯»å–ä¹Ÿå¯ä»¥å¼‚æ­¥è¯»å–</li>
</ul>
<h2 id="å°ç»“" tabindex="-1">å°ç»“ <a class="header-anchor" href="#å°ç»“" aria-label="Permalink to â€œå°ç»“â€">&#8203;</a></h2>
<ul>
<li><code>require</code>æ”¯æŒç¼“å­˜</li>
<li><code>require</code>åªèƒ½æŒ‰UTF-8è¯»å–å†…å®¹</li>
<li><code>require</code>æ˜¯åŒæ­¥çš„</li>
<li><code>require</code>è¯»å–JSONæ–‡ä»¶å¯ä»¥çœç•¥<code>.json</code>åç¼€</li>
</ul>
<h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æœ¬æ–‡å†…å®¹æ¯”è¾ƒç²¾ç®€ï¼Œå¯¹äºå…¼èŒå­¦Nodeçš„åŒå­¦å¯èƒ½ä¼šæ¼æ‰æ­¤éƒ¨åˆ†çŸ¥è¯†</p>
<p>åç»­å°†ç»§ç»­æ›´æ–°<code>æ—¶é—´ç®¡ç†å·¥å…·</code>çš„å®è·µå†…å®¹</p>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/node-require-json/MTYyOTM4NTA0MDE2MQ==629385040161.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[åšä¸€ä¸ªCLç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ14ï¼‰]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/time-tools-14.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/time-tools-14.html</guid>
            <pubDate>Wed, 18 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­å®Œå–„äº†`timec page`æŒ‡ä»¤çš„å‰åç«¯äº¤äº’é€»è¾‘,æœ¬æœŸå°†å®Œå–„è¿™ä¸ªæŒ‡ä»¤æ‰“å¼€é¡µé¢çš„åŠŸèƒ½
 æœ¬æœŸæ•ˆæœé¢„è§ˆ
 åŠŸèƒ½å¼€å‘
 å®Œå–„å¯è§†åŒ–é¡µé¢
ç”±äºé¡¹ç›®é‡‡ç”¨çš„Vue3ï¼Œæ‰€ä»¥æ¥å…¥Element ]]></description>
            <content:encoded><![CDATA[<h1 id="åšä¸€ä¸ªcliç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·-14" tabindex="-1">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ14ï¼‰ <a class="header-anchor" href="#åšä¸€ä¸ªcliç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·-14" aria-label="Permalink to â€œåšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ14ï¼‰â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­å®Œå–„äº†<code>timec page</code>æŒ‡ä»¤çš„å‰åç«¯äº¤äº’é€»è¾‘,æœ¬æœŸå°†å®Œå–„è¿™ä¸ªæŒ‡ä»¤æ‰“å¼€é¡µé¢çš„åŠŸèƒ½</p>
<h2 id="æœ¬æœŸæ•ˆæœé¢„è§ˆ" tabindex="-1">æœ¬æœŸæ•ˆæœé¢„è§ˆ <a class="header-anchor" href="#æœ¬æœŸæ•ˆæœé¢„è§ˆ" aria-label="Permalink to â€œæœ¬æœŸæ•ˆæœé¢„è§ˆâ€">&#8203;</a></h2>
<p><img src="./time-tools-14/MTYyOTMwMDY4MzQwNA==timec-page.gif?s1=https://img.cdn.sugarat.top/mdImg/MTYyOTMwMDY4MzQwNA==timec-page.gif" alt="å›¾ç‰‡" loading="lazy"></p>
<h2 id="åŠŸèƒ½å¼€å‘" tabindex="-1">åŠŸèƒ½å¼€å‘ <a class="header-anchor" href="#åŠŸèƒ½å¼€å‘" aria-label="Permalink to â€œåŠŸèƒ½å¼€å‘â€">&#8203;</a></h2>
<h3 id="å®Œå–„å¯è§†åŒ–é¡µé¢" tabindex="-1">å®Œå–„å¯è§†åŒ–é¡µé¢ <a class="header-anchor" href="#å®Œå–„å¯è§†åŒ–é¡µé¢" aria-label="Permalink to â€œå®Œå–„å¯è§†åŒ–é¡µé¢â€">&#8203;</a></h3>
<p>ç”±äºé¡¹ç›®é‡‡ç”¨çš„Vue3ï¼Œæ‰€ä»¥æ¥å…¥<a href="https://element-plus.gitee.io/" target="_blank" rel="noreferrer">Element UI Plusç»„ä»¶åº“</a></p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::wabbog0ngurh59v9jh3pq::--><code>yarn add element-plus</code></pre>
</div><p>ç›´æ¥å…¨é‡å¼•å…¥é¥¿äº†ä¹ˆUIï¼Œå› ä¸ºä¸éœ€è¦Buildï¼Œæ‰€ä»¥ä¸è€ƒè™‘åŒ…ä½“ç§¯å¸¦æ¥çš„å½±å“ï¼Œå…¶æ¬¡ä½¿ç”¨äº†Viteä¹Ÿä¸ç”¨æ‹…å¿ƒå½±å“å¯åŠ¨é€Ÿåº¦</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::4zkqn2dla4d2t3g8cqrcoq::--><code>// main.js
import { createApp } from &#039;vue&#039;;
import ElementPlus from &#039;element-plus&#039;;
import &#039;element-plus/lib/theme-chalk/index.css&#039;;
import App from &#039;./App.vue&#039;;

const app = createApp(App);
app.use(ElementPlus);

app.mount(&#039;#app&#039;);</code></pre>
</div><p>é€‰ç”¨æ—¥å†ç»„ä»¶<code>el-calendar</code>ï¼Œç›´æ¥ä½¿ç”¨çš„åŒ–ï¼Œé»˜è®¤æ ·å¼å¦‚ä¸‹ï¼š</p>
<p><img src="./time-tools-14/MTYyOTI5ODQxMTA5Ng==629298411096.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ’æ§½è‡ªå®šä¹‰æ¯ä¸ªå•å…ƒæ ¼çš„å†…å®¹ï¼ŒæœŸæœ›æ¯ä¸ªå•å…ƒæ ¼çš„å¤§æ¦‚ç»“æ„å¦‚ä¸‹</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::5xbn1hwb4dugjabluudgd6::--><code>&lt;div class=&quot;day&quot;&gt;
    &lt;div class=&quot;time&quot;&gt;
        &lt;strong&gt;
            &lt;span&gt;1&lt;/span&gt;
        &lt;/strong&gt;
        &lt;span&gt;0h&lt;/span&gt;
    &lt;/div&gt;
    &lt;ul class=&quot;tasks&quot;&gt;
        &lt;li&gt;
            &lt;span&gt;ä»»åŠ¡å&lt;/span&gt;
            &lt;span&gt;0.5h&lt;/span&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;span&gt;ä»»åŠ¡å2&lt;/span&gt;
            &lt;span&gt;0.53h&lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;</code></pre>
</div><p>é˜…è¯»ç»„ä»¶æ–‡æ¡£é€šè¿‡<code>#dateCell</code>æ’æ§½è¿›è¡Œå†…å®¹è‡ªå®šä¹‰</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::eikypu1sk27l8ccyrlqxes::--><code>&lt;el-calendar v-model=&quot;value&quot;&gt;
  &lt;template #dateCell=&quot;{ data }&quot;&gt;
    &lt;!-- è‡ªå®šä¹‰ --&gt;
  &lt;/template&gt;
&lt;/el-calendar&gt;</code></pre>
</div><p>å…¶ä¸­<code>data</code>æœ‰ä¸€ä¸ªå±æ€§<code>day</code>ï¼Œå…¶æ˜¯ä¸€ä¸ªå…·ä½“çš„æ—¥æœŸï¼Œæ ¼å¼ä¸º<code>yyyy-MM-dd</code>,ä¾‹å¦‚2021-08-18</p>
<p>ä¸ºäº†å±•ç¤ºå‡ºè¿™æ ·çš„æ•°æ®ï¼Œå…ˆè®¾è®¡å‡ºä¸€ä¸ªå•å…ƒæ ¼æ‰€éœ€æ•°æ®çš„JSONç»“æ„ï¼Œä¸‹é¢æ˜¯ç¬¬ä¸€ç‰ˆçš„æ•°æ®ç»“æ„åŒ…å«ï¼š</p>
<ul>
<li>ä¸€å¤©æ€»è€—æ—¶</li>
<li>ä»»åŠ¡åˆ—è¡¨
<ul>
<li>ä»»åŠ¡å</li>
<li>ä»»åŠ¡è€—æ—¶
<ul>
<li>äº‹ä»¶åˆ—è¡¨
<ul>
<li>äº‹ä»¶å</li>
<li>äº‹ä»¶è€—æ—¶</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::jzv0jifi9vl68qiqtpvmia::--><code>const item = {
  time: &#039;5.55h&#039;,
  tasks: [
    {
      title: &#039;æµ‹è¯•&#039;,
      time: &#039;5.55h&#039;,
      things: [
        {
          title: &#039;å†™æ–‡æ¡£&#039;,
          time: &#039;5.55h&#039;,
        },
      ],
    },
  ],
},</code></pre>
</div><p>ä½†ä½¿ç”¨çš„æ—¶å€™å‘ç°ï¼Œæ¯ä¸€é¡¹è¦åœ¨æ’æ§½ä¸­ä½¿ç”¨ï¼Œæ’æ§½æ²¡æœ‰æš´éœ²<code>v-for</code>æ¸²æŸ“çš„æ–¹æ³•ï¼Œåªæœ‰èƒ½æ‹¿åˆ°ç»™äºˆçš„æ—¥æœŸï¼Œé‚£ä¹ˆæ¸²æŸ“çš„æ•°æ®ç»“æ„åªèƒ½æ˜¯ä¸ªK-Vçš„å¯¹è±¡</p>
<p>ä¼˜åŒ–åçš„æ•°æ®ç»“æ„å¦‚ä¸‹,å¯¹å¤–åŒ…äº†ä¸€å±‚</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::q70v9i2opxcutiwondf5b::--><code>const oneDay = {
  &#039;2021-08-18&#039;:item
}</code></pre>
</div><p>äºæ˜¯ä¹é¡µé¢çš„ä»£ç å°±èƒ½æ¢³ç†å‡ºç¬¬ä¸€ç‰ˆï¼ŒåŒ…å«æ¸²æŸ“æ¯ä¸€å¤©çš„æ•°æ®ï¼ˆæ—¶é—´+ä»»åŠ¡ï¼‰ï¼Œä½†å¹¶æœªåŒ…å«ä¸Šthingsçš„æ•°æ®</p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::tyn0thg6aky266xdv59io::--><code>&lt;template&gt;
  &lt;div&gt;
    &lt;el-calendar v-model=&quot;value&quot;&gt;
      &lt;template #dateCell=&quot;{ data }&quot;&gt;
        &lt;div class=&quot;day&quot;&gt;
          &lt;div class=&quot;time&quot;&gt;
            &lt;strong&gt;
              &lt;span&gt;{{ parseDay(data.day) }}&lt;/span&gt;
            &lt;/strong&gt;
            &lt;span&gt;{{ sumData[data.day]?.time || &#039;0h&#039; }}&lt;/span&gt;
          &lt;/div&gt;
          &lt;ul class=&quot;tasks&quot; v-if=&quot;sumData[data.day]?.tasks?.length&quot;&gt;
            &lt;li v-for=&quot;(v,idx) in sumData[data.day].tasks&quot; :key=&quot;idx&quot;&gt;
              &lt;span&gt;{{ v.title }}&lt;/span&gt;
              &lt;span&gt;{{ v.time }}&lt;/span&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/template&gt;
    &lt;/el-calendar&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { reactive, ref } from &#039;vue&#039;;

const value = ref(new Date());
const parseDay = (date) =&gt; {
  const [day] = date.split(&#039;-&#039;).slice(2);
  return +day;
};

const sumData = reactive({
  &#039;2021-08-18&#039;: {
    time: &#039;5.55h&#039;,
    tasks: [
      {
        title: &#039;æµ‹è¯•&#039;,
        time: &#039;5.55h&#039;,
        things: [
          {
            title: &#039;å†™æ–‡æ¡£&#039;,
            time: &#039;5.55h&#039;,
          },
        ],
      },
    ],
  },
});

&lt;/script&gt;</code></pre>
</div><p>è¿™é‡Œthingsçš„æ•°æ®ç”¨<code>Popover å¼¹å‡ºæ¡†</code>æ¸²æŸ“</p>
<p><img src="./time-tools-14/MTYyOTI5OTQ1Mzk2Ng==629299453966.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>äºæ˜¯ä¹å°†æ¸²æŸ“tasksçš„é€»è¾‘å°å°æ”¹åŠ¨ä¸€ä¸‹ï¼Œå°±æˆäº†ä¸‹é¢è¿™ç§ï¼Œå…¶ä¸­<code>#reference</code>æ’æ§½æ ‡è¯†è¢«åŒ…è£¹çš„å†…å®¹ï¼Œé»˜è®¤æ’æ§½æ˜¯å¼¹çª—çš„å†…å®¹ï¼Œå¼¹çª—çš„æ ‡é¢˜å³å½“å¤©çš„æ—¥æœŸ<code>data.day</code></p>
<div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><!--::markdown-it-async::czkhjzy4kxrs4isb8amwl::--><code>&lt;ul class=&quot;tasks&quot; v-if=&quot;sumData[data.day]?.tasks?.length&quot;&gt;
    &lt;div v-for=&quot;(v,idx) in sumData[data.day].tasks&quot; :key=&quot;idx&quot;&gt;
        &lt;el-popover v-if=&quot;v?.things?.length&quot; placement=&quot;right&quot; :title=&quot;data.day&quot; :width=&quot;200&quot; trigger=&quot;click&quot;&gt;
            &lt;template #reference&gt;
                &lt;li&gt;
                    &lt;span&gt;{{ v.title }}&lt;/span&gt;
                    &lt;span&gt;{{ v.time }}&lt;/span&gt;
                &lt;/li&gt;
            &lt;/template&gt;
            &lt;ol class=&quot;things&quot;&gt;
                &lt;li v-for=&quot;(t,idx) in v.things&quot; :key=&quot;idx&quot;&gt;
                    &lt;span&gt;{{ t.title }}&lt;/span&gt;
                    &lt;span&gt;{{ t.time }}&lt;/span&gt;
                &lt;/li&gt;
            &lt;/ol&gt;
        &lt;/el-popover&gt;
    &lt;/div&gt;
&lt;/ul&gt;</code></pre>
</div><p>åˆ°æ­¤é¡µé¢æ¸²æŸ“é€»è¾‘å°±æå®šäº†</p>
<p>æ¥ä¸‹æ¥æ˜¯ä»æ¥å£æ‹¿å–æ•°æ®ï¼Œç„¶åæ ¼å¼åŒ–è¿›è¡Œå±•ç¤ºçš„é€»è¾‘:</p>
<ol>
<li>å¼•å…¥è·å–æ¯æ—¥æ•°æ®æ¥å£æ–¹æ³•<code>getEveryDayData</code></li>
<li>éå†è¿”å›çš„æ•°æ®ï¼Œç„¶åå¯¹æ¯ä¸€é¡¹æ•°æ®è¿›è¡Œæ ¼å¼åŒ–</li>
<li>é€šè¿‡<code>Object.assign</code>å°†æ–°çš„æ•°æ®èµ‹ç»™æ—§æ•°æ®<code>sumData</code></li>
</ol>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::2gm4u2osbvrsc60tiqwhqn::--><code>import { getEveryDayData } from &#039;../api&#039;;
const sumData = reactive({})

const refresData = async ()=&gt;{
  const { data } = await getEveryDayData()
  data.forEach(v=&gt;{
    Object.assign(sumData,{
      ...parseOneDay(v)
    })
  })
}</code></pre>
</div><p>æ¥å£è¿”å›çš„æ•°æ®ç»“æ„å¦‚ä¸‹</p>
<p><img src="./time-tools-14/MTYyOTI5OTg2NjczMw==629299866733.png" alt="å›¾ç‰‡" loading="lazy"></p>
<p>æ²¡æ³•ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å’±ä»¬æ¸…æ´—æ ¼å¼åŒ–ä¸€ä¸‹ï¼Œæ ¼å¼åŒ–æ•°æ®çš„æ–¹æ³•<code>parseOneDay</code>é€»è¾‘å¦‚ä¸‹:</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–å¯¹è±¡ï¼ŒåŒ…å«<code>time</code>å’Œ<code>tasks</code>å±æ€§</li>
<li>å¤„ç†æ‹¿åˆ°çš„æ¥å£æ•°æ®</li>
<li>éå†å…¶<code>tasks</code>
<ul>
<li>åˆ›å»ºä¸€ä¸ªåˆå§‹çš„ä»»åŠ¡ï¼ŒåŒ…å«ä»»åŠ¡åï¼Œæ¶ˆè€—æ—¶é—´ï¼Œäº‹ä»¶åˆ—è¡¨ç­‰å±æ€§</li>
<li>éå†æ¯ä¸ª<code>task</code>çš„äº‹ä»¶åˆ—è¡¨ï¼Œæ—¶é—´ç´¯åŠ å³ä¸ºå¯¹åº”ä»»åŠ¡çš„è€—æ—¶</li>
<li>ä»»åŠ¡æ—¶é—´ç´¯åŠ å°±æ˜¯å½“å¤©çš„æ€»è€—æ—¶</li>
</ul>
</li>
<li>è¿”å›çš„æ•°æ®åŠ ä¸Šæ—¥æœŸtitleåŒ…ä¸€å±‚</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::rz5hlvdw691ozbqo23a0w::--><code>const parseOneDay = (data) =&gt; {
  const o = {
    time: &#039;&#039;,
    tasks: []
  }
  if (!data || !data.title) {
    return {}
  }
  let sumTime = 0
  data.tasks.forEach(t =&gt; {
    let task = {
      title: t.title,
      time: &#039;&#039;,
      things: []
    }

    let taskTime = 0
    t.things.forEach(thing =&gt; {
      const { time, content } = thing
      taskTime += (+time)
      task.things.push({
        title: content,
        time: `${time}h`
      })
    })
    task.time = `${taskTime}h`
    sumTime += taskTime

    o.tasks.push(task)
  })
  o.time = `${sumTime}h`
  return {
    [data.title]: o
  }
}</code></pre>
</div><p>æ•°æ®å¤„ç†å®Œæ¯•åå°±æ˜¯è°ƒç”¨,å°†è°ƒç”¨é€»è¾‘æ”¾åˆ°<code>onMounted</code>é’©å­ä¸­ï¼Œå¹¶å°†æ‰§è¡Œé€»è¾‘æ”¾å…¥<code>setInterval</code>å®šæ—¶å™¨ä¸­ï¼Œé€šè¿‡æ¥å£è½®è®­è¾¾åˆ°æ•°æ®å®æ—¶å±•ç¤ºçš„æ•ˆæœ</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::pivxgnnza2ihagw17igeco::--><code>import { onMounted } from &#039;vue&#039;;

onMounted(()=&gt;{
  setInterval(()=&gt;{
    refresData()
  },1200)
})</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>æ—¶é—´ç´§å¼ ï¼Œæœ¬æ–‡çš„ä»£ç å¯èƒ½æœ‰ç‚¹shiï¼Œåç»­ä¼šæŠ½æ—¶é—´åœ¨ä»“åº“ä¸­è¿›è¡Œä¼˜åŒ–</p>
<p>ç”±äºæ¯å¤©ç©ºé—²æ—¶é—´æœ‰é™ï¼Œæœ¬æ–‡å°±å…ˆåˆ°è¿™ï¼Œä¸‹ä¸€æœŸå°†ç»§ç»­å®Œå–„é¡¹ç›®çš„äº¤äº’å’ŒåŠŸèƒ½</p>
<p>å¦‚æœè¯»è€…è¿˜æ„Ÿè§‰æ„çŠ¹æœªå°½ï¼Œæ•¬è¯·æœŸå¾…åç»­æ›´æ–°ï¼Œæˆ–æŒç»­å…³æ³¨ä¸€ä¸‹<a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">ä»“åº“</a>çš„çŠ¶æ€</p>
<p>æ¬¢è¿è¯„è®ºåŒºæéœ€æ±‚ï¼Œäº¤æµæ¢è®¨</p>
<p>æœ¬ç³»åˆ—ä¼šä¸æ–­çš„æ›´æ–°è¿­ä»£ï¼Œç›´è‡³äº§å“åˆä»£å®Œæˆ</p>
<ul>
<li><a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">ä»“åº“åœ°å€</a></li>
</ul>
]]></content:encoded>
            <enclosure url="https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/time-tools-14/MTYyOTMwMDY4MzQwNA==timec-page.gif?s1=https%3A//img.cdn.sugarat.top/mdImg/MTYyOTMwMDY4MzQwNA%3D%3Dtimec-page.gif" length="0" type="image/gif"/>
        </item>
        <item>
            <title><![CDATA[åšä¸€ä¸ªCLç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ13ï¼‰]]></title>
            <link>https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/time-tools-13.html</link>
            <guid isPermaLink="false">https://www.dmsrs.org/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/preview/ripplejourney/ripplejourney.github.io/branch/renovate/master-minor-and-patch-deps/works/time-tools/time-tools-13.html</guid>
            <pubDate>Mon, 16 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€
åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­åŠ å…¥äº†ä¸€ä¸ªå¯åŠ¨WebæœåŠ¡çš„æŒ‡ä»¤`timec page`
æœ¬æœŸå°±ç»§ç»­å®Œå–„è¿™ä¸ªæŒ‡ä»¤çš„æ•ˆæœ
 æœ¬æœŸæ•ˆæœé¢„è§ˆ
 åŠŸèƒ½å¼€å‘
 Webä¾§
æ‹Ÿé‡‡ç”¨Vue3å¼€å‘é¡µé¢
å®‰è£…é¡¹ç›®ä¾èµ–
```sh
ya]]></description>
            <content:encoded><![CDATA[<h1 id="åšä¸€ä¸ªcliç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·-13" tabindex="-1">åšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ13ï¼‰ <a class="header-anchor" href="#åšä¸€ä¸ªcliç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·-13" aria-label="Permalink to â€œåšä¸€ä¸ªCLIç‰ˆçš„æ—¶é—´ç®¡ç†å·¥å…·ï¼ˆ13ï¼‰â€">&#8203;</a></h1>
<h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to â€œå‰è¨€â€">&#8203;</a></h2>
<p>åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­åŠ å…¥äº†ä¸€ä¸ªå¯åŠ¨WebæœåŠ¡çš„æŒ‡ä»¤<code>timec page</code></p>
<p>æœ¬æœŸå°±ç»§ç»­å®Œå–„è¿™ä¸ªæŒ‡ä»¤çš„æ•ˆæœ</p>
<h2 id="æœ¬æœŸæ•ˆæœé¢„è§ˆ" tabindex="-1">æœ¬æœŸæ•ˆæœé¢„è§ˆ <a class="header-anchor" href="#æœ¬æœŸæ•ˆæœé¢„è§ˆ" aria-label="Permalink to â€œæœ¬æœŸæ•ˆæœé¢„è§ˆâ€">&#8203;</a></h2>
<h2 id="åŠŸèƒ½å¼€å‘" tabindex="-1">åŠŸèƒ½å¼€å‘ <a class="header-anchor" href="#åŠŸèƒ½å¼€å‘" aria-label="Permalink to â€œåŠŸèƒ½å¼€å‘â€">&#8203;</a></h2>
<h3 id="webä¾§" tabindex="-1">Webä¾§ <a class="header-anchor" href="#webä¾§" aria-label="Permalink to â€œWebä¾§â€">&#8203;</a></h3>
<p>æ‹Ÿé‡‡ç”¨Vue3å¼€å‘é¡µé¢</p>
<p>å®‰è£…é¡¹ç›®ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::blxmtvg7t875llrft0a15::--><code>yarn add vue@next @vue/compiler-sfc @vitejs/plugin-vue</code></pre>
</div><p>å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŸºäºVite+Vue3çš„æ¨¡æ¿é¡¹ç›®</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2myd3574wmk6syi2pmt86::--><code>npm init vite@latest my-vue-app --template vue</code></pre>
</div><p>å®Œæˆåçš„ç›®å½•ç»“æ„å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::w7obvxp260m0p2ntc6o813j::--><code>my-vue-app
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ public
|  â””â”€â”€ favicon.ico
â”œâ”€â”€ src
|  â”œâ”€â”€ App.vue
|  â”œâ”€â”€ assets
|  â”œâ”€â”€ components
|  â””â”€â”€ main.js
â””â”€â”€ vite.config.js</code></pre>
</div><p>æˆ‘ä»¬å°†<code>vite.config.js</code>,<code>main.js</code>,<code>components</code>,<code>App.vue</code>,<code>index.html</code>è¿™äº”éƒ¨åˆ†çš„å†…å®¹æ‹·è´åˆ°æˆ‘ä»¬é¡¹ç›®çš„<code>src/page</code>ç›®å½•ä¸‹</p>
<p>æ‹·è´å®Œåçš„ç›®å½•å¦‚ä¸‹</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::k678smrrhcobckcpx6av::--><code>â”œâ”€â”€ App.vue
â”œâ”€â”€ assets
|  â””â”€â”€ logo.png
â”œâ”€â”€ components
|  â””â”€â”€ HelloWorld.vue
â”œâ”€â”€ index.html
â”œâ”€â”€ main.js
â””â”€â”€ vite.config.js</code></pre>
</div><p>æ¥ç€æ”¹é€ ä¸€ä¸‹<code>timec page</code>æŒ‡ä»¤ä¸­çš„é€»è¾‘:</p>
<ul>
<li>å®šä½åˆ°<code>vite.config.js</code>æ–‡ä»¶çš„ä½ç½®</li>
<li>ä½¿ç”¨<code>--config</code>æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®</li>
<li>åœ¨<code>spawn</code>è°ƒç”¨çš„æ–¹æ³•ä¸­ä¼ å…¥è®¾ç½®é…ç½®æ–‡ä»¶çš„å‚æ•°</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::9caugh4h72wnb1x4kf2fcg::--><code>const cwd = path.resolve(__dirname, &#039;../&#039;);
const viteConfigPath = path.join(cwd, &#039;src/page/vite.config.js&#039;);
const serveService = spawn(&#039;node_modules/.bin/vite&#039;, [&#039;src/page&#039;, &#039;--host&#039;, &#039;--config&#039;, viteConfigPath], {
  cwd,
  stdio: &#039;inherit&#039;,
});
// ã€‚ã€‚ã€‚code</code></pre>
</div><p>åˆ°è¿™ä¸€æ­¥å‰ç«¯å·¥ç¨‹çš„åŸºæœ¬å†…å®¹ç®—æ­å¥½äº†ï¼Œé¡µé¢å±•ç¤ºéœ€è¦çš„æ•°æ®ï¼Œéœ€é€šè¿‡Nodeç›¸å…³çš„APIæ‰èƒ½è·å–ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>é¡µé¢ä½¿ç”¨SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰æ–¹æ¡ˆ</li>
<li>æ·»åŠ ä¸€ä¸ªåç«¯æœåŠ¡ï¼Œé€šè¿‡æ¥å£è°ƒç”¨ä¼ é€’æ‰€éœ€è¦çš„æ•°æ®</li>
</ol>
<p>é¡¹ç›®é‡‡ç”¨ç¬¬äºŒç§æ–¹æ¡ˆï¼Œä¸‹é¢å±•å¼€ä»‹ç»ä¸€ä¸‹ç®€å•åç«¯æœåŠ¡çš„æ­å»º</p>
<h3 id="æœåŠ¡ç«¯" tabindex="-1">æœåŠ¡ç«¯ <a class="header-anchor" href="#æœåŠ¡ç«¯" aria-label="Permalink to â€œæœåŠ¡ç«¯â€">&#8203;</a></h3>
<p>è¿™é‡Œä½¿ç”¨è‡ªå·±DIYçš„ç©å…·æ¡†æ¶<code>flash-wolves</code></p>
<p>å®‰è£…ä¾èµ–</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::b9hpnuzdyg89bc6473l737::--><code>yarn add flash-wolves</code></pre>
</div><p>ç¼–å†™åŸºæœ¬è°ƒç”¨é€»è¾‘,åœ¨src/pageä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code>server.js</code></p>
<ul>
<li>ä½¿ç”¨<code>Node</code>æ‰§è¡Œè¿™3è¡Œä»£ç ï¼Œè¿™æ ·ä¸€ä¸ªç®€å•çš„åç«¯æœåŠ¡å°±åœ¨3001ç«¯å£å¯åŠ¨äº†</li>
</ul>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::xgwy207556ovss8knuc9::--><code>const { Fw } = require(&#039;flash-wolves&#039;);
const app = new Fw();
app.listen(3001);</code></pre>
</div><p>ç¼–å†™2ä¸ªæ¥å£ï¼š</p>
<ol>
<li>è·å–é…ç½®æ–‡ä»¶</li>
<li>è·å–æ‰€æœ‰çš„æ•°æ®ï¼ˆæŒ‰å¤©åŒºåˆ†ï¼‰</li>
</ol>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::uu6lovn527s9a1wvxz0k::--><code>app.get(&#039;/json&#039;, (req, res) =&gt; {
  const config = getConfig();
  const { recordFilepath } = config;
  if (fs.existsSync(recordFilepath)) {
    res.success(getJSON(getFileContent(recordFilepath)));
    return;
  }
  res.fail(500, &#039;not set default recordFilepath&#039;);
});

app.get(&#039;/config&#039;, (req, res) =&gt; {
  const config = getConfig();
  res.success(config);
});</code></pre>
</div><p><strong>åœ¨ä»€ä¹ˆæ—¶å€™å¯åŠ¨è¿™ä¸ªæœåŠ¡ï¼Ÿ</strong></p>
<p>å½“ç„¶æ˜¯å’Œå¯åŠ¨WebæœåŠ¡çš„æ—¶å€™ä¸€èµ·å¯åŠ¨</p>
<p>è¿™å°±éœ€è¦æˆ‘ä»¬åœ¨<code>timec page</code>æŒ‡ä»¤ä¸­æ·»åŠ å¯åŠ¨åç«¯æœåŠ¡çš„é€»è¾‘:</p>
<ol>
<li>åŒæ ·ä½¿ç”¨<code>spawn</code>åˆ›å»ºå­è¿›ç¨‹å¯åŠ¨åç«¯æœåŠ¡</li>
<li>åœ¨å®¢æˆ·ç«¯æœåŠ¡å…³é—­çš„æ—¶å€™ï¼Œæ€æ­»è¿™ä¸ªåç«¯æœåŠ¡çš„å­è¿›ç¨‹</li>
</ol>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::axd5v7vmeip8oga8um1sp::--><code>const server = spawn(&#039;node&#039;, [&#039;src/page/server.js&#039;], {
  cwd,
  stdio: &#039;inherit&#039;,
});
serveService.on(&#039;close&#039;, (code) =&gt; {
  server.kill(&#039;SIGSTOP&#039;);
  process.exit(code);
});</code></pre>
</div><p><strong>å®¢æˆ·ç«¯å¦‚ä½•è®¿é—®è¿™äº›æ¥å£ï¼Ÿ</strong>ï¼š</p>
<ol>
<li>ä¸ºäº†é™ä½é¡¹ç›®å¤æ‚æ€§ï¼Œè¿™é‡Œç›´æ¥è°ƒç”¨fetchæ–¹æ³•è·å–åç«¯æ¥å£çš„æ•°æ®</li>
<li>å•ç‹¬å»ºç«‹ä¸€ä¸ªæ–‡ä»¶<code>src/page/api.js</code>å­˜æ”¾è¿™äº›é€»è¾‘</li>
</ol>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::e0j50eiaswk7smigzxx::--><code>export function getConfig() {
  return fetch(&#039;http://localhost:3000/config&#039;);
}

export function getEveryDayData() {
  return fetch(&#039;http://localhost:3001/json&#039;).then((res) =&gt; res.json());
}</code></pre>
</div><p>ç”±äºWebä¼šå—åŒæºç­–ç•¥é™åˆ¶ï¼Œè¿™é‡Œåœ¨<code>Fw</code>å®ä¾‹åŒ–å‡½æ•°é‡ŒåŠ å…¥ä»¥ä¸‹é€»è¾‘å¼€å¯CORSï¼Œè§£å†³è·¨åŸŸé—®é¢˜</p>
<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::u8c8i3zux3o0q20rbmd97la::--><code>const app = new Fw((req, res) =&gt; {
  // å¼€å¯CORS
  const { method } = req;
  // å…è®¸è·¨åŸŸ
  res.setHeader(&#039;Access-Control-Allow-Origin&#039;, req.headers.origin);
  // è·¨åŸŸå…è®¸çš„headerç±»å‹
  res.setHeader(&#039;Access-Control-Allow-Headers&#039;, &#039;*&#039;);
  // å…è®¸è·¨åŸŸæºå¸¦cookie
  res.setHeader(&#039;Access-Control-Allow-Credentials&#039;, &#039;true&#039;);
  // å…è®¸çš„æ–¹æ³•
  res.setHeader(&#039;Access-Control-Allow-Methods&#039;, &#039;PUT, GET, POST, DELETE, OPTIONS&#039;);
  // è®¾ç½®å“åº”å¤´
  res.setHeader(&#039;Content-Type&#039;, &#039;application/json;charset=utf-8&#039;);
  // å¯¹é¢„æ£€è¯·æ±‚æ”¾è¡Œ
  if (method === &#039;OPTIONS&#039;) {
    res.statusCode = 204;
    res.end();
  }
});</code></pre>
</div><p>è¿™æ ·ç®€å•çš„å‰åç«¯é€»è¾‘å°±éƒ½å†™å¥½äº†,ä¸‹é¢å°±æ˜¯ä¸€é”®å¯åŠ¨</p>
<div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre><!--::markdown-it-async::2p4r4qaui11beewsmxmqi::--><code>timec page</code></pre>
</div><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to â€œæœ€åâ€">&#8203;</a></h2>
<p>ç”±äºæ¯å¤©ç©ºé—²æ—¶é—´æœ‰é™ï¼Œæœ¬æ–‡å°±å…ˆåˆ°è¿™ï¼Œä¸‹ä¸€æœŸå°†ç»§ç»­å®Œå–„<code>timec page</code>æŒ‡ä»¤</p>
<p>å¦‚æœè¯»è€…è¿˜æ„Ÿè§‰æ„çŠ¹æœªå°½ï¼Œæ•¬è¯·æœŸå¾…åç»­æ›´æ–°ï¼Œæˆ–æŒç»­å…³æ³¨ä¸€ä¸‹<a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">ä»“åº“</a>çš„çŠ¶æ€</p>
<p>æ¬¢è¿è¯„è®ºåŒºæéœ€æ±‚ï¼Œäº¤æµæ¢è®¨</p>
<p>æœ¬ç³»åˆ—ä¼šä¸æ–­çš„æ›´æ–°è¿­ä»£ï¼Œç›´è‡³äº§å“åˆä»£å®Œæˆ</p>
<ul>
<li><a href="https://github.com/ATQQ/time-control" target="_blank" rel="noreferrer">ä»“åº“åœ°å€</a></li>
</ul>
]]></content:encoded>
        </item>
    </channel>
</rss>